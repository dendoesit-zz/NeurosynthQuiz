//
//(function() {
//    var x = 4;
//    var div = document.createElement('div');
//    var btn = document.createElement('button');
//    btn.type = "button";
//    btn.style.width = "100";
//    btn.textContent = "click me";
//    btn.id = "bid";
//    btn.addEventListener('click', myfunction);
//    document.body.appendChild(btn);
//
//    function myfunction() {
//       console.log(x)
//    } 
//
//    window.myfunction = myfunction;
//})();
//
//
//console.log('loading the file')
//
////$('#load-location').click(function(e)
////            {var xyz;xyz=viewer.coords_xyz();
////            return window.location.href='/locations?x='+xyz[0]+'&y='+xyz[1]+'&z='+xyz[2];
////             
////            )})




!function(a, b) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
        if (!a.document)
            throw new Error("jQuery requires a window with a document");
        return b(a)
    }
    : b(a)
}("undefined" != typeof window ? window : this, function(a, b) {
    var c = []
      , d = c.slice
      , e = c.concat
      , f = c.push
      , g = c.indexOf
      , h = {}
      , i = h.toString
      , j = h.hasOwnProperty
      , k = "".trim
      , l = {}
      , m = "1.11.0"
      , n = function(a, b) {
        return new n.fn.init(a,b)
    }
      , o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g
      , p = /^-ms-/
      , q = /-([\da-z])/gi
      , r = function(a, b) {
        return b.toUpperCase()
    };
    n.fn = n.prototype = {
        jquery: m,
        constructor: n,
        selector: "",
        length: 0,
        toArray: function() {
            return d.call(this)
        },
        get: function(a) {
            return null != a ? 0 > a ? this[a + this.length] : this[a] : d.call(this)
        },
        pushStack: function(a) {
            var b = n.merge(this.constructor(), a);
            return b.prevObject = this,
            b.context = this.context,
            b
        },
        each: function(a, b) {
            return n.each(this, a, b)
        },
        map: function(a) {
            return this.pushStack(n.map(this, function(b, c) {
                return a.call(b, c, b)
            }))
        },
        slice: function() {
            return this.pushStack(d.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(a) {
            var b = this.length
              , c = +a + (0 > a ? b : 0);
            return this.pushStack(c >= 0 && b > c ? [this[c]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: f,
        sort: c.sort,
        splice: c.splice
    },
    n.extend = n.fn.extend = function() {
        var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1;
        for ("boolean" == typeof g && (j = g,
        g = arguments[h] || {},
        h++),
        "object" == typeof g || n.isFunction(g) || (g = {}),
        h === i && (g = this,
        h--); i > h; h++)
            if (null != (e = arguments[h]))
                for (d in e)
                    a = g[d],
                    c = e[d],
                    g !== c && (j && c && (n.isPlainObject(c) || (b = n.isArray(c))) ? (b ? (b = !1,
                    f = a && n.isArray(a) ? a : []) : f = a && n.isPlainObject(a) ? a : {},
                    g[d] = n.extend(j, f, c)) : void 0 !== c && (g[d] = c));
        return g
    }
    ,
    n.extend({
        expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw new Error(a)
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === n.type(a)
        },
        isArray: Array.isArray || function(a) {
            return "array" === n.type(a)
        }
        ,
        isWindow: function(a) {
            return null != a && a == a.window
        },
        isNumeric: function(a) {
            return a - parseFloat(a) >= 0
        },
        isEmptyObject: function(a) {
            var b;
            for (b in a)
                return !1;
            return !0
        },
        isPlainObject: function(a) {
            var b;
            if (!a || "object" !== n.type(a) || a.nodeType || n.isWindow(a))
                return !1;
            try {
                if (a.constructor && !j.call(a, "constructor") && !j.call(a.constructor.prototype, "isPrototypeOf"))
                    return !1
            } catch (c) {
                return !1
            }
            if (l.ownLast)
                for (b in a)
                    return j.call(a, b);
            for (b in a)
                ;
            return void 0 === b || j.call(a, b)
        },
        type: function(a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? h[i.call(a)] || "object" : typeof a
        },
        globalEval: function(b) {
            b && n.trim(b) && (a.execScript || function(b) {
                a.eval.call(a, b)
            }
            )(b)
        },
        camelCase: function(a) {
            return a.replace(p, "ms-").replace(q, r)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        },
        each: function(a, b, c) {
            var d, e = 0, f = a.length, g = s(a);
            if (c) {
                if (g) {
                    for (; f > e; e++)
                        if (d = b.apply(a[e], c),
                        d === !1)
                            break
                } else
                    for (e in a)
                        if (d = b.apply(a[e], c),
                        d === !1)
                            break
            } else if (g) {
                for (; f > e; e++)
                    if (d = b.call(a[e], e, a[e]),
                    d === !1)
                        break
            } else
                for (e in a)
                    if (d = b.call(a[e], e, a[e]),
                    d === !1)
                        break;
            return a
        },
        trim: k && !k.call("\ufeff\xa0") ? function(a) {
            return null == a ? "" : k.call(a)
        }
        : function(a) {
            return null == a ? "" : (a + "").replace(o, "")
        }
        ,
        makeArray: function(a, b) {
            var c = b || [];
            return null != a && (s(Object(a)) ? n.merge(c, "string" == typeof a ? [a] : a) : f.call(c, a)),
            c
        },
        inArray: function(a, b, c) {
            var d;
            if (b) {
                if (g)
                    return g.call(b, a, c);
                for (d = b.length,
                c = c ? 0 > c ? Math.max(0, d + c) : c : 0; d > c; c++)
                    if (c in b && b[c] === a)
                        return c
            }
            return -1
        },
        merge: function(a, b) {
            var c = +b.length
              , d = 0
              , e = a.length;
            while (c > d)
                a[e++] = b[d++];
            if (c !== c)
                while (void 0 !== b[d])
                    a[e++] = b[d++];
            return a.length = e,
            a
        },
        grep: function(a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)
                d = !b(a[f], f),
                d !== h && e.push(a[f]);
            return e
        },
        map: function(a, b, c) {
            var d, f = 0, g = a.length, h = s(a), i = [];
            if (h)
                for (; g > f; f++)
                    d = b(a[f], f, c),
                    null != d && i.push(d);
            else
                for (f in a)
                    d = b(a[f], f, c),
                    null != d && i.push(d);
            return e.apply([], i)
        },
        guid: 1,
        proxy: function(a, b) {
            var c, e, f;
            return "string" == typeof b && (f = a[b],
            b = a,
            a = f),
            n.isFunction(a) ? (c = d.call(arguments, 2),
            e = function() {
                return a.apply(b || this, c.concat(d.call(arguments)))
            }
            ,
            e.guid = a.guid = a.guid || n.guid++,
            e) : void 0
        },
        now: function() {
            return +new Date
        },
        support: l
    }),
    n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) {
        h["[object " + b + "]"] = b.toLowerCase()
    });
    function s(a) {
        var b = a.length
          , c = n.type(a);
        return "function" === c || n.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a
    }
    var t = function(a) {
        var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s = "sizzle" + -new Date, t = a.document, u = 0, v = 0, w = eb(), x = eb(), y = eb(), z = function(a, b) {
            return a === b && (j = !0),
            0
        }, A = "undefined", B = 1 << 31, C = {}.hasOwnProperty, D = [], E = D.pop, F = D.push, G = D.push, H = D.slice, I = D.indexOf || function(a) {
            for (var b = 0, c = this.length; c > b; b++)
                if (this[b] === a)
                    return b;
            return -1
        }
        , J = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", K = "[\\x20\\t\\r\\n\\f]", L = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", M = L.replace("w", "w#"), N = "\\[" + K + "*(" + L + ")" + K + "*(?:([*^$|!~]?=)" + K + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + M + ")|)|)" + K + "*\\]", O = ":(" + L + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + N.replace(3, 8) + ")*)|.*)\\)|)", P = new RegExp("^" + K + "+|((?:^|[^\\\\])(?:\\\\.)*)" + K + "+$","g"), Q = new RegExp("^" + K + "*," + K + "*"), R = new RegExp("^" + K + "*([>+~]|" + K + ")" + K + "*"), S = new RegExp("=" + K + "*([^\\]'\"]*?)" + K + "*\\]","g"), T = new RegExp(O), U = new RegExp("^" + M + "$"), V = {
            ID: new RegExp("^#(" + L + ")"),
            CLASS: new RegExp("^\\.(" + L + ")"),
            TAG: new RegExp("^(" + L.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + N),
            PSEUDO: new RegExp("^" + O),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + K + "*(even|odd|(([+-]|)(\\d*)n|)" + K + "*(?:([+-]|)" + K + "*(\\d+)|))" + K + "*\\)|)","i"),
            bool: new RegExp("^(?:" + J + ")$","i"),
            needsContext: new RegExp("^" + K + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + K + "*((?:-\\d)?\\d*)" + K + "*\\)|)(?=[^-]|$)","i")
        }, W = /^(?:input|select|textarea|button)$/i, X = /^h\d$/i, Y = /^[^{]+\{\s*\[native \w/, Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, $ = /[+~]/, _ = /'|\\/g, ab = new RegExp("\\\\([\\da-f]{1,6}" + K + "?|(" + K + ")|.)","ig"), bb = function(a, b, c) {
            var d = "0x" + b - 65536;
            return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
        };
        try {
            G.apply(D = H.call(t.childNodes), t.childNodes),
            D[t.childNodes.length].nodeType
        } catch (cb) {
            G = {
                apply: D.length ? function(a, b) {
                    F.apply(a, H.call(b))
                }
                : function(a, b) {
                    var c = a.length
                      , d = 0;
                    while (a[c++] = b[d++])
                        ;
                    a.length = c - 1
                }
            }
        }
        function db(a, b, d, e) {
            var f, g, h, i, j, m, p, q, u, v;
            if ((b ? b.ownerDocument || b : t) !== l && k(b),
            b = b || l,
            d = d || [],
            !a || "string" != typeof a)
                return d;
            if (1 !== (i = b.nodeType) && 9 !== i)
                return [];
            if (n && !e) {
                if (f = Z.exec(a))
                    if (h = f[1]) {
                        if (9 === i) {
                            if (g = b.getElementById(h),
                            !g || !g.parentNode)
                                return d;
                            if (g.id === h)
                                return d.push(g),
                                d
                        } else if (b.ownerDocument && (g = b.ownerDocument.getElementById(h)) && r(b, g) && g.id === h)
                            return d.push(g),
                            d
                    } else {
                        if (f[2])
                            return G.apply(d, b.getElementsByTagName(a)),
                            d;
                        if ((h = f[3]) && c.getElementsByClassName && b.getElementsByClassName)
                            return G.apply(d, b.getElementsByClassName(h)),
                            d
                    }
                if (c.qsa && (!o || !o.test(a))) {
                    if (q = p = s,
                    u = b,
                    v = 9 === i && a,
                    1 === i && "object" !== b.nodeName.toLowerCase()) {
                        m = ob(a),
                        (p = b.getAttribute("id")) ? q = p.replace(_, "\\$&") : b.setAttribute("id", q),
                        q = "[id='" + q + "'] ",
                        j = m.length;
                        while (j--)
                            m[j] = q + pb(m[j]);
                        u = $.test(a) && mb(b.parentNode) || b,
                        v = m.join(",")
                    }
                    if (v)
                        try {
                            return G.apply(d, u.querySelectorAll(v)),
                            d
                        } catch (w) {} finally {
                            p || b.removeAttribute("id")
                        }
                }
            }
            return xb(a.replace(P, "$1"), b, d, e)
        }
        function eb() {
            var a = [];
            function b(c, e) {
                return a.push(c + " ") > d.cacheLength && delete b[a.shift()],
                b[c + " "] = e
            }
            return b
        }
        function fb(a) {
            return a[s] = !0,
            a
        }
        function gb(a) {
            var b = l.createElement("div");
            try {
                return !!a(b)
            } catch (c) {
                return !1
            } finally {
                b.parentNode && b.parentNode.removeChild(b),
                b = null
            }
        }
        function hb(a, b) {
            var c = a.split("|")
              , e = a.length;
            while (e--)
                d.attrHandle[c[e]] = b
        }
        function ib(a, b) {
            var c = b && a
              , d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || B) - (~a.sourceIndex || B);
            if (d)
                return d;
            if (c)
                while (c = c.nextSibling)
                    if (c === b)
                        return -1;
            return a ? 1 : -1
        }
        function jb(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a
            }
        }
        function kb(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a
            }
        }
        function lb(a) {
            return fb(function(b) {
                return b = +b,
                fb(function(c, d) {
                    var e, f = a([], c.length, b), g = f.length;
                    while (g--)
                        c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                })
            })
        }
        function mb(a) {
            return a && typeof a.getElementsByTagName !== A && a
        }
        c = db.support = {},
        f = db.isXML = function(a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return b ? "HTML" !== b.nodeName : !1
        }
        ,
        k = db.setDocument = function(a) {
            var b, e = a ? a.ownerDocument || a : t, g = e.defaultView;
            return e !== l && 9 === e.nodeType && e.documentElement ? (l = e,
            m = e.documentElement,
            n = !f(e),
            g && g !== g.top && (g.addEventListener ? g.addEventListener("unload", function() {
                k()
            }, !1) : g.attachEvent && g.attachEvent("onunload", function() {
                k()
            })),
            c.attributes = gb(function(a) {
                return a.className = "i",
                !a.getAttribute("className")
            }),
            c.getElementsByTagName = gb(function(a) {
                return a.appendChild(e.createComment("")),
                !a.getElementsByTagName("*").length
            }),
            c.getElementsByClassName = Y.test(e.getElementsByClassName) && gb(function(a) {
                return a.innerHTML = "<div class='a'></div><div class='a i'></div>",
                a.firstChild.className = "i",
                2 === a.getElementsByClassName("i").length
            }),
            c.getById = gb(function(a) {
                return m.appendChild(a).id = s,
                !e.getElementsByName || !e.getElementsByName(s).length
            }),
            c.getById ? (d.find.ID = function(a, b) {
                if (typeof b.getElementById !== A && n) {
                    var c = b.getElementById(a);
                    return c && c.parentNode ? [c] : []
                }
            }
            ,
            d.filter.ID = function(a) {
                var b = a.replace(ab, bb);
                return function(a) {
                    return a.getAttribute("id") === b
                }
            }
            ) : (delete d.find.ID,
            d.filter.ID = function(a) {
                var b = a.replace(ab, bb);
                return function(a) {
                    var c = typeof a.getAttributeNode !== A && a.getAttributeNode("id");
                    return c && c.value === b
                }
            }
            ),
            d.find.TAG = c.getElementsByTagName ? function(a, b) {
                return typeof b.getElementsByTagName !== A ? b.getElementsByTagName(a) : void 0
            }
            : function(a, b) {
                var c, d = [], e = 0, f = b.getElementsByTagName(a);
                if ("*" === a) {
                    while (c = f[e++])
                        1 === c.nodeType && d.push(c);
                    return d
                }
                return f
            }
            ,
            d.find.CLASS = c.getElementsByClassName && function(a, b) {
                return typeof b.getElementsByClassName !== A && n ? b.getElementsByClassName(a) : void 0
            }
            ,
            p = [],
            o = [],
            (c.qsa = Y.test(e.querySelectorAll)) && (gb(function(a) {
                a.innerHTML = "<select t=''><option selected=''></option></select>",
                a.querySelectorAll("[t^='']").length && o.push("[*^$]=" + K + "*(?:''|\"\")"),
                a.querySelectorAll("[selected]").length || o.push("\\[" + K + "*(?:value|" + J + ")"),
                a.querySelectorAll(":checked").length || o.push(":checked")
            }),
            gb(function(a) {
                var b = e.createElement("input");
                b.setAttribute("type", "hidden"),
                a.appendChild(b).setAttribute("name", "D"),
                a.querySelectorAll("[name=d]").length && o.push("name" + K + "*[*^$|!~]?="),
                a.querySelectorAll(":enabled").length || o.push(":enabled", ":disabled"),
                a.querySelectorAll("*,:x"),
                o.push(",.*:")
            })),
            (c.matchesSelector = Y.test(q = m.webkitMatchesSelector || m.mozMatchesSelector || m.oMatchesSelector || m.msMatchesSelector)) && gb(function(a) {
                c.disconnectedMatch = q.call(a, "div"),
                q.call(a, "[s!='']:x"),
                p.push("!=", O)
            }),
            o = o.length && new RegExp(o.join("|")),
            p = p.length && new RegExp(p.join("|")),
            b = Y.test(m.compareDocumentPosition),
            r = b || Y.test(m.contains) ? function(a, b) {
                var c = 9 === a.nodeType ? a.documentElement : a
                  , d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
            }
            : function(a, b) {
                if (b)
                    while (b = b.parentNode)
                        if (b === a)
                            return !0;
                return !1
            }
            ,
            z = b ? function(a, b) {
                if (a === b)
                    return j = !0,
                    0;
                var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1,
                1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === e || a.ownerDocument === t && r(t, a) ? -1 : b === e || b.ownerDocument === t && r(t, b) ? 1 : i ? I.call(i, a) - I.call(i, b) : 0 : 4 & d ? -1 : 1)
            }
            : function(a, b) {
                if (a === b)
                    return j = !0,
                    0;
                var c, d = 0, f = a.parentNode, g = b.parentNode, h = [a], k = [b];
                if (!f || !g)
                    return a === e ? -1 : b === e ? 1 : f ? -1 : g ? 1 : i ? I.call(i, a) - I.call(i, b) : 0;
                if (f === g)
                    return ib(a, b);
                c = a;
                while (c = c.parentNode)
                    h.unshift(c);
                c = b;
                while (c = c.parentNode)
                    k.unshift(c);
                while (h[d] === k[d])
                    d++;
                return d ? ib(h[d], k[d]) : h[d] === t ? -1 : k[d] === t ? 1 : 0
            }
            ,
            e) : l
        }
        ,
        db.matches = function(a, b) {
            return db(a, null, null, b)
        }
        ,
        db.matchesSelector = function(a, b) {
            if ((a.ownerDocument || a) !== l && k(a),
            b = b.replace(S, "='$1']"),
            !(!c.matchesSelector || !n || p && p.test(b) || o && o.test(b)))
                try {
                    var d = q.call(a, b);
                    if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType)
                        return d
                } catch (e) {}
            return db(b, l, null, [a]).length > 0
        }
        ,
        db.contains = function(a, b) {
            return (a.ownerDocument || a) !== l && k(a),
            r(a, b)
        }
        ,
        db.attr = function(a, b) {
            (a.ownerDocument || a) !== l && k(a);
            var e = d.attrHandle[b.toLowerCase()]
              , f = e && C.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !n) : void 0;
            return void 0 !== f ? f : c.attributes || !n ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null
        }
        ,
        db.error = function(a) {
            throw new Error("Syntax error, unrecognized expression: " + a)
        }
        ,
        db.uniqueSort = function(a) {
            var b, d = [], e = 0, f = 0;
            if (j = !c.detectDuplicates,
            i = !c.sortStable && a.slice(0),
            a.sort(z),
            j) {
                while (b = a[f++])
                    b === a[f] && (e = d.push(f));
                while (e--)
                    a.splice(d[e], 1)
            }
            return i = null,
            a
        }
        ,
        e = db.getText = function(a) {
            var b, c = "", d = 0, f = a.nodeType;
            if (f) {
                if (1 === f || 9 === f || 11 === f) {
                    if ("string" == typeof a.textContent)
                        return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling)
                        c += e(a)
                } else if (3 === f || 4 === f)
                    return a.nodeValue
            } else
                while (b = a[d++])
                    c += e(b);
            return c
        }
        ,
        d = db.selectors = {
            cacheLength: 50,
            createPseudo: fb,
            match: V,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] = a[1].replace(ab, bb),
                    a[3] = (a[4] || a[5] || "").replace(ab, bb),
                    "~=" === a[2] && (a[3] = " " + a[3] + " "),
                    a.slice(0, 4)
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(),
                    "nth" === a[1].slice(0, 3) ? (a[3] || db.error(a[0]),
                    a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])),
                    a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && db.error(a[0]),
                    a
                },
                PSEUDO: function(a) {
                    var b, c = !a[5] && a[2];
                    return V.CHILD.test(a[0]) ? null : (a[3] && void 0 !== a[4] ? a[2] = a[4] : c && T.test(c) && (b = ob(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b),
                    a[2] = c.slice(0, b)),
                    a.slice(0, 3))
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(ab, bb).toLowerCase();
                    return "*" === a ? function() {
                        return !0
                    }
                    : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b
                    }
                },
                CLASS: function(a) {
                    var b = w[a + " "];
                    return b || (b = new RegExp("(^|" + K + ")" + a + "(" + K + "|$)")) && w(a, function(a) {
                        return b.test("string" == typeof a.className && a.className || typeof a.getAttribute !== A && a.getAttribute("class") || "")
                    })
                },
                ATTR: function(a, b, c) {
                    return function(d) {
                        var e = db.attr(d, a);
                        return null == e ? "!=" === b : b ? (e += "",
                        "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e + " ").indexOf(c) > -1 : "|=" === b ? e === c || e.slice(0, c.length + 1) === c + "-" : !1) : !0
                    }
                },
                CHILD: function(a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3)
                      , g = "last" !== a.slice(-4)
                      , h = "of-type" === b;
                    return 1 === d && 0 === e ? function(a) {
                        return !!a.parentNode
                    }
                    : function(b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), t = !i && !h;
                        if (q) {
                            if (f) {
                                while (p) {
                                    l = b;
                                    while (l = l[p])
                                        if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType)
                                            return !1;
                                    o = p = "only" === a && !o && "nextSibling"
                                }
                                return !0
                            }
                            if (o = [g ? q.firstChild : q.lastChild],
                            g && t) {
                                k = q[s] || (q[s] = {}),
                                j = k[a] || [],
                                n = j[0] === u && j[1],
                                m = j[0] === u && j[2],
                                l = n && q.childNodes[n];
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                                    if (1 === l.nodeType && ++m && l === b) {
                                        k[a] = [u, n, m];
                                        break
                                    }
                            } else if (t && (j = (b[s] || (b[s] = {}))[a]) && j[0] === u)
                                m = j[1];
                            else
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                                    if ((h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) && ++m && (t && ((l[s] || (l[s] = {}))[a] = [u, m]),
                                    l === b))
                                        break;
                            return m -= e,
                            m === d || m % d === 0 && m / d >= 0
                        }
                    }
                },
                PSEUDO: function(a, b) {
                    var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || db.error("unsupported pseudo: " + a);
                    return e[s] ? e(b) : e.length > 1 ? (c = [a, a, "", b],
                    d.setFilters.hasOwnProperty(a.toLowerCase()) ? fb(function(a, c) {
                        var d, f = e(a, b), g = f.length;
                        while (g--)
                            d = I.call(a, f[g]),
                            a[d] = !(c[d] = f[g])
                    }) : function(a) {
                        return e(a, 0, c)
                    }
                    ) : e
                }
            },
            pseudos: {
                not: fb(function(a) {
                    var b = []
                      , c = []
                      , d = g(a.replace(P, "$1"));
                    return d[s] ? fb(function(a, b, c, e) {
                        var f, g = d(a, null, e, []), h = a.length;
                        while (h--)
                            (f = g[h]) && (a[h] = !(b[h] = f))
                    }) : function(a, e, f) {
                        return b[0] = a,
                        d(b, null, f, c),
                        !c.pop()
                    }
                }),
                has: fb(function(a) {
                    return function(b) {
                        return db(a, b).length > 0
                    }
                }),
                contains: fb(function(a) {
                    return function(b) {
                        return (b.textContent || b.innerText || e(b)).indexOf(a) > -1
                    }
                }),
                lang: fb(function(a) {
                    return U.test(a || "") || db.error("unsupported lang: " + a),
                    a = a.replace(ab, bb).toLowerCase(),
                    function(b) {
                        var c;
                        do
                            if (c = n ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang"))
                                return c = c.toLowerCase(),
                                c === a || 0 === c.indexOf(a + "-");
                        while ((b = b.parentNode) && 1 === b.nodeType);return !1
                    }
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id
                },
                root: function(a) {
                    return a === m
                },
                focus: function(a) {
                    return a === l.activeElement && (!l.hasFocus || l.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                },
                enabled: function(a) {
                    return a.disabled === !1
                },
                disabled: function(a) {
                    return a.disabled === !0
                },
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex,
                    a.selected === !0
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling)
                        if (a.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(a) {
                    return !d.pseudos.empty(a)
                },
                header: function(a) {
                    return X.test(a.nodeName)
                },
                input: function(a) {
                    return W.test(a.nodeName)
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b
                },
                text: function(a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                },
                first: lb(function() {
                    return [0]
                }),
                last: lb(function(a, b) {
                    return [b - 1]
                }),
                eq: lb(function(a, b, c) {
                    return [0 > c ? c + b : c]
                }),
                even: lb(function(a, b) {
                    for (var c = 0; b > c; c += 2)
                        a.push(c);
                    return a
                }),
                odd: lb(function(a, b) {
                    for (var c = 1; b > c; c += 2)
                        a.push(c);
                    return a
                }),
                lt: lb(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; --d >= 0; )
                        a.push(d);
                    return a
                }),
                gt: lb(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; ++d < b; )
                        a.push(d);
                    return a
                })
            }
        },
        d.pseudos.nth = d.pseudos.eq;
        for (b in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            d.pseudos[b] = jb(b);
        for (b in {
            submit: !0,
            reset: !0
        })
            d.pseudos[b] = kb(b);
        function nb() {}
        nb.prototype = d.filters = d.pseudos,
        d.setFilters = new nb;
        function ob(a, b) {
            var c, e, f, g, h, i, j, k = x[a + " "];
            if (k)
                return b ? 0 : k.slice(0);
            h = a,
            i = [],
            j = d.preFilter;
            while (h) {
                (!c || (e = Q.exec(h))) && (e && (h = h.slice(e[0].length) || h),
                i.push(f = [])),
                c = !1,
                (e = R.exec(h)) && (c = e.shift(),
                f.push({
                    value: c,
                    type: e[0].replace(P, " ")
                }),
                h = h.slice(c.length));
                for (g in d.filter)
                    !(e = V[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(),
                    f.push({
                        value: c,
                        type: g,
                        matches: e
                    }),
                    h = h.slice(c.length));
                if (!c)
                    break
            }
            return b ? h.length : h ? db.error(a) : x(a, i).slice(0)
        }
        function pb(a) {
            for (var b = 0, c = a.length, d = ""; c > b; b++)
                d += a[b].value;
            return d
        }
        function qb(a, b, c) {
            var d = b.dir
              , e = c && "parentNode" === d
              , f = v++;
            return b.first ? function(b, c, f) {
                while (b = b[d])
                    if (1 === b.nodeType || e)
                        return a(b, c, f)
            }
            : function(b, c, g) {
                var h, i, j = [u, f];
                if (g) {
                    while (b = b[d])
                        if ((1 === b.nodeType || e) && a(b, c, g))
                            return !0
                } else
                    while (b = b[d])
                        if (1 === b.nodeType || e) {
                            if (i = b[s] || (b[s] = {}),
                            (h = i[d]) && h[0] === u && h[1] === f)
                                return j[2] = h[2];
                            if (i[d] = j,
                            j[2] = a(b, c, g))
                                return !0
                        }
            }
        }
        function rb(a) {
            return a.length > 1 ? function(b, c, d) {
                var e = a.length;
                while (e--)
                    if (!a[e](b, c, d))
                        return !1;
                return !0
            }
            : a[0]
        }
        function sb(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)
                (f = a[h]) && (!c || c(f, d, e)) && (g.push(f),
                j && b.push(h));
            return g
        }
        function tb(a, b, c, d, e, f) {
            return d && !d[s] && (d = tb(d)),
            e && !e[s] && (e = tb(e, f)),
            fb(function(f, g, h, i) {
                var j, k, l, m = [], n = [], o = g.length, p = f || wb(b || "*", h.nodeType ? [h] : h, []), q = !a || !f && b ? p : sb(p, m, a, h, i), r = c ? e || (f ? a : o || d) ? [] : g : q;
                if (c && c(q, r, h, i),
                d) {
                    j = sb(r, n),
                    d(j, [], h, i),
                    k = j.length;
                    while (k--)
                        (l = j[k]) && (r[n[k]] = !(q[n[k]] = l))
                }
                if (f) {
                    if (e || a) {
                        if (e) {
                            j = [],
                            k = r.length;
                            while (k--)
                                (l = r[k]) && j.push(q[k] = l);
                            e(null, r = [], j, i)
                        }
                        k = r.length;
                        while (k--)
                            (l = r[k]) && (j = e ? I.call(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l))
                    }
                } else
                    r = sb(r === g ? r.splice(o, r.length) : r),
                    e ? e(null, g, r, i) : G.apply(g, r)
            })
        }
        function ub(a) {
            for (var b, c, e, f = a.length, g = d.relative[a[0].type], i = g || d.relative[" "], j = g ? 1 : 0, k = qb(function(a) {
                return a === b
            }, i, !0), l = qb(function(a) {
                return I.call(b, a) > -1
            }, i, !0), m = [function(a, c, d) {
                return !g && (d || c !== h) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d))
            }
            ]; f > j; j++)
                if (c = d.relative[a[j].type])
                    m = [qb(rb(m), c)];
                else {
                    if (c = d.filter[a[j].type].apply(null, a[j].matches),
                    c[s]) {
                        for (e = ++j; f > e; e++)
                            if (d.relative[a[e].type])
                                break;
                        return tb(j > 1 && rb(m), j > 1 && pb(a.slice(0, j - 1).concat({
                            value: " " === a[j - 2].type ? "*" : ""
                        })).replace(P, "$1"), c, e > j && ub(a.slice(j, e)), f > e && ub(a = a.slice(e)), f > e && pb(a))
                    }
                    m.push(c)
                }
            return rb(m)
        }
        function vb(a, b) {
            var c = b.length > 0
              , e = a.length > 0
              , f = function(f, g, i, j, k) {
                var m, n, o, p = 0, q = "0", r = f && [], s = [], t = h, v = f || e && d.find.TAG("*", k), w = u += null == t ? 1 : Math.random() || .1, x = v.length;
                for (k && (h = g !== l && g); q !== x && null != (m = v[q]); q++) {
                    if (e && m) {
                        n = 0;
                        while (o = a[n++])
                            if (o(m, g, i)) {
                                j.push(m);
                                break
                            }
                        k && (u = w)
                    }
                    c && ((m = !o && m) && p--,
                    f && r.push(m))
                }
                if (p += q,
                c && q !== p) {
                    n = 0;
                    while (o = b[n++])
                        o(r, s, g, i);
                    if (f) {
                        if (p > 0)
                            while (q--)
                                r[q] || s[q] || (s[q] = E.call(j));
                        s = sb(s)
                    }
                    G.apply(j, s),
                    k && !f && s.length > 0 && p + b.length > 1 && db.uniqueSort(j)
                }
                return k && (u = w,
                h = t),
                r
            };
            return c ? fb(f) : f
        }
        g = db.compile = function(a, b) {
            var c, d = [], e = [], f = y[a + " "];
            if (!f) {
                b || (b = ob(a)),
                c = b.length;
                while (c--)
                    f = ub(b[c]),
                    f[s] ? d.push(f) : e.push(f);
                f = y(a, vb(e, d))
            }
            return f
        }
        ;
        function wb(a, b, c) {
            for (var d = 0, e = b.length; e > d; d++)
                db(a, b[d], c);
            return c
        }
        function xb(a, b, e, f) {
            var h, i, j, k, l, m = ob(a);
            if (!f && 1 === m.length) {
                if (i = m[0] = m[0].slice(0),
                i.length > 2 && "ID" === (j = i[0]).type && c.getById && 9 === b.nodeType && n && d.relative[i[1].type]) {
                    if (b = (d.find.ID(j.matches[0].replace(ab, bb), b) || [])[0],
                    !b)
                        return e;
                    a = a.slice(i.shift().value.length)
                }
                h = V.needsContext.test(a) ? 0 : i.length;
                while (h--) {
                    if (j = i[h],
                    d.relative[k = j.type])
                        break;
                    if ((l = d.find[k]) && (f = l(j.matches[0].replace(ab, bb), $.test(i[0].type) && mb(b.parentNode) || b))) {
                        if (i.splice(h, 1),
                        a = f.length && pb(i),
                        !a)
                            return G.apply(e, f),
                            e;
                        break
                    }
                }
            }
            return g(a, m)(f, b, !n, e, $.test(a) && mb(b.parentNode) || b),
            e
        }
        return c.sortStable = s.split("").sort(z).join("") === s,
        c.detectDuplicates = !!j,
        k(),
        c.sortDetached = gb(function(a) {
            return 1 & a.compareDocumentPosition(l.createElement("div"))
        }),
        gb(function(a) {
            return a.innerHTML = "<a href='#'></a>",
            "#" === a.firstChild.getAttribute("href")
        }) || hb("type|href|height|width", function(a, b, c) {
            return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
        }),
        c.attributes && gb(function(a) {
            return a.innerHTML = "<input/>",
            a.firstChild.setAttribute("value", ""),
            "" === a.firstChild.getAttribute("value")
        }) || hb("value", function(a, b, c) {
            return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
        }),
        gb(function(a) {
            return null == a.getAttribute("disabled")
        }) || hb(J, function(a, b, c) {
            var d;
            return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
        }),
        db
    }(a);
    n.find = t,
    n.expr = t.selectors,
    n.expr[":"] = n.expr.pseudos,
    n.unique = t.uniqueSort,
    n.text = t.getText,
    n.isXMLDoc = t.isXML,
    n.contains = t.contains;
    var u = n.expr.match.needsContext
      , v = /^<(\w+)\s*\/?>(?:<\/\1>|)$/
      , w = /^.[^:#\[\.,]*$/;
    function x(a, b, c) {
        if (n.isFunction(b))
            return n.grep(a, function(a, d) {
                return !!b.call(a, d, a) !== c
            });
        if (b.nodeType)
            return n.grep(a, function(a) {
                return a === b !== c
            });
        if ("string" == typeof b) {
            if (w.test(b))
                return n.filter(b, a, c);
            b = n.filter(b, a)
        }
        return n.grep(a, function(a) {
            return n.inArray(a, b) >= 0 !== c
        })
    }
    n.filter = function(a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"),
        1 === b.length && 1 === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, function(a) {
            return 1 === a.nodeType
        }))
    }
    ,
    n.fn.extend({
        find: function(a) {
            var b, c = [], d = this, e = d.length;
            if ("string" != typeof a)
                return this.pushStack(n(a).filter(function() {
                    for (b = 0; e > b; b++)
                        if (n.contains(d[b], this))
                            return !0
                }));
            for (b = 0; e > b; b++)
                n.find(a, d[b], c);
            return c = this.pushStack(e > 1 ? n.unique(c) : c),
            c.selector = this.selector ? this.selector + " " + a : a,
            c
        },
        filter: function(a) {
            return this.pushStack(x(this, a || [], !1))
        },
        not: function(a) {
            return this.pushStack(x(this, a || [], !0))
        },
        is: function(a) {
            return !!x(this, "string" == typeof a && u.test(a) ? n(a) : a || [], !1).length
        }
    });
    var y, z = a.document, A = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, B = n.fn.init = function(a, b) {
        var c, d;
        if (!a)
            return this;
        if ("string" == typeof a) {
            if (c = "<" === a.charAt(0) && ">" === a.charAt(a.length - 1) && a.length >= 3 ? [null, a, null] : A.exec(a),
            !c || !c[1] && b)
                return !b || b.jquery ? (b || y).find(a) : this.constructor(b).find(a);
            if (c[1]) {
                if (b = b instanceof n ? b[0] : b,
                n.merge(this, n.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : z, !0)),
                v.test(c[1]) && n.isPlainObject(b))
                    for (c in b)
                        n.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                return this
            }
            if (d = z.getElementById(c[2]),
            d && d.parentNode) {
                if (d.id !== c[2])
                    return y.find(a);
                this.length = 1,
                this[0] = d
            }
            return this.context = z,
            this.selector = a,
            this
        }
        return a.nodeType ? (this.context = this[0] = a,
        this.length = 1,
        this) : n.isFunction(a) ? "undefined" != typeof y.ready ? y.ready(a) : a(n) : (void 0 !== a.selector && (this.selector = a.selector,
        this.context = a.context),
        n.makeArray(a, this))
    }
    ;
    B.prototype = n.fn,
    y = n(z);
    var C = /^(?:parents|prev(?:Until|All))/
      , D = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    n.extend({
        dir: function(a, b, c) {
            var d = []
              , e = a[b];
            while (e && 9 !== e.nodeType && (void 0 === c || 1 !== e.nodeType || !n(e).is(c)))
                1 === e.nodeType && d.push(e),
                e = e[b];
            return d
        },
        sibling: function(a, b) {
            for (var c = []; a; a = a.nextSibling)
                1 === a.nodeType && a !== b && c.push(a);
            return c
        }
    }),
    n.fn.extend({
        has: function(a) {
            var b, c = n(a, this), d = c.length;
            return this.filter(function() {
                for (b = 0; d > b; b++)
                    if (n.contains(this, c[b]))
                        return !0
            })
        },
        closest: function(a, b) {
            for (var c, d = 0, e = this.length, f = [], g = u.test(a) || "string" != typeof a ? n(a, b || this.context) : 0; e > d; d++)
                for (c = this[d]; c && c !== b; c = c.parentNode)
                    if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && n.find.matchesSelector(c, a))) {
                        f.push(c);
                        break
                    }
            return this.pushStack(f.length > 1 ? n.unique(f) : f)
        },
        index: function(a) {
            return a ? "string" == typeof a ? n.inArray(this[0], n(a)) : n.inArray(a.jquery ? a[0] : a, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(a, b) {
            return this.pushStack(n.unique(n.merge(this.get(), n(a, b))))
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }
    });
    function E(a, b) {
        do
            a = a[b];
        while (a && 1 !== a.nodeType);return a
    }
    n.each({
        parent: function(a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b : null
        },
        parents: function(a) {
            return n.dir(a, "parentNode")
        },
        parentsUntil: function(a, b, c) {
            return n.dir(a, "parentNode", c)
        },
        next: function(a) {
            return E(a, "nextSibling")
        },
        prev: function(a) {
            return E(a, "previousSibling")
        },
        nextAll: function(a) {
            return n.dir(a, "nextSibling")
        },
        prevAll: function(a) {
            return n.dir(a, "previousSibling")
        },
        nextUntil: function(a, b, c) {
            return n.dir(a, "nextSibling", c)
        },
        prevUntil: function(a, b, c) {
            return n.dir(a, "previousSibling", c)
        },
        siblings: function(a) {
            return n.sibling((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return n.sibling(a.firstChild)
        },
        contents: function(a) {
            return n.nodeName(a, "iframe") ? a.contentDocument || a.contentWindow.document : n.merge([], a.childNodes)
        }
    }, function(a, b) {
        n.fn[a] = function(c, d) {
            var e = n.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c),
            d && "string" == typeof d && (e = n.filter(d, e)),
            this.length > 1 && (D[a] || (e = n.unique(e)),
            C.test(a) && (e = e.reverse())),
            this.pushStack(e)
        }
    });
    var F = /\S+/g
      , G = {};
    function H(a) {
        var b = G[a] = {};
        return n.each(a.match(F) || [], function(a, c) {
            b[c] = !0
        }),
        b
    }
    n.Callbacks = function(a) {
        a = "string" == typeof a ? G[a] || H(a) : n.extend({}, a);
        var b, c, d, e, f, g, h = [], i = !a.once && [], j = function(l) {
            for (c = a.memory && l,
            d = !0,
            f = g || 0,
            g = 0,
            e = h.length,
            b = !0; h && e > f; f++)
                if (h[f].apply(l[0], l[1]) === !1 && a.stopOnFalse) {
                    c = !1;
                    break
                }
            b = !1,
            h && (i ? i.length && j(i.shift()) : c ? h = [] : k.disable())
        }, k = {
            add: function() {
                if (h) {
                    var d = h.length;
                    !function f(b) {
                        n.each(b, function(b, c) {
                            var d = n.type(c);
                            "function" === d ? a.unique && k.has(c) || h.push(c) : c && c.length && "string" !== d && f(c)
                        })
                    }(arguments),
                    b ? e = h.length : c && (g = d,
                    j(c))
                }
                return this
            },
            remove: function() {
                return h && n.each(arguments, function(a, c) {
                    var d;
                    while ((d = n.inArray(c, h, d)) > -1)
                        h.splice(d, 1),
                        b && (e >= d && e--,
                        f >= d && f--)
                }),
                this
            },
            has: function(a) {
                return a ? n.inArray(a, h) > -1 : !(!h || !h.length)
            },
            empty: function() {
                return h = [],
                e = 0,
                this
            },
            disable: function() {
                return h = i = c = void 0,
                this
            },
            disabled: function() {
                return !h
            },
            lock: function() {
                return i = void 0,
                c || k.disable(),
                this
            },
            locked: function() {
                return !i
            },
            fireWith: function(a, c) {
                return !h || d && !i || (c = c || [],
                c = [a, c.slice ? c.slice() : c],
                b ? i.push(c) : j(c)),
                this
            },
            fire: function() {
                return k.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !!d
            }
        };
        return k
    }
    ,
    n.extend({
        Deferred: function(a) {
            var b = [["resolve", "done", n.Callbacks("once memory"), "resolved"], ["reject", "fail", n.Callbacks("once memory"), "rejected"], ["notify", "progress", n.Callbacks("memory")]]
              , c = "pending"
              , d = {
                state: function() {
                    return c
                },
                always: function() {
                    return e.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var a = arguments;
                    return n.Deferred(function(c) {
                        n.each(b, function(b, f) {
                            var g = n.isFunction(a[b]) && a[b];
                            e[f[1]](function() {
                                var a = g && g.apply(this, arguments);
                                a && n.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                            })
                        }),
                        a = null
                    }).promise()
                },
                promise: function(a) {
                    return null != a ? n.extend(a, d) : d
                }
            }
              , e = {};
            return d.pipe = d.then,
            n.each(b, function(a, f) {
                var g = f[2]
                  , h = f[3];
                d[f[1]] = g.add,
                h && g.add(function() {
                    c = h
                }, b[1 ^ a][2].disable, b[2][2].lock),
                e[f[0]] = function() {
                    return e[f[0] + "With"](this === e ? d : this, arguments),
                    this
                }
                ,
                e[f[0] + "With"] = g.fireWith
            }),
            d.promise(e),
            a && a.call(e, e),
            e
        },
        when: function(a) {
            var b = 0, c = d.call(arguments), e = c.length, f = 1 !== e || a && n.isFunction(a.promise) ? e : 0, g = 1 === f ? a : n.Deferred(), h = function(a, b, c) {
                return function(e) {
                    b[a] = this,
                    c[a] = arguments.length > 1 ? d.call(arguments) : e,
                    c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c)
                }
            }, i, j, k;
            if (e > 1)
                for (i = new Array(e),
                j = new Array(e),
                k = new Array(e); e > b; b++)
                    c[b] && n.isFunction(c[b].promise) ? c[b].promise().done(h(b, k, c)).fail(g.reject).progress(h(b, j, i)) : --f;
            return f || g.resolveWith(k, c),
            g.promise()
        }
    });
    var I;
    n.fn.ready = function(a) {
        return n.ready.promise().done(a),
        this
    }
    ,
    n.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? n.readyWait++ : n.ready(!0)
        },
        ready: function(a) {
            if (a === !0 ? !--n.readyWait : !n.isReady) {
                if (!z.body)
                    return setTimeout(n.ready);
                n.isReady = !0,
                a !== !0 && --n.readyWait > 0 || (I.resolveWith(z, [n]),
                n.fn.trigger && n(z).trigger("ready").off("ready"))
            }
        }
    });
    function J() {
        z.addEventListener ? (z.removeEventListener("DOMContentLoaded", K, !1),
        a.removeEventListener("load", K, !1)) : (z.detachEvent("onreadystatechange", K),
        a.detachEvent("onload", K))
    }
    function K() {
        (z.addEventListener || "load" === event.type || "complete" === z.readyState) && (J(),
        n.ready())
    }
    n.ready.promise = function(b) {
        if (!I)
            if (I = n.Deferred(),
            "complete" === z.readyState)
                setTimeout(n.ready);
            else if (z.addEventListener)
                z.addEventListener("DOMContentLoaded", K, !1),
                a.addEventListener("load", K, !1);
            else {
                z.attachEvent("onreadystatechange", K),
                a.attachEvent("onload", K);
                var c = !1;
                try {
                    c = null == a.frameElement && z.documentElement
                } catch (d) {}
                c && c.doScroll && !function e() {
                    if (!n.isReady) {
                        try {
                            c.doScroll("left")
                        } catch (a) {
                            return setTimeout(e, 50)
                        }
                        J(),
                        n.ready()
                    }
                }()
            }
        return I.promise(b)
    }
    ;
    var L = "undefined", M;
    for (M in n(l))
        break;
    l.ownLast = "0" !== M,
    l.inlineBlockNeedsLayout = !1,
    n(function() {
        var a, b, c = z.getElementsByTagName("body")[0];
        c && (a = z.createElement("div"),
        a.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",
        b = z.createElement("div"),
        c.appendChild(a).appendChild(b),
        typeof b.style.zoom !== L && (b.style.cssText = "border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",
        (l.inlineBlockNeedsLayout = 3 === b.offsetWidth) && (c.style.zoom = 1)),
        c.removeChild(a),
        a = b = null)
    }),
    function() {
        var a = z.createElement("div");
        if (null == l.deleteExpando) {
            l.deleteExpando = !0;
            try {
                delete a.test
            } catch (b) {
                l.deleteExpando = !1
            }
        }
        a = null
    }(),
    n.acceptData = function(a) {
        var b = n.noData[(a.nodeName + " ").toLowerCase()]
          , c = +a.nodeType || 1;
        return 1 !== c && 9 !== c ? !1 : !b || b !== !0 && a.getAttribute("classid") === b
    }
    ;
    var N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
      , O = /([A-Z])/g;
    function P(a, b, c) {
        if (void 0 === c && 1 === a.nodeType) {
            var d = "data-" + b.replace(O, "-$1").toLowerCase();
            if (c = a.getAttribute(d),
            "string" == typeof c) {
                try {
                    c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : N.test(c) ? n.parseJSON(c) : c
                } catch (e) {}
                n.data(a, b, c)
            } else
                c = void 0
        }
        return c
    }
    function Q(a) {
        var b;
        for (b in a)
            if (("data" !== b || !n.isEmptyObject(a[b])) && "toJSON" !== b)
                return !1;
        return !0
    }
    function R(a, b, d, e) {
        if (n.acceptData(a)) {
            var f, g, h = n.expando, i = a.nodeType, j = i ? n.cache : a, k = i ? a[h] : a[h] && h;
            if (k && j[k] && (e || j[k].data) || void 0 !== d || "string" != typeof b)
                return k || (k = i ? a[h] = c.pop() || n.guid++ : h),
                j[k] || (j[k] = i ? {} : {
                    toJSON: n.noop
                }),
                ("object" == typeof b || "function" == typeof b) && (e ? j[k] = n.extend(j[k], b) : j[k].data = n.extend(j[k].data, b)),
                g = j[k],
                e || (g.data || (g.data = {}),
                g = g.data),
                void 0 !== d && (g[n.camelCase(b)] = d),
                "string" == typeof b ? (f = g[b],
                null == f && (f = g[n.camelCase(b)])) : f = g,
                f
        }
    }
    function S(a, b, c) {
        if (n.acceptData(a)) {
            var d, e, f = a.nodeType, g = f ? n.cache : a, h = f ? a[n.expando] : n.expando;
            if (g[h]) {
                if (b && (d = c ? g[h] : g[h].data)) {
                    n.isArray(b) ? b = b.concat(n.map(b, n.camelCase)) : b in d ? b = [b] : (b = n.camelCase(b),
                    b = b in d ? [b] : b.split(" ")),
                    e = b.length;
                    while (e--)
                        delete d[b[e]];
                    if (c ? !Q(d) : !n.isEmptyObject(d))
                        return
                }
                (c || (delete g[h].data,
                Q(g[h]))) && (f ? n.cleanData([a], !0) : l.deleteExpando || g != g.window ? delete g[h] : g[h] = null)
            }
        }
    }
    n.extend({
        cache: {},
        noData: {
            "applet ": !0,
            "embed ": !0,
            "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        },
        hasData: function(a) {
            return a = a.nodeType ? n.cache[a[n.expando]] : a[n.expando],
            !!a && !Q(a)
        },
        data: function(a, b, c) {
            return R(a, b, c)
        },
        removeData: function(a, b) {
            return S(a, b)
        },
        _data: function(a, b, c) {
            return R(a, b, c, !0)
        },
        _removeData: function(a, b) {
            return S(a, b, !0)
        }
    }),
    n.fn.extend({
        data: function(a, b) {
            var c, d, e, f = this[0], g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = n.data(f),
                1 === f.nodeType && !n._data(f, "parsedAttrs"))) {
                    c = g.length;
                    while (c--)
                        d = g[c].name,
                        0 === d.indexOf("data-") && (d = n.camelCase(d.slice(5)),
                        P(f, d, e[d]));
                    n._data(f, "parsedAttrs", !0)
                }
                return e
            }
            return "object" == typeof a ? this.each(function() {
                n.data(this, a)
            }) : arguments.length > 1 ? this.each(function() {
                n.data(this, a, b)
            }) : f ? P(f, a, n.data(f, a)) : void 0
        },
        removeData: function(a) {
            return this.each(function() {
                n.removeData(this, a)
            })
        }
    }),
    n.extend({
        queue: function(a, b, c) {
            var d;
            return a ? (b = (b || "fx") + "queue",
            d = n._data(a, b),
            c && (!d || n.isArray(c) ? d = n._data(a, b, n.makeArray(c)) : d.push(c)),
            d || []) : void 0
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = n.queue(a, b)
              , d = c.length
              , e = c.shift()
              , f = n._queueHooks(a, b)
              , g = function() {
                n.dequeue(a, b)
            };
            "inprogress" === e && (e = c.shift(),
            d--),
            e && ("fx" === b && c.unshift("inprogress"),
            delete f.stop,
            e.call(a, g, f)),
            !d && f && f.empty.fire()
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return n._data(a, c) || n._data(a, c, {
                empty: n.Callbacks("once memory").add(function() {
                    n._removeData(a, b + "queue"),
                    n._removeData(a, c)
                })
            })
        }
    }),
    n.fn.extend({
        queue: function(a, b) {
            var c = 2;
            return "string" != typeof a && (b = a,
            a = "fx",
            c--),
            arguments.length < c ? n.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                var c = n.queue(this, a, b);
                n._queueHooks(this, a),
                "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                n.dequeue(this, a)
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(a, b) {
            var c, d = 1, e = n.Deferred(), f = this, g = this.length, h = function() {
                --d || e.resolveWith(f, [f])
            };
            "string" != typeof a && (b = a,
            a = void 0),
            a = a || "fx";
            while (g--)
                c = n._data(f[g], a + "queueHooks"),
                c && c.empty && (d++,
                c.empty.add(h));
            return h(),
            e.promise(b)
        }
    });
    var T = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
      , U = ["Top", "Right", "Bottom", "Left"]
      , V = function(a, b) {
        return a = b || a,
        "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a)
    }
      , W = n.access = function(a, b, c, d, e, f, g) {
        var h = 0
          , i = a.length
          , j = null == c;
        if ("object" === n.type(c)) {
            e = !0;
            for (h in c)
                n.access(a, b, h, c[h], !0, f, g)
        } else if (void 0 !== d && (e = !0,
        n.isFunction(d) || (g = !0),
        j && (g ? (b.call(a, d),
        b = null) : (j = b,
        b = function(a, b, c) {
            return j.call(n(a), c)
        }
        )),
        b))
            for (; i > h; h++)
                b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
        return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
    }
      , X = /^(?:checkbox|radio)$/i;
    !function() {
        var a = z.createDocumentFragment()
          , b = z.createElement("div")
          , c = z.createElement("input");
        if (b.setAttribute("className", "t"),
        b.innerHTML = "  <link/><table></table><a href='/a'>a</a>",
        l.leadingWhitespace = 3 === b.firstChild.nodeType,
        l.tbody = !b.getElementsByTagName("tbody").length,
        l.htmlSerialize = !!b.getElementsByTagName("link").length,
        l.html5Clone = "<:nav></:nav>" !== z.createElement("nav").cloneNode(!0).outerHTML,
        c.type = "checkbox",
        c.checked = !0,
        a.appendChild(c),
        l.appendChecked = c.checked,
        b.innerHTML = "<textarea>x</textarea>",
        l.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue,
        a.appendChild(b),
        b.innerHTML = "<input type='radio' checked='checked' name='t'/>",
        l.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked,
        l.noCloneEvent = !0,
        b.attachEvent && (b.attachEvent("onclick", function() {
            l.noCloneEvent = !1
        }),
        b.cloneNode(!0).click()),
        null == l.deleteExpando) {
            l.deleteExpando = !0;
            try {
                delete b.test
            } catch (d) {
                l.deleteExpando = !1
            }
        }
        a = b = c = null
    }(),
    function() {
        var b, c, d = z.createElement("div");
        for (b in {
            submit: !0,
            change: !0,
            focusin: !0
        })
            c = "on" + b,
            (l[b + "Bubbles"] = c in a) || (d.setAttribute(c, "t"),
            l[b + "Bubbles"] = d.attributes[c].expando === !1);
        d = null
    }();
    var Y = /^(?:input|select|textarea)$/i
      , Z = /^key/
      , $ = /^(?:mouse|contextmenu)|click/
      , _ = /^(?:focusinfocus|focusoutblur)$/
      , ab = /^([^.]*)(?:\.(.+)|)$/;
    function bb() {
        return !0
    }
    function cb() {
        return !1
    }
    function db() {
        try {
            return z.activeElement
        } catch (a) {}
    }
    n.event = {
        global: {},
        add: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, o, p, q, r = n._data(a);
            if (r) {
                c.handler && (i = c,
                c = i.handler,
                e = i.selector),
                c.guid || (c.guid = n.guid++),
                (g = r.events) || (g = r.events = {}),
                (k = r.handle) || (k = r.handle = function(a) {
                    return typeof n === L || a && n.event.triggered === a.type ? void 0 : n.event.dispatch.apply(k.elem, arguments)
                }
                ,
                k.elem = a),
                b = (b || "").match(F) || [""],
                h = b.length;
                while (h--)
                    f = ab.exec(b[h]) || [],
                    o = q = f[1],
                    p = (f[2] || "").split(".").sort(),
                    o && (j = n.event.special[o] || {},
                    o = (e ? j.delegateType : j.bindType) || o,
                    j = n.event.special[o] || {},
                    l = n.extend({
                        type: o,
                        origType: q,
                        data: d,
                        handler: c,
                        guid: c.guid,
                        selector: e,
                        needsContext: e && n.expr.match.needsContext.test(e),
                        namespace: p.join(".")
                    }, i),
                    (m = g[o]) || (m = g[o] = [],
                    m.delegateCount = 0,
                    j.setup && j.setup.call(a, d, p, k) !== !1 || (a.addEventListener ? a.addEventListener(o, k, !1) : a.attachEvent && a.attachEvent("on" + o, k))),
                    j.add && (j.add.call(a, l),
                    l.handler.guid || (l.handler.guid = c.guid)),
                    e ? m.splice(m.delegateCount++, 0, l) : m.push(l),
                    n.event.global[o] = !0);
                a = null
            }
        },
        remove: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, o, p, q, r = n.hasData(a) && n._data(a);
            if (r && (k = r.events)) {
                b = (b || "").match(F) || [""],
                j = b.length;
                while (j--)
                    if (h = ab.exec(b[j]) || [],
                    o = q = h[1],
                    p = (h[2] || "").split(".").sort(),
                    o) {
                        l = n.event.special[o] || {},
                        o = (d ? l.delegateType : l.bindType) || o,
                        m = k[o] || [],
                        h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                        i = f = m.length;
                        while (f--)
                            g = m[f],
                            !e && q !== g.origType || c && c.guid !== g.guid || h && !h.test(g.namespace) || d && d !== g.selector && ("**" !== d || !g.selector) || (m.splice(f, 1),
                            g.selector && m.delegateCount--,
                            l.remove && l.remove.call(a, g));
                        i && !m.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || n.removeEvent(a, o, r.handle),
                        delete k[o])
                    } else
                        for (o in k)
                            n.event.remove(a, o + b[j], c, d, !0);
                n.isEmptyObject(k) && (delete r.handle,
                n._removeData(a, "events"))
            }
        },
        trigger: function(b, c, d, e) {
            var f, g, h, i, k, l, m, o = [d || z], p = j.call(b, "type") ? b.type : b, q = j.call(b, "namespace") ? b.namespace.split(".") : [];
            if (h = l = d = d || z,
            3 !== d.nodeType && 8 !== d.nodeType && !_.test(p + n.event.triggered) && (p.indexOf(".") >= 0 && (q = p.split("."),
            p = q.shift(),
            q.sort()),
            g = p.indexOf(":") < 0 && "on" + p,
            b = b[n.expando] ? b : new n.Event(p,"object" == typeof b && b),
            b.isTrigger = e ? 2 : 3,
            b.namespace = q.join("."),
            b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + q.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
            b.result = void 0,
            b.target || (b.target = d),
            c = null == c ? [b] : n.makeArray(c, [b]),
            k = n.event.special[p] || {},
            e || !k.trigger || k.trigger.apply(d, c) !== !1)) {
                if (!e && !k.noBubble && !n.isWindow(d)) {
                    for (i = k.delegateType || p,
                    _.test(i + p) || (h = h.parentNode); h; h = h.parentNode)
                        o.push(h),
                        l = h;
                    l === (d.ownerDocument || z) && o.push(l.defaultView || l.parentWindow || a)
                }
                m = 0;
                while ((h = o[m++]) && !b.isPropagationStopped())
                    b.type = m > 1 ? i : k.bindType || p,
                    f = (n._data(h, "events") || {})[b.type] && n._data(h, "handle"),
                    f && f.apply(h, c),
                    f = g && h[g],
                    f && f.apply && n.acceptData(h) && (b.result = f.apply(h, c),
                    b.result === !1 && b.preventDefault());
                if (b.type = p,
                !e && !b.isDefaultPrevented() && (!k._default || k._default.apply(o.pop(), c) === !1) && n.acceptData(d) && g && d[p] && !n.isWindow(d)) {
                    l = d[g],
                    l && (d[g] = null),
                    n.event.triggered = p;
                    try {
                        d[p]()
                    } catch (r) {}
                    n.event.triggered = void 0,
                    l && (d[g] = l)
                }
                return b.result
            }
        },
        dispatch: function(a) {
            a = n.event.fix(a);
            var b, c, e, f, g, h = [], i = d.call(arguments), j = (n._data(this, "events") || {})[a.type] || [], k = n.event.special[a.type] || {};
            if (i[0] = a,
            a.delegateTarget = this,
            !k.preDispatch || k.preDispatch.call(this, a) !== !1) {
                h = n.event.handlers.call(this, a, j),
                b = 0;
                while ((f = h[b++]) && !a.isPropagationStopped()) {
                    a.currentTarget = f.elem,
                    g = 0;
                    while ((e = f.handlers[g++]) && !a.isImmediatePropagationStopped())
                        (!a.namespace_re || a.namespace_re.test(e.namespace)) && (a.handleObj = e,
                        a.data = e.data,
                        c = ((n.event.special[e.origType] || {}).handle || e.handler).apply(f.elem, i),
                        void 0 !== c && (a.result = c) === !1 && (a.preventDefault(),
                        a.stopPropagation()))
                }
                return k.postDispatch && k.postDispatch.call(this, a),
                a.result
            }
        },
        handlers: function(a, b) {
            var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
            if (h && i.nodeType && (!a.button || "click" !== a.type))
                for (; i != this; i = i.parentNode || this)
                    if (1 === i.nodeType && (i.disabled !== !0 || "click" !== a.type)) {
                        for (e = [],
                        f = 0; h > f; f++)
                            d = b[f],
                            c = d.selector + " ",
                            void 0 === e[c] && (e[c] = d.needsContext ? n(c, this).index(i) >= 0 : n.find(c, this, null, [i]).length),
                            e[c] && e.push(d);
                        e.length && g.push({
                            elem: i,
                            handlers: e
                        })
                    }
            return h < b.length && g.push({
                elem: this,
                handlers: b.slice(h)
            }),
            g
        },
        fix: function(a) {
            if (a[n.expando])
                return a;
            var b, c, d, e = a.type, f = a, g = this.fixHooks[e];
            g || (this.fixHooks[e] = g = $.test(e) ? this.mouseHooks : Z.test(e) ? this.keyHooks : {}),
            d = g.props ? this.props.concat(g.props) : this.props,
            a = new n.Event(f),
            b = d.length;
            while (b--)
                c = d[b],
                a[c] = f[c];
            return a.target || (a.target = f.srcElement || z),
            3 === a.target.nodeType && (a.target = a.target.parentNode),
            a.metaKey = !!a.metaKey,
            g.filter ? g.filter(a, f) : a
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(a, b) {
                return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode),
                a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, b) {
                var c, d, e, f = b.button, g = b.fromElement;
                return null == a.pageX && null != b.clientX && (d = a.target.ownerDocument || z,
                e = d.documentElement,
                c = d.body,
                a.pageX = b.clientX + (e && e.scrollLeft || c && c.scrollLeft || 0) - (e && e.clientLeft || c && c.clientLeft || 0),
                a.pageY = b.clientY + (e && e.scrollTop || c && c.scrollTop || 0) - (e && e.clientTop || c && c.clientTop || 0)),
                !a.relatedTarget && g && (a.relatedTarget = g === a.target ? b.toElement : g),
                a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0),
                a
            }
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== db() && this.focus)
                        try {
                            return this.focus(),
                            !1
                        } catch (a) {}
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === db() && this.blur ? (this.blur(),
                    !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return n.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(),
                    !1) : void 0
                },
                _default: function(a) {
                    return n.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && (a.originalEvent.returnValue = a.result)
                }
            }
        },
        simulate: function(a, b, c, d) {
            var e = n.extend(new n.Event, c, {
                type: a,
                isSimulated: !0,
                originalEvent: {}
            });
            d ? n.event.trigger(e, null, b) : n.event.dispatch.call(b, e),
            e.isDefaultPrevented() && c.preventDefault()
        }
    },
    n.removeEvent = z.removeEventListener ? function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, !1)
    }
    : function(a, b, c) {
        var d = "on" + b;
        a.detachEvent && (typeof a[d] === L && (a[d] = null),
        a.detachEvent(d, c))
    }
    ,
    n.Event = function(a, b) {
        return this instanceof n.Event ? (a && a.type ? (this.originalEvent = a,
        this.type = a.type,
        this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && (a.returnValue === !1 || a.getPreventDefault && a.getPreventDefault()) ? bb : cb) : this.type = a,
        b && n.extend(this, b),
        this.timeStamp = a && a.timeStamp || n.now(),
        void (this[n.expando] = !0)) : new n.Event(a,b)
    }
    ,
    n.Event.prototype = {
        isDefaultPrevented: cb,
        isPropagationStopped: cb,
        isImmediatePropagationStopped: cb,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = bb,
            a && (a.preventDefault ? a.preventDefault() : a.returnValue = !1)
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = bb,
            a && (a.stopPropagation && a.stopPropagation(),
            a.cancelBubble = !0)
        },
        stopImmediatePropagation: function() {
            this.isImmediatePropagationStopped = bb,
            this.stopPropagation()
        }
    },
    n.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout"
    }, function(a, b) {
        n.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c, d = this, e = a.relatedTarget, f = a.handleObj;
                return (!e || e !== d && !n.contains(d, e)) && (a.type = f.origType,
                c = f.handler.apply(this, arguments),
                a.type = b),
                c
            }
        }
    }),
    l.submitBubbles || (n.event.special.submit = {
        setup: function() {
            return n.nodeName(this, "form") ? !1 : void n.event.add(this, "click._submit keypress._submit", function(a) {
                var b = a.target
                  , c = n.nodeName(b, "input") || n.nodeName(b, "button") ? b.form : void 0;
                c && !n._data(c, "submitBubbles") && (n.event.add(c, "submit._submit", function(a) {
                    a._submit_bubble = !0
                }),
                n._data(c, "submitBubbles", !0))
            })
        },
        postDispatch: function(a) {
            a._submit_bubble && (delete a._submit_bubble,
            this.parentNode && !a.isTrigger && n.event.simulate("submit", this.parentNode, a, !0))
        },
        teardown: function() {
            return n.nodeName(this, "form") ? !1 : void n.event.remove(this, "._submit")
        }
    }),
    l.changeBubbles || (n.event.special.change = {
        setup: function() {
            return Y.test(this.nodeName) ? (("checkbox" === this.type || "radio" === this.type) && (n.event.add(this, "propertychange._change", function(a) {
                "checked" === a.originalEvent.propertyName && (this._just_changed = !0)
            }),
            n.event.add(this, "click._change", function(a) {
                this._just_changed && !a.isTrigger && (this._just_changed = !1),
                n.event.simulate("change", this, a, !0)
            })),
            !1) : void n.event.add(this, "beforeactivate._change", function(a) {
                var b = a.target;
                Y.test(b.nodeName) && !n._data(b, "changeBubbles") && (n.event.add(b, "change._change", function(a) {
                    !this.parentNode || a.isSimulated || a.isTrigger || n.event.simulate("change", this.parentNode, a, !0)
                }),
                n._data(b, "changeBubbles", !0))
            })
        },
        handle: function(a) {
            var b = a.target;
            return this !== b || a.isSimulated || a.isTrigger || "radio" !== b.type && "checkbox" !== b.type ? a.handleObj.handler.apply(this, arguments) : void 0
        },
        teardown: function() {
            return n.event.remove(this, "._change"),
            !Y.test(this.nodeName)
        }
    }),
    l.focusinBubbles || n.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, b) {
        var c = function(a) {
            n.event.simulate(b, a.target, n.event.fix(a), !0)
        };
        n.event.special[b] = {
            setup: function() {
                var d = this.ownerDocument || this
                  , e = n._data(d, b);
                e || d.addEventListener(a, c, !0),
                n._data(d, b, (e || 0) + 1)
            },
            teardown: function() {
                var d = this.ownerDocument || this
                  , e = n._data(d, b) - 1;
                e ? n._data(d, b, e) : (d.removeEventListener(a, c, !0),
                n._removeData(d, b))
            }
        }
    }),
    n.fn.extend({
        on: function(a, b, c, d, e) {
            var f, g;
            if ("object" == typeof a) {
                "string" != typeof b && (c = c || b,
                b = void 0);
                for (f in a)
                    this.on(f, b, c, a[f], e);
                return this
            }
            if (null == c && null == d ? (d = b,
            c = b = void 0) : null == d && ("string" == typeof b ? (d = c,
            c = void 0) : (d = c,
            c = b,
            b = void 0)),
            d === !1)
                d = cb;
            else if (!d)
                return this;
            return 1 === e && (g = d,
            d = function(a) {
                return n().off(a),
                g.apply(this, arguments)
            }
            ,
            d.guid = g.guid || (g.guid = n.guid++)),
            this.each(function() {
                n.event.add(this, a, d, c, b)
            })
        },
        one: function(a, b, c, d) {
            return this.on(a, b, c, d, 1)
        },
        off: function(a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj)
                return d = a.handleObj,
                n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler),
                this;
            if ("object" == typeof a) {
                for (e in a)
                    this.off(e, b, a[e]);
                return this
            }
            return (b === !1 || "function" == typeof b) && (c = b,
            b = void 0),
            c === !1 && (c = cb),
            this.each(function() {
                n.event.remove(this, a, c, b)
            })
        },
        trigger: function(a, b) {
            return this.each(function() {
                n.event.trigger(a, b, this)
            })
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            return c ? n.event.trigger(a, b, c, !0) : void 0
        }
    });
    function eb(a) {
        var b = fb.split("|")
          , c = a.createDocumentFragment();
        if (c.createElement)
            while (b.length)
                c.createElement(b.pop());
        return c
    }
    var fb = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video"
      , gb = / jQuery\d+="(?:null|\d+)"/g
      , hb = new RegExp("<(?:" + fb + ")[\\s/>]","i")
      , ib = /^\s+/
      , jb = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
      , kb = /<([\w:]+)/
      , lb = /<tbody/i
      , mb = /<|&#?\w+;/
      , nb = /<(?:script|style|link)/i
      , ob = /checked\s*(?:[^=]|=\s*.checked.)/i
      , pb = /^$|\/(?:java|ecma)script/i
      , qb = /^true\/(.*)/
      , rb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g
      , sb = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        area: [1, "<map>", "</map>"],
        param: [1, "<object>", "</object>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: l.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
    }
      , tb = eb(z)
      , ub = tb.appendChild(z.createElement("div"));
    sb.optgroup = sb.option,
    sb.tbody = sb.tfoot = sb.colgroup = sb.caption = sb.thead,
    sb.th = sb.td;
    function vb(a, b) {
        var c, d, e = 0, f = typeof a.getElementsByTagName !== L ? a.getElementsByTagName(b || "*") : typeof a.querySelectorAll !== L ? a.querySelectorAll(b || "*") : void 0;
        if (!f)
            for (f = [],
            c = a.childNodes || a; null != (d = c[e]); e++)
                !b || n.nodeName(d, b) ? f.push(d) : n.merge(f, vb(d, b));
        return void 0 === b || b && n.nodeName(a, b) ? n.merge([a], f) : f
    }
    function wb(a) {
        X.test(a.type) && (a.defaultChecked = a.checked)
    }
    function xb(a, b) {
        return n.nodeName(a, "table") && n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }
    function yb(a) {
        return a.type = (null !== n.find.attr(a, "type")) + "/" + a.type,
        a
    }
    function zb(a) {
        var b = qb.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"),
        a
    }
    function Ab(a, b) {
        for (var c, d = 0; null != (c = a[d]); d++)
            n._data(c, "globalEval", !b || n._data(b[d], "globalEval"))
    }
    function Bb(a, b) {
        if (1 === b.nodeType && n.hasData(a)) {
            var c, d, e, f = n._data(a), g = n._data(b, f), h = f.events;
            if (h) {
                delete g.handle,
                g.events = {};
                for (c in h)
                    for (d = 0,
                    e = h[c].length; e > d; d++)
                        n.event.add(b, c, h[c][d])
            }
            g.data && (g.data = n.extend({}, g.data))
        }
    }
    function Cb(a, b) {
        var c, d, e;
        if (1 === b.nodeType) {
            if (c = b.nodeName.toLowerCase(),
            !l.noCloneEvent && b[n.expando]) {
                e = n._data(b);
                for (d in e.events)
                    n.removeEvent(b, d, e.handle);
                b.removeAttribute(n.expando)
            }
            "script" === c && b.text !== a.text ? (yb(b).text = a.text,
            zb(b)) : "object" === c ? (b.parentNode && (b.outerHTML = a.outerHTML),
            l.html5Clone && a.innerHTML && !n.trim(b.innerHTML) && (b.innerHTML = a.innerHTML)) : "input" === c && X.test(a.type) ? (b.defaultChecked = b.checked = a.checked,
            b.value !== a.value && (b.value = a.value)) : "option" === c ? b.defaultSelected = b.selected = a.defaultSelected : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue)
        }
    }
    n.extend({
        clone: function(a, b, c) {
            var d, e, f, g, h, i = n.contains(a.ownerDocument, a);
            if (l.html5Clone || n.isXMLDoc(a) || !hb.test("<" + a.nodeName + ">") ? f = a.cloneNode(!0) : (ub.innerHTML = a.outerHTML,
            ub.removeChild(f = ub.firstChild)),
            !(l.noCloneEvent && l.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || n.isXMLDoc(a)))
                for (d = vb(f),
                h = vb(a),
                g = 0; null != (e = h[g]); ++g)
                    d[g] && Cb(e, d[g]);
            if (b)
                if (c)
                    for (h = h || vb(a),
                    d = d || vb(f),
                    g = 0; null != (e = h[g]); g++)
                        Bb(e, d[g]);
                else
                    Bb(a, f);
            return d = vb(f, "script"),
            d.length > 0 && Ab(d, !i && vb(a, "script")),
            d = h = e = null,
            f
        },
        buildFragment: function(a, b, c, d) {
            for (var e, f, g, h, i, j, k, m = a.length, o = eb(b), p = [], q = 0; m > q; q++)
                if (f = a[q],
                f || 0 === f)
                    if ("object" === n.type(f))
                        n.merge(p, f.nodeType ? [f] : f);
                    else if (mb.test(f)) {
                        h = h || o.appendChild(b.createElement("div")),
                        i = (kb.exec(f) || ["", ""])[1].toLowerCase(),
                        k = sb[i] || sb._default,
                        h.innerHTML = k[1] + f.replace(jb, "<$1></$2>") + k[2],
                        e = k[0];
                        while (e--)
                            h = h.lastChild;
                        if (!l.leadingWhitespace && ib.test(f) && p.push(b.createTextNode(ib.exec(f)[0])),
                        !l.tbody) {
                            f = "table" !== i || lb.test(f) ? "<table>" !== k[1] || lb.test(f) ? 0 : h : h.firstChild,
                            e = f && f.childNodes.length;
                            while (e--)
                                n.nodeName(j = f.childNodes[e], "tbody") && !j.childNodes.length && f.removeChild(j)
                        }
                        n.merge(p, h.childNodes),
                        h.textContent = "";
                        while (h.firstChild)
                            h.removeChild(h.firstChild);
                        h = o.lastChild
                    } else
                        p.push(b.createTextNode(f));
            h && o.removeChild(h),
            l.appendChecked || n.grep(vb(p, "input"), wb),
            q = 0;
            while (f = p[q++])
                if ((!d || -1 === n.inArray(f, d)) && (g = n.contains(f.ownerDocument, f),
                h = vb(o.appendChild(f), "script"),
                g && Ab(h),
                c)) {
                    e = 0;
                    while (f = h[e++])
                        pb.test(f.type || "") && c.push(f)
                }
            return h = null,
            o
        },
        cleanData: function(a, b) {
            for (var d, e, f, g, h = 0, i = n.expando, j = n.cache, k = l.deleteExpando, m = n.event.special; null != (d = a[h]); h++)
                if ((b || n.acceptData(d)) && (f = d[i],
                g = f && j[f])) {
                    if (g.events)
                        for (e in g.events)
                            m[e] ? n.event.remove(d, e) : n.removeEvent(d, e, g.handle);
                    j[f] && (delete j[f],
                    k ? delete d[i] : typeof d.removeAttribute !== L ? d.removeAttribute(i) : d[i] = null,
                    c.push(f))
                }
        }
    }),
    n.fn.extend({
        text: function(a) {
            return W(this, function(a) {
                return void 0 === a ? n.text(this) : this.empty().append((this[0] && this[0].ownerDocument || z).createTextNode(a))
            }, null, a, arguments.length)
        },
        append: function() {
            return this.domManip(arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = xb(this, a);
                    b.appendChild(a)
                }
            })
        },
        prepend: function() {
            return this.domManip(arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = xb(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        },
        after: function() {
            return this.domManip(arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        },
        remove: function(a, b) {
            for (var c, d = a ? n.filter(a, this) : this, e = 0; null != (c = d[e]); e++)
                b || 1 !== c.nodeType || n.cleanData(vb(c)),
                c.parentNode && (b && n.contains(c.ownerDocument, c) && Ab(vb(c, "script")),
                c.parentNode.removeChild(c));
            return this
        },
        empty: function() {
            for (var a, b = 0; null != (a = this[b]); b++) {
                1 === a.nodeType && n.cleanData(vb(a, !1));
                while (a.firstChild)
                    a.removeChild(a.firstChild);
                a.options && n.nodeName(a, "select") && (a.options.length = 0)
            }
            return this
        },
        clone: function(a, b) {
            return a = null == a ? !1 : a,
            b = null == b ? a : b,
            this.map(function() {
                return n.clone(this, a, b)
            })
        },
        html: function(a) {
            return W(this, function(a) {
                var b = this[0] || {}
                  , c = 0
                  , d = this.length;
                if (void 0 === a)
                    return 1 === b.nodeType ? b.innerHTML.replace(gb, "") : void 0;
                if (!("string" != typeof a || nb.test(a) || !l.htmlSerialize && hb.test(a) || !l.leadingWhitespace && ib.test(a) || sb[(kb.exec(a) || ["", ""])[1].toLowerCase()])) {
                    a = a.replace(jb, "<$1></$2>");
                    try {
                        for (; d > c; c++)
                            b = this[c] || {},
                            1 === b.nodeType && (n.cleanData(vb(b, !1)),
                            b.innerHTML = a);
                        b = 0
                    } catch (e) {}
                }
                b && this.empty().append(a)
            }, null, a, arguments.length)
        },
        replaceWith: function() {
            var a = arguments[0];
            return this.domManip(arguments, function(b) {
                a = this.parentNode,
                n.cleanData(vb(this)),
                a && a.replaceChild(b, this)
            }),
            a && (a.length || a.nodeType) ? this : this.remove()
        },
        detach: function(a) {
            return this.remove(a, !0)
        },
        domManip: function(a, b) {
            a = e.apply([], a);
            var c, d, f, g, h, i, j = 0, k = this.length, m = this, o = k - 1, p = a[0], q = n.isFunction(p);
            if (q || k > 1 && "string" == typeof p && !l.checkClone && ob.test(p))
                return this.each(function(c) {
                    var d = m.eq(c);
                    q && (a[0] = p.call(this, c, d.html())),
                    d.domManip(a, b)
                });
            if (k && (i = n.buildFragment(a, this[0].ownerDocument, !1, this),
            c = i.firstChild,
            1 === i.childNodes.length && (i = c),
            c)) {
                for (g = n.map(vb(i, "script"), yb),
                f = g.length; k > j; j++)
                    d = i,
                    j !== o && (d = n.clone(d, !0, !0),
                    f && n.merge(g, vb(d, "script"))),
                    b.call(this[j], d, j);
                if (f)
                    for (h = g[g.length - 1].ownerDocument,
                    n.map(g, zb),
                    j = 0; f > j; j++)
                        d = g[j],
                        pb.test(d.type || "") && !n._data(d, "globalEval") && n.contains(h, d) && (d.src ? n._evalUrl && n._evalUrl(d.src) : n.globalEval((d.text || d.textContent || d.innerHTML || "").replace(rb, "")));
                i = c = null
            }
            return this
        }
    }),
    n.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        n.fn[a] = function(a) {
            for (var c, d = 0, e = [], g = n(a), h = g.length - 1; h >= d; d++)
                c = d === h ? this : this.clone(!0),
                n(g[d])[b](c),
                f.apply(e, c.get());
            return this.pushStack(e)
        }
    });
    var Db, Eb = {};
    function Fb(b, c) {
        var d = n(c.createElement(b)).appendTo(c.body)
          , e = a.getDefaultComputedStyle ? a.getDefaultComputedStyle(d[0]).display : n.css(d[0], "display");
        return d.detach(),
        e
    }
    function Gb(a) {
        var b = z
          , c = Eb[a];
        return c || (c = Fb(a, b),
        "none" !== c && c || (Db = (Db || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),
        b = (Db[0].contentWindow || Db[0].contentDocument).document,
        b.write(),
        b.close(),
        c = Fb(a, b),
        Db.detach()),
        Eb[a] = c),
        c
    }
    !function() {
        var a, b, c = z.createElement("div"), d = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";
        c.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
        a = c.getElementsByTagName("a")[0],
        a.style.cssText = "float:left;opacity:.5",
        l.opacity = /^0.5/.test(a.style.opacity),
        l.cssFloat = !!a.style.cssFloat,
        c.style.backgroundClip = "content-box",
        c.cloneNode(!0).style.backgroundClip = "",
        l.clearCloneStyle = "content-box" === c.style.backgroundClip,
        a = c = null,
        l.shrinkWrapBlocks = function() {
            var a, c, e, f;
            if (null == b) {
                if (a = z.getElementsByTagName("body")[0],
                !a)
                    return;
                f = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px",
                c = z.createElement("div"),
                e = z.createElement("div"),
                a.appendChild(c).appendChild(e),
                b = !1,
                typeof e.style.zoom !== L && (e.style.cssText = d + ";width:1px;padding:1px;zoom:1",
                e.innerHTML = "<div></div>",
                e.firstChild.style.width = "5px",
                b = 3 !== e.offsetWidth),
                a.removeChild(c),
                a = c = e = null
            }
            return b
        }
    }();
    var Hb = /^margin/, Ib = new RegExp("^(" + T + ")(?!px)[a-z%]+$","i"), Jb, Kb, Lb = /^(top|right|bottom|left)$/;
    a.getComputedStyle ? (Jb = function(a) {
        return a.ownerDocument.defaultView.getComputedStyle(a, null)
    }
    ,
    Kb = function(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || Jb(a),
        g = c ? c.getPropertyValue(b) || c[b] : void 0,
        c && ("" !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)),
        Ib.test(g) && Hb.test(b) && (d = h.width,
        e = h.minWidth,
        f = h.maxWidth,
        h.minWidth = h.maxWidth = h.width = g,
        g = c.width,
        h.width = d,
        h.minWidth = e,
        h.maxWidth = f)),
        void 0 === g ? g : g + ""
    }
    ) : z.documentElement.currentStyle && (Jb = function(a) {
        return a.currentStyle
    }
    ,
    Kb = function(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || Jb(a),
        g = c ? c[b] : void 0,
        null == g && h && h[b] && (g = h[b]),
        Ib.test(g) && !Lb.test(b) && (d = h.left,
        e = a.runtimeStyle,
        f = e && e.left,
        f && (e.left = a.currentStyle.left),
        h.left = "fontSize" === b ? "1em" : g,
        g = h.pixelLeft + "px",
        h.left = d,
        f && (e.left = f)),
        void 0 === g ? g : g + "" || "auto"
    }
    );
    function Mb(a, b) {
        return {
            get: function() {
                var c = a();
                if (null != c)
                    return c ? void delete this.get : (this.get = b).apply(this, arguments)
            }
        }
    }
    !function() {
        var b, c, d, e, f, g, h = z.createElement("div"), i = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px", j = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";
        h.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
        b = h.getElementsByTagName("a")[0],
        b.style.cssText = "float:left;opacity:.5",
        l.opacity = /^0.5/.test(b.style.opacity),
        l.cssFloat = !!b.style.cssFloat,
        h.style.backgroundClip = "content-box",
        h.cloneNode(!0).style.backgroundClip = "",
        l.clearCloneStyle = "content-box" === h.style.backgroundClip,
        b = h = null,
        n.extend(l, {
            reliableHiddenOffsets: function() {
                if (null != c)
                    return c;
                var a, b, d, e = z.createElement("div"), f = z.getElementsByTagName("body")[0];
                if (f)
                    return e.setAttribute("className", "t"),
                    e.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
                    a = z.createElement("div"),
                    a.style.cssText = i,
                    f.appendChild(a).appendChild(e),
                    e.innerHTML = "<table><tr><td></td><td>t</td></tr></table>",
                    b = e.getElementsByTagName("td"),
                    b[0].style.cssText = "padding:0;margin:0;border:0;display:none",
                    d = 0 === b[0].offsetHeight,
                    b[0].style.display = "",
                    b[1].style.display = "none",
                    c = d && 0 === b[0].offsetHeight,
                    f.removeChild(a),
                    e = f = null,
                    c
            },
            boxSizing: function() {
                return null == d && k(),
                d
            },
            boxSizingReliable: function() {
                return null == e && k(),
                e
            },
            pixelPosition: function() {
                return null == f && k(),
                f
            },
            reliableMarginRight: function() {
                var b, c, d, e;
                if (null == g && a.getComputedStyle) {
                    if (b = z.getElementsByTagName("body")[0],
                    !b)
                        return;
                    c = z.createElement("div"),
                    d = z.createElement("div"),
                    c.style.cssText = i,
                    b.appendChild(c).appendChild(d),
                    e = d.appendChild(z.createElement("div")),
                    e.style.cssText = d.style.cssText = j,
                    e.style.marginRight = e.style.width = "0",
                    d.style.width = "1px",
                    g = !parseFloat((a.getComputedStyle(e, null) || {}).marginRight),
                    b.removeChild(c)
                }
                return g
            }
        });
        function k() {
            var b, c, h = z.getElementsByTagName("body")[0];
            h && (b = z.createElement("div"),
            c = z.createElement("div"),
            b.style.cssText = i,
            h.appendChild(b).appendChild(c),
            c.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",
            n.swap(h, null != h.style.zoom ? {
                zoom: 1
            } : {}, function() {
                d = 4 === c.offsetWidth
            }),
            e = !0,
            f = !1,
            g = !0,
            a.getComputedStyle && (f = "1%" !== (a.getComputedStyle(c, null) || {}).top,
            e = "4px" === (a.getComputedStyle(c, null) || {
                width: "4px"
            }).width),
            h.removeChild(b),
            c = h = null)
        }
    }(),
    n.swap = function(a, b, c, d) {
        var e, f, g = {};
        for (f in b)
            g[f] = a.style[f],
            a.style[f] = b[f];
        e = c.apply(a, d || []);
        for (f in b)
            a.style[f] = g[f];
        return e
    }
    ;
    var Nb = /alpha\([^)]*\)/i
      , Ob = /opacity\s*=\s*([^)]*)/
      , Pb = /^(none|table(?!-c[ea]).+)/
      , Qb = new RegExp("^(" + T + ")(.*)$","i")
      , Rb = new RegExp("^([+-])=(" + T + ")","i")
      , Sb = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }
      , Tb = {
        letterSpacing: 0,
        fontWeight: 400
    }
      , Ub = ["Webkit", "O", "Moz", "ms"];
    function Vb(a, b) {
        if (b in a)
            return b;
        var c = b.charAt(0).toUpperCase() + b.slice(1)
          , d = b
          , e = Ub.length;
        while (e--)
            if (b = Ub[e] + c,
            b in a)
                return b;
        return d
    }
    function Wb(a, b) {
        for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)
            d = a[g],
            d.style && (f[g] = n._data(d, "olddisplay"),
            c = d.style.display,
            b ? (f[g] || "none" !== c || (d.style.display = ""),
            "" === d.style.display && V(d) && (f[g] = n._data(d, "olddisplay", Gb(d.nodeName)))) : f[g] || (e = V(d),
            (c && "none" !== c || !e) && n._data(d, "olddisplay", e ? c : n.css(d, "display"))));
        for (g = 0; h > g; g++)
            d = a[g],
            d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
        return a
    }
    function Xb(a, b, c) {
        var d = Qb.exec(b);
        return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b
    }
    function Yb(a, b, c, d, e) {
        for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2)
            "margin" === c && (g += n.css(a, c + U[f], !0, e)),
            d ? ("content" === c && (g -= n.css(a, "padding" + U[f], !0, e)),
            "margin" !== c && (g -= n.css(a, "border" + U[f] + "Width", !0, e))) : (g += n.css(a, "padding" + U[f], !0, e),
            "padding" !== c && (g += n.css(a, "border" + U[f] + "Width", !0, e)));
        return g
    }
    function Zb(a, b, c) {
        var d = !0
          , e = "width" === b ? a.offsetWidth : a.offsetHeight
          , f = Jb(a)
          , g = l.boxSizing() && "border-box" === n.css(a, "boxSizing", !1, f);
        if (0 >= e || null == e) {
            if (e = Kb(a, b, f),
            (0 > e || null == e) && (e = a.style[b]),
            Ib.test(e))
                return e;
            d = g && (l.boxSizingReliable() || e === a.style[b]),
            e = parseFloat(e) || 0
        }
        return e + Yb(a, b, c || (g ? "border" : "content"), d, f) + "px"
    }
    n.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = Kb(a, "opacity");
                        return "" === c ? "1" : c
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": l.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function(a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e, f, g, h = n.camelCase(b), i = a.style;
                if (b = n.cssProps[h] || (n.cssProps[h] = Vb(i, h)),
                g = n.cssHooks[b] || n.cssHooks[h],
                void 0 === c)
                    return g && "get"in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b];
                if (f = typeof c,
                "string" === f && (e = Rb.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(n.css(a, b)),
                f = "number"),
                null != c && c === c && ("number" !== f || n.cssNumber[h] || (c += "px"),
                l.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"),
                !(g && "set"in g && void 0 === (c = g.set(a, c, d)))))
                    try {
                        i[b] = "",
                        i[b] = c
                    } catch (j) {}
            }
        },
        css: function(a, b, c, d) {
            var e, f, g, h = n.camelCase(b);
            return b = n.cssProps[h] || (n.cssProps[h] = Vb(a.style, h)),
            g = n.cssHooks[b] || n.cssHooks[h],
            g && "get"in g && (f = g.get(a, !0, c)),
            void 0 === f && (f = Kb(a, b, d)),
            "normal" === f && b in Tb && (f = Tb[b]),
            "" === c || c ? (e = parseFloat(f),
            c === !0 || n.isNumeric(e) ? e || 0 : f) : f
        }
    }),
    n.each(["height", "width"], function(a, b) {
        n.cssHooks[b] = {
            get: function(a, c, d) {
                return c ? 0 === a.offsetWidth && Pb.test(n.css(a, "display")) ? n.swap(a, Sb, function() {
                    return Zb(a, b, d)
                }) : Zb(a, b, d) : void 0
            },
            set: function(a, c, d) {
                var e = d && Jb(a);
                return Xb(a, c, d ? Yb(a, b, d, l.boxSizing() && "border-box" === n.css(a, "boxSizing", !1, e), e) : 0)
            }
        }
    }),
    l.opacity || (n.cssHooks.opacity = {
        get: function(a, b) {
            return Ob.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : b ? "1" : ""
        },
        set: function(a, b) {
            var c = a.style
              , d = a.currentStyle
              , e = n.isNumeric(b) ? "alpha(opacity=" + 100 * b + ")" : ""
              , f = d && d.filter || c.filter || "";
            c.zoom = 1,
            (b >= 1 || "" === b) && "" === n.trim(f.replace(Nb, "")) && c.removeAttribute && (c.removeAttribute("filter"),
            "" === b || d && !d.filter) || (c.filter = Nb.test(f) ? f.replace(Nb, e) : f + " " + e)
        }
    }),
    n.cssHooks.marginRight = Mb(l.reliableMarginRight, function(a, b) {
        return b ? n.swap(a, {
            display: "inline-block"
        }, Kb, [a, "marginRight"]) : void 0
    }),
    n.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        n.cssHooks[a + b] = {
            expand: function(c) {
                for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++)
                    e[a + U[d] + b] = f[d] || f[d - 2] || f[0];
                return e
            }
        },
        Hb.test(a) || (n.cssHooks[a + b].set = Xb)
    }),
    n.fn.extend({
        css: function(a, b) {
            return W(this, function(a, b, c) {
                var d, e, f = {}, g = 0;
                if (n.isArray(b)) {
                    for (d = Jb(a),
                    e = b.length; e > g; g++)
                        f[b[g]] = n.css(a, b[g], !1, d);
                    return f
                }
                return void 0 !== c ? n.style(a, b, c) : n.css(a, b)
            }, a, b, arguments.length > 1)
        },
        show: function() {
            return Wb(this, !0)
        },
        hide: function() {
            return Wb(this)
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                V(this) ? n(this).show() : n(this).hide()
            })
        }
    });
    function $b(a, b, c, d, e) {
        return new $b.prototype.init(a,b,c,d,e)
    }
    n.Tween = $b,
    $b.prototype = {
        constructor: $b,
        init: function(a, b, c, d, e, f) {
            this.elem = a,
            this.prop = c,
            this.easing = e || "swing",
            this.options = b,
            this.start = this.now = this.cur(),
            this.end = d,
            this.unit = f || (n.cssNumber[c] ? "" : "px")
        },
        cur: function() {
            var a = $b.propHooks[this.prop];
            return a && a.get ? a.get(this) : $b.propHooks._default.get(this)
        },
        run: function(a) {
            var b, c = $b.propHooks[this.prop];
            return this.pos = b = this.options.duration ? n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a,
            this.now = (this.end - this.start) * b + this.start,
            this.options.step && this.options.step.call(this.elem, this.now, this),
            c && c.set ? c.set(this) : $b.propHooks._default.set(this),
            this
        }
    },
    $b.prototype.init.prototype = $b.prototype,
    $b.propHooks = {
        _default: {
            get: function(a) {
                var b;
                return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = n.css(a.elem, a.prop, ""),
                b && "auto" !== b ? b : 0) : a.elem[a.prop]
            },
            set: function(a) {
                n.fx.step[a.prop] ? n.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[n.cssProps[a.prop]] || n.cssHooks[a.prop]) ? n.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
            }
        }
    },
    $b.propHooks.scrollTop = $b.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    },
    n.easing = {
        linear: function(a) {
            return a
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2
        }
    },
    n.fx = $b.prototype.init,
    n.fx.step = {};
    var _b, ac, bc = /^(?:toggle|show|hide)$/, cc = new RegExp("^(?:([+-])=|)(" + T + ")([a-z%]*)$","i"), dc = /queueHooks$/, ec = [jc], fc = {
        "*": [function(a, b) {
            var c = this.createTween(a, b)
              , d = c.cur()
              , e = cc.exec(b)
              , f = e && e[3] || (n.cssNumber[a] ? "" : "px")
              , g = (n.cssNumber[a] || "px" !== f && +d) && cc.exec(n.css(c.elem, a))
              , h = 1
              , i = 20;
            if (g && g[3] !== f) {
                f = f || g[3],
                e = e || [],
                g = +d || 1;
                do
                    h = h || ".5",
                    g /= h,
                    n.style(c.elem, a, g + f);
                while (h !== (h = c.cur() / d) && 1 !== h && --i)
            }
            return e && (g = c.start = +g || +d || 0,
            c.unit = f,
            c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]),
            c
        }
        ]
    };
    function gc() {
        return setTimeout(function() {
            _b = void 0
        }),
        _b = n.now()
    }
    function hc(a, b) {
        var c, d = {
            height: a
        }, e = 0;
        for (b = b ? 1 : 0; 4 > e; e += 2 - b)
            c = U[e],
            d["margin" + c] = d["padding" + c] = a;
        return b && (d.opacity = d.width = a),
        d
    }
    function ic(a, b, c) {
        for (var d, e = (fc[b] || []).concat(fc["*"]), f = 0, g = e.length; g > f; f++)
            if (d = e[f].call(c, b, a))
                return d
    }
    function jc(a, b, c) {
        var d, e, f, g, h, i, j, k, m = this, o = {}, p = a.style, q = a.nodeType && V(a), r = n._data(a, "fxshow");
        c.queue || (h = n._queueHooks(a, "fx"),
        null == h.unqueued && (h.unqueued = 0,
        i = h.empty.fire,
        h.empty.fire = function() {
            h.unqueued || i()
        }
        ),
        h.unqueued++,
        m.always(function() {
            m.always(function() {
                h.unqueued--,
                n.queue(a, "fx").length || h.empty.fire()
            })
        })),
        1 === a.nodeType && ("height"in b || "width"in b) && (c.overflow = [p.overflow, p.overflowX, p.overflowY],
        j = n.css(a, "display"),
        k = Gb(a.nodeName),
        "none" === j && (j = k),
        "inline" === j && "none" === n.css(a, "float") && (l.inlineBlockNeedsLayout && "inline" !== k ? p.zoom = 1 : p.display = "inline-block")),
        c.overflow && (p.overflow = "hidden",
        l.shrinkWrapBlocks() || m.always(function() {
            p.overflow = c.overflow[0],
            p.overflowX = c.overflow[1],
            p.overflowY = c.overflow[2]
        }));
        for (d in b)
            if (e = b[d],
            bc.exec(e)) {
                if (delete b[d],
                f = f || "toggle" === e,
                e === (q ? "hide" : "show")) {
                    if ("show" !== e || !r || void 0 === r[d])
                        continue;
                    q = !0
                }
                o[d] = r && r[d] || n.style(a, d)
            }
        if (!n.isEmptyObject(o)) {
            r ? "hidden"in r && (q = r.hidden) : r = n._data(a, "fxshow", {}),
            f && (r.hidden = !q),
            q ? n(a).show() : m.done(function() {
                n(a).hide()
            }),
            m.done(function() {
                var b;
                n._removeData(a, "fxshow");
                for (b in o)
                    n.style(a, b, o[b])
            });
            for (d in o)
                g = ic(q ? r[d] : 0, d, m),
                d in r || (r[d] = g.start,
                q && (g.end = g.start,
                g.start = "width" === d || "height" === d ? 1 : 0))
        }
    }
    function kc(a, b) {
        var c, d, e, f, g;
        for (c in a)
            if (d = n.camelCase(c),
            e = b[d],
            f = a[c],
            n.isArray(f) && (e = f[1],
            f = a[c] = f[0]),
            c !== d && (a[d] = f,
            delete a[c]),
            g = n.cssHooks[d],
            g && "expand"in g) {
                f = g.expand(f),
                delete a[d];
                for (c in f)
                    c in a || (a[c] = f[c],
                    b[c] = e)
            } else
                b[d] = e
    }
    function lc(a, b, c) {
        var d, e, f = 0, g = ec.length, h = n.Deferred().always(function() {
            delete i.elem
        }), i = function() {
            if (e)
                return !1;
            for (var b = _b || gc(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++)
                j.tweens[g].run(f);
            return h.notifyWith(a, [j, f, c]),
            1 > f && i ? c : (h.resolveWith(a, [j]),
            !1)
        }, j = h.promise({
            elem: a,
            props: n.extend({}, b),
            opts: n.extend(!0, {
                specialEasing: {}
            }, c),
            originalProperties: b,
            originalOptions: c,
            startTime: _b || gc(),
            duration: c.duration,
            tweens: [],
            createTween: function(b, c) {
                var d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                return j.tweens.push(d),
                d
            },
            stop: function(b) {
                var c = 0
                  , d = b ? j.tweens.length : 0;
                if (e)
                    return this;
                for (e = !0; d > c; c++)
                    j.tweens[c].run(1);
                return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]),
                this
            }
        }), k = j.props;
        for (kc(k, j.opts.specialEasing); g > f; f++)
            if (d = ec[f].call(j, a, k, j.opts))
                return d;
        return n.map(k, ic, j),
        n.isFunction(j.opts.start) && j.opts.start.call(a, j),
        n.fx.timer(n.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })),
        j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
    }
    n.Animation = n.extend(lc, {
        tweener: function(a, b) {
            n.isFunction(a) ? (b = a,
            a = ["*"]) : a = a.split(" ");
            for (var c, d = 0, e = a.length; e > d; d++)
                c = a[d],
                fc[c] = fc[c] || [],
                fc[c].unshift(b)
        },
        prefilter: function(a, b) {
            b ? ec.unshift(a) : ec.push(a)
        }
    }),
    n.speed = function(a, b, c) {
        var d = a && "object" == typeof a ? n.extend({}, a) : {
            complete: c || !c && b || n.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !n.isFunction(b) && b
        };
        return d.duration = n.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default,
        (null == d.queue || d.queue === !0) && (d.queue = "fx"),
        d.old = d.complete,
        d.complete = function() {
            n.isFunction(d.old) && d.old.call(this),
            d.queue && n.dequeue(this, d.queue)
        }
        ,
        d
    }
    ,
    n.fn.extend({
        fadeTo: function(a, b, c, d) {
            return this.filter(V).css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d)
        },
        animate: function(a, b, c, d) {
            var e = n.isEmptyObject(a)
              , f = n.speed(b, c, d)
              , g = function() {
                var b = lc(this, n.extend({}, a), f);
                (e || n._data(this, "finish")) && b.stop(!0)
            };
            return g.finish = g,
            e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
        },
        stop: function(a, b, c) {
            var d = function(a) {
                var b = a.stop;
                delete a.stop,
                b(c)
            };
            return "string" != typeof a && (c = b,
            b = a,
            a = void 0),
            b && a !== !1 && this.queue(a || "fx", []),
            this.each(function() {
                var b = !0
                  , e = null != a && a + "queueHooks"
                  , f = n.timers
                  , g = n._data(this);
                if (e)
                    g[e] && g[e].stop && d(g[e]);
                else
                    for (e in g)
                        g[e] && g[e].stop && dc.test(e) && d(g[e]);
                for (e = f.length; e--; )
                    f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c),
                    b = !1,
                    f.splice(e, 1));
                (b || !c) && n.dequeue(this, a)
            })
        },
        finish: function(a) {
            return a !== !1 && (a = a || "fx"),
            this.each(function() {
                var b, c = n._data(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = n.timers, g = d ? d.length : 0;
                for (c.finish = !0,
                n.queue(this, a, []),
                e && e.stop && e.stop.call(this, !0),
                b = f.length; b--; )
                    f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0),
                    f.splice(b, 1));
                for (b = 0; g > b; b++)
                    d[b] && d[b].finish && d[b].finish.call(this);
                delete c.finish
            })
        }
    }),
    n.each(["toggle", "show", "hide"], function(a, b) {
        var c = n.fn[b];
        n.fn[b] = function(a, d, e) {
            return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(hc(b, !0), a, d, e)
        }
    }),
    n.each({
        slideDown: hc("show"),
        slideUp: hc("hide"),
        slideToggle: hc("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, b) {
        n.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d)
        }
    }),
    n.timers = [],
    n.fx.tick = function() {
        var a, b = n.timers, c = 0;
        for (_b = n.now(); c < b.length; c++)
            a = b[c],
            a() || b[c] !== a || b.splice(c--, 1);
        b.length || n.fx.stop(),
        _b = void 0
    }
    ,
    n.fx.timer = function(a) {
        n.timers.push(a),
        a() ? n.fx.start() : n.timers.pop()
    }
    ,
    n.fx.interval = 13,
    n.fx.start = function() {
        ac || (ac = setInterval(n.fx.tick, n.fx.interval))
    }
    ,
    n.fx.stop = function() {
        clearInterval(ac),
        ac = null
    }
    ,
    n.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    n.fn.delay = function(a, b) {
        return a = n.fx ? n.fx.speeds[a] || a : a,
        b = b || "fx",
        this.queue(b, function(b, c) {
            var d = setTimeout(b, a);
            c.stop = function() {
                clearTimeout(d)
            }
        })
    }
    ,
    function() {
        var a, b, c, d, e = z.createElement("div");
        e.setAttribute("className", "t"),
        e.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
        a = e.getElementsByTagName("a")[0],
        c = z.createElement("select"),
        d = c.appendChild(z.createElement("option")),
        b = e.getElementsByTagName("input")[0],
        a.style.cssText = "top:1px",
        l.getSetAttribute = "t" !== e.className,
        l.style = /top/.test(a.getAttribute("style")),
        l.hrefNormalized = "/a" === a.getAttribute("href"),
        l.checkOn = !!b.value,
        l.optSelected = d.selected,
        l.enctype = !!z.createElement("form").enctype,
        c.disabled = !0,
        l.optDisabled = !d.disabled,
        b = z.createElement("input"),
        b.setAttribute("value", ""),
        l.input = "" === b.getAttribute("value"),
        b.value = "t",
        b.setAttribute("type", "radio"),
        l.radioValue = "t" === b.value,
        a = b = c = d = e = null
    }();
    var mc = /\r/g;
    n.fn.extend({
        val: function(a) {
            var b, c, d, e = this[0];
            {
                if (arguments.length)
                    return d = n.isFunction(a),
                    this.each(function(c) {
                        var e;
                        1 === this.nodeType && (e = d ? a.call(this, c, n(this).val()) : a,
                        null == e ? e = "" : "number" == typeof e ? e += "" : n.isArray(e) && (e = n.map(e, function(a) {
                            return null == a ? "" : a + ""
                        })),
                        b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()],
                        b && "set"in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                    });
                if (e)
                    return b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()],
                    b && "get"in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value,
                    "string" == typeof c ? c.replace(mc, "") : null == c ? "" : c)
            }
        }
    }),
    n.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = n.find.attr(a, "value");
                    return null != b ? b : n.text(a)
                }
            },
            select: {
                get: function(a) {
                    for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)
                        if (c = d[i],
                        !(!c.selected && i !== e || (l.optDisabled ? c.disabled : null !== c.getAttribute("disabled")) || c.parentNode.disabled && n.nodeName(c.parentNode, "optgroup"))) {
                            if (b = n(c).val(),
                            f)
                                return b;
                            g.push(b)
                        }
                    return g
                },
                set: function(a, b) {
                    var c, d, e = a.options, f = n.makeArray(b), g = e.length;
                    while (g--)
                        if (d = e[g],
                        n.inArray(n.valHooks.option.get(d), f) >= 0)
                            try {
                                d.selected = c = !0
                            } catch (h) {
                                d.scrollHeight
                            }
                        else
                            d.selected = !1;
                    return c || (a.selectedIndex = -1),
                    e
                }
            }
        }
    }),
    n.each(["radio", "checkbox"], function() {
        n.valHooks[this] = {
            set: function(a, b) {
                return n.isArray(b) ? a.checked = n.inArray(n(a).val(), b) >= 0 : void 0
            }
        },
        l.checkOn || (n.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on" : a.value
        }
        )
    });
    var nc, oc, pc = n.expr.attrHandle, qc = /^(?:checked|selected)$/i, rc = l.getSetAttribute, sc = l.input;
    n.fn.extend({
        attr: function(a, b) {
            return W(this, n.attr, a, b, arguments.length > 1)
        },
        removeAttr: function(a) {
            return this.each(function() {
                n.removeAttr(this, a)
            })
        }
    }),
    n.extend({
        attr: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (a && 3 !== f && 8 !== f && 2 !== f)
                return typeof a.getAttribute === L ? n.prop(a, b, c) : (1 === f && n.isXMLDoc(a) || (b = b.toLowerCase(),
                d = n.attrHooks[b] || (n.expr.match.bool.test(b) ? oc : nc)),
                void 0 === c ? d && "get"in d && null !== (e = d.get(a, b)) ? e : (e = n.find.attr(a, b),
                null == e ? void 0 : e) : null !== c ? d && "set"in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""),
                c) : void n.removeAttr(a, b))
        },
        removeAttr: function(a, b) {
            var c, d, e = 0, f = b && b.match(F);
            if (f && 1 === a.nodeType)
                while (c = f[e++])
                    d = n.propFix[c] || c,
                    n.expr.match.bool.test(c) ? sc && rc || !qc.test(c) ? a[d] = !1 : a[n.camelCase("default-" + c)] = a[d] = !1 : n.attr(a, c, ""),
                    a.removeAttribute(rc ? c : d)
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!l.radioValue && "radio" === b && n.nodeName(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b),
                        c && (a.value = c),
                        b
                    }
                }
            }
        }
    }),
    oc = {
        set: function(a, b, c) {
            return b === !1 ? n.removeAttr(a, c) : sc && rc || !qc.test(c) ? a.setAttribute(!rc && n.propFix[c] || c, c) : a[n.camelCase("default-" + c)] = a[c] = !0,
            c
        }
    },
    n.each(n.expr.match.bool.source.match(/\w+/g), function(a, b) {
        var c = pc[b] || n.find.attr;
        pc[b] = sc && rc || !qc.test(b) ? function(a, b, d) {
            var e, f;
            return d || (f = pc[b],
            pc[b] = e,
            e = null != c(a, b, d) ? b.toLowerCase() : null,
            pc[b] = f),
            e
        }
        : function(a, b, c) {
            return c ? void 0 : a[n.camelCase("default-" + b)] ? b.toLowerCase() : null
        }
    }),
    sc && rc || (n.attrHooks.value = {
        set: function(a, b, c) {
            return n.nodeName(a, "input") ? void (a.defaultValue = b) : nc && nc.set(a, b, c)
        }
    }),
    rc || (nc = {
        set: function(a, b, c) {
            var d = a.getAttributeNode(c);
            return d || a.setAttributeNode(d = a.ownerDocument.createAttribute(c)),
            d.value = b += "",
            "value" === c || b === a.getAttribute(c) ? b : void 0
        }
    },
    pc.id = pc.name = pc.coords = function(a, b, c) {
        var d;
        return c ? void 0 : (d = a.getAttributeNode(b)) && "" !== d.value ? d.value : null
    }
    ,
    n.valHooks.button = {
        get: function(a, b) {
            var c = a.getAttributeNode(b);
            return c && c.specified ? c.value : void 0
        },
        set: nc.set
    },
    n.attrHooks.contenteditable = {
        set: function(a, b, c) {
            nc.set(a, "" === b ? !1 : b, c)
        }
    },
    n.each(["width", "height"], function(a, b) {
        n.attrHooks[b] = {
            set: function(a, c) {
                return "" === c ? (a.setAttribute(b, "auto"),
                c) : void 0
            }
        }
    })),
    l.style || (n.attrHooks.style = {
        get: function(a) {
            return a.style.cssText || void 0
        },
        set: function(a, b) {
            return a.style.cssText = b + ""
        }
    });
    var tc = /^(?:input|select|textarea|button|object)$/i
      , uc = /^(?:a|area)$/i;
    n.fn.extend({
        prop: function(a, b) {
            return W(this, n.prop, a, b, arguments.length > 1)
        },
        removeProp: function(a) {
            return a = n.propFix[a] || a,
            this.each(function() {
                try {
                    this[a] = void 0,
                    delete this[a]
                } catch (b) {}
            })
        }
    }),
    n.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(a, b, c) {
            var d, e, f, g = a.nodeType;
            if (a && 3 !== g && 8 !== g && 2 !== g)
                return f = 1 !== g || !n.isXMLDoc(a),
                f && (b = n.propFix[b] || b,
                e = n.propHooks[b]),
                void 0 !== c ? e && "set"in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get"in e && null !== (d = e.get(a, b)) ? d : a[b]
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    var b = n.find.attr(a, "tabindex");
                    return b ? parseInt(b, 10) : tc.test(a.nodeName) || uc.test(a.nodeName) && a.href ? 0 : -1
                }
            }
        }
    }),
    l.hrefNormalized || n.each(["href", "src"], function(a, b) {
        n.propHooks[b] = {
            get: function(a) {
                return a.getAttribute(b, 4)
            }
        }
    }),
    l.optSelected || (n.propHooks.selected = {
        get: function(a) {
            var b = a.parentNode;
            return b && (b.selectedIndex,
            b.parentNode && b.parentNode.selectedIndex),
            null
        }
    }),
    n.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        n.propFix[this.toLowerCase()] = this
    }),
    l.enctype || (n.propFix.enctype = "encoding");
    var vc = /[\t\r\n\f]/g;
    n.fn.extend({
        addClass: function(a) {
            var b, c, d, e, f, g, h = 0, i = this.length, j = "string" == typeof a && a;
            if (n.isFunction(a))
                return this.each(function(b) {
                    n(this).addClass(a.call(this, b, this.className))
                });
            if (j)
                for (b = (a || "").match(F) || []; i > h; h++)
                    if (c = this[h],
                    d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(vc, " ") : " ")) {
                        f = 0;
                        while (e = b[f++])
                            d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                        g = n.trim(d),
                        c.className !== g && (c.className = g)
                    }
            return this
        },
        removeClass: function(a) {
            var b, c, d, e, f, g, h = 0, i = this.length, j = 0 === arguments.length || "string" == typeof a && a;
            if (n.isFunction(a))
                return this.each(function(b) {
                    n(this).removeClass(a.call(this, b, this.className))
                });
            if (j)
                for (b = (a || "").match(F) || []; i > h; h++)
                    if (c = this[h],
                    d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(vc, " ") : "")) {
                        f = 0;
                        while (e = b[f++])
                            while (d.indexOf(" " + e + " ") >= 0)
                                d = d.replace(" " + e + " ", " ");
                        g = a ? n.trim(d) : "",
                        c.className !== g && (c.className = g)
                    }
            return this
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(n.isFunction(a) ? function(c) {
                n(this).toggleClass(a.call(this, c, this.className, b), b)
            }
            : function() {
                if ("string" === c) {
                    var b, d = 0, e = n(this), f = a.match(F) || [];
                    while (b = f[d++])
                        e.hasClass(b) ? e.removeClass(b) : e.addClass(b)
                } else
                    (c === L || "boolean" === c) && (this.className && n._data(this, "__className__", this.className),
                    this.className = this.className || a === !1 ? "" : n._data(this, "__className__") || "")
            }
            )
        },
        hasClass: function(a) {
            for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++)
                if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(vc, " ").indexOf(b) >= 0)
                    return !0;
            return !1
        }
    }),
    n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
        n.fn[b] = function(a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
        }
    }),
    n.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        },
        bind: function(a, b, c) {
            return this.on(a, null, b, c)
        },
        unbind: function(a, b) {
            return this.off(a, null, b)
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d)
        },
        undelegate: function(a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
        }
    });
    var wc = n.now()
      , xc = /\?/
      , yc = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
    n.parseJSON = function(b) {
        if (a.JSON && a.JSON.parse)
            return a.JSON.parse(b + "");
        var c, d = null, e = n.trim(b + "");
        return e && !n.trim(e.replace(yc, function(a, b, e, f) {
            return c && b && (d = 0),
            0 === d ? a : (c = e || b,
            d += !f - !e,
            "")
        })) ? Function("return " + e)() : n.error("Invalid JSON: " + b)
    }
    ,
    n.parseXML = function(b) {
        var c, d;
        if (!b || "string" != typeof b)
            return null;
        try {
            a.DOMParser ? (d = new DOMParser,
            c = d.parseFromString(b, "text/xml")) : (c = new ActiveXObject("Microsoft.XMLDOM"),
            c.async = "false",
            c.loadXML(b))
        } catch (e) {
            c = void 0
        }
        return c && c.documentElement && !c.getElementsByTagName("parsererror").length || n.error("Invalid XML: " + b),
        c
    }
    ;
    var zc, Ac, Bc = /#.*$/, Cc = /([?&])_=[^&]*/, Dc = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm, Ec = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Fc = /^(?:GET|HEAD)$/, Gc = /^\/\//, Hc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, Ic = {}, Jc = {}, Kc = "*/".concat("*");
    try {
        Ac = location.href
    } catch (Lc) {
        Ac = z.createElement("a"),
        Ac.href = "",
        Ac = Ac.href
    }
    zc = Hc.exec(Ac.toLowerCase()) || [];
    function Mc(a) {
        return function(b, c) {
            "string" != typeof b && (c = b,
            b = "*");
            var d, e = 0, f = b.toLowerCase().match(F) || [];
            if (n.isFunction(c))
                while (d = f[e++])
                    "+" === d.charAt(0) ? (d = d.slice(1) || "*",
                    (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
        }
    }
    function Nc(a, b, c, d) {
        var e = {}
          , f = a === Jc;
        function g(h) {
            var i;
            return e[h] = !0,
            n.each(a[h] || [], function(a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j),
                g(j),
                !1)
            }),
            i
        }
        return g(b.dataTypes[0]) || !e["*"] && g("*")
    }
    function Oc(a, b) {
        var c, d, e = n.ajaxSettings.flatOptions || {};
        for (d in b)
            void 0 !== b[d] && ((e[d] ? a : c || (c = {}))[d] = b[d]);
        return c && n.extend(!0, a, c),
        a
    }
    function Pc(a, b, c) {
        var d, e, f, g, h = a.contents, i = a.dataTypes;
        while ("*" === i[0])
            i.shift(),
            void 0 === e && (e = a.mimeType || b.getResponseHeader("Content-Type"));
        if (e)
            for (g in h)
                if (h[g] && h[g].test(e)) {
                    i.unshift(g);
                    break
                }
        if (i[0]in c)
            f = i[0];
        else {
            for (g in c) {
                if (!i[0] || a.converters[g + " " + i[0]]) {
                    f = g;
                    break
                }
                d || (d = g)
            }
            f = f || d
        }
        return f ? (f !== i[0] && i.unshift(f),
        c[f]) : void 0
    }
    function Qc(a, b, c, d) {
        var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
        if (k[1])
            for (g in a.converters)
                j[g.toLowerCase()] = a.converters[g];
        f = k.shift();
        while (f)
            if (a.responseFields[f] && (c[a.responseFields[f]] = b),
            !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)),
            i = f,
            f = k.shift())
                if ("*" === f)
                    f = i;
                else if ("*" !== i && i !== f) {
                    if (g = j[i + " " + f] || j["* " + f],
                    !g)
                        for (e in j)
                            if (h = e.split(" "),
                            h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0],
                                k.unshift(h[1]));
                                break
                            }
                    if (g !== !0)
                        if (g && a["throws"])
                            b = g(b);
                        else
                            try {
                                b = g(b)
                            } catch (l) {
                                return {
                                    state: "parsererror",
                                    error: g ? l : "No conversion from " + i + " to " + f
                                }
                            }
                }
        return {
            state: "success",
            data: b
        }
    }
    n.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: Ac,
            type: "GET",
            isLocal: Ec.test(zc[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Kc,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": n.parseJSON,
                "text xml": n.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? Oc(Oc(a, n.ajaxSettings), b) : Oc(n.ajaxSettings, a)
        },
        ajaxPrefilter: Mc(Ic),
        ajaxTransport: Mc(Jc),
        ajax: function(a, b) {
            "object" == typeof a && (b = a,
            a = void 0),
            b = b || {};
            var c, d, e, f, g, h, i, j, k = n.ajaxSetup({}, b), l = k.context || k, m = k.context && (l.nodeType || l.jquery) ? n(l) : n.event, o = n.Deferred(), p = n.Callbacks("once memory"), q = k.statusCode || {}, r = {}, s = {}, t = 0, u = "canceled", v = {
                readyState: 0,
                getResponseHeader: function(a) {
                    var b;
                    if (2 === t) {
                        if (!j) {
                            j = {};
                            while (b = Dc.exec(f))
                                j[b[1].toLowerCase()] = b[2]
                        }
                        b = j[a.toLowerCase()]
                    }
                    return null == b ? null : b
                },
                getAllResponseHeaders: function() {
                    return 2 === t ? f : null
                },
                setRequestHeader: function(a, b) {
                    var c = a.toLowerCase();
                    return t || (a = s[c] = s[c] || a,
                    r[a] = b),
                    this
                },
                overrideMimeType: function(a) {
                    return t || (k.mimeType = a),
                    this
                },
                statusCode: function(a) {
                    var b;
                    if (a)
                        if (2 > t)
                            for (b in a)
                                q[b] = [q[b], a[b]];
                        else
                            v.always(a[v.status]);
                    return this
                },
                abort: function(a) {
                    var b = a || u;
                    return i && i.abort(b),
                    x(0, b),
                    this
                }
            };
            if (o.promise(v).complete = p.add,
            v.success = v.done,
            v.error = v.fail,
            k.url = ((a || k.url || Ac) + "").replace(Bc, "").replace(Gc, zc[1] + "//"),
            k.type = b.method || b.type || k.method || k.type,
            k.dataTypes = n.trim(k.dataType || "*").toLowerCase().match(F) || [""],
            null == k.crossDomain && (c = Hc.exec(k.url.toLowerCase()),
            k.crossDomain = !(!c || c[1] === zc[1] && c[2] === zc[2] && (c[3] || ("http:" === c[1] ? "80" : "443")) === (zc[3] || ("http:" === zc[1] ? "80" : "443")))),
            k.data && k.processData && "string" != typeof k.data && (k.data = n.param(k.data, k.traditional)),
            Nc(Ic, k, b, v),
            2 === t)
                return v;
            h = k.global,
            h && 0 === n.active++ && n.event.trigger("ajaxStart"),
            k.type = k.type.toUpperCase(),
            k.hasContent = !Fc.test(k.type),
            e = k.url,
            k.hasContent || (k.data && (e = k.url += (xc.test(e) ? "&" : "?") + k.data,
            delete k.data),
            k.cache === !1 && (k.url = Cc.test(e) ? e.replace(Cc, "$1_=" + wc++) : e + (xc.test(e) ? "&" : "?") + "_=" + wc++)),
            k.ifModified && (n.lastModified[e] && v.setRequestHeader("If-Modified-Since", n.lastModified[e]),
            n.etag[e] && v.setRequestHeader("If-None-Match", n.etag[e])),
            (k.data && k.hasContent && k.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", k.contentType),
            v.setRequestHeader("Accept", k.dataTypes[0] && k.accepts[k.dataTypes[0]] ? k.accepts[k.dataTypes[0]] + ("*" !== k.dataTypes[0] ? ", " + Kc + "; q=0.01" : "") : k.accepts["*"]);
            for (d in k.headers)
                v.setRequestHeader(d, k.headers[d]);
            if (k.beforeSend && (k.beforeSend.call(l, v, k) === !1 || 2 === t))
                return v.abort();
            u = "abort";
            for (d in {
                success: 1,
                error: 1,
                complete: 1
            })
                v[d](k[d]);
            if (i = Nc(Jc, k, b, v)) {
                v.readyState = 1,
                h && m.trigger("ajaxSend", [v, k]),
                k.async && k.timeout > 0 && (g = setTimeout(function() {
                    v.abort("timeout")
                }, k.timeout));
                try {
                    t = 1,
                    i.send(r, x)
                } catch (w) {
                    if (!(2 > t))
                        throw w;
                    x(-1, w)
                }
            } else
                x(-1, "No Transport");
            function x(a, b, c, d) {
                var j, r, s, u, w, x = b;
                2 !== t && (t = 2,
                g && clearTimeout(g),
                i = void 0,
                f = d || "",
                v.readyState = a > 0 ? 4 : 0,
                j = a >= 200 && 300 > a || 304 === a,
                c && (u = Pc(k, v, c)),
                u = Qc(k, u, v, j),
                j ? (k.ifModified && (w = v.getResponseHeader("Last-Modified"),
                w && (n.lastModified[e] = w),
                w = v.getResponseHeader("etag"),
                w && (n.etag[e] = w)),
                204 === a || "HEAD" === k.type ? x = "nocontent" : 304 === a ? x = "notmodified" : (x = u.state,
                r = u.data,
                s = u.error,
                j = !s)) : (s = x,
                (a || !x) && (x = "error",
                0 > a && (a = 0))),
                v.status = a,
                v.statusText = (b || x) + "",
                j ? o.resolveWith(l, [r, x, v]) : o.rejectWith(l, [v, x, s]),
                v.statusCode(q),
                q = void 0,
                h && m.trigger(j ? "ajaxSuccess" : "ajaxError", [v, k, j ? r : s]),
                p.fireWith(l, [v, x]),
                h && (m.trigger("ajaxComplete", [v, k]),
                --n.active || n.event.trigger("ajaxStop")))
            }
            return v
        },
        getJSON: function(a, b, c) {
            return n.get(a, b, c, "json")
        },
        getScript: function(a, b) {
            return n.get(a, void 0, b, "script")
        }
    }),
    n.each(["get", "post"], function(a, b) {
        n[b] = function(a, c, d, e) {
            return n.isFunction(c) && (e = e || d,
            d = c,
            c = void 0),
            n.ajax({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            })
        }
    }),
    n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(a, b) {
        n.fn[b] = function(a) {
            return this.on(b, a)
        }
    }),
    n._evalUrl = function(a) {
        return n.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    }
    ,
    n.fn.extend({
        wrapAll: function(a) {
            if (n.isFunction(a))
                return this.each(function(b) {
                    n(this).wrapAll(a.call(this, b))
                });
            if (this[0]) {
                var b = n(a, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && b.insertBefore(this[0]),
                b.map(function() {
                    var a = this;
                    while (a.firstChild && 1 === a.firstChild.nodeType)
                        a = a.firstChild;
                    return a
                }).append(this)
            }
            return this
        },
        wrapInner: function(a) {
            return this.each(n.isFunction(a) ? function(b) {
                n(this).wrapInner(a.call(this, b))
            }
            : function() {
                var b = n(this)
                  , c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            }
            )
        },
        wrap: function(a) {
            var b = n.isFunction(a);
            return this.each(function(c) {
                n(this).wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                n.nodeName(this, "body") || n(this).replaceWith(this.childNodes)
            }).end()
        }
    }),
    n.expr.filters.hidden = function(a) {
        return a.offsetWidth <= 0 && a.offsetHeight <= 0 || !l.reliableHiddenOffsets() && "none" === (a.style && a.style.display || n.css(a, "display"))
    }
    ,
    n.expr.filters.visible = function(a) {
        return !n.expr.filters.hidden(a)
    }
    ;
    var Rc = /%20/g
      , Sc = /\[\]$/
      , Tc = /\r?\n/g
      , Uc = /^(?:submit|button|image|reset|file)$/i
      , Vc = /^(?:input|select|textarea|keygen)/i;
    function Wc(a, b, c, d) {
        var e;
        if (n.isArray(b))
            n.each(b, function(b, e) {
                c || Sc.test(a) ? d(a, e) : Wc(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
            });
        else if (c || "object" !== n.type(b))
            d(a, b);
        else
            for (e in b)
                Wc(a + "[" + e + "]", b[e], c, d)
    }
    n.param = function(a, b) {
        var c, d = [], e = function(a, b) {
            b = n.isFunction(b) ? b() : null == b ? "" : b,
            d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
        };
        if (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional),
        n.isArray(a) || a.jquery && !n.isPlainObject(a))
            n.each(a, function() {
                e(this.name, this.value)
            });
        else
            for (c in a)
                Wc(c, a[c], b, e);
        return d.join("&").replace(Rc, "+")
    }
    ,
    n.fn.extend({
        serialize: function() {
            return n.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var a = n.prop(this, "elements");
                return a ? n.makeArray(a) : this
            }).filter(function() {
                var a = this.type;
                return this.name && !n(this).is(":disabled") && Vc.test(this.nodeName) && !Uc.test(a) && (this.checked || !X.test(a))
            }).map(function(a, b) {
                var c = n(this).val();
                return null == c ? null : n.isArray(c) ? n.map(c, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(Tc, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: c.replace(Tc, "\r\n")
                }
            }).get()
        }
    }),
    n.ajaxSettings.xhr = void 0 !== a.ActiveXObject ? function() {
        return !this.isLocal && /^(get|post|head|put|delete|options)$/i.test(this.type) && $c() || _c()
    }
    : $c;
    var Xc = 0
      , Yc = {}
      , Zc = n.ajaxSettings.xhr();
    a.ActiveXObject && n(a).on("unload", function() {
        for (var a in Yc)
            Yc[a](void 0, !0)
    }),
    l.cors = !!Zc && "withCredentials"in Zc,
    Zc = l.ajax = !!Zc,
    Zc && n.ajaxTransport(function(a) {
        if (!a.crossDomain || l.cors) {
            var b;
            return {
                send: function(c, d) {
                    var e, f = a.xhr(), g = ++Xc;
                    if (f.open(a.type, a.url, a.async, a.username, a.password),
                    a.xhrFields)
                        for (e in a.xhrFields)
                            f[e] = a.xhrFields[e];
                    a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType),
                    a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");
                    for (e in c)
                        void 0 !== c[e] && f.setRequestHeader(e, c[e] + "");
                    f.send(a.hasContent && a.data || null),
                    b = function(c, e) {
                        var h, i, j;
                        if (b && (e || 4 === f.readyState))
                            if (delete Yc[g],
                            b = void 0,
                            f.onreadystatechange = n.noop,
                            e)
                                4 !== f.readyState && f.abort();
                            else {
                                j = {},
                                h = f.status,
                                "string" == typeof f.responseText && (j.text = f.responseText);
                                try {
                                    i = f.statusText
                                } catch (k) {
                                    i = ""
                                }
                                h || !a.isLocal || a.crossDomain ? 1223 === h && (h = 204) : h = j.text ? 200 : 404
                            }
                        j && d(h, i, j, f.getAllResponseHeaders())
                    }
                    ,
                    a.async ? 4 === f.readyState ? setTimeout(b) : f.onreadystatechange = Yc[g] = b : b()
                },
                abort: function() {
                    b && b(void 0, !0)
                }
            }
        }
    });
    function $c() {
        try {
            return new a.XMLHttpRequest
        } catch (b) {}
    }
    function _c() {
        try {
            return new a.ActiveXObject("Microsoft.XMLHTTP")
        } catch (b) {}
    }
    n.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(a) {
                return n.globalEval(a),
                a
            }
        }
    }),
    n.ajaxPrefilter("script", function(a) {
        void 0 === a.cache && (a.cache = !1),
        a.crossDomain && (a.type = "GET",
        a.global = !1)
    }),
    n.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var b, c = z.head || n("head")[0] || z.documentElement;
            return {
                send: function(d, e) {
                    b = z.createElement("script"),
                    b.async = !0,
                    a.scriptCharset && (b.charset = a.scriptCharset),
                    b.src = a.url,
                    b.onload = b.onreadystatechange = function(a, c) {
                        (c || !b.readyState || /loaded|complete/.test(b.readyState)) && (b.onload = b.onreadystatechange = null,
                        b.parentNode && b.parentNode.removeChild(b),
                        b = null,
                        c || e(200, "success"))
                    }
                    ,
                    c.insertBefore(b, c.firstChild)
                },
                abort: function() {
                    b && b.onload(void 0, !0)
                }
            }
        }
    });
    var ad = []
      , bd = /(=)\?(?=&|$)|\?\?/;
    n.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = ad.pop() || n.expando + "_" + wc++;
            return this[a] = !0,
            a
        }
    }),
    n.ajaxPrefilter("json jsonp", function(b, c, d) {
        var e, f, g, h = b.jsonp !== !1 && (bd.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && bd.test(b.data) && "data");
        return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback,
        h ? b[h] = b[h].replace(bd, "$1" + e) : b.jsonp !== !1 && (b.url += (xc.test(b.url) ? "&" : "?") + b.jsonp + "=" + e),
        b.converters["script json"] = function() {
            return g || n.error(e + " was not called"),
            g[0]
        }
        ,
        b.dataTypes[0] = "json",
        f = a[e],
        a[e] = function() {
            g = arguments
        }
        ,
        d.always(function() {
            a[e] = f,
            b[e] && (b.jsonpCallback = c.jsonpCallback,
            ad.push(e)),
            g && n.isFunction(f) && f(g[0]),
            g = f = void 0
        }),
        "script") : void 0
    }),
    n.parseHTML = function(a, b, c) {
        if (!a || "string" != typeof a)
            return null;
        "boolean" == typeof b && (c = b,
        b = !1),
        b = b || z;
        var d = v.exec(a)
          , e = !c && [];
        return d ? [b.createElement(d[1])] : (d = n.buildFragment([a], b, e),
        e && e.length && n(e).remove(),
        n.merge([], d.childNodes))
    }
    ;
    var cd = n.fn.load;
    n.fn.load = function(a, b, c) {
        if ("string" != typeof a && cd)
            return cd.apply(this, arguments);
        var d, e, f, g = this, h = a.indexOf(" ");
        return h >= 0 && (d = a.slice(h, a.length),
        a = a.slice(0, h)),
        n.isFunction(b) ? (c = b,
        b = void 0) : b && "object" == typeof b && (f = "POST"),
        g.length > 0 && n.ajax({
            url: a,
            type: f,
            dataType: "html",
            data: b
        }).done(function(a) {
            e = arguments,
            g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a)
        }).complete(c && function(a, b) {
            g.each(c, e || [a.responseText, b, a])
        }
        ),
        this
    }
    ,
    n.expr.filters.animated = function(a) {
        return n.grep(n.timers, function(b) {
            return a === b.elem
        }).length
    }
    ;
    var dd = a.document.documentElement;
    function ed(a) {
        return n.isWindow(a) ? a : 9 === a.nodeType ? a.defaultView || a.parentWindow : !1
    }
    n.offset = {
        setOffset: function(a, b, c) {
            var d, e, f, g, h, i, j, k = n.css(a, "position"), l = n(a), m = {};
            "static" === k && (a.style.position = "relative"),
            h = l.offset(),
            f = n.css(a, "top"),
            i = n.css(a, "left"),
            j = ("absolute" === k || "fixed" === k) && n.inArray("auto", [f, i]) > -1,
            j ? (d = l.position(),
            g = d.top,
            e = d.left) : (g = parseFloat(f) || 0,
            e = parseFloat(i) || 0),
            n.isFunction(b) && (b = b.call(a, c, h)),
            null != b.top && (m.top = b.top - h.top + g),
            null != b.left && (m.left = b.left - h.left + e),
            "using"in b ? b.using.call(a, m) : l.css(m)
        }
    },
    n.fn.extend({
        offset: function(a) {
            if (arguments.length)
                return void 0 === a ? this : this.each(function(b) {
                    n.offset.setOffset(this, a, b)
                });
            var b, c, d = {
                top: 0,
                left: 0
            }, e = this[0], f = e && e.ownerDocument;
            if (f)
                return b = f.documentElement,
                n.contains(b, e) ? (typeof e.getBoundingClientRect !== L && (d = e.getBoundingClientRect()),
                c = ed(f),
                {
                    top: d.top + (c.pageYOffset || b.scrollTop) - (b.clientTop || 0),
                    left: d.left + (c.pageXOffset || b.scrollLeft) - (b.clientLeft || 0)
                }) : d
        },
        position: function() {
            if (this[0]) {
                var a, b, c = {
                    top: 0,
                    left: 0
                }, d = this[0];
                return "fixed" === n.css(d, "position") ? b = d.getBoundingClientRect() : (a = this.offsetParent(),
                b = this.offset(),
                n.nodeName(a[0], "html") || (c = a.offset()),
                c.top += n.css(a[0], "borderTopWidth", !0),
                c.left += n.css(a[0], "borderLeftWidth", !0)),
                {
                    top: b.top - c.top - n.css(d, "marginTop", !0),
                    left: b.left - c.left - n.css(d, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                var a = this.offsetParent || dd;
                while (a && !n.nodeName(a, "html") && "static" === n.css(a, "position"))
                    a = a.offsetParent;
                return a || dd
            })
        }
    }),
    n.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(a, b) {
        var c = /Y/.test(b);
        n.fn[a] = function(d) {
            return W(this, function(a, d, e) {
                var f = ed(a);
                return void 0 === e ? f ? b in f ? f[b] : f.document.documentElement[d] : a[d] : void (f ? f.scrollTo(c ? n(f).scrollLeft() : e, c ? e : n(f).scrollTop()) : a[d] = e)
            }, a, d, arguments.length, null)
        }
    }),
    n.each(["top", "left"], function(a, b) {
        n.cssHooks[b] = Mb(l.pixelPosition, function(a, c) {
            return c ? (c = Kb(a, b),
            Ib.test(c) ? n(a).position()[b] + "px" : c) : void 0
        })
    }),
    n.each({
        Height: "height",
        Width: "width"
    }, function(a, b) {
        n.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function(c, d) {
            n.fn[d] = function(d, e) {
                var f = arguments.length && (c || "boolean" != typeof d)
                  , g = c || (d === !0 || e === !0 ? "margin" : "border");
                return W(this, function(b, c, d) {
                    var e;
                    return n.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement,
                    Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? n.css(b, c, g) : n.style(b, c, d, g)
                }, b, f ? d : void 0, f, null)
            }
        })
    }),
    n.fn.size = function() {
        return this.length
    }
    ,
    n.fn.andSelf = n.fn.addBack,
    "function" == typeof define && define.amd && define("jquery", [], function() {
        return n
    });
    var fd = a.jQuery
      , gd = a.$;
    return n.noConflict = function(b) {
        return a.$ === n && (a.$ = gd),
        b && a.jQuery === n && (a.jQuery = fd),
        n
    }
    ,
    typeof b === L && (a.jQuery = a.$ = n),
    n
});
(function(factory) {
    if (typeof define === "function" && define.amd) {
        define(["jquery"], factory);
    } else {
        factory(jQuery);
    }
}(function($) {
    $.ui = $.ui || {};
    $.extend($.ui, {
        version: "1.11.0",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    });
    $.fn.extend({
        scrollParent: function() {
            var position = this.css("position")
              , excludeStaticParent = position === "absolute"
              , scrollParent = this.parents().filter(function() {
                var parent = $(this);
                if (excludeStaticParent && parent.css("position") === "static") {
                    return false;
                }
                return (/(auto|scroll)/).test(parent.css("overflow") + parent.css("overflow-y") + parent.css("overflow-x"));
            }).eq(0);
            return position === "fixed" || !scrollParent.length ? $(this[0].ownerDocument || document) : scrollParent;
        },
        uniqueId: (function() {
            var uuid = 0;
            return function() {
                return this.each(function() {
                    if (!this.id) {
                        this.id = "ui-id-" + (++uuid);
                    }
                });
            }
            ;
        }
        )(),
        removeUniqueId: function() {
            return this.each(function() {
                if (/^ui-id-\d+$/.test(this.id)) {
                    $(this).removeAttr("id");
                }
            });
        }
    });
    function focusable(element, isTabIndexNotNaN) {
        var map, mapName, img, nodeName = element.nodeName.toLowerCase();
        if ("area" === nodeName) {
            map = element.parentNode;
            mapName = map.name;
            if (!element.href || !mapName || map.nodeName.toLowerCase() !== "map") {
                return false;
            }
            img = $("img[usemap=#" + mapName + "]")[0];
            return !!img && visible(img);
        }
        return (/input|select|textarea|button|object/.test(nodeName) ? !element.disabled : "a" === nodeName ? element.href || isTabIndexNotNaN : isTabIndexNotNaN) && visible(element);
    }
    function visible(element) {
        return $.expr.filters.visible(element) && !$(element).parents().addBack().filter(function() {
            return $.css(this, "visibility") === "hidden";
        }).length;
    }
    $.extend($.expr[":"], {
        data: $.expr.createPseudo ? $.expr.createPseudo(function(dataName) {
            return function(elem) {
                return !!$.data(elem, dataName);
            }
            ;
        }) : function(elem, i, match) {
            return !!$.data(elem, match[3]);
        }
        ,
        focusable: function(element) {
            return focusable(element, !isNaN($.attr(element, "tabindex")));
        },
        tabbable: function(element) {
            var tabIndex = $.attr(element, "tabindex")
              , isTabIndexNaN = isNaN(tabIndex);
            return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN);
        }
    });
    if (!$("<a>").outerWidth(1).jquery) {
        $.each(["Width", "Height"], function(i, name) {
            var side = name === "Width" ? ["Left", "Right"] : ["Top", "Bottom"]
              , type = name.toLowerCase()
              , orig = {
                innerWidth: $.fn.innerWidth,
                innerHeight: $.fn.innerHeight,
                outerWidth: $.fn.outerWidth,
                outerHeight: $.fn.outerHeight
            };
            function reduce(elem, size, border, margin) {
                $.each(side, function() {
                    size -= parseFloat($.css(elem, "padding" + this)) || 0;
                    if (border) {
                        size -= parseFloat($.css(elem, "border" + this + "Width")) || 0;
                    }
                    if (margin) {
                        size -= parseFloat($.css(elem, "margin" + this)) || 0;
                    }
                });
                return size;
            }
            $.fn["inner" + name] = function(size) {
                if (size === undefined) {
                    return orig["inner" + name].call(this);
                }
                return this.each(function() {
                    $(this).css(type, reduce(this, size) + "px");
                });
            }
            ;
            $.fn["outer" + name] = function(size, margin) {
                if (typeof size !== "number") {
                    return orig["outer" + name].call(this, size);
                }
                return this.each(function() {
                    $(this).css(type, reduce(this, size, true, margin) + "px");
                });
            }
            ;
        });
    }
    if (!$.fn.addBack) {
        $.fn.addBack = function(selector) {
            return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));
        }
        ;
    }
    if ($("<a>").data("a-b", "a").removeData("a-b").data("a-b")) {
        $.fn.removeData = (function(removeData) {
            return function(key) {
                if (arguments.length) {
                    return removeData.call(this, $.camelCase(key));
                } else {
                    return removeData.call(this);
                }
            }
            ;
        }
        )($.fn.removeData);
    }
    $.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
    $.fn.extend({
        focus: (function(orig) {
            return function(delay, fn) {
                return typeof delay === "number" ? this.each(function() {
                    var elem = this;
                    setTimeout(function() {
                        $(elem).focus();
                        if (fn) {
                            fn.call(elem);
                        }
                    }, delay);
                }) : orig.apply(this, arguments);
            }
            ;
        }
        )($.fn.focus),
        disableSelection: (function() {
            var eventType = "onselectstart"in document.createElement("div") ? "selectstart" : "mousedown";
            return function() {
                return this.bind(eventType + ".ui-disableSelection", function(event) {
                    event.preventDefault();
                });
            }
            ;
        }
        )(),
        enableSelection: function() {
            return this.unbind(".ui-disableSelection");
        },
        zIndex: function(zIndex) {
            if (zIndex !== undefined) {
                return this.css("zIndex", zIndex);
            }
            if (this.length) {
                var elem = $(this[0]), position, value;
                while (elem.length && elem[0] !== document) {
                    position = elem.css("position");
                    if (position === "absolute" || position === "relative" || position === "fixed") {
                        value = parseInt(elem.css("zIndex"), 10);
                        if (!isNaN(value) && value !== 0) {
                            return value;
                        }
                    }
                    elem = elem.parent();
                }
            }
            return 0;
        }
    });
    $.ui.plugin = {
        add: function(module, option, set) {
            var i, proto = $.ui[module].prototype;
            for (i in set) {
                proto.plugins[i] = proto.plugins[i] || [];
                proto.plugins[i].push([option, set[i]]);
            }
        },
        call: function(instance, name, args, allowDisconnected) {
            var i, set = instance.plugins[name];
            if (!set) {
                return;
            }
            if (!allowDisconnected && (!instance.element[0].parentNode || instance.element[0].parentNode.nodeType === 11)) {
                return;
            }
            for (i = 0; i < set.length; i++) {
                if (instance.options[set[i][0]]) {
                    set[i][1].apply(instance.element, args);
                }
            }
        }
    };
    var widget_uuid = 0
      , widget_slice = Array.prototype.slice;
    $.cleanData = (function(orig) {
        return function(elems) {
            for (var i = 0, elem; (elem = elems[i]) != null; i++) {
                try {
                    $(elem).triggerHandler("remove");
                } catch (e) {}
            }
            orig(elems);
        }
        ;
    }
    )($.cleanData);
    $.widget = function(name, base, prototype) {
        var fullName, existingConstructor, constructor, basePrototype, proxiedPrototype = {}, namespace = name.split(".")[0];
        name = name.split(".")[1];
        fullName = namespace + "-" + name;
        if (!prototype) {
            prototype = base;
            base = $.Widget;
        }
        $.expr[":"][fullName.toLowerCase()] = function(elem) {
            return !!$.data(elem, fullName);
        }
        ;
        $[namespace] = $[namespace] || {};
        existingConstructor = $[namespace][name];
        constructor = $[namespace][name] = function(options, element) {
            if (!this._createWidget) {
                return new constructor(options,element);
            }
            if (arguments.length) {
                this._createWidget(options, element);
            }
        }
        ;
        $.extend(constructor, existingConstructor, {
            version: prototype.version,
            _proto: $.extend({}, prototype),
            _childConstructors: []
        });
        basePrototype = new base();
        basePrototype.options = $.widget.extend({}, basePrototype.options);
        $.each(prototype, function(prop, value) {
            if (!$.isFunction(value)) {
                proxiedPrototype[prop] = value;
                return;
            }
            proxiedPrototype[prop] = (function() {
                var _super = function() {
                    return base.prototype[prop].apply(this, arguments);
                }
                  , _superApply = function(args) {
                    return base.prototype[prop].apply(this, args);
                };
                return function() {
                    var __super = this._super, __superApply = this._superApply, returnValue;
                    this._super = _super;
                    this._superApply = _superApply;
                    returnValue = value.apply(this, arguments);
                    this._super = __super;
                    this._superApply = __superApply;
                    return returnValue;
                }
                ;
            }
            )();
        });
        constructor.prototype = $.widget.extend(basePrototype, {
            widgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name
        }, proxiedPrototype, {
            constructor: constructor,
            namespace: namespace,
            widgetName: name,
            widgetFullName: fullName
        });
        if (existingConstructor) {
            $.each(existingConstructor._childConstructors, function(i, child) {
                var childPrototype = child.prototype;
                $.widget(childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto);
            });
            delete existingConstructor._childConstructors;
        } else {
            base._childConstructors.push(constructor);
        }
        $.widget.bridge(name, constructor);
        return constructor;
    }
    ;
    $.widget.extend = function(target) {
        var input = widget_slice.call(arguments, 1), inputIndex = 0, inputLength = input.length, key, value;
        for (; inputIndex < inputLength; inputIndex++) {
            for (key in input[inputIndex]) {
                value = input[inputIndex][key];
                if (input[inputIndex].hasOwnProperty(key) && value !== undefined) {
                    if ($.isPlainObject(value)) {
                        target[key] = $.isPlainObject(target[key]) ? $.widget.extend({}, target[key], value) : $.widget.extend({}, value);
                    } else {
                        target[key] = value;
                    }
                }
            }
        }
        return target;
    }
    ;
    $.widget.bridge = function(name, object) {
        var fullName = object.prototype.widgetFullName || name;
        $.fn[name] = function(options) {
            var isMethodCall = typeof options === "string"
              , args = widget_slice.call(arguments, 1)
              , returnValue = this;
            options = !isMethodCall && args.length ? $.widget.extend.apply(null, [options].concat(args)) : options;
            if (isMethodCall) {
                this.each(function() {
                    var methodValue, instance = $.data(this, fullName);
                    if (options === "instance") {
                        returnValue = instance;
                        return false;
                    }
                    if (!instance) {
                        return $.error("cannot call methods on " + name + " prior to initialization; " + "attempted to call method '" + options + "'");
                    }
                    if (!$.isFunction(instance[options]) || options.charAt(0) === "_") {
                        return $.error("no such method '" + options + "' for " + name + " widget instance");
                    }
                    methodValue = instance[options].apply(instance, args);
                    if (methodValue !== instance && methodValue !== undefined) {
                        returnValue = methodValue && methodValue.jquery ? returnValue.pushStack(methodValue.get()) : methodValue;
                        return false;
                    }
                });
            } else {
                this.each(function() {
                    var instance = $.data(this, fullName);
                    if (instance) {
                        instance.option(options || {});
                        if (instance._init) {
                            instance._init();
                        }
                    } else {
                        $.data(this, fullName, new object(options,this));
                    }
                });
            }
            return returnValue;
        }
        ;
    }
    ;
    $.Widget = function() {}
    ;
    $.Widget._childConstructors = [];
    $.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: false,
            create: null
        },
        _createWidget: function(options, element) {
            element = $(element || this.defaultElement || this)[0];
            this.element = $(element);
            this.uuid = widget_uuid++;
            this.eventNamespace = "." + this.widgetName + this.uuid;
            this.options = $.widget.extend({}, this.options, this._getCreateOptions(), options);
            this.bindings = $();
            this.hoverable = $();
            this.focusable = $();
            if (element !== this) {
                $.data(element, this.widgetFullName, this);
                this._on(true, this.element, {
                    remove: function(event) {
                        if (event.target === element) {
                            this.destroy();
                        }
                    }
                });
                this.document = $(element.style ? element.ownerDocument : element.document || element);
                this.window = $(this.document[0].defaultView || this.document[0].parentWindow);
            }
            this._create();
            this._trigger("create", null, this._getCreateEventData());
            this._init();
        },
        _getCreateOptions: $.noop,
        _getCreateEventData: $.noop,
        _create: $.noop,
        _init: $.noop,
        destroy: function() {
            this._destroy();
            this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));
            this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled");
            this.bindings.unbind(this.eventNamespace);
            this.hoverable.removeClass("ui-state-hover");
            this.focusable.removeClass("ui-state-focus");
        },
        _destroy: $.noop,
        widget: function() {
            return this.element;
        },
        option: function(key, value) {
            var options = key, parts, curOption, i;
            if (arguments.length === 0) {
                return $.widget.extend({}, this.options);
            }
            if (typeof key === "string") {
                options = {};
                parts = key.split(".");
                key = parts.shift();
                if (parts.length) {
                    curOption = options[key] = $.widget.extend({}, this.options[key]);
                    for (i = 0; i < parts.length - 1; i++) {
                        curOption[parts[i]] = curOption[parts[i]] || {};
                        curOption = curOption[parts[i]];
                    }
                    key = parts.pop();
                    if (arguments.length === 1) {
                        return curOption[key] === undefined ? null : curOption[key];
                    }
                    curOption[key] = value;
                } else {
                    if (arguments.length === 1) {
                        return this.options[key] === undefined ? null : this.options[key];
                    }
                    options[key] = value;
                }
            }
            this._setOptions(options);
            return this;
        },
        _setOptions: function(options) {
            var key;
            for (key in options) {
                this._setOption(key, options[key]);
            }
            return this;
        },
        _setOption: function(key, value) {
            this.options[key] = value;
            if (key === "disabled") {
                this.widget().toggleClass(this.widgetFullName + "-disabled", !!value);
                if (value) {
                    this.hoverable.removeClass("ui-state-hover");
                    this.focusable.removeClass("ui-state-focus");
                }
            }
            return this;
        },
        enable: function() {
            return this._setOptions({
                disabled: false
            });
        },
        disable: function() {
            return this._setOptions({
                disabled: true
            });
        },
        _on: function(suppressDisabledCheck, element, handlers) {
            var delegateElement, instance = this;
            if (typeof suppressDisabledCheck !== "boolean") {
                handlers = element;
                element = suppressDisabledCheck;
                suppressDisabledCheck = false;
            }
            if (!handlers) {
                handlers = element;
                element = this.element;
                delegateElement = this.widget();
            } else {
                element = delegateElement = $(element);
                this.bindings = this.bindings.add(element);
            }
            $.each(handlers, function(event, handler) {
                function handlerProxy() {
                    if (!suppressDisabledCheck && (instance.options.disabled === true || $(this).hasClass("ui-state-disabled"))) {
                        return;
                    }
                    return (typeof handler === "string" ? instance[handler] : handler).apply(instance, arguments);
                }
                if (typeof handler !== "string") {
                    handlerProxy.guid = handler.guid = handler.guid || handlerProxy.guid || $.guid++;
                }
                var match = event.match(/^([\w:-]*)\s*(.*)$/)
                  , eventName = match[1] + instance.eventNamespace
                  , selector = match[2];
                if (selector) {
                    delegateElement.delegate(selector, eventName, handlerProxy);
                } else {
                    element.bind(eventName, handlerProxy);
                }
            });
        },
        _off: function(element, eventName) {
            eventName = (eventName || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace;
            element.unbind(eventName).undelegate(eventName);
        },
        _delay: function(handler, delay) {
            function handlerProxy() {
                return (typeof handler === "string" ? instance[handler] : handler).apply(instance, arguments);
            }
            var instance = this;
            return setTimeout(handlerProxy, delay || 0);
        },
        _hoverable: function(element) {
            this.hoverable = this.hoverable.add(element);
            this._on(element, {
                mouseenter: function(event) {
                    $(event.currentTarget).addClass("ui-state-hover");
                },
                mouseleave: function(event) {
                    $(event.currentTarget).removeClass("ui-state-hover");
                }
            });
        },
        _focusable: function(element) {
            this.focusable = this.focusable.add(element);
            this._on(element, {
                focusin: function(event) {
                    $(event.currentTarget).addClass("ui-state-focus");
                },
                focusout: function(event) {
                    $(event.currentTarget).removeClass("ui-state-focus");
                }
            });
        },
        _trigger: function(type, event, data) {
            var prop, orig, callback = this.options[type];
            data = data || {};
            event = $.Event(event);
            event.type = (type === this.widgetEventPrefix ? type : this.widgetEventPrefix + type).toLowerCase();
            event.target = this.element[0];
            orig = event.originalEvent;
            if (orig) {
                for (prop in orig) {
                    if (!(prop in event)) {
                        event[prop] = orig[prop];
                    }
                }
            }
            this.element.trigger(event, data);
            return !($.isFunction(callback) && callback.apply(this.element[0], [event].concat(data)) === false || event.isDefaultPrevented());
        }
    };
    $.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(method, defaultEffect) {
        $.Widget.prototype["_" + method] = function(element, options, callback) {
            if (typeof options === "string") {
                options = {
                    effect: options
                };
            }
            var hasOptions, effectName = !options ? method : options === true || typeof options === "number" ? defaultEffect : options.effect || defaultEffect;
            options = options || {};
            if (typeof options === "number") {
                options = {
                    duration: options
                };
            }
            hasOptions = !$.isEmptyObject(options);
            options.complete = callback;
            if (options.delay) {
                element.delay(options.delay);
            }
            if (hasOptions && $.effects && $.effects.effect[effectName]) {
                element[method](options);
            } else if (effectName !== method && element[effectName]) {
                element[effectName](options.duration, options.easing, callback);
            } else {
                element.queue(function(next) {
                    $(this)[method]();
                    if (callback) {
                        callback.call(element[0]);
                    }
                    next();
                });
            }
        }
        ;
    });
    var widget = $.widget;
    var mouseHandled = false;
    $(document).mouseup(function() {
        mouseHandled = false;
    });
    var mouse = $.widget("ui.mouse", {
        version: "1.11.0",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var that = this;
            this.element.bind("mousedown." + this.widgetName, function(event) {
                return that._mouseDown(event);
            }).bind("click." + this.widgetName, function(event) {
                if (true === $.data(event.target, that.widgetName + ".preventClickEvent")) {
                    $.removeData(event.target, that.widgetName + ".preventClickEvent");
                    event.stopImmediatePropagation();
                    return false;
                }
            });
            this.started = false;
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName);
            if (this._mouseMoveDelegate) {
                this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
            }
        },
        _mouseDown: function(event) {
            if (mouseHandled) {
                return;
            }
            (this._mouseStarted && this._mouseUp(event));
            this._mouseDownEvent = event;
            var that = this
              , btnIsLeft = (event.which === 1)
              , elIsCancel = (typeof this.options.cancel === "string" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);
            if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
                return true;
            }
            this.mouseDelayMet = !this.options.delay;
            if (!this.mouseDelayMet) {
                this._mouseDelayTimer = setTimeout(function() {
                    that.mouseDelayMet = true;
                }, this.options.delay);
            }
            if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
                this._mouseStarted = (this._mouseStart(event) !== false);
                if (!this._mouseStarted) {
                    event.preventDefault();
                    return true;
                }
            }
            if (true === $.data(event.target, this.widgetName + ".preventClickEvent")) {
                $.removeData(event.target, this.widgetName + ".preventClickEvent");
            }
            this._mouseMoveDelegate = function(event) {
                return that._mouseMove(event);
            }
            ;
            this._mouseUpDelegate = function(event) {
                return that._mouseUp(event);
            }
            ;
            this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate);
            event.preventDefault();
            mouseHandled = true;
            return true;
        },
        _mouseMove: function(event) {
            if ($.ui.ie && (!document.documentMode || document.documentMode < 9) && !event.button) {
                return this._mouseUp(event);
            } else if (!event.which) {
                return this._mouseUp(event);
            }
            if (this._mouseStarted) {
                this._mouseDrag(event);
                return event.preventDefault();
            }
            if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
                this._mouseStarted = (this._mouseStart(this._mouseDownEvent, event) !== false);
                (this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));
            }
            return !this._mouseStarted;
        },
        _mouseUp: function(event) {
            this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
            if (this._mouseStarted) {
                this._mouseStarted = false;
                if (event.target === this._mouseDownEvent.target) {
                    $.data(event.target, this.widgetName + ".preventClickEvent", true);
                }
                this._mouseStop(event);
            }
            mouseHandled = false;
            return false;
        },
        _mouseDistanceMet: function(event) {
            return (Math.max(Math.abs(this._mouseDownEvent.pageX - event.pageX), Math.abs(this._mouseDownEvent.pageY - event.pageY)) >= this.options.distance);
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet;
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return true;
        }
    });
    (function() {
        $.ui = $.ui || {};
        var cachedScrollbarWidth, supportsOffsetFractions, max = Math.max, abs = Math.abs, round = Math.round, rhorizontal = /left|center|right/, rvertical = /top|center|bottom/, roffset = /[\+\-]\d+(\.[\d]+)?%?/, rposition = /^\w+/, rpercent = /%$/, _position = $.fn.position;
        function getOffsets(offsets, width, height) {
            return [parseFloat(offsets[0]) * (rpercent.test(offsets[0]) ? width / 100 : 1), parseFloat(offsets[1]) * (rpercent.test(offsets[1]) ? height / 100 : 1)];
        }
        function parseCss(element, property) {
            return parseInt($.css(element, property), 10) || 0;
        }
        function getDimensions(elem) {
            var raw = elem[0];
            if (raw.nodeType === 9) {
                return {
                    width: elem.width(),
                    height: elem.height(),
                    offset: {
                        top: 0,
                        left: 0
                    }
                };
            }
            if ($.isWindow(raw)) {
                return {
                    width: elem.width(),
                    height: elem.height(),
                    offset: {
                        top: elem.scrollTop(),
                        left: elem.scrollLeft()
                    }
                };
            }
            if (raw.preventDefault) {
                return {
                    width: 0,
                    height: 0,
                    offset: {
                        top: raw.pageY,
                        left: raw.pageX
                    }
                };
            }
            return {
                width: elem.outerWidth(),
                height: elem.outerHeight(),
                offset: elem.offset()
            };
        }
        $.position = {
            scrollbarWidth: function() {
                if (cachedScrollbarWidth !== undefined) {
                    return cachedScrollbarWidth;
                }
                var w1, w2, div = $("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), innerDiv = div.children()[0];
                $("body").append(div);
                w1 = innerDiv.offsetWidth;
                div.css("overflow", "scroll");
                w2 = innerDiv.offsetWidth;
                if (w1 === w2) {
                    w2 = div[0].clientWidth;
                }
                div.remove();
                return (cachedScrollbarWidth = w1 - w2);
            },
            getScrollInfo: function(within) {
                var overflowX = within.isWindow || within.isDocument ? "" : within.element.css("overflow-x")
                  , overflowY = within.isWindow || within.isDocument ? "" : within.element.css("overflow-y")
                  , hasOverflowX = overflowX === "scroll" || (overflowX === "auto" && within.width < within.element[0].scrollWidth)
                  , hasOverflowY = overflowY === "scroll" || (overflowY === "auto" && within.height < within.element[0].scrollHeight);
                return {
                    width: hasOverflowY ? $.position.scrollbarWidth() : 0,
                    height: hasOverflowX ? $.position.scrollbarWidth() : 0
                };
            },
            getWithinInfo: function(element) {
                var withinElement = $(element || window)
                  , isWindow = $.isWindow(withinElement[0])
                  , isDocument = !!withinElement[0] && withinElement[0].nodeType === 9;
                return {
                    element: withinElement,
                    isWindow: isWindow,
                    isDocument: isDocument,
                    offset: withinElement.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: withinElement.scrollLeft(),
                    scrollTop: withinElement.scrollTop(),
                    width: isWindow ? withinElement.width() : withinElement.outerWidth(),
                    height: isWindow ? withinElement.height() : withinElement.outerHeight()
                };
            }
        };
        $.fn.position = function(options) {
            if (!options || !options.of) {
                return _position.apply(this, arguments);
            }
            options = $.extend({}, options);
            var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions, target = $(options.of), within = $.position.getWithinInfo(options.within), scrollInfo = $.position.getScrollInfo(within), collision = (options.collision || "flip").split(" "), offsets = {};
            dimensions = getDimensions(target);
            if (target[0].preventDefault) {
                options.at = "left top";
            }
            targetWidth = dimensions.width;
            targetHeight = dimensions.height;
            targetOffset = dimensions.offset;
            basePosition = $.extend({}, targetOffset);
            $.each(["my", "at"], function() {
                var pos = (options[this] || "").split(" "), horizontalOffset, verticalOffset;
                if (pos.length === 1) {
                    pos = rhorizontal.test(pos[0]) ? pos.concat(["center"]) : rvertical.test(pos[0]) ? ["center"].concat(pos) : ["center", "center"];
                }
                pos[0] = rhorizontal.test(pos[0]) ? pos[0] : "center";
                pos[1] = rvertical.test(pos[1]) ? pos[1] : "center";
                horizontalOffset = roffset.exec(pos[0]);
                verticalOffset = roffset.exec(pos[1]);
                offsets[this] = [horizontalOffset ? horizontalOffset[0] : 0, verticalOffset ? verticalOffset[0] : 0];
                options[this] = [rposition.exec(pos[0])[0], rposition.exec(pos[1])[0]];
            });
            if (collision.length === 1) {
                collision[1] = collision[0];
            }
            if (options.at[0] === "right") {
                basePosition.left += targetWidth;
            } else if (options.at[0] === "center") {
                basePosition.left += targetWidth / 2;
            }
            if (options.at[1] === "bottom") {
                basePosition.top += targetHeight;
            } else if (options.at[1] === "center") {
                basePosition.top += targetHeight / 2;
            }
            atOffset = getOffsets(offsets.at, targetWidth, targetHeight);
            basePosition.left += atOffset[0];
            basePosition.top += atOffset[1];
            return this.each(function() {
                var collisionPosition, using, elem = $(this), elemWidth = elem.outerWidth(), elemHeight = elem.outerHeight(), marginLeft = parseCss(this, "marginLeft"), marginTop = parseCss(this, "marginTop"), collisionWidth = elemWidth + marginLeft + parseCss(this, "marginRight") + scrollInfo.width, collisionHeight = elemHeight + marginTop + parseCss(this, "marginBottom") + scrollInfo.height, position = $.extend({}, basePosition), myOffset = getOffsets(offsets.my, elem.outerWidth(), elem.outerHeight());
                if (options.my[0] === "right") {
                    position.left -= elemWidth;
                } else if (options.my[0] === "center") {
                    position.left -= elemWidth / 2;
                }
                if (options.my[1] === "bottom") {
                    position.top -= elemHeight;
                } else if (options.my[1] === "center") {
                    position.top -= elemHeight / 2;
                }
                position.left += myOffset[0];
                position.top += myOffset[1];
                if (!supportsOffsetFractions) {
                    position.left = round(position.left);
                    position.top = round(position.top);
                }
                collisionPosition = {
                    marginLeft: marginLeft,
                    marginTop: marginTop
                };
                $.each(["left", "top"], function(i, dir) {
                    if ($.ui.position[collision[i]]) {
                        $.ui.position[collision[i]][dir](position, {
                            targetWidth: targetWidth,
                            targetHeight: targetHeight,
                            elemWidth: elemWidth,
                            elemHeight: elemHeight,
                            collisionPosition: collisionPosition,
                            collisionWidth: collisionWidth,
                            collisionHeight: collisionHeight,
                            offset: [atOffset[0] + myOffset[0], atOffset[1] + myOffset[1]],
                            my: options.my,
                            at: options.at,
                            within: within,
                            elem: elem
                        });
                    }
                });
                if (options.using) {
                    using = function(props) {
                        var left = targetOffset.left - position.left
                          , right = left + targetWidth - elemWidth
                          , top = targetOffset.top - position.top
                          , bottom = top + targetHeight - elemHeight
                          , feedback = {
                            target: {
                                element: target,
                                left: targetOffset.left,
                                top: targetOffset.top,
                                width: targetWidth,
                                height: targetHeight
                            },
                            element: {
                                element: elem,
                                left: position.left,
                                top: position.top,
                                width: elemWidth,
                                height: elemHeight
                            },
                            horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
                            vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
                        };
                        if (targetWidth < elemWidth && abs(left + right) < targetWidth) {
                            feedback.horizontal = "center";
                        }
                        if (targetHeight < elemHeight && abs(top + bottom) < targetHeight) {
                            feedback.vertical = "middle";
                        }
                        if (max(abs(left), abs(right)) > max(abs(top), abs(bottom))) {
                            feedback.important = "horizontal";
                        } else {
                            feedback.important = "vertical";
                        }
                        options.using.call(this, props, feedback);
                    }
                    ;
                }
                elem.offset($.extend(position, {
                    using: using
                }));
            });
        }
        ;
        $.ui.position = {
            fit: {
                left: function(position, data) {
                    var within = data.within, withinOffset = within.isWindow ? within.scrollLeft : within.offset.left, outerWidth = within.width, collisionPosLeft = position.left - data.collisionPosition.marginLeft, overLeft = withinOffset - collisionPosLeft, overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset, newOverRight;
                    if (data.collisionWidth > outerWidth) {
                        if (overLeft > 0 && overRight <= 0) {
                            newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
                            position.left += overLeft - newOverRight;
                        } else if (overRight > 0 && overLeft <= 0) {
                            position.left = withinOffset;
                        } else {
                            if (overLeft > overRight) {
                                position.left = withinOffset + outerWidth - data.collisionWidth;
                            } else {
                                position.left = withinOffset;
                            }
                        }
                    } else if (overLeft > 0) {
                        position.left += overLeft;
                    } else if (overRight > 0) {
                        position.left -= overRight;
                    } else {
                        position.left = max(position.left - collisionPosLeft, position.left);
                    }
                },
                top: function(position, data) {
                    var within = data.within, withinOffset = within.isWindow ? within.scrollTop : within.offset.top, outerHeight = data.within.height, collisionPosTop = position.top - data.collisionPosition.marginTop, overTop = withinOffset - collisionPosTop, overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset, newOverBottom;
                    if (data.collisionHeight > outerHeight) {
                        if (overTop > 0 && overBottom <= 0) {
                            newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;
                            position.top += overTop - newOverBottom;
                        } else if (overBottom > 0 && overTop <= 0) {
                            position.top = withinOffset;
                        } else {
                            if (overTop > overBottom) {
                                position.top = withinOffset + outerHeight - data.collisionHeight;
                            } else {
                                position.top = withinOffset;
                            }
                        }
                    } else if (overTop > 0) {
                        position.top += overTop;
                    } else if (overBottom > 0) {
                        position.top -= overBottom;
                    } else {
                        position.top = max(position.top - collisionPosTop, position.top);
                    }
                }
            },
            flip: {
                left: function(position, data) {
                    var within = data.within, withinOffset = within.offset.left + within.scrollLeft, outerWidth = within.width, offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left, collisionPosLeft = position.left - data.collisionPosition.marginLeft, overLeft = collisionPosLeft - offsetLeft, overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft, myOffset = data.my[0] === "left" ? -data.elemWidth : data.my[0] === "right" ? data.elemWidth : 0, atOffset = data.at[0] === "left" ? data.targetWidth : data.at[0] === "right" ? -data.targetWidth : 0, offset = -2 * data.offset[0], newOverRight, newOverLeft;
                    if (overLeft < 0) {
                        newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;
                        if (newOverRight < 0 || newOverRight < abs(overLeft)) {
                            position.left += myOffset + atOffset + offset;
                        }
                    } else if (overRight > 0) {
                        newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;
                        if (newOverLeft > 0 || abs(newOverLeft) < overRight) {
                            position.left += myOffset + atOffset + offset;
                        }
                    }
                },
                top: function(position, data) {
                    var within = data.within, withinOffset = within.offset.top + within.scrollTop, outerHeight = within.height, offsetTop = within.isWindow ? within.scrollTop : within.offset.top, collisionPosTop = position.top - data.collisionPosition.marginTop, overTop = collisionPosTop - offsetTop, overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop, top = data.my[1] === "top", myOffset = top ? -data.elemHeight : data.my[1] === "bottom" ? data.elemHeight : 0, atOffset = data.at[1] === "top" ? data.targetHeight : data.at[1] === "bottom" ? -data.targetHeight : 0, offset = -2 * data.offset[1], newOverTop, newOverBottom;
                    if (overTop < 0) {
                        newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;
                        if ((position.top + myOffset + atOffset + offset) > overTop && (newOverBottom < 0 || newOverBottom < abs(overTop))) {
                            position.top += myOffset + atOffset + offset;
                        }
                    } else if (overBottom > 0) {
                        newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;
                        if ((position.top + myOffset + atOffset + offset) > overBottom && (newOverTop > 0 || abs(newOverTop) < overBottom)) {
                            position.top += myOffset + atOffset + offset;
                        }
                    }
                }
            },
            flipfit: {
                left: function() {
                    $.ui.position.flip.left.apply(this, arguments);
                    $.ui.position.fit.left.apply(this, arguments);
                },
                top: function() {
                    $.ui.position.flip.top.apply(this, arguments);
                    $.ui.position.fit.top.apply(this, arguments);
                }
            }
        };
        (function() {
            var testElement, testElementParent, testElementStyle, offsetLeft, i, body = document.getElementsByTagName("body")[0], div = document.createElement("div");
            testElement = document.createElement(body ? "div" : "body");
            testElementStyle = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            };
            if (body) {
                $.extend(testElementStyle, {
                    position: "absolute",
                    left: "-1000px",
                    top: "-1000px"
                });
            }
            for (i in testElementStyle) {
                testElement.style[i] = testElementStyle[i];
            }
            testElement.appendChild(div);
            testElementParent = body || document.documentElement;
            testElementParent.insertBefore(testElement, testElementParent.firstChild);
            div.style.cssText = "position: absolute; left: 10.7432222px;";
            offsetLeft = $(div).offset().left;
            supportsOffsetFractions = offsetLeft > 10 && offsetLeft < 11;
            testElement.innerHTML = "";
            testElementParent.removeChild(testElement);
        }
        )();
    }
    )();
    var position = $.ui.position;
    var accordion = $.widget("ui.accordion", {
        version: "1.11.0",
        options: {
            active: 0,
            animate: {},
            collapsible: false,
            event: "click",
            header: "> li > :first-child,> :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        hideProps: {
            borderTopWidth: "hide",
            borderBottomWidth: "hide",
            paddingTop: "hide",
            paddingBottom: "hide",
            height: "hide"
        },
        showProps: {
            borderTopWidth: "show",
            borderBottomWidth: "show",
            paddingTop: "show",
            paddingBottom: "show",
            height: "show"
        },
        _create: function() {
            var options = this.options;
            this.prevShow = this.prevHide = $();
            this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist");
            if (!options.collapsible && (options.active === false || options.active == null)) {
                options.active = 0;
            }
            this._processPanels();
            if (options.active < 0) {
                options.active += this.headers.length;
            }
            this._refresh();
        },
        _getCreateEventData: function() {
            return {
                header: this.active,
                panel: !this.active.length ? $() : this.active.next()
            };
        },
        _createIcons: function() {
            var icons = this.options.icons;
            if (icons) {
                $("<span>").addClass("ui-accordion-header-icon ui-icon " + icons.header).prependTo(this.headers);
                this.active.children(".ui-accordion-header-icon").removeClass(icons.header).addClass(icons.activeHeader);
                this.headers.addClass("ui-accordion-icons");
            }
        },
        _destroyIcons: function() {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove();
        },
        _destroy: function() {
            var contents;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");
            this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default " + "ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();
            this._destroyIcons();
            contents = this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom " + "ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();
            if (this.options.heightStyle !== "content") {
                contents.css("height", "");
            }
        },
        _setOption: function(key, value) {
            if (key === "active") {
                this._activate(value);
                return;
            }
            if (key === "event") {
                if (this.options.event) {
                    this._off(this.headers, this.options.event);
                }
                this._setupEvents(value);
            }
            this._super(key, value);
            if (key === "collapsible" && !value && this.options.active === false) {
                this._activate(0);
            }
            if (key === "icons") {
                this._destroyIcons();
                if (value) {
                    this._createIcons();
                }
            }
            if (key === "disabled") {
                this.element.toggleClass("ui-state-disabled", !!value).attr("aria-disabled", value);
                this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!value);
            }
        },
        _keydown: function(event) {
            if (event.altKey || event.ctrlKey) {
                return;
            }
            var keyCode = $.ui.keyCode
              , length = this.headers.length
              , currentIndex = this.headers.index(event.target)
              , toFocus = false;
            switch (event.keyCode) {
            case keyCode.RIGHT:
            case keyCode.DOWN:
                toFocus = this.headers[(currentIndex + 1) % length];
                break;
            case keyCode.LEFT:
            case keyCode.UP:
                toFocus = this.headers[(currentIndex - 1 + length) % length];
                break;
            case keyCode.SPACE:
            case keyCode.ENTER:
                this._eventHandler(event);
                break;
            case keyCode.HOME:
                toFocus = this.headers[0];
                break;
            case keyCode.END:
                toFocus = this.headers[length - 1];
                break;
            }
            if (toFocus) {
                $(event.target).attr("tabIndex", -1);
                $(toFocus).attr("tabIndex", 0);
                toFocus.focus();
                event.preventDefault();
            }
        },
        _panelKeyDown: function(event) {
            if (event.keyCode === $.ui.keyCode.UP && event.ctrlKey) {
                $(event.currentTarget).prev().focus();
            }
        },
        refresh: function() {
            var options = this.options;
            this._processPanels();
            if ((options.active === false && options.collapsible === true) || !this.headers.length) {
                options.active = false;
                this.active = $();
            } else if (options.active === false) {
                this._activate(0);
            } else if (this.active.length && !$.contains(this.element[0], this.active[0])) {
                if (this.headers.length === this.headers.find(".ui-state-disabled").length) {
                    options.active = false;
                    this.active = $();
                } else {
                    this._activate(Math.max(0, options.active - 1));
                }
            } else {
                options.active = this.headers.index(this.active);
            }
            this._destroyIcons();
            this._refresh();
        },
        _processPanels: function() {
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");
            this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();
        },
        _refresh: function() {
            var maxHeight, options = this.options, heightStyle = options.heightStyle, parent = this.element.parent();
            this.active = this._findActive(options.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");
            this.active.next().addClass("ui-accordion-content-active").show();
            this.headers.attr("role", "tab").each(function() {
                var header = $(this)
                  , headerId = header.uniqueId().attr("id")
                  , panel = header.next()
                  , panelId = panel.uniqueId().attr("id");
                header.attr("aria-controls", panelId);
                panel.attr("aria-labelledby", headerId);
            }).next().attr("role", "tabpanel");
            this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide();
            if (!this.active.length) {
                this.headers.eq(0).attr("tabIndex", 0);
            } else {
                this.active.attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                }).next().attr({
                    "aria-hidden": "false"
                });
            }
            this._createIcons();
            this._setupEvents(options.event);
            if (heightStyle === "fill") {
                maxHeight = parent.height();
                this.element.siblings(":visible").each(function() {
                    var elem = $(this)
                      , position = elem.css("position");
                    if (position === "absolute" || position === "fixed") {
                        return;
                    }
                    maxHeight -= elem.outerHeight(true);
                });
                this.headers.each(function() {
                    maxHeight -= $(this).outerHeight(true);
                });
                this.headers.next().each(function() {
                    $(this).height(Math.max(0, maxHeight - $(this).innerHeight() + $(this).height()));
                }).css("overflow", "auto");
            } else if (heightStyle === "auto") {
                maxHeight = 0;
                this.headers.next().each(function() {
                    maxHeight = Math.max(maxHeight, $(this).css("height", "").height());
                }).height(maxHeight);
            }
        },
        _activate: function(index) {
            var active = this._findActive(index)[0];
            if (active === this.active[0]) {
                return;
            }
            active = active || this.active[0];
            this._eventHandler({
                target: active,
                currentTarget: active,
                preventDefault: $.noop
            });
        },
        _findActive: function(selector) {
            return typeof selector === "number" ? this.headers.eq(selector) : $();
        },
        _setupEvents: function(event) {
            var events = {
                keydown: "_keydown"
            };
            if (event) {
                $.each(event.split(" "), function(index, eventName) {
                    events[eventName] = "_eventHandler";
                });
            }
            this._off(this.headers.add(this.headers.next()));
            this._on(this.headers, events);
            this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            });
            this._hoverable(this.headers);
            this._focusable(this.headers);
        },
        _eventHandler: function(event) {
            var options = this.options
              , active = this.active
              , clicked = $(event.currentTarget)
              , clickedIsActive = clicked[0] === active[0]
              , collapsing = clickedIsActive && options.collapsible
              , toShow = collapsing ? $() : clicked.next()
              , toHide = active.next()
              , eventData = {
                oldHeader: active,
                oldPanel: toHide,
                newHeader: collapsing ? $() : clicked,
                newPanel: toShow
            };
            event.preventDefault();
            if ((clickedIsActive && !options.collapsible) || (this._trigger("beforeActivate", event, eventData) === false)) {
                return;
            }
            options.active = collapsing ? false : this.headers.index(clicked);
            this.active = clickedIsActive ? $() : clicked;
            this._toggle(eventData);
            active.removeClass("ui-accordion-header-active ui-state-active");
            if (options.icons) {
                active.children(".ui-accordion-header-icon").removeClass(options.icons.activeHeader).addClass(options.icons.header);
            }
            if (!clickedIsActive) {
                clicked.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");
                if (options.icons) {
                    clicked.children(".ui-accordion-header-icon").removeClass(options.icons.header).addClass(options.icons.activeHeader);
                }
                clicked.next().addClass("ui-accordion-content-active");
            }
        },
        _toggle: function(data) {
            var toShow = data.newPanel
              , toHide = this.prevShow.length ? this.prevShow : data.oldPanel;
            this.prevShow.add(this.prevHide).stop(true, true);
            this.prevShow = toShow;
            this.prevHide = toHide;
            if (this.options.animate) {
                this._animate(toShow, toHide, data);
            } else {
                toHide.hide();
                toShow.show();
                this._toggleComplete(data);
            }
            toHide.attr({
                "aria-hidden": "true"
            });
            toHide.prev().attr("aria-selected", "false");
            if (toShow.length && toHide.length) {
                toHide.prev().attr({
                    "tabIndex": -1,
                    "aria-expanded": "false"
                });
            } else if (toShow.length) {
                this.headers.filter(function() {
                    return $(this).attr("tabIndex") === 0;
                }).attr("tabIndex", -1);
            }
            toShow.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                tabIndex: 0,
                "aria-expanded": "true"
            });
        },
        _animate: function(toShow, toHide, data) {
            var total, easing, duration, that = this, adjust = 0, down = toShow.length && (!toHide.length || (toShow.index() < toHide.index())), animate = this.options.animate || {}, options = down && animate.down || animate, complete = function() {
                that._toggleComplete(data);
            };
            if (typeof options === "number") {
                duration = options;
            }
            if (typeof options === "string") {
                easing = options;
            }
            easing = easing || options.easing || animate.easing;
            duration = duration || options.duration || animate.duration;
            if (!toHide.length) {
                return toShow.animate(this.showProps, duration, easing, complete);
            }
            if (!toShow.length) {
                return toHide.animate(this.hideProps, duration, easing, complete);
            }
            total = toShow.show().outerHeight();
            toHide.animate(this.hideProps, {
                duration: duration,
                easing: easing,
                step: function(now, fx) {
                    fx.now = Math.round(now);
                }
            });
            toShow.hide().animate(this.showProps, {
                duration: duration,
                easing: easing,
                complete: complete,
                step: function(now, fx) {
                    fx.now = Math.round(now);
                    if (fx.prop !== "height") {
                        adjust += fx.now;
                    } else if (that.options.heightStyle !== "content") {
                        fx.now = Math.round(total - toHide.outerHeight() - adjust);
                        adjust = 0;
                    }
                }
            });
        },
        _toggleComplete: function(data) {
            var toHide = data.oldPanel;
            toHide.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
            if (toHide.length) {
                toHide.parent()[0].className = toHide.parent()[0].className;
            }
            this._trigger("activate", null, data);
        }
    });
    var menu = $.widget("ui.menu", {
        version: "1.11.0",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            items: "> *",
            menus: "ul",
            position: {
                my: "left-1 top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function() {
            this.activeMenu = this.element;
            this.mouseHandled = false;
            this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                role: this.options.role,
                tabIndex: 0
            });
            if (this.options.disabled) {
                this.element.addClass("ui-state-disabled").attr("aria-disabled", "true");
            }
            this._on({
                "mousedown .ui-menu-item": function(event) {
                    event.preventDefault();
                },
                "click .ui-menu-item": function(event) {
                    var target = $(event.target);
                    if (!this.mouseHandled && target.not(".ui-state-disabled").length) {
                        this.select(event);
                        if (!event.isPropagationStopped()) {
                            this.mouseHandled = true;
                        }
                        if (target.has(".ui-menu").length) {
                            this.expand(event);
                        } else if (!this.element.is(":focus") && $(this.document[0].activeElement).closest(".ui-menu").length) {
                            this.element.trigger("focus", [true]);
                            if (this.active && this.active.parents(".ui-menu").length === 1) {
                                clearTimeout(this.timer);
                            }
                        }
                    }
                },
                "mouseenter .ui-menu-item": function(event) {
                    var target = $(event.currentTarget);
                    target.siblings(".ui-state-active").removeClass("ui-state-active");
                    this.focus(event, target);
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(event, keepActiveItem) {
                    var item = this.active || this.element.find(this.options.items).eq(0);
                    if (!keepActiveItem) {
                        this.focus(event, item);
                    }
                },
                blur: function(event) {
                    this._delay(function() {
                        if (!$.contains(this.element[0], this.document[0].activeElement)) {
                            this.collapseAll(event);
                        }
                    });
                },
                keydown: "_keydown"
            });
            this.refresh();
            this._on(this.document, {
                click: function(event) {
                    if (this._closeOnDocumentClick(event)) {
                        this.collapseAll(event);
                    }
                    this.mouseHandled = false;
                }
            });
        },
        _destroy: function() {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
            this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                var elem = $(this);
                if (elem.data("ui-menu-submenu-carat")) {
                    elem.remove();
                }
            });
            this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");
        },
        _keydown: function(event) {
            var match, prev, character, skip, regex, preventDefault = true;
            function escape(value) {
                return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
            }
            switch (event.keyCode) {
            case $.ui.keyCode.PAGE_UP:
                this.previousPage(event);
                break;
            case $.ui.keyCode.PAGE_DOWN:
                this.nextPage(event);
                break;
            case $.ui.keyCode.HOME:
                this._move("first", "first", event);
                break;
            case $.ui.keyCode.END:
                this._move("last", "last", event);
                break;
            case $.ui.keyCode.UP:
                this.previous(event);
                break;
            case $.ui.keyCode.DOWN:
                this.next(event);
                break;
            case $.ui.keyCode.LEFT:
                this.collapse(event);
                break;
            case $.ui.keyCode.RIGHT:
                if (this.active && !this.active.is(".ui-state-disabled")) {
                    this.expand(event);
                }
                break;
            case $.ui.keyCode.ENTER:
            case $.ui.keyCode.SPACE:
                this._activate(event);
                break;
            case $.ui.keyCode.ESCAPE:
                this.collapse(event);
                break;
            default:
                preventDefault = false;
                prev = this.previousFilter || "";
                character = String.fromCharCode(event.keyCode);
                skip = false;
                clearTimeout(this.filterTimer);
                if (character === prev) {
                    skip = true;
                } else {
                    character = prev + character;
                }
                regex = new RegExp("^" + escape(character),"i");
                match = this.activeMenu.find(this.options.items).filter(function() {
                    return regex.test($(this).text());
                });
                match = skip && match.index(this.active.next()) !== -1 ? this.active.nextAll(".ui-menu-item") : match;
                if (!match.length) {
                    character = String.fromCharCode(event.keyCode);
                    regex = new RegExp("^" + escape(character),"i");
                    match = this.activeMenu.find(this.options.items).filter(function() {
                        return regex.test($(this).text());
                    });
                }
                if (match.length) {
                    this.focus(event, match);
                    if (match.length > 1) {
                        this.previousFilter = character;
                        this.filterTimer = this._delay(function() {
                            delete this.previousFilter;
                        }, 1000);
                    } else {
                        delete this.previousFilter;
                    }
                } else {
                    delete this.previousFilter;
                }
            }
            if (preventDefault) {
                event.preventDefault();
            }
        },
        _activate: function(event) {
            if (!this.active.is(".ui-state-disabled")) {
                if (this.active.is("[aria-haspopup='true']")) {
                    this.expand(event);
                } else {
                    this.select(event);
                }
            }
        },
        refresh: function() {
            var menus, items, that = this, icon = this.options.icons.submenu, submenus = this.element.find(this.options.menus);
            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length);
            submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function() {
                var menu = $(this)
                  , item = menu.parent()
                  , submenuCarat = $("<span>").addClass("ui-menu-icon ui-icon " + icon).data("ui-menu-submenu-carat", true);
                item.attr("aria-haspopup", "true").prepend(submenuCarat);
                menu.attr("aria-labelledby", item.attr("id"));
            });
            menus = submenus.add(this.element);
            items = menus.find(this.options.items);
            items.not(".ui-menu-item").each(function() {
                var item = $(this);
                if (that._isDivider(item)) {
                    item.addClass("ui-widget-content ui-menu-divider");
                }
            });
            items.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({
                tabIndex: -1,
                role: this._itemRole()
            });
            items.filter(".ui-state-disabled").attr("aria-disabled", "true");
            if (this.active && !$.contains(this.element[0], this.active[0])) {
                this.blur();
            }
        },
        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role];
        },
        _setOption: function(key, value) {
            if (key === "icons") {
                this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu);
            }
            if (key === "disabled") {
                this.element.toggleClass("ui-state-disabled", !!value).attr("aria-disabled", value);
            }
            this._super(key, value);
        },
        focus: function(event, item) {
            var nested, focused;
            this.blur(event, event && event.type === "focus");
            this._scrollIntoView(item);
            this.active = item.first();
            focused = this.active.addClass("ui-state-focus").removeClass("ui-state-active");
            if (this.options.role) {
                this.element.attr("aria-activedescendant", focused.attr("id"));
            }
            this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");
            if (event && event.type === "keydown") {
                this._close();
            } else {
                this.timer = this._delay(function() {
                    this._close();
                }, this.delay);
            }
            nested = item.children(".ui-menu");
            if (nested.length && event && (/^mouse/.test(event.type))) {
                this._startOpening(nested);
            }
            this.activeMenu = item.parent();
            this._trigger("focus", event, {
                item: item
            });
        },
        _scrollIntoView: function(item) {
            var borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;
            if (this._hasScroll()) {
                borderTop = parseFloat($.css(this.activeMenu[0], "borderTopWidth")) || 0;
                paddingTop = parseFloat($.css(this.activeMenu[0], "paddingTop")) || 0;
                offset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;
                scroll = this.activeMenu.scrollTop();
                elementHeight = this.activeMenu.height();
                itemHeight = item.outerHeight();
                if (offset < 0) {
                    this.activeMenu.scrollTop(scroll + offset);
                } else if (offset + itemHeight > elementHeight) {
                    this.activeMenu.scrollTop(scroll + offset - elementHeight + itemHeight);
                }
            }
        },
        blur: function(event, fromFocus) {
            if (!fromFocus) {
                clearTimeout(this.timer);
            }
            if (!this.active) {
                return;
            }
            this.active.removeClass("ui-state-focus");
            this.active = null;
            this._trigger("blur", event, {
                item: this.active
            });
        },
        _startOpening: function(submenu) {
            clearTimeout(this.timer);
            if (submenu.attr("aria-hidden") !== "true") {
                return;
            }
            this.timer = this._delay(function() {
                this._close();
                this._open(submenu);
            }, this.delay);
        },
        _open: function(submenu) {
            var position = $.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer);
            this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden", "true");
            submenu.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(position);
        },
        collapseAll: function(event, all) {
            clearTimeout(this.timer);
            this.timer = this._delay(function() {
                var currentMenu = all ? this.element : $(event && event.target).closest(this.element.find(".ui-menu"));
                if (!currentMenu.length) {
                    currentMenu = this.element;
                }
                this._close(currentMenu);
                this.blur(event);
                this.activeMenu = currentMenu;
            }, this.delay);
        },
        _close: function(startMenu) {
            if (!startMenu) {
                startMenu = this.active ? this.active.parent() : this.element;
            }
            startMenu.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active");
        },
        _closeOnDocumentClick: function(event) {
            return !$(event.target).closest(".ui-menu").length;
        },
        _isDivider: function(item) {
            return !/[^\-\u2014\u2013\s]/.test(item.text());
        },
        collapse: function(event) {
            var newItem = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            if (newItem && newItem.length) {
                this._close();
                this.focus(event, newItem);
            }
        },
        expand: function(event) {
            var newItem = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
            if (newItem && newItem.length) {
                this._open(newItem.parent());
                this._delay(function() {
                    this.focus(event, newItem);
                });
            }
        },
        next: function(event) {
            this._move("next", "first", event);
        },
        previous: function(event) {
            this._move("prev", "last", event);
        },
        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length;
        },
        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length;
        },
        _move: function(direction, filter, event) {
            var next;
            if (this.active) {
                if (direction === "first" || direction === "last") {
                    next = this.active[direction === "first" ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1);
                } else {
                    next = this.active[direction + "All"](".ui-menu-item").eq(0);
                }
            }
            if (!next || !next.length || !this.active) {
                next = this.activeMenu.find(this.options.items)[filter]();
            }
            this.focus(event, next);
        },
        nextPage: function(event) {
            var item, base, height;
            if (!this.active) {
                this.next(event);
                return;
            }
            if (this.isLastItem()) {
                return;
            }
            if (this._hasScroll()) {
                base = this.active.offset().top;
                height = this.element.height();
                this.active.nextAll(".ui-menu-item").each(function() {
                    item = $(this);
                    return item.offset().top - base - height < 0;
                });
                this.focus(event, item);
            } else {
                this.focus(event, this.activeMenu.find(this.options.items)[!this.active ? "first" : "last"]());
            }
        },
        previousPage: function(event) {
            var item, base, height;
            if (!this.active) {
                this.next(event);
                return;
            }
            if (this.isFirstItem()) {
                return;
            }
            if (this._hasScroll()) {
                base = this.active.offset().top;
                height = this.element.height();
                this.active.prevAll(".ui-menu-item").each(function() {
                    item = $(this);
                    return item.offset().top - base + height > 0;
                });
                this.focus(event, item);
            } else {
                this.focus(event, this.activeMenu.find(this.options.items).first());
            }
        },
        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight");
        },
        select: function(event) {
            this.active = this.active || $(event.target).closest(".ui-menu-item");
            var ui = {
                item: this.active
            };
            if (!this.active.has(".ui-menu").length) {
                this.collapseAll(event, true);
            }
            this._trigger("select", event, ui);
        }
    });
    $.widget("ui.autocomplete", {
        version: "1.11.0",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: false,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
            var suppressKeyPress, suppressKeyPressRepeat, suppressInput, nodeName = this.element[0].nodeName.toLowerCase(), isTextarea = nodeName === "textarea", isInput = nodeName === "input";
            this.isMultiLine = isTextarea ? true : isInput ? false : this.element.prop("isContentEditable");
            this.valueMethod = this.element[isTextarea || isInput ? "val" : "text"];
            this.isNewMenu = true;
            this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off");
            this._on(this.element, {
                keydown: function(event) {
                    if (this.element.prop("readOnly")) {
                        suppressKeyPress = true;
                        suppressInput = true;
                        suppressKeyPressRepeat = true;
                        return;
                    }
                    suppressKeyPress = false;
                    suppressInput = false;
                    suppressKeyPressRepeat = false;
                    var keyCode = $.ui.keyCode;
                    switch (event.keyCode) {
                    case keyCode.PAGE_UP:
                        suppressKeyPress = true;
                        this._move("previousPage", event);
                        break;
                    case keyCode.PAGE_DOWN:
                        suppressKeyPress = true;
                        this._move("nextPage", event);
                        break;
                    case keyCode.UP:
                        suppressKeyPress = true;
                        this._keyEvent("previous", event);
                        break;
                    case keyCode.DOWN:
                        suppressKeyPress = true;
                        this._keyEvent("next", event);
                        break;
                    case keyCode.ENTER:
                        if (this.menu.active) {
                            suppressKeyPress = true;
                            event.preventDefault();
                            this.menu.select(event);
                        }
                        break;
                    case keyCode.TAB:
                        if (this.menu.active) {
                            this.menu.select(event);
                        }
                        break;
                    case keyCode.ESCAPE:
                        if (this.menu.element.is(":visible")) {
                            this._value(this.term);
                            this.close(event);
                            event.preventDefault();
                        }
                        break;
                    default:
                        suppressKeyPressRepeat = true;
                        this._searchTimeout(event);
                        break;
                    }
                },
                keypress: function(event) {
                    if (suppressKeyPress) {
                        suppressKeyPress = false;
                        if (!this.isMultiLine || this.menu.element.is(":visible")) {
                            event.preventDefault();
                        }
                        return;
                    }
                    if (suppressKeyPressRepeat) {
                        return;
                    }
                    var keyCode = $.ui.keyCode;
                    switch (event.keyCode) {
                    case keyCode.PAGE_UP:
                        this._move("previousPage", event);
                        break;
                    case keyCode.PAGE_DOWN:
                        this._move("nextPage", event);
                        break;
                    case keyCode.UP:
                        this._keyEvent("previous", event);
                        break;
                    case keyCode.DOWN:
                        this._keyEvent("next", event);
                        break;
                    }
                },
                input: function(event) {
                    if (suppressInput) {
                        suppressInput = false;
                        event.preventDefault();
                        return;
                    }
                    this._searchTimeout(event);
                },
                focus: function() {
                    this.selectedItem = null;
                    this.previous = this._value();
                },
                blur: function(event) {
                    if (this.cancelBlur) {
                        delete this.cancelBlur;
                        return;
                    }
                    clearTimeout(this.searching);
                    this.close(event);
                    this._change(event);
                }
            });
            this._initSource();
            this.menu = $("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                role: null
            }).hide().menu("instance");
            this._on(this.menu.element, {
                mousedown: function(event) {
                    event.preventDefault();
                    this.cancelBlur = true;
                    this._delay(function() {
                        delete this.cancelBlur;
                    });
                    var menuElement = this.menu.element[0];
                    if (!$(event.target).closest(".ui-menu-item").length) {
                        this._delay(function() {
                            var that = this;
                            this.document.one("mousedown", function(event) {
                                if (event.target !== that.element[0] && event.target !== menuElement && !$.contains(menuElement, event.target)) {
                                    that.close();
                                }
                            });
                        });
                    }
                },
                menufocus: function(event, ui) {
                    var label, item;
                    if (this.isNewMenu) {
                        this.isNewMenu = false;
                        if (event.originalEvent && /^mouse/.test(event.originalEvent.type)) {
                            this.menu.blur();
                            this.document.one("mousemove", function() {
                                $(event.target).trigger(event.originalEvent);
                            });
                            return;
                        }
                    }
                    item = ui.item.data("ui-autocomplete-item");
                    if (false !== this._trigger("focus", event, {
                        item: item
                    })) {
                        if (event.originalEvent && /^key/.test(event.originalEvent.type)) {
                            this._value(item.value);
                        }
                    }
                    label = ui.item.attr("aria-label") || item.value;
                    if (label && jQuery.trim(label).length) {
                        this.liveRegion.children().hide();
                        $("<div>").text(label).appendTo(this.liveRegion);
                    }
                },
                menuselect: function(event, ui) {
                    var item = ui.item.data("ui-autocomplete-item")
                      , previous = this.previous;
                    if (this.element[0] !== this.document[0].activeElement) {
                        this.element.focus();
                        this.previous = previous;
                        this._delay(function() {
                            this.previous = previous;
                            this.selectedItem = item;
                        });
                    }
                    if (false !== this._trigger("select", event, {
                        item: item
                    })) {
                        this._value(item.value);
                    }
                    this.term = this._value();
                    this.close(event);
                    this.selectedItem = item;
                }
            });
            this.liveRegion = $("<span>", {
                role: "status",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete");
                }
            });
        },
        _destroy: function() {
            clearTimeout(this.searching);
            this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");
            this.menu.element.remove();
            this.liveRegion.remove();
        },
        _setOption: function(key, value) {
            this._super(key, value);
            if (key === "source") {
                this._initSource();
            }
            if (key === "appendTo") {
                this.menu.element.appendTo(this._appendTo());
            }
            if (key === "disabled" && value && this.xhr) {
                this.xhr.abort();
            }
        },
        _appendTo: function() {
            var element = this.options.appendTo;
            if (element) {
                element = element.jquery || element.nodeType ? $(element) : this.document.find(element).eq(0);
            }
            if (!element || !element[0]) {
                element = this.element.closest(".ui-front");
            }
            if (!element.length) {
                element = this.document[0].body;
            }
            return element;
        },
        _initSource: function() {
            var array, url, that = this;
            if ($.isArray(this.options.source)) {
                array = this.options.source;
                this.source = function(request, response) {
                    response($.ui.autocomplete.filter(array, request.term));
                }
                ;
            } else if (typeof this.options.source === "string") {
                url = this.options.source;
                this.source = function(request, response) {
                    if (that.xhr) {
                        that.xhr.abort();
                    }
                    that.xhr = $.ajax({
                        url: url,
                        data: request,
                        dataType: "json",
                        success: function(data) {
                            response(data);
                        },
                        error: function() {
                            response([]);
                        }
                    });
                }
                ;
            } else {
                this.source = this.options.source;
            }
        },
        _searchTimeout: function(event) {
            clearTimeout(this.searching);
            this.searching = this._delay(function() {
                var equalValues = this.term === this._value()
                  , menuVisible = this.menu.element.is(":visible")
                  , modifierKey = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;
                if (!equalValues || (equalValues && !menuVisible && !modifierKey)) {
                    this.selectedItem = null;
                    this.search(null, event);
                }
            }, this.options.delay);
        },
        search: function(value, event) {
            value = value != null ? value : this._value();
            this.term = this._value();
            if (value.length < this.options.minLength) {
                return this.close(event);
            }
            if (this._trigger("search", event) === false) {
                return;
            }
            return this._search(value);
        },
        _search: function(value) {
            this.pending++;
            this.element.addClass("ui-autocomplete-loading");
            this.cancelSearch = false;
            this.source({
                term: value
            }, this._response());
        },
        _response: function() {
            var index = ++this.requestIndex;
            return $.proxy(function(content) {
                if (index === this.requestIndex) {
                    this.__response(content);
                }
                this.pending--;
                if (!this.pending) {
                    this.element.removeClass("ui-autocomplete-loading");
                }
            }, this);
        },
        __response: function(content) {
            if (content) {
                content = this._normalize(content);
            }
            this._trigger("response", null, {
                content: content
            });
            if (!this.options.disabled && content && content.length && !this.cancelSearch) {
                this._suggest(content);
                this._trigger("open");
            } else {
                this._close();
            }
        },
        close: function(event) {
            this.cancelSearch = true;
            this._close(event);
        },
        _close: function(event) {
            if (this.menu.element.is(":visible")) {
                this.menu.element.hide();
                this.menu.blur();
                this.isNewMenu = true;
                this._trigger("close", event);
            }
        },
        _change: function(event) {
            if (this.previous !== this._value()) {
                this._trigger("change", event, {
                    item: this.selectedItem
                });
            }
        },
        _normalize: function(items) {
            if (items.length && items[0].label && items[0].value) {
                return items;
            }
            return $.map(items, function(item) {
                if (typeof item === "string") {
                    return {
                        label: item,
                        value: item
                    };
                }
                return $.extend({}, item, {
                    label: item.label || item.value,
                    value: item.value || item.label
                });
            });
        },
        _suggest: function(items) {
            var ul = this.menu.element.empty();
            this._renderMenu(ul, items);
            this.isNewMenu = true;
            this.menu.refresh();
            ul.show();
            this._resizeMenu();
            ul.position($.extend({
                of: this.element
            }, this.options.position));
            if (this.options.autoFocus) {
                this.menu.next();
            }
        },
        _resizeMenu: function() {
            var ul = this.menu.element;
            ul.outerWidth(Math.max(ul.width("").outerWidth() + 1, this.element.outerWidth()));
        },
        _renderMenu: function(ul, items) {
            var that = this;
            $.each(items, function(index, item) {
                that._renderItemData(ul, item);
            });
        },
        _renderItemData: function(ul, item) {
            return this._renderItem(ul, item).data("ui-autocomplete-item", item);
        },
        _renderItem: function(ul, item) {
            return $("<li>").text(item.label).appendTo(ul);
        },
        _move: function(direction, event) {
            if (!this.menu.element.is(":visible")) {
                this.search(null, event);
                return;
            }
            if (this.menu.isFirstItem() && /^previous/.test(direction) || this.menu.isLastItem() && /^next/.test(direction)) {
                if (!this.isMultiLine) {
                    this._value(this.term);
                }
                this.menu.blur();
                return;
            }
            this.menu[direction](event);
        },
        widget: function() {
            return this.menu.element;
        },
        _value: function() {
            return this.valueMethod.apply(this.element, arguments);
        },
        _keyEvent: function(keyEvent, event) {
            if (!this.isMultiLine || this.menu.element.is(":visible")) {
                this._move(keyEvent, event);
                event.preventDefault();
            }
        }
    });
    $.extend($.ui.autocomplete, {
        escapeRegex: function(value) {
            return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
        },
        filter: function(array, term) {
            var matcher = new RegExp($.ui.autocomplete.escapeRegex(term),"i");
            return $.grep(array, function(value) {
                return matcher.test(value.label || value.value || value);
            });
        }
    });
    $.widget("ui.autocomplete", $.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function(amount) {
                    return amount + (amount > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate.";
                }
            }
        },
        __response: function(content) {
            var message;
            this._superApply(arguments);
            if (this.options.disabled || this.cancelSearch) {
                return;
            }
            if (content && content.length) {
                message = this.options.messages.results(content.length);
            } else {
                message = this.options.messages.noResults;
            }
            this.liveRegion.children().hide();
            $("<div>").text(message).appendTo(this.liveRegion);
        }
    });
    var autocomplete = $.ui.autocomplete;
    var lastActive, baseClasses = "ui-button ui-widget ui-state-default ui-corner-all", typeClasses = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", formResetHandler = function() {
        var form = $(this);
        setTimeout(function() {
            form.find(":ui-button").button("refresh");
        }, 1);
    }, radioGroup = function(radio) {
        var name = radio.name
          , form = radio.form
          , radios = $([]);
        if (name) {
            name = name.replace(/'/g, "\\'");
            if (form) {
                radios = $(form).find("[name='" + name + "'][type=radio]");
            } else {
                radios = $("[name='" + name + "'][type=radio]", radio.ownerDocument).filter(function() {
                    return !this.form;
                });
            }
        }
        return radios;
    };
    $.widget("ui.button", {
        version: "1.11.0",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: true,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, formResetHandler);
            if (typeof this.options.disabled !== "boolean") {
                this.options.disabled = !!this.element.prop("disabled");
            } else {
                this.element.prop("disabled", this.options.disabled);
            }
            this._determineButtonType();
            this.hasTitle = !!this.buttonElement.attr("title");
            var that = this
              , options = this.options
              , toggleButton = this.type === "checkbox" || this.type === "radio"
              , activeClass = !toggleButton ? "ui-state-active" : "";
            if (options.label === null) {
                options.label = (this.type === "input" ? this.buttonElement.val() : this.buttonElement.html());
            }
            this._hoverable(this.buttonElement);
            this.buttonElement.addClass(baseClasses).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                if (options.disabled) {
                    return;
                }
                if (this === lastActive) {
                    $(this).addClass("ui-state-active");
                }
            }).bind("mouseleave" + this.eventNamespace, function() {
                if (options.disabled) {
                    return;
                }
                $(this).removeClass(activeClass);
            }).bind("click" + this.eventNamespace, function(event) {
                if (options.disabled) {
                    event.preventDefault();
                    event.stopImmediatePropagation();
                }
            });
            this._on({
                focus: function() {
                    this.buttonElement.addClass("ui-state-focus");
                },
                blur: function() {
                    this.buttonElement.removeClass("ui-state-focus");
                }
            });
            if (toggleButton) {
                this.element.bind("change" + this.eventNamespace, function() {
                    that.refresh();
                });
            }
            if (this.type === "checkbox") {
                this.buttonElement.bind("click" + this.eventNamespace, function() {
                    if (options.disabled) {
                        return false;
                    }
                });
            } else if (this.type === "radio") {
                this.buttonElement.bind("click" + this.eventNamespace, function() {
                    if (options.disabled) {
                        return false;
                    }
                    $(this).addClass("ui-state-active");
                    that.buttonElement.attr("aria-pressed", "true");
                    var radio = that.element[0];
                    radioGroup(radio).not(radio).map(function() {
                        return $(this).button("widget")[0];
                    }).removeClass("ui-state-active").attr("aria-pressed", "false");
                });
            } else {
                this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                    if (options.disabled) {
                        return false;
                    }
                    $(this).addClass("ui-state-active");
                    lastActive = this;
                    that.document.one("mouseup", function() {
                        lastActive = null;
                    });
                }).bind("mouseup" + this.eventNamespace, function() {
                    if (options.disabled) {
                        return false;
                    }
                    $(this).removeClass("ui-state-active");
                }).bind("keydown" + this.eventNamespace, function(event) {
                    if (options.disabled) {
                        return false;
                    }
                    if (event.keyCode === $.ui.keyCode.SPACE || event.keyCode === $.ui.keyCode.ENTER) {
                        $(this).addClass("ui-state-active");
                    }
                }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                    $(this).removeClass("ui-state-active");
                });
                if (this.buttonElement.is("a")) {
                    this.buttonElement.keyup(function(event) {
                        if (event.keyCode === $.ui.keyCode.SPACE) {
                            $(this).click();
                        }
                    });
                }
            }
            this._setOption("disabled", options.disabled);
            this._resetButton();
        },
        _determineButtonType: function() {
            var ancestor, labelSelector, checked;
            if (this.element.is("[type=checkbox]")) {
                this.type = "checkbox";
            } else if (this.element.is("[type=radio]")) {
                this.type = "radio";
            } else if (this.element.is("input")) {
                this.type = "input";
            } else {
                this.type = "button";
            }
            if (this.type === "checkbox" || this.type === "radio") {
                ancestor = this.element.parents().last();
                labelSelector = "label[for='" + this.element.attr("id") + "']";
                this.buttonElement = ancestor.find(labelSelector);
                if (!this.buttonElement.length) {
                    ancestor = ancestor.length ? ancestor.siblings() : this.element.siblings();
                    this.buttonElement = ancestor.filter(labelSelector);
                    if (!this.buttonElement.length) {
                        this.buttonElement = ancestor.find(labelSelector);
                    }
                }
                this.element.addClass("ui-helper-hidden-accessible");
                checked = this.element.is(":checked");
                if (checked) {
                    this.buttonElement.addClass("ui-state-active");
                }
                this.buttonElement.prop("aria-pressed", checked);
            } else {
                this.buttonElement = this.element;
            }
        },
        widget: function() {
            return this.buttonElement;
        },
        _destroy: function() {
            this.element.removeClass("ui-helper-hidden-accessible");
            this.buttonElement.removeClass(baseClasses + " ui-state-active " + typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
            if (!this.hasTitle) {
                this.buttonElement.removeAttr("title");
            }
        },
        _setOption: function(key, value) {
            this._super(key, value);
            if (key === "disabled") {
                this.widget().toggleClass("ui-state-disabled", !!value);
                this.element.prop("disabled", !!value);
                if (value) {
                    if (this.type === "checkbox" || this.type === "radio") {
                        this.buttonElement.removeClass("ui-state-focus");
                    } else {
                        this.buttonElement.removeClass("ui-state-focus ui-state-active");
                    }
                }
                return;
            }
            this._resetButton();
        },
        refresh: function() {
            var isDisabled = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            if (isDisabled !== this.options.disabled) {
                this._setOption("disabled", isDisabled);
            }
            if (this.type === "radio") {
                radioGroup(this.element[0]).each(function() {
                    if ($(this).is(":checked")) {
                        $(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true");
                    } else {
                        $(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false");
                    }
                });
            } else if (this.type === "checkbox") {
                if (this.element.is(":checked")) {
                    this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true");
                } else {
                    this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false");
                }
            }
        },
        _resetButton: function() {
            if (this.type === "input") {
                if (this.options.label) {
                    this.element.val(this.options.label);
                }
                return;
            }
            var buttonElement = this.buttonElement.removeClass(typeClasses)
              , buttonText = $("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text()
              , icons = this.options.icons
              , multipleIcons = icons.primary && icons.secondary
              , buttonClasses = [];
            if (icons.primary || icons.secondary) {
                if (this.options.text) {
                    buttonClasses.push("ui-button-text-icon" + (multipleIcons ? "s" : (icons.primary ? "-primary" : "-secondary")));
                }
                if (icons.primary) {
                    buttonElement.prepend("<span class='ui-button-icon-primary ui-icon " + icons.primary + "'></span>");
                }
                if (icons.secondary) {
                    buttonElement.append("<span class='ui-button-icon-secondary ui-icon " + icons.secondary + "'></span>");
                }
                if (!this.options.text) {
                    buttonClasses.push(multipleIcons ? "ui-button-icons-only" : "ui-button-icon-only");
                    if (!this.hasTitle) {
                        buttonElement.attr("title", $.trim(buttonText));
                    }
                }
            } else {
                buttonClasses.push("ui-button-text-only");
            }
            buttonElement.addClass(buttonClasses.join(" "));
        }
    });
    $.widget("ui.buttonset", {
        version: "1.11.0",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function() {
            this.element.addClass("ui-buttonset");
        },
        _init: function() {
            this.refresh();
        },
        _setOption: function(key, value) {
            if (key === "disabled") {
                this.buttons.button("option", key, value);
            }
            this._super(key, value);
        },
        refresh: function() {
            var rtl = this.element.css("direction") === "rtl"
              , allButtons = this.element.find(this.options.items)
              , existingButtons = allButtons.filter(":ui-button");
            allButtons.not(":ui-button").button();
            existingButtons.button("refresh");
            this.buttons = allButtons.map(function() {
                return $(this).button("widget")[0];
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(rtl ? "ui-corner-left" : "ui-corner-right").end().end();
        },
        _destroy: function() {
            this.element.removeClass("ui-buttonset");
            this.buttons.map(function() {
                return $(this).button("widget")[0];
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy");
        }
    });
    var button = $.ui.button;
    $.extend($.ui, {
        datepicker: {
            version: "1.11.0"
        }
    });
    var datepicker_instActive;
    function datepicker_getZindex(elem) {
        var position, value;
        while (elem.length && elem[0] !== document) {
            position = elem.css("position");
            if (position === "absolute" || position === "relative" || position === "fixed") {
                value = parseInt(elem.css("zIndex"), 10);
                if (!isNaN(value) && value !== 0) {
                    return value;
                }
            }
            elem = elem.parent();
        }
        return 0;
    }
    function Datepicker() {
        this._curInst = null;
        this._keyEvent = false;
        this._disabledInputs = [];
        this._datepickerShowing = false;
        this._inDialog = false;
        this._mainDivId = "ui-datepicker-div";
        this._inlineClass = "ui-datepicker-inline";
        this._appendClass = "ui-datepicker-append";
        this._triggerClass = "ui-datepicker-trigger";
        this._dialogClass = "ui-datepicker-dialog";
        this._disableClass = "ui-datepicker-disabled";
        this._unselectableClass = "ui-datepicker-unselectable";
        this._currentClass = "ui-datepicker-current-day";
        this._dayOverClass = "ui-datepicker-days-cell-over";
        this.regional = [];
        this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: false,
            showMonthAfterYear: false,
            yearSuffix: ""
        };
        this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: false,
            hideIfNoPrevNext: false,
            navigationAsDateFormat: false,
            gotoCurrent: false,
            changeMonth: false,
            changeYear: false,
            yearRange: "c-10:c+10",
            showOtherMonths: false,
            selectOtherMonths: false,
            showWeek: false,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: true,
            showButtonPanel: false,
            autoSize: false,
            disabled: false
        };
        $.extend(this._defaults, this.regional[""]);
        this.regional.en = $.extend(true, {}, this.regional[""]);
        this.regional["en-US"] = $.extend(true, {}, this.regional.en);
        this.dpDiv = datepicker_bindHover($("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
    }
    $.extend(Datepicker.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
            return this.dpDiv;
        },
        setDefaults: function(settings) {
            datepicker_extendRemove(this._defaults, settings || {});
            return this;
        },
        _attachDatepicker: function(target, settings) {
            var nodeName, inline, inst;
            nodeName = target.nodeName.toLowerCase();
            inline = (nodeName === "div" || nodeName === "span");
            if (!target.id) {
                this.uuid += 1;
                target.id = "dp" + this.uuid;
            }
            inst = this._newInst($(target), inline);
            inst.settings = $.extend({}, settings || {});
            if (nodeName === "input") {
                this._connectDatepicker(target, inst);
            } else if (inline) {
                this._inlineDatepicker(target, inst);
            }
        },
        _newInst: function(target, inline) {
            var id = target[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
            return {
                id: id,
                input: target,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: inline,
                dpDiv: (!inline ? this.dpDiv : datepicker_bindHover($("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))
            };
        },
        _connectDatepicker: function(target, inst) {
            var input = $(target);
            inst.append = $([]);
            inst.trigger = $([]);
            if (input.hasClass(this.markerClassName)) {
                return;
            }
            this._attachments(input, inst);
            input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);
            this._autoSize(inst);
            $.data(target, "datepicker", inst);
            if (inst.settings.disabled) {
                this._disableDatepicker(target);
            }
        },
        _attachments: function(input, inst) {
            var showOn, buttonText, buttonImage, appendText = this._get(inst, "appendText"), isRTL = this._get(inst, "isRTL");
            if (inst.append) {
                inst.append.remove();
            }
            if (appendText) {
                inst.append = $("<span class='" + this._appendClass + "'>" + appendText + "</span>");
                input[isRTL ? "before" : "after"](inst.append);
            }
            input.unbind("focus", this._showDatepicker);
            if (inst.trigger) {
                inst.trigger.remove();
            }
            showOn = this._get(inst, "showOn");
            if (showOn === "focus" || showOn === "both") {
                input.focus(this._showDatepicker);
            }
            if (showOn === "button" || showOn === "both") {
                buttonText = this._get(inst, "buttonText");
                buttonImage = this._get(inst, "buttonImage");
                inst.trigger = $(this._get(inst, "buttonImageOnly") ? $("<img/>").addClass(this._triggerClass).attr({
                    src: buttonImage,
                    alt: buttonText,
                    title: buttonText
                }) : $("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage ? buttonText : $("<img/>").attr({
                    src: buttonImage,
                    alt: buttonText,
                    title: buttonText
                })));
                input[isRTL ? "before" : "after"](inst.trigger);
                inst.trigger.click(function() {
                    if ($.datepicker._datepickerShowing && $.datepicker._lastInput === input[0]) {
                        $.datepicker._hideDatepicker();
                    } else if ($.datepicker._datepickerShowing && $.datepicker._lastInput !== input[0]) {
                        $.datepicker._hideDatepicker();
                        $.datepicker._showDatepicker(input[0]);
                    } else {
                        $.datepicker._showDatepicker(input[0]);
                    }
                    return false;
                });
            }
        },
        _autoSize: function(inst) {
            if (this._get(inst, "autoSize") && !inst.inline) {
                var findMax, max, maxI, i, date = new Date(2009,12 - 1,20), dateFormat = this._get(inst, "dateFormat");
                if (dateFormat.match(/[DM]/)) {
                    findMax = function(names) {
                        max = 0;
                        maxI = 0;
                        for (i = 0; i < names.length; i++) {
                            if (names[i].length > max) {
                                max = names[i].length;
                                maxI = i;
                            }
                        }
                        return maxI;
                    }
                    ;
                    date.setMonth(findMax(this._get(inst, (dateFormat.match(/MM/) ? "monthNames" : "monthNamesShort"))));
                    date.setDate(findMax(this._get(inst, (dateFormat.match(/DD/) ? "dayNames" : "dayNamesShort"))) + 20 - date.getDay());
                }
                inst.input.attr("size", this._formatDate(inst, date).length);
            }
        },
        _inlineDatepicker: function(target, inst) {
            var divSpan = $(target);
            if (divSpan.hasClass(this.markerClassName)) {
                return;
            }
            divSpan.addClass(this.markerClassName).append(inst.dpDiv);
            $.data(target, "datepicker", inst);
            this._setDate(inst, this._getDefaultDate(inst), true);
            this._updateDatepicker(inst);
            this._updateAlternate(inst);
            if (inst.settings.disabled) {
                this._disableDatepicker(target);
            }
            inst.dpDiv.css("display", "block");
        },
        _dialogDatepicker: function(input, date, onSelect, settings, pos) {
            var id, browserWidth, browserHeight, scrollX, scrollY, inst = this._dialogInst;
            if (!inst) {
                this.uuid += 1;
                id = "dp" + this.uuid;
                this._dialogInput = $("<input type='text' id='" + id + "' style='position: absolute; top: -100px; width: 0px;'/>");
                this._dialogInput.keydown(this._doKeyDown);
                $("body").append(this._dialogInput);
                inst = this._dialogInst = this._newInst(this._dialogInput, false);
                inst.settings = {};
                $.data(this._dialogInput[0], "datepicker", inst);
            }
            datepicker_extendRemove(inst.settings, settings || {});
            date = (date && date.constructor === Date ? this._formatDate(inst, date) : date);
            this._dialogInput.val(date);
            this._pos = (pos ? (pos.length ? pos : [pos.pageX, pos.pageY]) : null);
            if (!this._pos) {
                browserWidth = document.documentElement.clientWidth;
                browserHeight = document.documentElement.clientHeight;
                scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
                scrollY = document.documentElement.scrollTop || document.body.scrollTop;
                this._pos = [(browserWidth / 2) - 100 + scrollX, (browserHeight / 2) - 150 + scrollY];
            }
            this._dialogInput.css("left", (this._pos[0] + 20) + "px").css("top", this._pos[1] + "px");
            inst.settings.onSelect = onSelect;
            this._inDialog = true;
            this.dpDiv.addClass(this._dialogClass);
            this._showDatepicker(this._dialogInput[0]);
            if ($.blockUI) {
                $.blockUI(this.dpDiv);
            }
            $.data(this._dialogInput[0], "datepicker", inst);
            return this;
        },
        _destroyDatepicker: function(target) {
            var nodeName, $target = $(target), inst = $.data(target, "datepicker");
            if (!$target.hasClass(this.markerClassName)) {
                return;
            }
            nodeName = target.nodeName.toLowerCase();
            $.removeData(target, "datepicker");
            if (nodeName === "input") {
                inst.append.remove();
                inst.trigger.remove();
                $target.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp);
            } else if (nodeName === "div" || nodeName === "span") {
                $target.removeClass(this.markerClassName).empty();
            }
        },
        _enableDatepicker: function(target) {
            var nodeName, inline, $target = $(target), inst = $.data(target, "datepicker");
            if (!$target.hasClass(this.markerClassName)) {
                return;
            }
            nodeName = target.nodeName.toLowerCase();
            if (nodeName === "input") {
                target.disabled = false;
                inst.trigger.filter("button").each(function() {
                    this.disabled = false;
                }).end().filter("img").css({
                    opacity: "1.0",
                    cursor: ""
                });
            } else if (nodeName === "div" || nodeName === "span") {
                inline = $target.children("." + this._inlineClass);
                inline.children().removeClass("ui-state-disabled");
                inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", false);
            }
            this._disabledInputs = $.map(this._disabledInputs, function(value) {
                return (value === target ? null : value);
            });
        },
        _disableDatepicker: function(target) {
            var nodeName, inline, $target = $(target), inst = $.data(target, "datepicker");
            if (!$target.hasClass(this.markerClassName)) {
                return;
            }
            nodeName = target.nodeName.toLowerCase();
            if (nodeName === "input") {
                target.disabled = true;
                inst.trigger.filter("button").each(function() {
                    this.disabled = true;
                }).end().filter("img").css({
                    opacity: "0.5",
                    cursor: "default"
                });
            } else if (nodeName === "div" || nodeName === "span") {
                inline = $target.children("." + this._inlineClass);
                inline.children().addClass("ui-state-disabled");
                inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", true);
            }
            this._disabledInputs = $.map(this._disabledInputs, function(value) {
                return (value === target ? null : value);
            });
            this._disabledInputs[this._disabledInputs.length] = target;
        },
        _isDisabledDatepicker: function(target) {
            if (!target) {
                return false;
            }
            for (var i = 0; i < this._disabledInputs.length; i++) {
                if (this._disabledInputs[i] === target) {
                    return true;
                }
            }
            return false;
        },
        _getInst: function(target) {
            try {
                return $.data(target, "datepicker");
            } catch (err) {
                throw "Missing instance data for this datepicker";
            }
        },
        _optionDatepicker: function(target, name, value) {
            var settings, date, minDate, maxDate, inst = this._getInst(target);
            if (arguments.length === 2 && typeof name === "string") {
                return (name === "defaults" ? $.extend({}, $.datepicker._defaults) : (inst ? (name === "all" ? $.extend({}, inst.settings) : this._get(inst, name)) : null));
            }
            settings = name || {};
            if (typeof name === "string") {
                settings = {};
                settings[name] = value;
            }
            if (inst) {
                if (this._curInst === inst) {
                    this._hideDatepicker();
                }
                date = this._getDateDatepicker(target, true);
                minDate = this._getMinMaxDate(inst, "min");
                maxDate = this._getMinMaxDate(inst, "max");
                datepicker_extendRemove(inst.settings, settings);
                if (minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined) {
                    inst.settings.minDate = this._formatDate(inst, minDate);
                }
                if (maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined) {
                    inst.settings.maxDate = this._formatDate(inst, maxDate);
                }
                if ("disabled"in settings) {
                    if (settings.disabled) {
                        this._disableDatepicker(target);
                    } else {
                        this._enableDatepicker(target);
                    }
                }
                this._attachments($(target), inst);
                this._autoSize(inst);
                this._setDate(inst, date);
                this._updateAlternate(inst);
                this._updateDatepicker(inst);
            }
        },
        _changeDatepicker: function(target, name, value) {
            this._optionDatepicker(target, name, value);
        },
        _refreshDatepicker: function(target) {
            var inst = this._getInst(target);
            if (inst) {
                this._updateDatepicker(inst);
            }
        },
        _setDateDatepicker: function(target, date) {
            var inst = this._getInst(target);
            if (inst) {
                this._setDate(inst, date);
                this._updateDatepicker(inst);
                this._updateAlternate(inst);
            }
        },
        _getDateDatepicker: function(target, noDefault) {
            var inst = this._getInst(target);
            if (inst && !inst.inline) {
                this._setDateFromField(inst, noDefault);
            }
            return (inst ? this._getDate(inst) : null);
        },
        _doKeyDown: function(event) {
            var onSelect, dateStr, sel, inst = $.datepicker._getInst(event.target), handled = true, isRTL = inst.dpDiv.is(".ui-datepicker-rtl");
            inst._keyEvent = true;
            if ($.datepicker._datepickerShowing) {
                switch (event.keyCode) {
                case 9:
                    $.datepicker._hideDatepicker();
                    handled = false;
                    break;
                case 13:
                    sel = $("td." + $.datepicker._dayOverClass + ":not(." + $.datepicker._currentClass + ")", inst.dpDiv);
                    if (sel[0]) {
                        $.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0]);
                    }
                    onSelect = $.datepicker._get(inst, "onSelect");
                    if (onSelect) {
                        dateStr = $.datepicker._formatDate(inst);
                        onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);
                    } else {
                        $.datepicker._hideDatepicker();
                    }
                    return false;
                case 27:
                    $.datepicker._hideDatepicker();
                    break;
                case 33:
                    $.datepicker._adjustDate(event.target, (event.ctrlKey ? -$.datepicker._get(inst, "stepBigMonths") : -$.datepicker._get(inst, "stepMonths")), "M");
                    break;
                case 34:
                    $.datepicker._adjustDate(event.target, (event.ctrlKey ? +$.datepicker._get(inst, "stepBigMonths") : +$.datepicker._get(inst, "stepMonths")), "M");
                    break;
                case 35:
                    if (event.ctrlKey || event.metaKey) {
                        $.datepicker._clearDate(event.target);
                    }
                    handled = event.ctrlKey || event.metaKey;
                    break;
                case 36:
                    if (event.ctrlKey || event.metaKey) {
                        $.datepicker._gotoToday(event.target);
                    }
                    handled = event.ctrlKey || event.metaKey;
                    break;
                case 37:
                    if (event.ctrlKey || event.metaKey) {
                        $.datepicker._adjustDate(event.target, (isRTL ? +1 : -1), "D");
                    }
                    handled = event.ctrlKey || event.metaKey;
                    if (event.originalEvent.altKey) {
                        $.datepicker._adjustDate(event.target, (event.ctrlKey ? -$.datepicker._get(inst, "stepBigMonths") : -$.datepicker._get(inst, "stepMonths")), "M");
                    }
                    break;
                case 38:
                    if (event.ctrlKey || event.metaKey) {
                        $.datepicker._adjustDate(event.target, -7, "D");
                    }
                    handled = event.ctrlKey || event.metaKey;
                    break;
                case 39:
                    if (event.ctrlKey || event.metaKey) {
                        $.datepicker._adjustDate(event.target, (isRTL ? -1 : +1), "D");
                    }
                    handled = event.ctrlKey || event.metaKey;
                    if (event.originalEvent.altKey) {
                        $.datepicker._adjustDate(event.target, (event.ctrlKey ? +$.datepicker._get(inst, "stepBigMonths") : +$.datepicker._get(inst, "stepMonths")), "M");
                    }
                    break;
                case 40:
                    if (event.ctrlKey || event.metaKey) {
                        $.datepicker._adjustDate(event.target, +7, "D");
                    }
                    handled = event.ctrlKey || event.metaKey;
                    break;
                default:
                    handled = false;
                }
            } else if (event.keyCode === 36 && event.ctrlKey) {
                $.datepicker._showDatepicker(this);
            } else {
                handled = false;
            }
            if (handled) {
                event.preventDefault();
                event.stopPropagation();
            }
        },
        _doKeyPress: function(event) {
            var chars, chr, inst = $.datepicker._getInst(event.target);
            if ($.datepicker._get(inst, "constrainInput")) {
                chars = $.datepicker._possibleChars($.datepicker._get(inst, "dateFormat"));
                chr = String.fromCharCode(event.charCode == null ? event.keyCode : event.charCode);
                return event.ctrlKey || event.metaKey || (chr < " " || !chars || chars.indexOf(chr) > -1);
            }
        },
        _doKeyUp: function(event) {
            var date, inst = $.datepicker._getInst(event.target);
            if (inst.input.val() !== inst.lastVal) {
                try {
                    date = $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"), (inst.input ? inst.input.val() : null), $.datepicker._getFormatConfig(inst));
                    if (date) {
                        $.datepicker._setDateFromField(inst);
                        $.datepicker._updateAlternate(inst);
                        $.datepicker._updateDatepicker(inst);
                    }
                } catch (err) {}
            }
            return true;
        },
        _showDatepicker: function(input) {
            input = input.target || input;
            if (input.nodeName.toLowerCase() !== "input") {
                input = $("input", input.parentNode)[0];
            }
            if ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput === input) {
                return;
            }
            var inst, beforeShow, beforeShowSettings, isFixed, offset, showAnim, duration;
            inst = $.datepicker._getInst(input);
            if ($.datepicker._curInst && $.datepicker._curInst !== inst) {
                $.datepicker._curInst.dpDiv.stop(true, true);
                if (inst && $.datepicker._datepickerShowing) {
                    $.datepicker._hideDatepicker($.datepicker._curInst.input[0]);
                }
            }
            beforeShow = $.datepicker._get(inst, "beforeShow");
            beforeShowSettings = beforeShow ? beforeShow.apply(input, [input, inst]) : {};
            if (beforeShowSettings === false) {
                return;
            }
            datepicker_extendRemove(inst.settings, beforeShowSettings);
            inst.lastVal = null;
            $.datepicker._lastInput = input;
            $.datepicker._setDateFromField(inst);
            if ($.datepicker._inDialog) {
                input.value = "";
            }
            if (!$.datepicker._pos) {
                $.datepicker._pos = $.datepicker._findPos(input);
                $.datepicker._pos[1] += input.offsetHeight;
            }
            isFixed = false;
            $(input).parents().each(function() {
                isFixed |= $(this).css("position") === "fixed";
                return !isFixed;
            });
            offset = {
                left: $.datepicker._pos[0],
                top: $.datepicker._pos[1]
            };
            $.datepicker._pos = null;
            inst.dpDiv.empty();
            inst.dpDiv.css({
                position: "absolute",
                display: "block",
                top: "-1000px"
            });
            $.datepicker._updateDatepicker(inst);
            offset = $.datepicker._checkOffset(inst, offset, isFixed);
            inst.dpDiv.css({
                position: ($.datepicker._inDialog && $.blockUI ? "static" : (isFixed ? "fixed" : "absolute")),
                display: "none",
                left: offset.left + "px",
                top: offset.top + "px"
            });
            if (!inst.inline) {
                showAnim = $.datepicker._get(inst, "showAnim");
                duration = $.datepicker._get(inst, "duration");
                inst.dpDiv.css("z-index", datepicker_getZindex($(input)) + 1);
                $.datepicker._datepickerShowing = true;
                if ($.effects && $.effects.effect[showAnim]) {
                    inst.dpDiv.show(showAnim, $.datepicker._get(inst, "showOptions"), duration);
                } else {
                    inst.dpDiv[showAnim || "show"](showAnim ? duration : null);
                }
                if ($.datepicker._shouldFocusInput(inst)) {
                    inst.input.focus();
                }
                $.datepicker._curInst = inst;
            }
        },
        _updateDatepicker: function(inst) {
            this.maxRows = 4;
            datepicker_instActive = inst;
            inst.dpDiv.empty().append(this._generateHTML(inst));
            this._attachHandlers(inst);
            inst.dpDiv.find("." + this._dayOverClass + " a");
            var origyearshtml, numMonths = this._getNumberOfMonths(inst), cols = numMonths[1], width = 17;
            inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
            if (cols > 1) {
                inst.dpDiv.addClass("ui-datepicker-multi-" + cols).css("width", (width * cols) + "em");
            }
            inst.dpDiv[(numMonths[0] !== 1 || numMonths[1] !== 1 ? "add" : "remove") + "Class"]("ui-datepicker-multi");
            inst.dpDiv[(this._get(inst, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl");
            if (inst === $.datepicker._curInst && $.datepicker._datepickerShowing && $.datepicker._shouldFocusInput(inst)) {
                inst.input.focus();
            }
            if (inst.yearshtml) {
                origyearshtml = inst.yearshtml;
                setTimeout(function() {
                    if (origyearshtml === inst.yearshtml && inst.yearshtml) {
                        inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);
                    }
                    origyearshtml = inst.yearshtml = null;
                }, 0);
            }
        },
        _shouldFocusInput: function(inst) {
            return inst.input && inst.input.is(":visible") && !inst.input.is(":disabled") && !inst.input.is(":focus");
        },
        _checkOffset: function(inst, offset, isFixed) {
            var dpWidth = inst.dpDiv.outerWidth()
              , dpHeight = inst.dpDiv.outerHeight()
              , inputWidth = inst.input ? inst.input.outerWidth() : 0
              , inputHeight = inst.input ? inst.input.outerHeight() : 0
              , viewWidth = document.documentElement.clientWidth + (isFixed ? 0 : $(document).scrollLeft())
              , viewHeight = document.documentElement.clientHeight + (isFixed ? 0 : $(document).scrollTop());
            offset.left -= (this._get(inst, "isRTL") ? (dpWidth - inputWidth) : 0);
            offset.left -= (isFixed && offset.left === inst.input.offset().left) ? $(document).scrollLeft() : 0;
            offset.top -= (isFixed && offset.top === (inst.input.offset().top + inputHeight)) ? $(document).scrollTop() : 0;
            offset.left -= Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ? Math.abs(offset.left + dpWidth - viewWidth) : 0);
            offset.top -= Math.min(offset.top, (offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ? Math.abs(dpHeight + inputHeight) : 0);
            return offset;
        },
        _findPos: function(obj) {
            var position, inst = this._getInst(obj), isRTL = this._get(inst, "isRTL");
            while (obj && (obj.type === "hidden" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {
                obj = obj[isRTL ? "previousSibling" : "nextSibling"];
            }
            position = $(obj).offset();
            return [position.left, position.top];
        },
        _hideDatepicker: function(input) {
            var showAnim, duration, postProcess, onClose, inst = this._curInst;
            if (!inst || (input && inst !== $.data(input, "datepicker"))) {
                return;
            }
            if (this._datepickerShowing) {
                showAnim = this._get(inst, "showAnim");
                duration = this._get(inst, "duration");
                postProcess = function() {
                    $.datepicker._tidyDialog(inst);
                }
                ;
                if ($.effects && ($.effects.effect[showAnim] || $.effects[showAnim])) {
                    inst.dpDiv.hide(showAnim, $.datepicker._get(inst, "showOptions"), duration, postProcess);
                } else {
                    inst.dpDiv[(showAnim === "slideDown" ? "slideUp" : (showAnim === "fadeIn" ? "fadeOut" : "hide"))]((showAnim ? duration : null), postProcess);
                }
                if (!showAnim) {
                    postProcess();
                }
                this._datepickerShowing = false;
                onClose = this._get(inst, "onClose");
                if (onClose) {
                    onClose.apply((inst.input ? inst.input[0] : null), [(inst.input ? inst.input.val() : ""), inst]);
                }
                this._lastInput = null;
                if (this._inDialog) {
                    this._dialogInput.css({
                        position: "absolute",
                        left: "0",
                        top: "-100px"
                    });
                    if ($.blockUI) {
                        $.unblockUI();
                        $("body").append(this.dpDiv);
                    }
                }
                this._inDialog = false;
            }
        },
        _tidyDialog: function(inst) {
            inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");
        },
        _checkExternalClick: function(event) {
            if (!$.datepicker._curInst) {
                return;
            }
            var $target = $(event.target)
              , inst = $.datepicker._getInst($target[0]);
            if ((($target[0].id !== $.datepicker._mainDivId && $target.parents("#" + $.datepicker._mainDivId).length === 0 && !$target.hasClass($.datepicker.markerClassName) && !$target.closest("." + $.datepicker._triggerClass).length && $.datepicker._datepickerShowing && !($.datepicker._inDialog && $.blockUI))) || ($target.hasClass($.datepicker.markerClassName) && $.datepicker._curInst !== inst)) {
                $.datepicker._hideDatepicker();
            }
        },
        _adjustDate: function(id, offset, period) {
            var target = $(id)
              , inst = this._getInst(target[0]);
            if (this._isDisabledDatepicker(target[0])) {
                return;
            }
            this._adjustInstDate(inst, offset + (period === "M" ? this._get(inst, "showCurrentAtPos") : 0), period);
            this._updateDatepicker(inst);
        },
        _gotoToday: function(id) {
            var date, target = $(id), inst = this._getInst(target[0]);
            if (this._get(inst, "gotoCurrent") && inst.currentDay) {
                inst.selectedDay = inst.currentDay;
                inst.drawMonth = inst.selectedMonth = inst.currentMonth;
                inst.drawYear = inst.selectedYear = inst.currentYear;
            } else {
                date = new Date();
                inst.selectedDay = date.getDate();
                inst.drawMonth = inst.selectedMonth = date.getMonth();
                inst.drawYear = inst.selectedYear = date.getFullYear();
            }
            this._notifyChange(inst);
            this._adjustDate(target);
        },
        _selectMonthYear: function(id, select, period) {
            var target = $(id)
              , inst = this._getInst(target[0]);
            inst["selected" + (period === "M" ? "Month" : "Year")] = inst["draw" + (period === "M" ? "Month" : "Year")] = parseInt(select.options[select.selectedIndex].value, 10);
            this._notifyChange(inst);
            this._adjustDate(target);
        },
        _selectDay: function(id, month, year, td) {
            var inst, target = $(id);
            if ($(td).hasClass(this._unselectableClass) || this._isDisabledDatepicker(target[0])) {
                return;
            }
            inst = this._getInst(target[0]);
            inst.selectedDay = inst.currentDay = $("a", td).html();
            inst.selectedMonth = inst.currentMonth = month;
            inst.selectedYear = inst.currentYear = year;
            this._selectDate(id, this._formatDate(inst, inst.currentDay, inst.currentMonth, inst.currentYear));
        },
        _clearDate: function(id) {
            var target = $(id);
            this._selectDate(target, "");
        },
        _selectDate: function(id, dateStr) {
            var onSelect, target = $(id), inst = this._getInst(target[0]);
            dateStr = (dateStr != null ? dateStr : this._formatDate(inst));
            if (inst.input) {
                inst.input.val(dateStr);
            }
            this._updateAlternate(inst);
            onSelect = this._get(inst, "onSelect");
            if (onSelect) {
                onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);
            } else if (inst.input) {
                inst.input.trigger("change");
            }
            if (inst.inline) {
                this._updateDatepicker(inst);
            } else {
                this._hideDatepicker();
                this._lastInput = inst.input[0];
                if (typeof (inst.input[0]) !== "object") {
                    inst.input.focus();
                }
                this._lastInput = null;
            }
        },
        _updateAlternate: function(inst) {
            var altFormat, date, dateStr, altField = this._get(inst, "altField");
            if (altField) {
                altFormat = this._get(inst, "altFormat") || this._get(inst, "dateFormat");
                date = this._getDate(inst);
                dateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst));
                $(altField).each(function() {
                    $(this).val(dateStr);
                });
            }
        },
        noWeekends: function(date) {
            var day = date.getDay();
            return [(day > 0 && day < 6), ""];
        },
        iso8601Week: function(date) {
            var time, checkDate = new Date(date.getTime());
            checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));
            time = checkDate.getTime();
            checkDate.setMonth(0);
            checkDate.setDate(1);
            return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
        },
        parseDate: function(format, value, settings) {
            if (format == null || value == null) {
                throw "Invalid arguments";
            }
            value = (typeof value === "object" ? value.toString() : value + "");
            if (value === "") {
                return null;
            }
            var iFormat, dim, extra, iValue = 0, shortYearCutoffTemp = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff, shortYearCutoff = (typeof shortYearCutoffTemp !== "string" ? shortYearCutoffTemp : new Date().getFullYear() % 100 + parseInt(shortYearCutoffTemp, 10)), dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort, dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames, monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort, monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames, year = -1, month = -1, day = -1, doy = -1, literal = false, date, lookAhead = function(match) {
                var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
                if (matches) {
                    iFormat++;
                }
                return matches;
            }, getNumber = function(match) {
                var isDoubled = lookAhead(match)
                  , size = (match === "@" ? 14 : (match === "!" ? 20 : (match === "y" && isDoubled ? 4 : (match === "o" ? 3 : 2))))
                  , digits = new RegExp("^\\d{1," + size + "}")
                  , num = value.substring(iValue).match(digits);
                if (!num) {
                    throw "Missing number at position " + iValue;
                }
                iValue += num[0].length;
                return parseInt(num[0], 10);
            }, getName = function(match, shortNames, longNames) {
                var index = -1
                  , names = $.map(lookAhead(match) ? longNames : shortNames, function(v, k) {
                    return [[k, v]];
                }).sort(function(a, b) {
                    return -(a[1].length - b[1].length);
                });
                $.each(names, function(i, pair) {
                    var name = pair[1];
                    if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {
                        index = pair[0];
                        iValue += name.length;
                        return false;
                    }
                });
                if (index !== -1) {
                    return index + 1;
                } else {
                    throw "Unknown name at position " + iValue;
                }
            }, checkLiteral = function() {
                if (value.charAt(iValue) !== format.charAt(iFormat)) {
                    throw "Unexpected literal at position " + iValue;
                }
                iValue++;
            };
            for (iFormat = 0; iFormat < format.length; iFormat++) {
                if (literal) {
                    if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
                        literal = false;
                    } else {
                        checkLiteral();
                    }
                } else {
                    switch (format.charAt(iFormat)) {
                    case "d":
                        day = getNumber("d");
                        break;
                    case "D":
                        getName("D", dayNamesShort, dayNames);
                        break;
                    case "o":
                        doy = getNumber("o");
                        break;
                    case "m":
                        month = getNumber("m");
                        break;
                    case "M":
                        month = getName("M", monthNamesShort, monthNames);
                        break;
                    case "y":
                        year = getNumber("y");
                        break;
                    case "@":
                        date = new Date(getNumber("@"));
                        year = date.getFullYear();
                        month = date.getMonth() + 1;
                        day = date.getDate();
                        break;
                    case "!":
                        date = new Date((getNumber("!") - this._ticksTo1970) / 10000);
                        year = date.getFullYear();
                        month = date.getMonth() + 1;
                        day = date.getDate();
                        break;
                    case "'":
                        if (lookAhead("'")) {
                            checkLiteral();
                        } else {
                            literal = true;
                        }
                        break;
                    default:
                        checkLiteral();
                    }
                }
            }
            if (iValue < value.length) {
                extra = value.substr(iValue);
                if (!/^\s+/.test(extra)) {
                    throw "Extra/unparsed characters found in date: " + extra;
                }
            }
            if (year === -1) {
                year = new Date().getFullYear();
            } else if (year < 100) {
                year += new Date().getFullYear() - new Date().getFullYear() % 100 + (year <= shortYearCutoff ? 0 : -100);
            }
            if (doy > -1) {
                month = 1;
                day = doy;
                do {
                    dim = this._getDaysInMonth(year, month - 1);
                    if (day <= dim) {
                        break;
                    }
                    month++;
                    day -= dim;
                } while (true);
            }
            date = this._daylightSavingAdjust(new Date(year,month - 1,day));
            if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {
                throw "Invalid date";
            }
            return date;
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: (((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) + Math.floor(1970 / 400)) * 24 * 60 * 60 * 10000000),
        formatDate: function(format, date, settings) {
            if (!date) {
                return "";
            }
            var iFormat, dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort, dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames, monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort, monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames, lookAhead = function(match) {
                var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
                if (matches) {
                    iFormat++;
                }
                return matches;
            }, formatNumber = function(match, value, len) {
                var num = "" + value;
                if (lookAhead(match)) {
                    while (num.length < len) {
                        num = "0" + num;
                    }
                }
                return num;
            }, formatName = function(match, value, shortNames, longNames) {
                return (lookAhead(match) ? longNames[value] : shortNames[value]);
            }, output = "", literal = false;
            if (date) {
                for (iFormat = 0; iFormat < format.length; iFormat++) {
                    if (literal) {
                        if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
                            literal = false;
                        } else {
                            output += format.charAt(iFormat);
                        }
                    } else {
                        switch (format.charAt(iFormat)) {
                        case "d":
                            output += formatNumber("d", date.getDate(), 2);
                            break;
                        case "D":
                            output += formatName("D", date.getDay(), dayNamesShort, dayNames);
                            break;
                        case "o":
                            output += formatNumber("o", Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime() - new Date(date.getFullYear(),0,0).getTime()) / 86400000), 3);
                            break;
                        case "m":
                            output += formatNumber("m", date.getMonth() + 1, 2);
                            break;
                        case "M":
                            output += formatName("M", date.getMonth(), monthNamesShort, monthNames);
                            break;
                        case "y":
                            output += (lookAhead("y") ? date.getFullYear() : (date.getYear() % 100 < 10 ? "0" : "") + date.getYear() % 100);
                            break;
                        case "@":
                            output += date.getTime();
                            break;
                        case "!":
                            output += date.getTime() * 10000 + this._ticksTo1970;
                            break;
                        case "'":
                            if (lookAhead("'")) {
                                output += "'";
                            } else {
                                literal = true;
                            }
                            break;
                        default:
                            output += format.charAt(iFormat);
                        }
                    }
                }
            }
            return output;
        },
        _possibleChars: function(format) {
            var iFormat, chars = "", literal = false, lookAhead = function(match) {
                var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
                if (matches) {
                    iFormat++;
                }
                return matches;
            };
            for (iFormat = 0; iFormat < format.length; iFormat++) {
                if (literal) {
                    if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
                        literal = false;
                    } else {
                        chars += format.charAt(iFormat);
                    }
                } else {
                    switch (format.charAt(iFormat)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        chars += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        if (lookAhead("'")) {
                            chars += "'";
                        } else {
                            literal = true;
                        }
                        break;
                    default:
                        chars += format.charAt(iFormat);
                    }
                }
            }
            return chars;
        },
        _get: function(inst, name) {
            return inst.settings[name] !== undefined ? inst.settings[name] : this._defaults[name];
        },
        _setDateFromField: function(inst, noDefault) {
            if (inst.input.val() === inst.lastVal) {
                return;
            }
            var dateFormat = this._get(inst, "dateFormat")
              , dates = inst.lastVal = inst.input ? inst.input.val() : null
              , defaultDate = this._getDefaultDate(inst)
              , date = defaultDate
              , settings = this._getFormatConfig(inst);
            try {
                date = this.parseDate(dateFormat, dates, settings) || defaultDate;
            } catch (event) {
                dates = (noDefault ? "" : dates);
            }
            inst.selectedDay = date.getDate();
            inst.drawMonth = inst.selectedMonth = date.getMonth();
            inst.drawYear = inst.selectedYear = date.getFullYear();
            inst.currentDay = (dates ? date.getDate() : 0);
            inst.currentMonth = (dates ? date.getMonth() : 0);
            inst.currentYear = (dates ? date.getFullYear() : 0);
            this._adjustInstDate(inst);
        },
        _getDefaultDate: function(inst) {
            return this._restrictMinMax(inst, this._determineDate(inst, this._get(inst, "defaultDate"), new Date()));
        },
        _determineDate: function(inst, date, defaultDate) {
            var offsetNumeric = function(offset) {
                var date = new Date();
                date.setDate(date.getDate() + offset);
                return date;
            }
              , offsetString = function(offset) {
                try {
                    return $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"), offset, $.datepicker._getFormatConfig(inst));
                } catch (e) {}
                var date = (offset.toLowerCase().match(/^c/) ? $.datepicker._getDate(inst) : null) || new Date()
                  , year = date.getFullYear()
                  , month = date.getMonth()
                  , day = date.getDate()
                  , pattern = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g
                  , matches = pattern.exec(offset);
                while (matches) {
                    switch (matches[2] || "d") {
                    case "d":
                    case "D":
                        day += parseInt(matches[1], 10);
                        break;
                    case "w":
                    case "W":
                        day += parseInt(matches[1], 10) * 7;
                        break;
                    case "m":
                    case "M":
                        month += parseInt(matches[1], 10);
                        day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
                        break;
                    case "y":
                    case "Y":
                        year += parseInt(matches[1], 10);
                        day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
                        break;
                    }
                    matches = pattern.exec(offset);
                }
                return new Date(year,month,day);
            }
              , newDate = (date == null || date === "" ? defaultDate : (typeof date === "string" ? offsetString(date) : (typeof date === "number" ? (isNaN(date) ? defaultDate : offsetNumeric(date)) : new Date(date.getTime()))));
            newDate = (newDate && newDate.toString() === "Invalid Date" ? defaultDate : newDate);
            if (newDate) {
                newDate.setHours(0);
                newDate.setMinutes(0);
                newDate.setSeconds(0);
                newDate.setMilliseconds(0);
            }
            return this._daylightSavingAdjust(newDate);
        },
        _daylightSavingAdjust: function(date) {
            if (!date) {
                return null;
            }
            date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);
            return date;
        },
        _setDate: function(inst, date, noChange) {
            var clear = !date
              , origMonth = inst.selectedMonth
              , origYear = inst.selectedYear
              , newDate = this._restrictMinMax(inst, this._determineDate(inst, date, new Date()));
            inst.selectedDay = inst.currentDay = newDate.getDate();
            inst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();
            inst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();
            if ((origMonth !== inst.selectedMonth || origYear !== inst.selectedYear) && !noChange) {
                this._notifyChange(inst);
            }
            this._adjustInstDate(inst);
            if (inst.input) {
                inst.input.val(clear ? "" : this._formatDate(inst));
            }
        },
        _getDate: function(inst) {
            var startDate = (!inst.currentYear || (inst.input && inst.input.val() === "") ? null : this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));
            return startDate;
        },
        _attachHandlers: function(inst) {
            var stepMonths = this._get(inst, "stepMonths")
              , id = "#" + inst.id.replace(/\\\\/g, "\\");
            inst.dpDiv.find("[data-handler]").map(function() {
                var handler = {
                    prev: function() {
                        $.datepicker._adjustDate(id, -stepMonths, "M");
                    },
                    next: function() {
                        $.datepicker._adjustDate(id, +stepMonths, "M");
                    },
                    hide: function() {
                        $.datepicker._hideDatepicker();
                    },
                    today: function() {
                        $.datepicker._gotoToday(id);
                    },
                    selectDay: function() {
                        $.datepicker._selectDay(id, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this);
                        return false;
                    },
                    selectMonth: function() {
                        $.datepicker._selectMonthYear(id, this, "M");
                        return false;
                    },
                    selectYear: function() {
                        $.datepicker._selectMonthYear(id, this, "Y");
                        return false;
                    }
                };
                $(this).bind(this.getAttribute("data-event"), handler[this.getAttribute("data-handler")]);
            });
        },
        _generateHTML: function(inst) {
            var maxDraw, prevText, prev, nextText, next, currentText, gotoDate, controls, buttonPanel, firstDay, showWeek, dayNames, dayNamesMin, monthNames, monthNamesShort, beforeShowDay, showOtherMonths, selectOtherMonths, defaultDate, html, dow, row, group, col, selectedDate, cornerClass, calender, thead, day, daysInMonth, leadDays, curRows, numRows, printDate, dRow, tbody, daySettings, otherMonth, unselectable, tempDate = new Date(), today = this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())), isRTL = this._get(inst, "isRTL"), showButtonPanel = this._get(inst, "showButtonPanel"), hideIfNoPrevNext = this._get(inst, "hideIfNoPrevNext"), navigationAsDateFormat = this._get(inst, "navigationAsDateFormat"), numMonths = this._getNumberOfMonths(inst), showCurrentAtPos = this._get(inst, "showCurrentAtPos"), stepMonths = this._get(inst, "stepMonths"), isMultiMonth = (numMonths[0] !== 1 || numMonths[1] !== 1), currentDate = this._daylightSavingAdjust((!inst.currentDay ? new Date(9999,9,9) : new Date(inst.currentYear,inst.currentMonth,inst.currentDay))), minDate = this._getMinMaxDate(inst, "min"), maxDate = this._getMinMaxDate(inst, "max"), drawMonth = inst.drawMonth - showCurrentAtPos, drawYear = inst.drawYear;
            if (drawMonth < 0) {
                drawMonth += 12;
                drawYear--;
            }
            if (maxDate) {
                maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth() - (numMonths[0] * numMonths[1]) + 1,maxDate.getDate()));
                maxDraw = (minDate && maxDraw < minDate ? minDate : maxDraw);
                while (this._daylightSavingAdjust(new Date(drawYear,drawMonth,1)) > maxDraw) {
                    drawMonth--;
                    if (drawMonth < 0) {
                        drawMonth = 11;
                        drawYear--;
                    }
                }
            }
            inst.drawMonth = drawMonth;
            inst.drawYear = drawYear;
            prevText = this._get(inst, "prevText");
            prevText = (!navigationAsDateFormat ? prevText : this.formatDate(prevText, this._daylightSavingAdjust(new Date(drawYear,drawMonth - stepMonths,1)), this._getFormatConfig(inst)));
            prev = (this._canAdjustMonth(inst, -1, drawYear, drawMonth) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'" + " title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "e" : "w") + "'>" + prevText + "</span></a>" : (hideIfNoPrevNext ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "e" : "w") + "'>" + prevText + "</span></a>"));
            nextText = this._get(inst, "nextText");
            nextText = (!navigationAsDateFormat ? nextText : this.formatDate(nextText, this._daylightSavingAdjust(new Date(drawYear,drawMonth + stepMonths,1)), this._getFormatConfig(inst)));
            next = (this._canAdjustMonth(inst, +1, drawYear, drawMonth) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'" + " title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "w" : "e") + "'>" + nextText + "</span></a>" : (hideIfNoPrevNext ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "w" : "e") + "'>" + nextText + "</span></a>"));
            currentText = this._get(inst, "currentText");
            gotoDate = (this._get(inst, "gotoCurrent") && inst.currentDay ? currentDate : today);
            currentText = (!navigationAsDateFormat ? currentText : this.formatDate(currentText, gotoDate, this._getFormatConfig(inst)));
            controls = (!inst.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(inst, "closeText") + "</button>" : "");
            buttonPanel = (showButtonPanel) ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (isRTL ? controls : "") + (this._isInRange(inst, gotoDate) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'" + ">" + currentText + "</button>" : "") + (isRTL ? "" : controls) + "</div>" : "";
            firstDay = parseInt(this._get(inst, "firstDay"), 10);
            firstDay = (isNaN(firstDay) ? 0 : firstDay);
            showWeek = this._get(inst, "showWeek");
            dayNames = this._get(inst, "dayNames");
            dayNamesMin = this._get(inst, "dayNamesMin");
            monthNames = this._get(inst, "monthNames");
            monthNamesShort = this._get(inst, "monthNamesShort");
            beforeShowDay = this._get(inst, "beforeShowDay");
            showOtherMonths = this._get(inst, "showOtherMonths");
            selectOtherMonths = this._get(inst, "selectOtherMonths");
            defaultDate = this._getDefaultDate(inst);
            html = "";
            dow;
            for (row = 0; row < numMonths[0]; row++) {
                group = "";
                this.maxRows = 4;
                for (col = 0; col < numMonths[1]; col++) {
                    selectedDate = this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));
                    cornerClass = " ui-corner-all";
                    calender = "";
                    if (isMultiMonth) {
                        calender += "<div class='ui-datepicker-group";
                        if (numMonths[1] > 1) {
                            switch (col) {
                            case 0:
                                calender += " ui-datepicker-group-first";
                                cornerClass = " ui-corner-" + (isRTL ? "right" : "left");
                                break;
                            case numMonths[1] - 1:
                                calender += " ui-datepicker-group-last";
                                cornerClass = " ui-corner-" + (isRTL ? "left" : "right");
                                break;
                            default:
                                calender += " ui-datepicker-group-middle";
                                cornerClass = "";
                                break;
                            }
                        }
                        calender += "'>";
                    }
                    calender += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + cornerClass + "'>" + (/all|left/.test(cornerClass) && row === 0 ? (isRTL ? next : prev) : "") + (/all|right/.test(cornerClass) && row === 0 ? (isRTL ? prev : next) : "") + this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate, row > 0 || col > 0, monthNames, monthNamesShort) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>";
                    thead = (showWeek ? "<th class='ui-datepicker-week-col'>" + this._get(inst, "weekHeader") + "</th>" : "");
                    for (dow = 0; dow < 7; dow++) {
                        day = (dow + firstDay) % 7;
                        thead += "<th scope='col'" + ((dow + firstDay + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + dayNames[day] + "'>" + dayNamesMin[day] + "</span></th>";
                    }
                    calender += thead + "</tr></thead><tbody>";
                    daysInMonth = this._getDaysInMonth(drawYear, drawMonth);
                    if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {
                        inst.selectedDay = Math.min(inst.selectedDay, daysInMonth);
                    }
                    leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;
                    curRows = Math.ceil((leadDays + daysInMonth) / 7);
                    numRows = (isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows);
                    this.maxRows = numRows;
                    printDate = this._daylightSavingAdjust(new Date(drawYear,drawMonth,1 - leadDays));
                    for (dRow = 0; dRow < numRows; dRow++) {
                        calender += "<tr>";
                        tbody = (!showWeek ? "" : "<td class='ui-datepicker-week-col'>" + this._get(inst, "calculateWeek")(printDate) + "</td>");
                        for (dow = 0; dow < 7; dow++) {
                            daySettings = (beforeShowDay ? beforeShowDay.apply((inst.input ? inst.input[0] : null), [printDate]) : [true, ""]);
                            otherMonth = (printDate.getMonth() !== drawMonth);
                            unselectable = (otherMonth && !selectOtherMonths) || !daySettings[0] || (minDate && printDate < minDate) || (maxDate && printDate > maxDate);
                            tbody += "<td class='" + ((dow + firstDay + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (otherMonth ? " ui-datepicker-other-month" : "") + ((printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent) || (defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime()) ? " " + this._dayOverClass : "") + (unselectable ? " " + this._unselectableClass + " ui-state-disabled" : "") + (otherMonth && !showOtherMonths ? "" : " " + daySettings[1] + (printDate.getTime() === currentDate.getTime() ? " " + this._currentClass : "") + (printDate.getTime() === today.getTime() ? " ui-datepicker-today" : "")) + "'" + ((!otherMonth || showOtherMonths) && daySettings[2] ? " title='" + daySettings[2].replace(/'/g, "&#39;") + "'" : "") + (unselectable ? "" : " data-handler='selectDay' data-event='click' data-month='" + printDate.getMonth() + "' data-year='" + printDate.getFullYear() + "'") + ">" + (otherMonth && !showOtherMonths ? "&#xa0;" : (unselectable ? "<span class='ui-state-default'>" + printDate.getDate() + "</span>" : "<a class='ui-state-default" + (printDate.getTime() === today.getTime() ? " ui-state-highlight" : "") + (printDate.getTime() === currentDate.getTime() ? " ui-state-active" : "") + (otherMonth ? " ui-priority-secondary" : "") + "' href='#'>" + printDate.getDate() + "</a>")) + "</td>";
                            printDate.setDate(printDate.getDate() + 1);
                            printDate = this._daylightSavingAdjust(printDate);
                        }
                        calender += tbody + "</tr>";
                    }
                    drawMonth++;
                    if (drawMonth > 11) {
                        drawMonth = 0;
                        drawYear++;
                    }
                    calender += "</tbody></table>" + (isMultiMonth ? "</div>" + ((numMonths[0] > 0 && col === numMonths[1] - 1) ? "<div class='ui-datepicker-row-break'></div>" : "") : "");
                    group += calender;
                }
                html += group;
            }
            html += buttonPanel;
            inst._keyEvent = false;
            return html;
        },
        _generateMonthYearHeader: function(inst, drawMonth, drawYear, minDate, maxDate, secondary, monthNames, monthNamesShort) {
            var inMinYear, inMaxYear, month, years, thisYear, determineYear, year, endYear, changeMonth = this._get(inst, "changeMonth"), changeYear = this._get(inst, "changeYear"), showMonthAfterYear = this._get(inst, "showMonthAfterYear"), html = "<div class='ui-datepicker-title'>", monthHtml = "";
            if (secondary || !changeMonth) {
                monthHtml += "<span class='ui-datepicker-month'>" + monthNames[drawMonth] + "</span>";
            } else {
                inMinYear = (minDate && minDate.getFullYear() === drawYear);
                inMaxYear = (maxDate && maxDate.getFullYear() === drawYear);
                monthHtml += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
                for (month = 0; month < 12; month++) {
                    if ((!inMinYear || month >= minDate.getMonth()) && (!inMaxYear || month <= maxDate.getMonth())) {
                        monthHtml += "<option value='" + month + "'" + (month === drawMonth ? " selected='selected'" : "") + ">" + monthNamesShort[month] + "</option>";
                    }
                }
                monthHtml += "</select>";
            }
            if (!showMonthAfterYear) {
                html += monthHtml + (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "");
            }
            if (!inst.yearshtml) {
                inst.yearshtml = "";
                if (secondary || !changeYear) {
                    html += "<span class='ui-datepicker-year'>" + drawYear + "</span>";
                } else {
                    years = this._get(inst, "yearRange").split(":");
                    thisYear = new Date().getFullYear();
                    determineYear = function(value) {
                        var year = (value.match(/c[+\-].*/) ? drawYear + parseInt(value.substring(1), 10) : (value.match(/[+\-].*/) ? thisYear + parseInt(value, 10) : parseInt(value, 10)));
                        return (isNaN(year) ? thisYear : year);
                    }
                    ;
                    year = determineYear(years[0]);
                    endYear = Math.max(year, determineYear(years[1] || ""));
                    year = (minDate ? Math.max(year, minDate.getFullYear()) : year);
                    endYear = (maxDate ? Math.min(endYear, maxDate.getFullYear()) : endYear);
                    inst.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
                    for (; year <= endYear; year++) {
                        inst.yearshtml += "<option value='" + year + "'" + (year === drawYear ? " selected='selected'" : "") + ">" + year + "</option>";
                    }
                    inst.yearshtml += "</select>";
                    html += inst.yearshtml;
                    inst.yearshtml = null;
                }
            }
            html += this._get(inst, "yearSuffix");
            if (showMonthAfterYear) {
                html += (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "") + monthHtml;
            }
            html += "</div>";
            return html;
        },
        _adjustInstDate: function(inst, offset, period) {
            var year = inst.drawYear + (period === "Y" ? offset : 0)
              , month = inst.drawMonth + (period === "M" ? offset : 0)
              , day = Math.min(inst.selectedDay, this._getDaysInMonth(year, month)) + (period === "D" ? offset : 0)
              , date = this._restrictMinMax(inst, this._daylightSavingAdjust(new Date(year,month,day)));
            inst.selectedDay = date.getDate();
            inst.drawMonth = inst.selectedMonth = date.getMonth();
            inst.drawYear = inst.selectedYear = date.getFullYear();
            if (period === "M" || period === "Y") {
                this._notifyChange(inst);
            }
        },
        _restrictMinMax: function(inst, date) {
            var minDate = this._getMinMaxDate(inst, "min")
              , maxDate = this._getMinMaxDate(inst, "max")
              , newDate = (minDate && date < minDate ? minDate : date);
            return (maxDate && newDate > maxDate ? maxDate : newDate);
        },
        _notifyChange: function(inst) {
            var onChange = this._get(inst, "onChangeMonthYear");
            if (onChange) {
                onChange.apply((inst.input ? inst.input[0] : null), [inst.selectedYear, inst.selectedMonth + 1, inst]);
            }
        },
        _getNumberOfMonths: function(inst) {
            var numMonths = this._get(inst, "numberOfMonths");
            return (numMonths == null ? [1, 1] : (typeof numMonths === "number" ? [1, numMonths] : numMonths));
        },
        _getMinMaxDate: function(inst, minMax) {
            return this._determineDate(inst, this._get(inst, minMax + "Date"), null);
        },
        _getDaysInMonth: function(year, month) {
            return 32 - this._daylightSavingAdjust(new Date(year,month,32)).getDate();
        },
        _getFirstDayOfMonth: function(year, month) {
            return new Date(year,month,1).getDay();
        },
        _canAdjustMonth: function(inst, offset, curYear, curMonth) {
            var numMonths = this._getNumberOfMonths(inst)
              , date = this._daylightSavingAdjust(new Date(curYear,curMonth + (offset < 0 ? offset : numMonths[0] * numMonths[1]),1));
            if (offset < 0) {
                date.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth()));
            }
            return this._isInRange(inst, date);
        },
        _isInRange: function(inst, date) {
            var yearSplit, currentYear, minDate = this._getMinMaxDate(inst, "min"), maxDate = this._getMinMaxDate(inst, "max"), minYear = null, maxYear = null, years = this._get(inst, "yearRange");
            if (years) {
                yearSplit = years.split(":");
                currentYear = new Date().getFullYear();
                minYear = parseInt(yearSplit[0], 10);
                maxYear = parseInt(yearSplit[1], 10);
                if (yearSplit[0].match(/[+\-].*/)) {
                    minYear += currentYear;
                }
                if (yearSplit[1].match(/[+\-].*/)) {
                    maxYear += currentYear;
                }
            }
            return ((!minDate || date.getTime() >= minDate.getTime()) && (!maxDate || date.getTime() <= maxDate.getTime()) && (!minYear || date.getFullYear() >= minYear) && (!maxYear || date.getFullYear() <= maxYear));
        },
        _getFormatConfig: function(inst) {
            var shortYearCutoff = this._get(inst, "shortYearCutoff");
            shortYearCutoff = (typeof shortYearCutoff !== "string" ? shortYearCutoff : new Date().getFullYear() % 100 + parseInt(shortYearCutoff, 10));
            return {
                shortYearCutoff: shortYearCutoff,
                dayNamesShort: this._get(inst, "dayNamesShort"),
                dayNames: this._get(inst, "dayNames"),
                monthNamesShort: this._get(inst, "monthNamesShort"),
                monthNames: this._get(inst, "monthNames")
            };
        },
        _formatDate: function(inst, day, month, year) {
            if (!day) {
                inst.currentDay = inst.selectedDay;
                inst.currentMonth = inst.selectedMonth;
                inst.currentYear = inst.selectedYear;
            }
            var date = (day ? (typeof day === "object" ? day : this._daylightSavingAdjust(new Date(year,month,day))) : this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));
            return this.formatDate(this._get(inst, "dateFormat"), date, this._getFormatConfig(inst));
        }
    });
    function datepicker_bindHover(dpDiv) {
        var selector = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return dpDiv.delegate(selector, "mouseout", function() {
            $(this).removeClass("ui-state-hover");
            if (this.className.indexOf("ui-datepicker-prev") !== -1) {
                $(this).removeClass("ui-datepicker-prev-hover");
            }
            if (this.className.indexOf("ui-datepicker-next") !== -1) {
                $(this).removeClass("ui-datepicker-next-hover");
            }
        }).delegate(selector, "mouseover", function() {
            if (!$.datepicker._isDisabledDatepicker(datepicker_instActive.inline ? dpDiv.parent()[0] : datepicker_instActive.input[0])) {
                $(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");
                $(this).addClass("ui-state-hover");
                if (this.className.indexOf("ui-datepicker-prev") !== -1) {
                    $(this).addClass("ui-datepicker-prev-hover");
                }
                if (this.className.indexOf("ui-datepicker-next") !== -1) {
                    $(this).addClass("ui-datepicker-next-hover");
                }
            }
        });
    }
    function datepicker_extendRemove(target, props) {
        $.extend(target, props);
        for (var name in props) {
            if (props[name] == null) {
                target[name] = props[name];
            }
        }
        return target;
    }
    $.fn.datepicker = function(options) {
        if (!this.length) {
            return this;
        }
        if (!$.datepicker.initialized) {
            $(document).mousedown($.datepicker._checkExternalClick);
            $.datepicker.initialized = true;
        }
        if ($("#" + $.datepicker._mainDivId).length === 0) {
            $("body").append($.datepicker.dpDiv);
        }
        var otherArgs = Array.prototype.slice.call(arguments, 1);
        if (typeof options === "string" && (options === "isDisabled" || options === "getDate" || options === "widget")) {
            return $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this[0]].concat(otherArgs));
        }
        if (options === "option" && arguments.length === 2 && typeof arguments[1] === "string") {
            return $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this[0]].concat(otherArgs));
        }
        return this.each(function() {
            typeof options === "string" ? $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this].concat(otherArgs)) : $.datepicker._attachDatepicker(this, options);
        });
    }
    ;
    $.datepicker = new Datepicker();
    $.datepicker.initialized = false;
    $.datepicker.uuid = new Date().getTime();
    $.datepicker.version = "1.11.0";
    var datepicker = $.datepicker;
    $.widget("ui.draggable", $.ui.mouse, {
        version: "1.11.0",
        widgetEventPrefix: "drag",
        options: {
            addClasses: true,
            appendTo: "parent",
            axis: false,
            connectToSortable: false,
            containment: false,
            cursor: "auto",
            cursorAt: false,
            grid: false,
            handle: false,
            helper: "original",
            iframeFix: false,
            opacity: false,
            refreshPositions: false,
            revert: false,
            revertDuration: 500,
            scope: "default",
            scroll: true,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: false,
            snapMode: "both",
            snapTolerance: 20,
            stack: false,
            zIndex: false,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            if (this.options.helper === "original" && !(/^(?:r|a|f)/).test(this.element.css("position"))) {
                this.element[0].style.position = "relative";
            }
            if (this.options.addClasses) {
                this.element.addClass("ui-draggable");
            }
            if (this.options.disabled) {
                this.element.addClass("ui-draggable-disabled");
            }
            this._setHandleClassName();
            this._mouseInit();
        },
        _setOption: function(key, value) {
            this._super(key, value);
            if (key === "handle") {
                this._setHandleClassName();
            }
        },
        _destroy: function() {
            if ((this.helper || this.element).is(".ui-draggable-dragging")) {
                this.destroyOnClear = true;
                return;
            }
            this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
            this._removeHandleClassName();
            this._mouseDestroy();
        },
        _mouseCapture: function(event) {
            var document = this.document[0]
              , o = this.options;
            try {
                if (document.activeElement && document.activeElement.nodeName.toLowerCase() !== "body") {
                    $(document.activeElement).blur();
                }
            } catch (error) {}
            if (this.helper || o.disabled || $(event.target).closest(".ui-resizable-handle").length > 0) {
                return false;
            }
            this.handle = this._getHandle(event);
            if (!this.handle) {
                return false;
            }
            $(o.iframeFix === true ? "iframe" : o.iframeFix).each(function() {
                $("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
                    width: this.offsetWidth + "px",
                    height: this.offsetHeight + "px",
                    position: "absolute",
                    opacity: "0.001",
                    zIndex: 1000
                }).css($(this).offset()).appendTo("body");
            });
            return true;
        },
        _mouseStart: function(event) {
            var o = this.options;
            this.helper = this._createHelper(event);
            this.helper.addClass("ui-draggable-dragging");
            this._cacheHelperProportions();
            if ($.ui.ddmanager) {
                $.ui.ddmanager.current = this;
            }
            this._cacheMargins();
            this.cssPosition = this.helper.css("position");
            this.scrollParent = this.helper.scrollParent();
            this.offsetParent = this.helper.offsetParent();
            this.offsetParentCssPosition = this.offsetParent.css("position");
            this.offset = this.positionAbs = this.element.offset();
            this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            };
            this.offset.scroll = false;
            $.extend(this.offset, {
                click: {
                    left: event.pageX - this.offset.left,
                    top: event.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            });
            this.originalPosition = this.position = this._generatePosition(event, false);
            this.originalPageX = event.pageX;
            this.originalPageY = event.pageY;
            (o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));
            this._setContainment();
            if (this._trigger("start", event) === false) {
                this._clear();
                return false;
            }
            this._cacheHelperProportions();
            if ($.ui.ddmanager && !o.dropBehaviour) {
                $.ui.ddmanager.prepareOffsets(this, event);
            }
            this._mouseDrag(event, true);
            if ($.ui.ddmanager) {
                $.ui.ddmanager.dragStart(this, event);
            }
            return true;
        },
        _mouseDrag: function(event, noPropagation) {
            if (this.offsetParentCssPosition === "fixed") {
                this.offset.parent = this._getParentOffset();
            }
            this.position = this._generatePosition(event, true);
            this.positionAbs = this._convertPositionTo("absolute");
            if (!noPropagation) {
                var ui = this._uiHash();
                if (this._trigger("drag", event, ui) === false) {
                    this._mouseUp({});
                    return false;
                }
                this.position = ui.position;
            }
            this.helper[0].style.left = this.position.left + "px";
            this.helper[0].style.top = this.position.top + "px";
            if ($.ui.ddmanager) {
                $.ui.ddmanager.drag(this, event);
            }
            return false;
        },
        _mouseStop: function(event) {
            var that = this
              , dropped = false;
            if ($.ui.ddmanager && !this.options.dropBehaviour) {
                dropped = $.ui.ddmanager.drop(this, event);
            }
            if (this.dropped) {
                dropped = this.dropped;
                this.dropped = false;
            }
            if ((this.options.revert === "invalid" && !dropped) || (this.options.revert === "valid" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {
                $(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                    if (that._trigger("stop", event) !== false) {
                        that._clear();
                    }
                });
            } else {
                if (this._trigger("stop", event) !== false) {
                    this._clear();
                }
            }
            return false;
        },
        _mouseUp: function(event) {
            $("div.ui-draggable-iframeFix").each(function() {
                this.parentNode.removeChild(this);
            });
            if ($.ui.ddmanager) {
                $.ui.ddmanager.dragStop(this, event);
            }
            this.element.focus();
            return $.ui.mouse.prototype._mouseUp.call(this, event);
        },
        cancel: function() {
            if (this.helper.is(".ui-draggable-dragging")) {
                this._mouseUp({});
            } else {
                this._clear();
            }
            return this;
        },
        _getHandle: function(event) {
            return this.options.handle ? !!$(event.target).closest(this.element.find(this.options.handle)).length : true;
        },
        _setHandleClassName: function() {
            this._removeHandleClassName();
            $(this.options.handle || this.element).addClass("ui-draggable-handle");
        },
        _removeHandleClassName: function() {
            this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle");
        },
        _createHelper: function(event) {
            var o = this.options
              , helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event])) : (o.helper === "clone" ? this.element.clone().removeAttr("id") : this.element);
            if (!helper.parents("body").length) {
                helper.appendTo((o.appendTo === "parent" ? this.element[0].parentNode : o.appendTo));
            }
            if (helper[0] !== this.element[0] && !(/(fixed|absolute)/).test(helper.css("position"))) {
                helper.css("position", "absolute");
            }
            return helper;
        },
        _adjustOffsetFromHelper: function(obj) {
            if (typeof obj === "string") {
                obj = obj.split(" ");
            }
            if ($.isArray(obj)) {
                obj = {
                    left: +obj[0],
                    top: +obj[1] || 0
                };
            }
            if ("left"in obj) {
                this.offset.click.left = obj.left + this.margins.left;
            }
            if ("right"in obj) {
                this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
            }
            if ("top"in obj) {
                this.offset.click.top = obj.top + this.margins.top;
            }
            if ("bottom"in obj) {
                this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
            }
        },
        _isRootNode: function(element) {
            return (/(html|body)/i).test(element.tagName) || element === this.document[0];
        },
        _getParentOffset: function() {
            var po = this.offsetParent.offset()
              , document = this.document[0];
            if (this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
                po.left += this.scrollParent.scrollLeft();
                po.top += this.scrollParent.scrollTop();
            }
            if (this._isRootNode(this.offsetParent[0])) {
                po = {
                    top: 0,
                    left: 0
                };
            }
            return {
                top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            };
        },
        _getRelativeOffset: function() {
            if (this.cssPosition !== "relative") {
                return {
                    top: 0,
                    left: 0
                };
            }
            var p = this.element.position()
              , scrollIsRootNode = this._isRootNode(this.scrollParent[0]);
            return {
                top: p.top - (parseInt(this.helper.css("top"), 10) || 0) + (!scrollIsRootNode ? this.scrollParent.scrollTop() : 0),
                left: p.left - (parseInt(this.helper.css("left"), 10) || 0) + (!scrollIsRootNode ? this.scrollParent.scrollLeft() : 0)
            };
        },
        _cacheMargins: function() {
            this.margins = {
                left: (parseInt(this.element.css("marginLeft"), 10) || 0),
                top: (parseInt(this.element.css("marginTop"), 10) || 0),
                right: (parseInt(this.element.css("marginRight"), 10) || 0),
                bottom: (parseInt(this.element.css("marginBottom"), 10) || 0)
            };
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            };
        },
        _setContainment: function() {
            var over, c, ce, o = this.options, document = this.document[0];
            this.relative_container = null;
            if (!o.containment) {
                this.containment = null;
                return;
            }
            if (o.containment === "window") {
                this.containment = [$(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, $(window).scrollLeft() + $(window).width() - this.helperProportions.width - this.margins.left, $(window).scrollTop() + ($(window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
                return;
            }
            if (o.containment === "document") {
                this.containment = [0, 0, $(document).width() - this.helperProportions.width - this.margins.left, ($(document).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
                return;
            }
            if (o.containment.constructor === Array) {
                this.containment = o.containment;
                return;
            }
            if (o.containment === "parent") {
                o.containment = this.helper[0].parentNode;
            }
            c = $(o.containment);
            ce = c[0];
            if (!ce) {
                return;
            }
            over = c.css("overflow") !== "hidden";
            this.containment = [(parseInt(c.css("borderLeftWidth"), 10) || 0) + (parseInt(c.css("paddingLeft"), 10) || 0), (parseInt(c.css("borderTopWidth"), 10) || 0) + (parseInt(c.css("paddingTop"), 10) || 0), (over ? Math.max(ce.scrollWidth, ce.offsetWidth) : ce.offsetWidth) - (parseInt(c.css("borderRightWidth"), 10) || 0) - (parseInt(c.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (over ? Math.max(ce.scrollHeight, ce.offsetHeight) : ce.offsetHeight) - (parseInt(c.css("borderBottomWidth"), 10) || 0) - (parseInt(c.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom];
            this.relative_container = c;
        },
        _convertPositionTo: function(d, pos) {
            if (!pos) {
                pos = this.position;
            }
            var mod = d === "absolute" ? 1 : -1
              , scrollIsRootNode = this._isRootNode(this.scrollParent[0]);
            return {
                top: (pos.top + this.offset.relative.top * mod + this.offset.parent.top * mod - ((this.cssPosition === "fixed" ? -this.offset.scroll.top : (scrollIsRootNode ? 0 : this.offset.scroll.top)) * mod)),
                left: (pos.left + this.offset.relative.left * mod + this.offset.parent.left * mod - ((this.cssPosition === "fixed" ? -this.offset.scroll.left : (scrollIsRootNode ? 0 : this.offset.scroll.left)) * mod))
            };
        },
        _generatePosition: function(event, constrainPosition) {
            var containment, co, top, left, o = this.options, scrollIsRootNode = this._isRootNode(this.scrollParent[0]), pageX = event.pageX, pageY = event.pageY;
            if (!scrollIsRootNode || !this.offset.scroll) {
                this.offset.scroll = {
                    top: this.scrollParent.scrollTop(),
                    left: this.scrollParent.scrollLeft()
                };
            }
            if (constrainPosition) {
                if (this.containment) {
                    if (this.relative_container) {
                        co = this.relative_container.offset();
                        containment = [this.containment[0] + co.left, this.containment[1] + co.top, this.containment[2] + co.left, this.containment[3] + co.top];
                    } else {
                        containment = this.containment;
                    }
                    if (event.pageX - this.offset.click.left < containment[0]) {
                        pageX = containment[0] + this.offset.click.left;
                    }
                    if (event.pageY - this.offset.click.top < containment[1]) {
                        pageY = containment[1] + this.offset.click.top;
                    }
                    if (event.pageX - this.offset.click.left > containment[2]) {
                        pageX = containment[2] + this.offset.click.left;
                    }
                    if (event.pageY - this.offset.click.top > containment[3]) {
                        pageY = containment[3] + this.offset.click.top;
                    }
                }
                if (o.grid) {
                    top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;
                    pageY = containment ? ((top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3]) ? top : ((top - this.offset.click.top >= containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;
                    left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;
                    pageX = containment ? ((left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2]) ? left : ((left - this.offset.click.left >= containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
                }
                if (o.axis === "y") {
                    pageX = this.originalPageX;
                }
                if (o.axis === "x") {
                    pageY = this.originalPageY;
                }
            }
            return {
                top: (pageY - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.offset.scroll.top : (scrollIsRootNode ? 0 : this.offset.scroll.top))),
                left: (pageX - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.offset.scroll.left : (scrollIsRootNode ? 0 : this.offset.scroll.left)))
            };
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging");
            if (this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {
                this.helper.remove();
            }
            this.helper = null;
            this.cancelHelperRemoval = false;
            if (this.destroyOnClear) {
                this.destroy();
            }
        },
        _trigger: function(type, event, ui) {
            ui = ui || this._uiHash();
            $.ui.plugin.call(this, type, [event, ui, this], true);
            if (type === "drag") {
                this.positionAbs = this._convertPositionTo("absolute");
            }
            return $.Widget.prototype._trigger.call(this, type, event, ui);
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            };
        }
    });
    $.ui.plugin.add("draggable", "connectToSortable", {
        start: function(event, ui, inst) {
            var o = inst.options
              , uiSortable = $.extend({}, ui, {
                item: inst.element
            });
            inst.sortables = [];
            $(o.connectToSortable).each(function() {
                var sortable = $(this).sortable("instance");
                if (sortable && !sortable.options.disabled) {
                    inst.sortables.push({
                        instance: sortable,
                        shouldRevert: sortable.options.revert
                    });
                    sortable.refreshPositions();
                    sortable._trigger("activate", event, uiSortable);
                }
            });
        },
        stop: function(event, ui, inst) {
            var uiSortable = $.extend({}, ui, {
                item: inst.element
            });
            $.each(inst.sortables, function() {
                if (this.instance.isOver) {
                    this.instance.isOver = 0;
                    inst.cancelHelperRemoval = true;
                    this.instance.cancelHelperRemoval = false;
                    if (this.shouldRevert) {
                        this.instance.options.revert = this.shouldRevert;
                    }
                    this.instance._mouseStop(event);
                    this.instance.options.helper = this.instance.options._helper;
                    if (inst.options.helper === "original") {
                        this.instance.currentItem.css({
                            top: "auto",
                            left: "auto"
                        });
                    }
                } else {
                    this.instance.cancelHelperRemoval = false;
                    this.instance._trigger("deactivate", event, uiSortable);
                }
            });
        },
        drag: function(event, ui, inst) {
            var that = this;
            $.each(inst.sortables, function() {
                var innermostIntersecting = false
                  , thisSortable = this;
                this.instance.positionAbs = inst.positionAbs;
                this.instance.helperProportions = inst.helperProportions;
                this.instance.offset.click = inst.offset.click;
                if (this.instance._intersectsWith(this.instance.containerCache)) {
                    innermostIntersecting = true;
                    $.each(inst.sortables, function() {
                        this.instance.positionAbs = inst.positionAbs;
                        this.instance.helperProportions = inst.helperProportions;
                        this.instance.offset.click = inst.offset.click;
                        if (this !== thisSortable && this.instance._intersectsWith(this.instance.containerCache) && $.contains(thisSortable.instance.element[0], this.instance.element[0])) {
                            innermostIntersecting = false;
                        }
                        return innermostIntersecting;
                    });
                }
                if (innermostIntersecting) {
                    if (!this.instance.isOver) {
                        this.instance.isOver = 1;
                        this.instance.currentItem = $(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", true);
                        this.instance.options._helper = this.instance.options.helper;
                        this.instance.options.helper = function() {
                            return ui.helper[0];
                        }
                        ;
                        event.target = this.instance.currentItem[0];
                        this.instance._mouseCapture(event, true);
                        this.instance._mouseStart(event, true, true);
                        this.instance.offset.click.top = inst.offset.click.top;
                        this.instance.offset.click.left = inst.offset.click.left;
                        this.instance.offset.parent.left -= inst.offset.parent.left - this.instance.offset.parent.left;
                        this.instance.offset.parent.top -= inst.offset.parent.top - this.instance.offset.parent.top;
                        inst._trigger("toSortable", event);
                        inst.dropped = this.instance.element;
                        inst.currentItem = inst.element;
                        this.instance.fromOutside = inst;
                    }
                    if (this.instance.currentItem) {
                        this.instance._mouseDrag(event);
                    }
                } else {
                    if (this.instance.isOver) {
                        this.instance.isOver = 0;
                        this.instance.cancelHelperRemoval = true;
                        this.instance.options.revert = false;
                        this.instance._trigger("out", event, this.instance._uiHash(this.instance));
                        this.instance._mouseStop(event, true);
                        this.instance.options.helper = this.instance.options._helper;
                        this.instance.currentItem.remove();
                        if (this.instance.placeholder) {
                            this.instance.placeholder.remove();
                        }
                        inst._trigger("fromSortable", event);
                        inst.dropped = false;
                    }
                }
            });
        }
    });
    $.ui.plugin.add("draggable", "cursor", {
        start: function(event, ui, instance) {
            var t = $("body")
              , o = instance.options;
            if (t.css("cursor")) {
                o._cursor = t.css("cursor");
            }
            t.css("cursor", o.cursor);
        },
        stop: function(event, ui, instance) {
            var o = instance.options;
            if (o._cursor) {
                $("body").css("cursor", o._cursor);
            }
        }
    });
    $.ui.plugin.add("draggable", "opacity", {
        start: function(event, ui, instance) {
            var t = $(ui.helper)
              , o = instance.options;
            if (t.css("opacity")) {
                o._opacity = t.css("opacity");
            }
            t.css("opacity", o.opacity);
        },
        stop: function(event, ui, instance) {
            var o = instance.options;
            if (o._opacity) {
                $(ui.helper).css("opacity", o._opacity);
            }
        }
    });
    $.ui.plugin.add("draggable", "scroll", {
        start: function(event, ui, i) {
            if (i.scrollParent[0] !== i.document[0] && i.scrollParent[0].tagName !== "HTML") {
                i.overflowOffset = i.scrollParent.offset();
            }
        },
        drag: function(event, ui, i) {
            var o = i.options
              , scrolled = false
              , document = i.document[0];
            if (i.scrollParent[0] !== document && i.scrollParent[0].tagName !== "HTML") {
                if (!o.axis || o.axis !== "x") {
                    if ((i.overflowOffset.top + i.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {
                        i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop + o.scrollSpeed;
                    } else if (event.pageY - i.overflowOffset.top < o.scrollSensitivity) {
                        i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop - o.scrollSpeed;
                    }
                }
                if (!o.axis || o.axis !== "y") {
                    if ((i.overflowOffset.left + i.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {
                        i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft + o.scrollSpeed;
                    } else if (event.pageX - i.overflowOffset.left < o.scrollSensitivity) {
                        i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft - o.scrollSpeed;
                    }
                }
            } else {
                if (!o.axis || o.axis !== "x") {
                    if (event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
                        scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
                    } else if ($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
                        scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
                    }
                }
                if (!o.axis || o.axis !== "y") {
                    if (event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
                        scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
                    } else if ($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
                        scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
                    }
                }
            }
            if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
                $.ui.ddmanager.prepareOffsets(i, event);
            }
        }
    });
    $.ui.plugin.add("draggable", "snap", {
        start: function(event, ui, i) {
            var o = i.options;
            i.snapElements = [];
            $(o.snap.constructor !== String ? (o.snap.items || ":data(ui-draggable)") : o.snap).each(function() {
                var $t = $(this)
                  , $o = $t.offset();
                if (this !== i.element[0]) {
                    i.snapElements.push({
                        item: this,
                        width: $t.outerWidth(),
                        height: $t.outerHeight(),
                        top: $o.top,
                        left: $o.left
                    });
                }
            });
        },
        drag: function(event, ui, inst) {
            var ts, bs, ls, rs, l, r, t, b, i, first, o = inst.options, d = o.snapTolerance, x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width, y1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;
            for (i = inst.snapElements.length - 1; i >= 0; i--) {
                l = inst.snapElements[i].left;
                r = l + inst.snapElements[i].width;
                t = inst.snapElements[i].top;
                b = t + inst.snapElements[i].height;
                if (x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d || !$.contains(inst.snapElements[i].item.ownerDocument, inst.snapElements[i].item)) {
                    if (inst.snapElements[i].snapping) {
                        (inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), {
                            snapItem: inst.snapElements[i].item
                        })));
                    }
                    inst.snapElements[i].snapping = false;
                    continue;
                }
                if (o.snapMode !== "inner") {
                    ts = Math.abs(t - y2) <= d;
                    bs = Math.abs(b - y1) <= d;
                    ls = Math.abs(l - x2) <= d;
                    rs = Math.abs(r - x1) <= d;
                    if (ts) {
                        ui.position.top = inst._convertPositionTo("relative", {
                            top: t - inst.helperProportions.height,
                            left: 0
                        }).top - inst.margins.top;
                    }
                    if (bs) {
                        ui.position.top = inst._convertPositionTo("relative", {
                            top: b,
                            left: 0
                        }).top - inst.margins.top;
                    }
                    if (ls) {
                        ui.position.left = inst._convertPositionTo("relative", {
                            top: 0,
                            left: l - inst.helperProportions.width
                        }).left - inst.margins.left;
                    }
                    if (rs) {
                        ui.position.left = inst._convertPositionTo("relative", {
                            top: 0,
                            left: r
                        }).left - inst.margins.left;
                    }
                }
                first = (ts || bs || ls || rs);
                if (o.snapMode !== "outer") {
                    ts = Math.abs(t - y1) <= d;
                    bs = Math.abs(b - y2) <= d;
                    ls = Math.abs(l - x1) <= d;
                    rs = Math.abs(r - x2) <= d;
                    if (ts) {
                        ui.position.top = inst._convertPositionTo("relative", {
                            top: t,
                            left: 0
                        }).top - inst.margins.top;
                    }
                    if (bs) {
                        ui.position.top = inst._convertPositionTo("relative", {
                            top: b - inst.helperProportions.height,
                            left: 0
                        }).top - inst.margins.top;
                    }
                    if (ls) {
                        ui.position.left = inst._convertPositionTo("relative", {
                            top: 0,
                            left: l
                        }).left - inst.margins.left;
                    }
                    if (rs) {
                        ui.position.left = inst._convertPositionTo("relative", {
                            top: 0,
                            left: r - inst.helperProportions.width
                        }).left - inst.margins.left;
                    }
                }
                if (!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {
                    (inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), {
                        snapItem: inst.snapElements[i].item
                    })));
                }
                inst.snapElements[i].snapping = (ts || bs || ls || rs || first);
            }
        }
    });
    $.ui.plugin.add("draggable", "stack", {
        start: function(event, ui, instance) {
            var min, o = instance.options, group = $.makeArray($(o.stack)).sort(function(a, b) {
                return (parseInt($(a).css("zIndex"), 10) || 0) - (parseInt($(b).css("zIndex"), 10) || 0);
            });
            if (!group.length) {
                return;
            }
            min = parseInt($(group[0]).css("zIndex"), 10) || 0;
            $(group).each(function(i) {
                $(this).css("zIndex", min + i);
            });
            this.css("zIndex", (min + group.length));
        }
    });
    $.ui.plugin.add("draggable", "zIndex", {
        start: function(event, ui, instance) {
            var t = $(ui.helper)
              , o = instance.options;
            if (t.css("zIndex")) {
                o._zIndex = t.css("zIndex");
            }
            t.css("zIndex", o.zIndex);
        },
        stop: function(event, ui, instance) {
            var o = instance.options;
            if (o._zIndex) {
                $(ui.helper).css("zIndex", o._zIndex);
            }
        }
    });
    var draggable = $.ui.draggable;
    $.widget("ui.resizable", $.ui.mouse, {
        version: "1.11.0",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: false,
            animate: false,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: false,
            autoHide: false,
            containment: false,
            ghost: false,
            grid: false,
            handles: "e,s,se",
            helper: false,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(value) {
            return parseInt(value, 10) || 0;
        },
        _isNumber: function(value) {
            return !isNaN(parseInt(value, 10));
        },
        _hasScroll: function(el, a) {
            if ($(el).css("overflow") === "hidden") {
                return false;
            }
            var scroll = (a && a === "left") ? "scrollLeft" : "scrollTop"
              , has = false;
            if (el[scroll] > 0) {
                return true;
            }
            el[scroll] = 1;
            has = (el[scroll] > 0);
            el[scroll] = 0;
            return has;
        },
        _create: function() {
            var n, i, handle, axis, hname, that = this, o = this.options;
            this.element.addClass("ui-resizable");
            $.extend(this, {
                _aspectRatio: !!(o.aspectRatio),
                aspectRatio: o.aspectRatio,
                originalElement: this.element,
                _proportionallyResizeElements: [],
                _helper: o.helper || o.ghost || o.animate ? o.helper || "ui-resizable-helper" : null
            });
            if (this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)) {
                this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                    position: this.element.css("position"),
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    top: this.element.css("top"),
                    left: this.element.css("left")
                }));
                this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance"));
                this.elementIsWrapper = true;
                this.element.css({
                    marginLeft: this.originalElement.css("marginLeft"),
                    marginTop: this.originalElement.css("marginTop"),
                    marginRight: this.originalElement.css("marginRight"),
                    marginBottom: this.originalElement.css("marginBottom")
                });
                this.originalElement.css({
                    marginLeft: 0,
                    marginTop: 0,
                    marginRight: 0,
                    marginBottom: 0
                });
                this.originalResizeStyle = this.originalElement.css("resize");
                this.originalElement.css("resize", "none");
                this._proportionallyResizeElements.push(this.originalElement.css({
                    position: "static",
                    zoom: 1,
                    display: "block"
                }));
                this.originalElement.css({
                    margin: this.originalElement.css("margin")
                });
                this._proportionallyResize();
            }
            this.handles = o.handles || (!$(".ui-resizable-handle", this.element).length ? "e,s,se" : {
                n: ".ui-resizable-n",
                e: ".ui-resizable-e",
                s: ".ui-resizable-s",
                w: ".ui-resizable-w",
                se: ".ui-resizable-se",
                sw: ".ui-resizable-sw",
                ne: ".ui-resizable-ne",
                nw: ".ui-resizable-nw"
            });
            if (this.handles.constructor === String) {
                if (this.handles === "all") {
                    this.handles = "n,e,s,w,se,sw,ne,nw";
                }
                n = this.handles.split(",");
                this.handles = {};
                for (i = 0; i < n.length; i++) {
                    handle = $.trim(n[i]);
                    hname = "ui-resizable-" + handle;
                    axis = $("<div class='ui-resizable-handle " + hname + "'></div>");
                    axis.css({
                        zIndex: o.zIndex
                    });
                    if ("se" === handle) {
                        axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
                    }
                    this.handles[handle] = ".ui-resizable-" + handle;
                    this.element.append(axis);
                }
            }
            this._renderAxis = function(target) {
                var i, axis, padPos, padWrapper;
                target = target || this.element;
                for (i in this.handles) {
                    if (this.handles[i].constructor === String) {
                        this.handles[i] = this.element.children(this.handles[i]).first().show();
                    }
                    if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i)) {
                        axis = $(this.handles[i], this.element);
                        padWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();
                        padPos = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join("");
                        target.css(padPos, padWrapper);
                        this._proportionallyResize();
                    }
                    if (!$(this.handles[i]).length) {
                        continue;
                    }
                }
            }
            ;
            this._renderAxis(this.element);
            this._handles = $(".ui-resizable-handle", this.element).disableSelection();
            this._handles.mouseover(function() {
                if (!that.resizing) {
                    if (this.className) {
                        axis = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);
                    }
                    that.axis = axis && axis[1] ? axis[1] : "se";
                }
            });
            if (o.autoHide) {
                this._handles.hide();
                $(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                    if (o.disabled) {
                        return;
                    }
                    $(this).removeClass("ui-resizable-autohide");
                    that._handles.show();
                }).mouseleave(function() {
                    if (o.disabled) {
                        return;
                    }
                    if (!that.resizing) {
                        $(this).addClass("ui-resizable-autohide");
                        that._handles.hide();
                    }
                });
            }
            this._mouseInit();
        },
        _destroy: function() {
            this._mouseDestroy();
            var wrapper, _destroy = function(exp) {
                $(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();
            };
            if (this.elementIsWrapper) {
                _destroy(this.element);
                wrapper = this.element;
                this.originalElement.css({
                    position: wrapper.css("position"),
                    width: wrapper.outerWidth(),
                    height: wrapper.outerHeight(),
                    top: wrapper.css("top"),
                    left: wrapper.css("left")
                }).insertAfter(wrapper);
                wrapper.remove();
            }
            this.originalElement.css("resize", this.originalResizeStyle);
            _destroy(this.originalElement);
            return this;
        },
        _mouseCapture: function(event) {
            var i, handle, capture = false;
            for (i in this.handles) {
                handle = $(this.handles[i])[0];
                if (handle === event.target || $.contains(handle, event.target)) {
                    capture = true;
                }
            }
            return !this.options.disabled && capture;
        },
        _mouseStart: function(event) {
            var curleft, curtop, cursor, o = this.options, el = this.element;
            this.resizing = true;
            this._renderProxy();
            curleft = this._num(this.helper.css("left"));
            curtop = this._num(this.helper.css("top"));
            if (o.containment) {
                curleft += $(o.containment).scrollLeft() || 0;
                curtop += $(o.containment).scrollTop() || 0;
            }
            this.offset = this.helper.offset();
            this.position = {
                left: curleft,
                top: curtop
            };
            this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: el.width(),
                height: el.height()
            };
            this.originalSize = this._helper ? {
                width: el.outerWidth(),
                height: el.outerHeight()
            } : {
                width: el.width(),
                height: el.height()
            };
            this.originalPosition = {
                left: curleft,
                top: curtop
            };
            this.sizeDiff = {
                width: el.outerWidth() - el.width(),
                height: el.outerHeight() - el.height()
            };
            this.originalMousePosition = {
                left: event.pageX,
                top: event.pageY
            };
            this.aspectRatio = (typeof o.aspectRatio === "number") ? o.aspectRatio : ((this.originalSize.width / this.originalSize.height) || 1);
            cursor = $(".ui-resizable-" + this.axis).css("cursor");
            $("body").css("cursor", cursor === "auto" ? this.axis + "-resize" : cursor);
            el.addClass("ui-resizable-resizing");
            this._propagate("start", event);
            return true;
        },
        _mouseDrag: function(event) {
            var data, el = this.helper, props = {}, smp = this.originalMousePosition, a = this.axis, dx = (event.pageX - smp.left) || 0, dy = (event.pageY - smp.top) || 0, trigger = this._change[a];
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            };
            this.prevSize = {
                width: this.size.width,
                height: this.size.height
            };
            if (!trigger) {
                return false;
            }
            data = trigger.apply(this, [event, dx, dy]);
            this._updateVirtualBoundaries(event.shiftKey);
            if (this._aspectRatio || event.shiftKey) {
                data = this._updateRatio(data, event);
            }
            data = this._respectSize(data, event);
            this._updateCache(data);
            this._propagate("resize", event);
            if (this.position.top !== this.prevPosition.top) {
                props.top = this.position.top + "px";
            }
            if (this.position.left !== this.prevPosition.left) {
                props.left = this.position.left + "px";
            }
            if (this.size.width !== this.prevSize.width) {
                props.width = this.size.width + "px";
            }
            if (this.size.height !== this.prevSize.height) {
                props.height = this.size.height + "px";
            }
            el.css(props);
            if (!this._helper && this._proportionallyResizeElements.length) {
                this._proportionallyResize();
            }
            if (!$.isEmptyObject(props)) {
                this._trigger("resize", event, this.ui());
            }
            return false;
        },
        _mouseStop: function(event) {
            this.resizing = false;
            var pr, ista, soffseth, soffsetw, s, left, top, o = this.options, that = this;
            if (this._helper) {
                pr = this._proportionallyResizeElements;
                ista = pr.length && (/textarea/i).test(pr[0].nodeName);
                soffseth = ista && this._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height;
                soffsetw = ista ? 0 : that.sizeDiff.width;
                s = {
                    width: (that.helper.width() - soffsetw),
                    height: (that.helper.height() - soffseth)
                };
                left = (parseInt(that.element.css("left"), 10) + (that.position.left - that.originalPosition.left)) || null;
                top = (parseInt(that.element.css("top"), 10) + (that.position.top - that.originalPosition.top)) || null;
                if (!o.animate) {
                    this.element.css($.extend(s, {
                        top: top,
                        left: left
                    }));
                }
                that.helper.height(that.size.height);
                that.helper.width(that.size.width);
                if (this._helper && !o.animate) {
                    this._proportionallyResize();
                }
            }
            $("body").css("cursor", "auto");
            this.element.removeClass("ui-resizable-resizing");
            this._propagate("stop", event);
            if (this._helper) {
                this.helper.remove();
            }
            return false;
        },
        _updateVirtualBoundaries: function(forceAspectRatio) {
            var pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b, o = this.options;
            b = {
                minWidth: this._isNumber(o.minWidth) ? o.minWidth : 0,
                maxWidth: this._isNumber(o.maxWidth) ? o.maxWidth : Infinity,
                minHeight: this._isNumber(o.minHeight) ? o.minHeight : 0,
                maxHeight: this._isNumber(o.maxHeight) ? o.maxHeight : Infinity
            };
            if (this._aspectRatio || forceAspectRatio) {
                pMinWidth = b.minHeight * this.aspectRatio;
                pMinHeight = b.minWidth / this.aspectRatio;
                pMaxWidth = b.maxHeight * this.aspectRatio;
                pMaxHeight = b.maxWidth / this.aspectRatio;
                if (pMinWidth > b.minWidth) {
                    b.minWidth = pMinWidth;
                }
                if (pMinHeight > b.minHeight) {
                    b.minHeight = pMinHeight;
                }
                if (pMaxWidth < b.maxWidth) {
                    b.maxWidth = pMaxWidth;
                }
                if (pMaxHeight < b.maxHeight) {
                    b.maxHeight = pMaxHeight;
                }
            }
            this._vBoundaries = b;
        },
        _updateCache: function(data) {
            this.offset = this.helper.offset();
            if (this._isNumber(data.left)) {
                this.position.left = data.left;
            }
            if (this._isNumber(data.top)) {
                this.position.top = data.top;
            }
            if (this._isNumber(data.height)) {
                this.size.height = data.height;
            }
            if (this._isNumber(data.width)) {
                this.size.width = data.width;
            }
        },
        _updateRatio: function(data) {
            var cpos = this.position
              , csize = this.size
              , a = this.axis;
            if (this._isNumber(data.height)) {
                data.width = (data.height * this.aspectRatio);
            } else if (this._isNumber(data.width)) {
                data.height = (data.width / this.aspectRatio);
            }
            if (a === "sw") {
                data.left = cpos.left + (csize.width - data.width);
                data.top = null;
            }
            if (a === "nw") {
                data.top = cpos.top + (csize.height - data.height);
                data.left = cpos.left + (csize.width - data.width);
            }
            return data;
        },
        _respectSize: function(data) {
            var o = this._vBoundaries
              , a = this.axis
              , ismaxw = this._isNumber(data.width) && o.maxWidth && (o.maxWidth < data.width)
              , ismaxh = this._isNumber(data.height) && o.maxHeight && (o.maxHeight < data.height)
              , isminw = this._isNumber(data.width) && o.minWidth && (o.minWidth > data.width)
              , isminh = this._isNumber(data.height) && o.minHeight && (o.minHeight > data.height)
              , dw = this.originalPosition.left + this.originalSize.width
              , dh = this.position.top + this.size.height
              , cw = /sw|nw|w/.test(a)
              , ch = /nw|ne|n/.test(a);
            if (isminw) {
                data.width = o.minWidth;
            }
            if (isminh) {
                data.height = o.minHeight;
            }
            if (ismaxw) {
                data.width = o.maxWidth;
            }
            if (ismaxh) {
                data.height = o.maxHeight;
            }
            if (isminw && cw) {
                data.left = dw - o.minWidth;
            }
            if (ismaxw && cw) {
                data.left = dw - o.maxWidth;
            }
            if (isminh && ch) {
                data.top = dh - o.minHeight;
            }
            if (ismaxh && ch) {
                data.top = dh - o.maxHeight;
            }
            if (!data.width && !data.height && !data.left && data.top) {
                data.top = null;
            } else if (!data.width && !data.height && !data.top && data.left) {
                data.left = null;
            }
            return data;
        },
        _proportionallyResize: function() {
            if (!this._proportionallyResizeElements.length) {
                return;
            }
            var i, j, borders, paddings, prel, element = this.helper || this.element;
            for (i = 0; i < this._proportionallyResizeElements.length; i++) {
                prel = this._proportionallyResizeElements[i];
                if (!this.borderDif) {
                    this.borderDif = [];
                    borders = [prel.css("borderTopWidth"), prel.css("borderRightWidth"), prel.css("borderBottomWidth"), prel.css("borderLeftWidth")];
                    paddings = [prel.css("paddingTop"), prel.css("paddingRight"), prel.css("paddingBottom"), prel.css("paddingLeft")];
                    for (j = 0; j < borders.length; j++) {
                        this.borderDif[j] = (parseInt(borders[j], 10) || 0) + (parseInt(paddings[j], 10) || 0);
                    }
                }
                prel.css({
                    height: (element.height() - this.borderDif[0] - this.borderDif[2]) || 0,
                    width: (element.width() - this.borderDif[1] - this.borderDif[3]) || 0
                });
            }
        },
        _renderProxy: function() {
            var el = this.element
              , o = this.options;
            this.elementOffset = el.offset();
            if (this._helper) {
                this.helper = this.helper || $("<div style='overflow:hidden;'></div>");
                this.helper.addClass(this._helper).css({
                    width: this.element.outerWidth() - 1,
                    height: this.element.outerHeight() - 1,
                    position: "absolute",
                    left: this.elementOffset.left + "px",
                    top: this.elementOffset.top + "px",
                    zIndex: ++o.zIndex
                });
                this.helper.appendTo("body").disableSelection();
            } else {
                this.helper = this.element;
            }
        },
        _change: {
            e: function(event, dx) {
                return {
                    width: this.originalSize.width + dx
                };
            },
            w: function(event, dx) {
                var cs = this.originalSize
                  , sp = this.originalPosition;
                return {
                    left: sp.left + dx,
                    width: cs.width - dx
                };
            },
            n: function(event, dx, dy) {
                var cs = this.originalSize
                  , sp = this.originalPosition;
                return {
                    top: sp.top + dy,
                    height: cs.height - dy
                };
            },
            s: function(event, dx, dy) {
                return {
                    height: this.originalSize.height + dy
                };
            },
            se: function(event, dx, dy) {
                return $.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));
            },
            sw: function(event, dx, dy) {
                return $.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));
            },
            ne: function(event, dx, dy) {
                return $.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));
            },
            nw: function(event, dx, dy) {
                return $.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));
            }
        },
        _propagate: function(n, event) {
            $.ui.plugin.call(this, n, [event, this.ui()]);
            (n !== "resize" && this._trigger(n, event, this.ui()));
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition,
                prevSize: this.prevSize,
                prevPosition: this.prevPosition
            };
        }
    });
    $.ui.plugin.add("resizable", "animate", {
        stop: function(event) {
            var that = $(this).resizable("instance")
              , o = that.options
              , pr = that._proportionallyResizeElements
              , ista = pr.length && (/textarea/i).test(pr[0].nodeName)
              , soffseth = ista && that._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height
              , soffsetw = ista ? 0 : that.sizeDiff.width
              , style = {
                width: (that.size.width - soffsetw),
                height: (that.size.height - soffseth)
            }
              , left = (parseInt(that.element.css("left"), 10) + (that.position.left - that.originalPosition.left)) || null
              , top = (parseInt(that.element.css("top"), 10) + (that.position.top - that.originalPosition.top)) || null;
            that.element.animate($.extend(style, top && left ? {
                top: top,
                left: left
            } : {}), {
                duration: o.animateDuration,
                easing: o.animateEasing,
                step: function() {
                    var data = {
                        width: parseInt(that.element.css("width"), 10),
                        height: parseInt(that.element.css("height"), 10),
                        top: parseInt(that.element.css("top"), 10),
                        left: parseInt(that.element.css("left"), 10)
                    };
                    if (pr && pr.length) {
                        $(pr[0]).css({
                            width: data.width,
                            height: data.height
                        });
                    }
                    that._updateCache(data);
                    that._propagate("resize", event);
                }
            });
        }
    });
    $.ui.plugin.add("resizable", "containment", {
        start: function() {
            var element, p, co, ch, cw, width, height, that = $(this).resizable("instance"), o = that.options, el = that.element, oc = o.containment, ce = (oc instanceof $) ? oc.get(0) : (/parent/.test(oc)) ? el.parent().get(0) : oc;
            if (!ce) {
                return;
            }
            that.containerElement = $(ce);
            if (/document/.test(oc) || oc === document) {
                that.containerOffset = {
                    left: 0,
                    top: 0
                };
                that.containerPosition = {
                    left: 0,
                    top: 0
                };
                that.parentData = {
                    element: $(document),
                    left: 0,
                    top: 0,
                    width: $(document).width(),
                    height: $(document).height() || document.body.parentNode.scrollHeight
                };
            } else {
                element = $(ce);
                p = [];
                $(["Top", "Right", "Left", "Bottom"]).each(function(i, name) {
                    p[i] = that._num(element.css("padding" + name));
                });
                that.containerOffset = element.offset();
                that.containerPosition = element.position();
                that.containerSize = {
                    height: (element.innerHeight() - p[3]),
                    width: (element.innerWidth() - p[1])
                };
                co = that.containerOffset;
                ch = that.containerSize.height;
                cw = that.containerSize.width;
                width = (that._hasScroll(ce, "left") ? ce.scrollWidth : cw);
                height = (that._hasScroll(ce) ? ce.scrollHeight : ch);
                that.parentData = {
                    element: ce,
                    left: co.left,
                    top: co.top,
                    width: width,
                    height: height
                };
            }
        },
        resize: function(event, ui) {
            var woset, hoset, isParent, isOffsetRelative, that = $(this).resizable("instance"), o = that.options, co = that.containerOffset, cp = that.position, pRatio = that._aspectRatio || event.shiftKey, cop = {
                top: 0,
                left: 0
            }, ce = that.containerElement, continueResize = true;
            if (ce[0] !== document && (/static/).test(ce.css("position"))) {
                cop = co;
            }
            if (cp.left < (that._helper ? co.left : 0)) {
                that.size.width = that.size.width + (that._helper ? (that.position.left - co.left) : (that.position.left - cop.left));
                if (pRatio) {
                    that.size.height = that.size.width / that.aspectRatio;
                    continueResize = false;
                }
                that.position.left = o.helper ? co.left : 0;
            }
            if (cp.top < (that._helper ? co.top : 0)) {
                that.size.height = that.size.height + (that._helper ? (that.position.top - co.top) : that.position.top);
                if (pRatio) {
                    that.size.width = that.size.height * that.aspectRatio;
                    continueResize = false;
                }
                that.position.top = that._helper ? co.top : 0;
            }
            that.offset.left = that.parentData.left + that.position.left;
            that.offset.top = that.parentData.top + that.position.top;
            woset = Math.abs((that._helper ? that.offset.left - cop.left : (that.offset.left - co.left)) + that.sizeDiff.width);
            hoset = Math.abs((that._helper ? that.offset.top - cop.top : (that.offset.top - co.top)) + that.sizeDiff.height);
            isParent = that.containerElement.get(0) === that.element.parent().get(0);
            isOffsetRelative = /relative|absolute/.test(that.containerElement.css("position"));
            if (isParent && isOffsetRelative) {
                woset -= Math.abs(that.parentData.left);
            }
            if (woset + that.size.width >= that.parentData.width) {
                that.size.width = that.parentData.width - woset;
                if (pRatio) {
                    that.size.height = that.size.width / that.aspectRatio;
                    continueResize = false;
                }
            }
            if (hoset + that.size.height >= that.parentData.height) {
                that.size.height = that.parentData.height - hoset;
                if (pRatio) {
                    that.size.width = that.size.height * that.aspectRatio;
                    continueResize = false;
                }
            }
            if (!continueResize) {
                that.position.left = ui.prevPosition.left;
                that.position.top = ui.prevPosition.top;
                that.size.width = ui.prevSize.width;
                that.size.height = ui.prevSize.height;
            }
        },
        stop: function() {
            var that = $(this).resizable("instance")
              , o = that.options
              , co = that.containerOffset
              , cop = that.containerPosition
              , ce = that.containerElement
              , helper = $(that.helper)
              , ho = helper.offset()
              , w = helper.outerWidth() - that.sizeDiff.width
              , h = helper.outerHeight() - that.sizeDiff.height;
            if (that._helper && !o.animate && (/relative/).test(ce.css("position"))) {
                $(this).css({
                    left: ho.left - cop.left - co.left,
                    width: w,
                    height: h
                });
            }
            if (that._helper && !o.animate && (/static/).test(ce.css("position"))) {
                $(this).css({
                    left: ho.left - cop.left - co.left,
                    width: w,
                    height: h
                });
            }
        }
    });
    $.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var that = $(this).resizable("instance")
              , o = that.options
              , _store = function(exp) {
                $(exp).each(function() {
                    var el = $(this);
                    el.data("ui-resizable-alsoresize", {
                        width: parseInt(el.width(), 10),
                        height: parseInt(el.height(), 10),
                        left: parseInt(el.css("left"), 10),
                        top: parseInt(el.css("top"), 10)
                    });
                });
            };
            if (typeof (o.alsoResize) === "object" && !o.alsoResize.parentNode) {
                if (o.alsoResize.length) {
                    o.alsoResize = o.alsoResize[0];
                    _store(o.alsoResize);
                } else {
                    $.each(o.alsoResize, function(exp) {
                        _store(exp);
                    });
                }
            } else {
                _store(o.alsoResize);
            }
        },
        resize: function(event, ui) {
            var that = $(this).resizable("instance")
              , o = that.options
              , os = that.originalSize
              , op = that.originalPosition
              , delta = {
                height: (that.size.height - os.height) || 0,
                width: (that.size.width - os.width) || 0,
                top: (that.position.top - op.top) || 0,
                left: (that.position.left - op.left) || 0
            }
              , _alsoResize = function(exp, c) {
                $(exp).each(function() {
                    var el = $(this)
                      , start = $(this).data("ui-resizable-alsoresize")
                      , style = {}
                      , css = c && c.length ? c : el.parents(ui.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                    $.each(css, function(i, prop) {
                        var sum = (start[prop] || 0) + (delta[prop] || 0);
                        if (sum && sum >= 0) {
                            style[prop] = sum || null;
                        }
                    });
                    el.css(style);
                });
            };
            if (typeof (o.alsoResize) === "object" && !o.alsoResize.nodeType) {
                $.each(o.alsoResize, function(exp, c) {
                    _alsoResize(exp, c);
                });
            } else {
                _alsoResize(o.alsoResize);
            }
        },
        stop: function() {
            $(this).removeData("resizable-alsoresize");
        }
    });
    $.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var that = $(this).resizable("instance")
              , o = that.options
              , cs = that.size;
            that.ghost = that.originalElement.clone();
            that.ghost.css({
                opacity: 0.25,
                display: "block",
                position: "relative",
                height: cs.height,
                width: cs.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass(typeof o.ghost === "string" ? o.ghost : "");
            that.ghost.appendTo(that.helper);
        },
        resize: function() {
            var that = $(this).resizable("instance");
            if (that.ghost) {
                that.ghost.css({
                    position: "relative",
                    height: that.size.height,
                    width: that.size.width
                });
            }
        },
        stop: function() {
            var that = $(this).resizable("instance");
            if (that.ghost && that.helper) {
                that.helper.get(0).removeChild(that.ghost.get(0));
            }
        }
    });
    $.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var that = $(this).resizable("instance")
              , o = that.options
              , cs = that.size
              , os = that.originalSize
              , op = that.originalPosition
              , a = that.axis
              , grid = typeof o.grid === "number" ? [o.grid, o.grid] : o.grid
              , gridX = (grid[0] || 1)
              , gridY = (grid[1] || 1)
              , ox = Math.round((cs.width - os.width) / gridX) * gridX
              , oy = Math.round((cs.height - os.height) / gridY) * gridY
              , newWidth = os.width + ox
              , newHeight = os.height + oy
              , isMaxWidth = o.maxWidth && (o.maxWidth < newWidth)
              , isMaxHeight = o.maxHeight && (o.maxHeight < newHeight)
              , isMinWidth = o.minWidth && (o.minWidth > newWidth)
              , isMinHeight = o.minHeight && (o.minHeight > newHeight);
            o.grid = grid;
            if (isMinWidth) {
                newWidth = newWidth + gridX;
            }
            if (isMinHeight) {
                newHeight = newHeight + gridY;
            }
            if (isMaxWidth) {
                newWidth = newWidth - gridX;
            }
            if (isMaxHeight) {
                newHeight = newHeight - gridY;
            }
            if (/^(se|s|e)$/.test(a)) {
                that.size.width = newWidth;
                that.size.height = newHeight;
            } else if (/^(ne)$/.test(a)) {
                that.size.width = newWidth;
                that.size.height = newHeight;
                that.position.top = op.top - oy;
            } else if (/^(sw)$/.test(a)) {
                that.size.width = newWidth;
                that.size.height = newHeight;
                that.position.left = op.left - ox;
            } else {
                if (newHeight - gridY > 0) {
                    that.size.height = newHeight;
                    that.position.top = op.top - oy;
                } else {
                    that.size.height = gridY;
                    that.position.top = op.top + os.height - gridY;
                }
                if (newWidth - gridX > 0) {
                    that.size.width = newWidth;
                    that.position.left = op.left - ox;
                } else {
                    that.size.width = gridX;
                    that.position.left = op.left + os.width - gridX;
                }
            }
        }
    });
    var resizable = $.ui.resizable;
    var dialog = $.widget("ui.dialog", {
        version: "1.11.0",
        options: {
            appendTo: "body",
            autoOpen: true,
            buttons: [],
            closeOnEscape: true,
            closeText: "Close",
            dialogClass: "",
            draggable: true,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: false,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function(pos) {
                    var topOffset = $(this).css(pos).offset().top;
                    if (topOffset < 0) {
                        $(this).css("top", pos.top - topOffset);
                    }
                }
            },
            resizable: true,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        sizeRelatedOptions: {
            buttons: true,
            height: true,
            maxHeight: true,
            maxWidth: true,
            minHeight: true,
            minWidth: true,
            width: true
        },
        resizableRelatedOptions: {
            maxHeight: true,
            maxWidth: true,
            minHeight: true,
            minWidth: true
        },
        _create: function() {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            };
            this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            };
            this.originalTitle = this.element.attr("title");
            this.options.title = this.options.title || this.originalTitle;
            this._createWrapper();
            this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);
            this._createTitlebar();
            this._createButtonPane();
            if (this.options.draggable && $.fn.draggable) {
                this._makeDraggable();
            }
            if (this.options.resizable && $.fn.resizable) {
                this._makeResizable();
            }
            this._isOpen = false;
            this._trackFocus();
        },
        _init: function() {
            if (this.options.autoOpen) {
                this.open();
            }
        },
        _appendTo: function() {
            var element = this.options.appendTo;
            if (element && (element.jquery || element.nodeType)) {
                return $(element);
            }
            return this.document.find(element || "body").eq(0);
        },
        _destroy: function() {
            var next, originalPosition = this.originalPosition;
            this._destroyOverlay();
            this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();
            this.uiDialog.stop(true, true).remove();
            if (this.originalTitle) {
                this.element.attr("title", this.originalTitle);
            }
            next = originalPosition.parent.children().eq(originalPosition.index);
            if (next.length && next[0] !== this.element[0]) {
                next.before(this.element);
            } else {
                originalPosition.parent.append(this.element);
            }
        },
        widget: function() {
            return this.uiDialog;
        },
        disable: $.noop,
        enable: $.noop,
        close: function(event) {
            var activeElement, that = this;
            if (!this._isOpen || this._trigger("beforeClose", event) === false) {
                return;
            }
            this._isOpen = false;
            this._focusedElement = null;
            this._destroyOverlay();
            this._untrackInstance();
            if (!this.opener.filter(":focusable").focus().length) {
                try {
                    activeElement = this.document[0].activeElement;
                    if (activeElement && activeElement.nodeName.toLowerCase() !== "body") {
                        $(activeElement).blur();
                    }
                } catch (error) {}
            }
            this._hide(this.uiDialog, this.options.hide, function() {
                that._trigger("close", event);
            });
        },
        isOpen: function() {
            return this._isOpen;
        },
        moveToTop: function() {
            this._moveToTop();
        },
        _moveToTop: function(event, silent) {
            var moved = false
              , zIndicies = this.uiDialog.siblings(".ui-front:visible").map(function() {
                return +$(this).css("z-index");
            }).get()
              , zIndexMax = Math.max.apply(null, zIndicies);
            if (zIndexMax >= +this.uiDialog.css("z-index")) {
                this.uiDialog.css("z-index", zIndexMax + 1);
                moved = true;
            }
            if (moved && !silent) {
                this._trigger("focus", event);
            }
            return moved;
        },
        open: function() {
            var that = this;
            if (this._isOpen) {
                if (this._moveToTop()) {
                    this._focusTabbable();
                }
                return;
            }
            this._isOpen = true;
            this.opener = $(this.document[0].activeElement);
            this._size();
            this._position();
            this._createOverlay();
            this._moveToTop(null, true);
            this._show(this.uiDialog, this.options.show, function() {
                that._focusTabbable();
                that._trigger("focus");
            });
            this._trigger("open");
        },
        _focusTabbable: function() {
            var hasFocus = this._focusedElement;
            if (!hasFocus) {
                hasFocus = this.element.find("[autofocus]");
            }
            if (!hasFocus.length) {
                hasFocus = this.element.find(":tabbable");
            }
            if (!hasFocus.length) {
                hasFocus = this.uiDialogButtonPane.find(":tabbable");
            }
            if (!hasFocus.length) {
                hasFocus = this.uiDialogTitlebarClose.filter(":tabbable");
            }
            if (!hasFocus.length) {
                hasFocus = this.uiDialog;
            }
            hasFocus.eq(0).focus();
        },
        _keepFocus: function(event) {
            function checkFocus() {
                var activeElement = this.document[0].activeElement
                  , isActive = this.uiDialog[0] === activeElement || $.contains(this.uiDialog[0], activeElement);
                if (!isActive) {
                    this._focusTabbable();
                }
            }
            event.preventDefault();
            checkFocus.call(this);
            this._delay(checkFocus);
        },
        _createWrapper: function() {
            this.uiDialog = $("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo());
            this._on(this.uiDialog, {
                keydown: function(event) {
                    if (this.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode && event.keyCode === $.ui.keyCode.ESCAPE) {
                        event.preventDefault();
                        this.close(event);
                        return;
                    }
                    if (event.keyCode !== $.ui.keyCode.TAB || event.isDefaultPrevented()) {
                        return;
                    }
                    var tabbables = this.uiDialog.find(":tabbable")
                      , first = tabbables.filter(":first")
                      , last = tabbables.filter(":last");
                    if ((event.target === last[0] || event.target === this.uiDialog[0]) && !event.shiftKey) {
                        this._delay(function() {
                            first.focus();
                        });
                        event.preventDefault();
                    } else if ((event.target === first[0] || event.target === this.uiDialog[0]) && event.shiftKey) {
                        this._delay(function() {
                            last.focus();
                        });
                        event.preventDefault();
                    }
                },
                mousedown: function(event) {
                    if (this._moveToTop(event)) {
                        this._focusTabbable();
                    }
                }
            });
            if (!this.element.find("[aria-describedby]").length) {
                this.uiDialog.attr({
                    "aria-describedby": this.element.uniqueId().attr("id")
                });
            }
        },
        _createTitlebar: function() {
            var uiDialogTitle;
            this.uiDialogTitlebar = $("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);
            this._on(this.uiDialogTitlebar, {
                mousedown: function(event) {
                    if (!$(event.target).closest(".ui-dialog-titlebar-close")) {
                        this.uiDialog.focus();
                    }
                }
            });
            this.uiDialogTitlebarClose = $("<button type='button'></button>").button({
                label: this.options.closeText,
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: false
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);
            this._on(this.uiDialogTitlebarClose, {
                click: function(event) {
                    event.preventDefault();
                    this.close(event);
                }
            });
            uiDialogTitle = $("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);
            this._title(uiDialogTitle);
            this.uiDialog.attr({
                "aria-labelledby": uiDialogTitle.attr("id")
            });
        },
        _title: function(title) {
            if (!this.options.title) {
                title.html("&#160;");
            }
            title.text(this.options.title);
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane = $("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");
            this.uiButtonSet = $("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);
            this._createButtons();
        },
        _createButtons: function() {
            var that = this
              , buttons = this.options.buttons;
            this.uiDialogButtonPane.remove();
            this.uiButtonSet.empty();
            if ($.isEmptyObject(buttons) || ($.isArray(buttons) && !buttons.length)) {
                this.uiDialog.removeClass("ui-dialog-buttons");
                return;
            }
            $.each(buttons, function(name, props) {
                var click, buttonOptions;
                props = $.isFunction(props) ? {
                    click: props,
                    text: name
                } : props;
                props = $.extend({
                    type: "button"
                }, props);
                click = props.click;
                props.click = function() {
                    click.apply(that.element[0], arguments);
                }
                ;
                buttonOptions = {
                    icons: props.icons,
                    text: props.showText
                };
                delete props.icons;
                delete props.showText;
                $("<button></button>", props).button(buttonOptions).appendTo(that.uiButtonSet);
            });
            this.uiDialog.addClass("ui-dialog-buttons");
            this.uiDialogButtonPane.appendTo(this.uiDialog);
        },
        _makeDraggable: function() {
            var that = this
              , options = this.options;
            function filteredUi(ui) {
                return {
                    position: ui.position,
                    offset: ui.offset
                };
            }
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function(event, ui) {
                    $(this).addClass("ui-dialog-dragging");
                    that._blockFrames();
                    that._trigger("dragStart", event, filteredUi(ui));
                },
                drag: function(event, ui) {
                    that._trigger("drag", event, filteredUi(ui));
                },
                stop: function(event, ui) {
                    var left = ui.offset.left - that.document.scrollLeft()
                      , top = ui.offset.top - that.document.scrollTop();
                    options.position = {
                        my: "left top",
                        at: "left" + (left >= 0 ? "+" : "") + left + " " + "top" + (top >= 0 ? "+" : "") + top,
                        of: that.window
                    };
                    $(this).removeClass("ui-dialog-dragging");
                    that._unblockFrames();
                    that._trigger("dragStop", event, filteredUi(ui));
                }
            });
        },
        _makeResizable: function() {
            var that = this
              , options = this.options
              , handles = options.resizable
              , position = this.uiDialog.css("position")
              , resizeHandles = typeof handles === "string" ? handles : "n,e,s,w,se,sw,ne,nw";
            function filteredUi(ui) {
                return {
                    originalPosition: ui.originalPosition,
                    originalSize: ui.originalSize,
                    position: ui.position,
                    size: ui.size
                };
            }
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: options.maxWidth,
                maxHeight: options.maxHeight,
                minWidth: options.minWidth,
                minHeight: this._minHeight(),
                handles: resizeHandles,
                start: function(event, ui) {
                    $(this).addClass("ui-dialog-resizing");
                    that._blockFrames();
                    that._trigger("resizeStart", event, filteredUi(ui));
                },
                resize: function(event, ui) {
                    that._trigger("resize", event, filteredUi(ui));
                },
                stop: function(event, ui) {
                    var offset = that.uiDialog.offset()
                      , left = offset.left - that.document.scrollLeft()
                      , top = offset.top - that.document.scrollTop();
                    options.height = that.uiDialog.height();
                    options.width = that.uiDialog.width();
                    options.position = {
                        my: "left top",
                        at: "left" + (left >= 0 ? "+" : "") + left + " " + "top" + (top >= 0 ? "+" : "") + top,
                        of: that.window
                    };
                    $(this).removeClass("ui-dialog-resizing");
                    that._unblockFrames();
                    that._trigger("resizeStop", event, filteredUi(ui));
                }
            }).css("position", position);
        },
        _trackFocus: function() {
            this._on(this.widget(), {
                "focusin": function(event) {
                    this._untrackInstance();
                    this._trackingInstances().unshift(this);
                    this._focusedElement = $(event.target);
                }
            });
        },
        _untrackInstance: function() {
            var instances = this._trackingInstances()
              , exists = $.inArray(this, instances);
            if (exists !== -1) {
                instances.splice(exists, 1);
            }
        },
        _trackingInstances: function() {
            var instances = this.document.data("ui-dialog-instances");
            if (!instances) {
                instances = [];
                this.document.data("ui-dialog-instances", instances);
            }
            return instances;
        },
        _minHeight: function() {
            var options = this.options;
            return options.height === "auto" ? options.minHeight : Math.min(options.minHeight, options.height);
        },
        _position: function() {
            var isVisible = this.uiDialog.is(":visible");
            if (!isVisible) {
                this.uiDialog.show();
            }
            this.uiDialog.position(this.options.position);
            if (!isVisible) {
                this.uiDialog.hide();
            }
        },
        _setOptions: function(options) {
            var that = this
              , resize = false
              , resizableOptions = {};
            $.each(options, function(key, value) {
                that._setOption(key, value);
                if (key in that.sizeRelatedOptions) {
                    resize = true;
                }
                if (key in that.resizableRelatedOptions) {
                    resizableOptions[key] = value;
                }
            });
            if (resize) {
                this._size();
                this._position();
            }
            if (this.uiDialog.is(":data(ui-resizable)")) {
                this.uiDialog.resizable("option", resizableOptions);
            }
        },
        _setOption: function(key, value) {
            var isDraggable, isResizable, uiDialog = this.uiDialog;
            if (key === "dialogClass") {
                uiDialog.removeClass(this.options.dialogClass).addClass(value);
            }
            if (key === "disabled") {
                return;
            }
            this._super(key, value);
            if (key === "appendTo") {
                this.uiDialog.appendTo(this._appendTo());
            }
            if (key === "buttons") {
                this._createButtons();
            }
            if (key === "closeText") {
                this.uiDialogTitlebarClose.button({
                    label: "" + value
                });
            }
            if (key === "draggable") {
                isDraggable = uiDialog.is(":data(ui-draggable)");
                if (isDraggable && !value) {
                    uiDialog.draggable("destroy");
                }
                if (!isDraggable && value) {
                    this._makeDraggable();
                }
            }
            if (key === "position") {
                this._position();
            }
            if (key === "resizable") {
                isResizable = uiDialog.is(":data(ui-resizable)");
                if (isResizable && !value) {
                    uiDialog.resizable("destroy");
                }
                if (isResizable && typeof value === "string") {
                    uiDialog.resizable("option", "handles", value);
                }
                if (!isResizable && value !== false) {
                    this._makeResizable();
                }
            }
            if (key === "title") {
                this._title(this.uiDialogTitlebar.find(".ui-dialog-title"));
            }
        },
        _size: function() {
            var nonContentHeight, minContentHeight, maxContentHeight, options = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            });
            if (options.minWidth > options.width) {
                options.width = options.minWidth;
            }
            nonContentHeight = this.uiDialog.css({
                height: "auto",
                width: options.width
            }).outerHeight();
            minContentHeight = Math.max(0, options.minHeight - nonContentHeight);
            maxContentHeight = typeof options.maxHeight === "number" ? Math.max(0, options.maxHeight - nonContentHeight) : "none";
            if (options.height === "auto") {
                this.element.css({
                    minHeight: minContentHeight,
                    maxHeight: maxContentHeight,
                    height: "auto"
                });
            } else {
                this.element.height(Math.max(0, options.height - nonContentHeight));
            }
            if (this.uiDialog.is(":data(ui-resizable)")) {
                this.uiDialog.resizable("option", "minHeight", this._minHeight());
            }
        },
        _blockFrames: function() {
            this.iframeBlocks = this.document.find("iframe").map(function() {
                var iframe = $(this);
                return $("<div>").css({
                    position: "absolute",
                    width: iframe.outerWidth(),
                    height: iframe.outerHeight()
                }).appendTo(iframe.parent()).offset(iframe.offset())[0];
            });
        },
        _unblockFrames: function() {
            if (this.iframeBlocks) {
                this.iframeBlocks.remove();
                delete this.iframeBlocks;
            }
        },
        _allowInteraction: function(event) {
            if ($(event.target).closest(".ui-dialog").length) {
                return true;
            }
            return !!$(event.target).closest(".ui-datepicker").length;
        },
        _createOverlay: function() {
            if (!this.options.modal) {
                return;
            }
            var isOpening = true;
            this._delay(function() {
                isOpening = false;
            });
            if (!this.document.data("ui-dialog-overlays")) {
                this._on(this.document, {
                    focusin: function(event) {
                        if (isOpening) {
                            return;
                        }
                        if (!this._allowInteraction(event)) {
                            event.preventDefault();
                            this._trackingInstances()[0]._focusTabbable();
                        }
                    }
                });
            }
            this.overlay = $("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());
            this._on(this.overlay, {
                mousedown: "_keepFocus"
            });
            this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1);
        },
        _destroyOverlay: function() {
            if (!this.options.modal) {
                return;
            }
            if (this.overlay) {
                var overlays = this.document.data("ui-dialog-overlays") - 1;
                if (!overlays) {
                    this.document.unbind("focusin").removeData("ui-dialog-overlays");
                } else {
                    this.document.data("ui-dialog-overlays", overlays);
                }
                this.overlay.remove();
                this.overlay = null;
            }
        }
    });
    $.widget("ui.droppable", {
        version: "1.11.0",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: false,
            addClasses: true,
            greedy: false,
            hoverClass: false,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var proportions, o = this.options, accept = o.accept;
            this.isover = false;
            this.isout = true;
            this.accept = $.isFunction(accept) ? accept : function(d) {
                return d.is(accept);
            }
            ;
            this.proportions = function() {
                if (arguments.length) {
                    proportions = arguments[0];
                } else {
                    return proportions ? proportions : proportions = {
                        width: this.element[0].offsetWidth,
                        height: this.element[0].offsetHeight
                    };
                }
            }
            ;
            this._addToManager(o.scope);
            o.addClasses && this.element.addClass("ui-droppable");
        },
        _addToManager: function(scope) {
            $.ui.ddmanager.droppables[scope] = $.ui.ddmanager.droppables[scope] || [];
            $.ui.ddmanager.droppables[scope].push(this);
        },
        _splice: function(drop) {
            var i = 0;
            for (; i < drop.length; i++) {
                if (drop[i] === this) {
                    drop.splice(i, 1);
                }
            }
        },
        _destroy: function() {
            var drop = $.ui.ddmanager.droppables[this.options.scope];
            this._splice(drop);
            this.element.removeClass("ui-droppable ui-droppable-disabled");
        },
        _setOption: function(key, value) {
            if (key === "accept") {
                this.accept = $.isFunction(value) ? value : function(d) {
                    return d.is(value);
                }
                ;
            } else if (key === "scope") {
                var drop = $.ui.ddmanager.droppables[this.options.scope];
                this._splice(drop);
                this._addToManager(value);
            }
            this._super(key, value);
        },
        _activate: function(event) {
            var draggable = $.ui.ddmanager.current;
            if (this.options.activeClass) {
                this.element.addClass(this.options.activeClass);
            }
            if (draggable) {
                this._trigger("activate", event, this.ui(draggable));
            }
        },
        _deactivate: function(event) {
            var draggable = $.ui.ddmanager.current;
            if (this.options.activeClass) {
                this.element.removeClass(this.options.activeClass);
            }
            if (draggable) {
                this._trigger("deactivate", event, this.ui(draggable));
            }
        },
        _over: function(event) {
            var draggable = $.ui.ddmanager.current;
            if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
                return;
            }
            if (this.accept.call(this.element[0], (draggable.currentItem || draggable.element))) {
                if (this.options.hoverClass) {
                    this.element.addClass(this.options.hoverClass);
                }
                this._trigger("over", event, this.ui(draggable));
            }
        },
        _out: function(event) {
            var draggable = $.ui.ddmanager.current;
            if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
                return;
            }
            if (this.accept.call(this.element[0], (draggable.currentItem || draggable.element))) {
                if (this.options.hoverClass) {
                    this.element.removeClass(this.options.hoverClass);
                }
                this._trigger("out", event, this.ui(draggable));
            }
        },
        _drop: function(event, custom) {
            var draggable = custom || $.ui.ddmanager.current
              , childrenIntersection = false;
            if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
                return false;
            }
            this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                var inst = $(this).droppable("instance");
                if (inst.options.greedy && !inst.options.disabled && inst.options.scope === draggable.options.scope && inst.accept.call(inst.element[0], (draggable.currentItem || draggable.element)) && $.ui.intersect(draggable, $.extend(inst, {
                    offset: inst.element.offset()
                }), inst.options.tolerance)) {
                    childrenIntersection = true;
                    return false;
                }
            });
            if (childrenIntersection) {
                return false;
            }
            if (this.accept.call(this.element[0], (draggable.currentItem || draggable.element))) {
                if (this.options.activeClass) {
                    this.element.removeClass(this.options.activeClass);
                }
                if (this.options.hoverClass) {
                    this.element.removeClass(this.options.hoverClass);
                }
                this._trigger("drop", event, this.ui(draggable));
                return this.element;
            }
            return false;
        },
        ui: function(c) {
            return {
                draggable: (c.currentItem || c.element),
                helper: c.helper,
                position: c.position,
                offset: c.positionAbs
            };
        }
    });
    $.ui.intersect = (function() {
        function isOverAxis(x, reference, size) {
            return (x >= reference) && (x < (reference + size));
        }
        return function(draggable, droppable, toleranceMode) {
            if (!droppable.offset) {
                return false;
            }
            var draggableLeft, draggableTop, x1 = (draggable.positionAbs || draggable.position.absolute).left, y1 = (draggable.positionAbs || draggable.position.absolute).top, x2 = x1 + draggable.helperProportions.width, y2 = y1 + draggable.helperProportions.height, l = droppable.offset.left, t = droppable.offset.top, r = l + droppable.proportions().width, b = t + droppable.proportions().height;
            switch (toleranceMode) {
            case "fit":
                return (l <= x1 && x2 <= r && t <= y1 && y2 <= b);
            case "intersect":
                return (l < x1 + (draggable.helperProportions.width / 2) && x2 - (draggable.helperProportions.width / 2) < r && t < y1 + (draggable.helperProportions.height / 2) && y2 - (draggable.helperProportions.height / 2) < b);
            case "pointer":
                draggableLeft = ((draggable.positionAbs || draggable.position.absolute).left + (draggable.clickOffset || draggable.offset.click).left);
                draggableTop = ((draggable.positionAbs || draggable.position.absolute).top + (draggable.clickOffset || draggable.offset.click).top);
                return isOverAxis(draggableTop, t, droppable.proportions().height) && isOverAxis(draggableLeft, l, droppable.proportions().width);
            case "touch":
                return ((y1 >= t && y1 <= b) || (y2 >= t && y2 <= b) || (y1 < t && y2 > b)) && ((x1 >= l && x1 <= r) || (x2 >= l && x2 <= r) || (x1 < l && x2 > r));
            default:
                return false;
            }
        }
        ;
    }
    )();
    $.ui.ddmanager = {
        current: null,
        droppables: {
            "default": []
        },
        prepareOffsets: function(t, event) {
            var i, j, m = $.ui.ddmanager.droppables[t.options.scope] || [], type = event ? event.type : null, list = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
            droppablesLoop: for (i = 0; i < m.length; i++) {
                if (m[i].options.disabled || (t && !m[i].accept.call(m[i].element[0], (t.currentItem || t.element)))) {
                    continue;
                }
                for (j = 0; j < list.length; j++) {
                    if (list[j] === m[i].element[0]) {
                        m[i].proportions().height = 0;
                        continue droppablesLoop;
                    }
                }
                m[i].visible = m[i].element.css("display") !== "none";
                if (!m[i].visible) {
                    continue;
                }
                if (type === "mousedown") {
                    m[i]._activate.call(m[i], event);
                }
                m[i].offset = m[i].element.offset();
                m[i].proportions({
                    width: m[i].element[0].offsetWidth,
                    height: m[i].element[0].offsetHeight
                });
            }
        },
        drop: function(draggable, event) {
            var dropped = false;
            $.each(($.ui.ddmanager.droppables[draggable.options.scope] || []).slice(), function() {
                if (!this.options) {
                    return;
                }
                if (!this.options.disabled && this.visible && $.ui.intersect(draggable, this, this.options.tolerance)) {
                    dropped = this._drop.call(this, event) || dropped;
                }
                if (!this.options.disabled && this.visible && this.accept.call(this.element[0], (draggable.currentItem || draggable.element))) {
                    this.isout = true;
                    this.isover = false;
                    this._deactivate.call(this, event);
                }
            });
            return dropped;
        },
        dragStart: function(draggable, event) {
            draggable.element.parentsUntil("body").bind("scroll.droppable", function() {
                if (!draggable.options.refreshPositions) {
                    $.ui.ddmanager.prepareOffsets(draggable, event);
                }
            });
        },
        drag: function(draggable, event) {
            if (draggable.options.refreshPositions) {
                $.ui.ddmanager.prepareOffsets(draggable, event);
            }
            $.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {
                if (this.options.disabled || this.greedyChild || !this.visible) {
                    return;
                }
                var parentInstance, scope, parent, intersects = $.ui.intersect(draggable, this, this.options.tolerance), c = !intersects && this.isover ? "isout" : (intersects && !this.isover ? "isover" : null);
                if (!c) {
                    return;
                }
                if (this.options.greedy) {
                    scope = this.options.scope;
                    parent = this.element.parents(":data(ui-droppable)").filter(function() {
                        return $(this).droppable("instance").options.scope === scope;
                    });
                    if (parent.length) {
                        parentInstance = $(parent[0]).droppable("instance");
                        parentInstance.greedyChild = (c === "isover");
                    }
                }
                if (parentInstance && c === "isover") {
                    parentInstance.isover = false;
                    parentInstance.isout = true;
                    parentInstance._out.call(parentInstance, event);
                }
                this[c] = true;
                this[c === "isout" ? "isover" : "isout"] = false;
                this[c === "isover" ? "_over" : "_out"].call(this, event);
                if (parentInstance && c === "isout") {
                    parentInstance.isout = false;
                    parentInstance.isover = true;
                    parentInstance._over.call(parentInstance, event);
                }
            });
        },
        dragStop: function(draggable, event) {
            draggable.element.parentsUntil("body").unbind("scroll.droppable");
            if (!draggable.options.refreshPositions) {
                $.ui.ddmanager.prepareOffsets(draggable, event);
            }
        }
    };
    var droppable = $.ui.droppable;
    var dataSpace = "ui-effects-";
    $.effects = {
        effect: {}
    };
    (function(jQuery, undefined) {
        var stepHooks = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor", rplusequals = /^([\-+])=\s*(\d+\.?\d*)/, stringParsers = [{
            re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(execResult) {
                return [execResult[1], execResult[2], execResult[3], execResult[4]];
            }
        }, {
            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(execResult) {
                return [execResult[1] * 2.55, execResult[2] * 2.55, execResult[3] * 2.55, execResult[4]];
            }
        }, {
            re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
            parse: function(execResult) {
                return [parseInt(execResult[1], 16), parseInt(execResult[2], 16), parseInt(execResult[3], 16)];
            }
        }, {
            re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
            parse: function(execResult) {
                return [parseInt(execResult[1] + execResult[1], 16), parseInt(execResult[2] + execResult[2], 16), parseInt(execResult[3] + execResult[3], 16)];
            }
        }, {
            re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            space: "hsla",
            parse: function(execResult) {
                return [execResult[1], execResult[2] / 100, execResult[3] / 100, execResult[4]];
            }
        }], color = jQuery.Color = function(color, green, blue, alpha) {
            return new jQuery.Color.fn.parse(color,green,blue,alpha);
        }
        , spaces = {
            rgba: {
                props: {
                    red: {
                        idx: 0,
                        type: "byte"
                    },
                    green: {
                        idx: 1,
                        type: "byte"
                    },
                    blue: {
                        idx: 2,
                        type: "byte"
                    }
                }
            },
            hsla: {
                props: {
                    hue: {
                        idx: 0,
                        type: "degrees"
                    },
                    saturation: {
                        idx: 1,
                        type: "percent"
                    },
                    lightness: {
                        idx: 2,
                        type: "percent"
                    }
                }
            }
        }, propTypes = {
            "byte": {
                floor: true,
                max: 255
            },
            "percent": {
                max: 1
            },
            "degrees": {
                mod: 360,
                floor: true
            }
        }, support = color.support = {}, supportElem = jQuery("<p>")[0], colors, each = jQuery.each;
        supportElem.style.cssText = "background-color:rgba(1,1,1,.5)";
        support.rgba = supportElem.style.backgroundColor.indexOf("rgba") > -1;
        each(spaces, function(spaceName, space) {
            space.cache = "_" + spaceName;
            space.props.alpha = {
                idx: 3,
                type: "percent",
                def: 1
            };
        });
        function clamp(value, prop, allowEmpty) {
            var type = propTypes[prop.type] || {};
            if (value == null) {
                return (allowEmpty || !prop.def) ? null : prop.def;
            }
            value = type.floor ? ~~value : parseFloat(value);
            if (isNaN(value)) {
                return prop.def;
            }
            if (type.mod) {
                return (value + type.mod) % type.mod;
            }
            return 0 > value ? 0 : type.max < value ? type.max : value;
        }
        function stringParse(string) {
            var inst = color()
              , rgba = inst._rgba = [];
            string = string.toLowerCase();
            each(stringParsers, function(i, parser) {
                var parsed, match = parser.re.exec(string), values = match && parser.parse(match), spaceName = parser.space || "rgba";
                if (values) {
                    parsed = inst[spaceName](values);
                    inst[spaces[spaceName].cache] = parsed[spaces[spaceName].cache];
                    rgba = inst._rgba = parsed._rgba;
                    return false;
                }
            });
            if (rgba.length) {
                if (rgba.join() === "0,0,0,0") {
                    jQuery.extend(rgba, colors.transparent);
                }
                return inst;
            }
            return colors[string];
        }
        color.fn = jQuery.extend(color.prototype, {
            parse: function(red, green, blue, alpha) {
                if (red === undefined) {
                    this._rgba = [null, null, null, null];
                    return this;
                }
                if (red.jquery || red.nodeType) {
                    red = jQuery(red).css(green);
                    green = undefined;
                }
                var inst = this
                  , type = jQuery.type(red)
                  , rgba = this._rgba = [];
                if (green !== undefined) {
                    red = [red, green, blue, alpha];
                    type = "array";
                }
                if (type === "string") {
                    return this.parse(stringParse(red) || colors._default);
                }
                if (type === "array") {
                    each(spaces.rgba.props, function(key, prop) {
                        rgba[prop.idx] = clamp(red[prop.idx], prop);
                    });
                    return this;
                }
                if (type === "object") {
                    if (red instanceof color) {
                        each(spaces, function(spaceName, space) {
                            if (red[space.cache]) {
                                inst[space.cache] = red[space.cache].slice();
                            }
                        });
                    } else {
                        each(spaces, function(spaceName, space) {
                            var cache = space.cache;
                            each(space.props, function(key, prop) {
                                if (!inst[cache] && space.to) {
                                    if (key === "alpha" || red[key] == null) {
                                        return;
                                    }
                                    inst[cache] = space.to(inst._rgba);
                                }
                                inst[cache][prop.idx] = clamp(red[key], prop, true);
                            });
                            if (inst[cache] && jQuery.inArray(null, inst[cache].slice(0, 3)) < 0) {
                                inst[cache][3] = 1;
                                if (space.from) {
                                    inst._rgba = space.from(inst[cache]);
                                }
                            }
                        });
                    }
                    return this;
                }
            },
            is: function(compare) {
                var is = color(compare)
                  , same = true
                  , inst = this;
                each(spaces, function(_, space) {
                    var localCache, isCache = is[space.cache];
                    if (isCache) {
                        localCache = inst[space.cache] || space.to && space.to(inst._rgba) || [];
                        each(space.props, function(_, prop) {
                            if (isCache[prop.idx] != null) {
                                same = (isCache[prop.idx] === localCache[prop.idx]);
                                return same;
                            }
                        });
                    }
                    return same;
                });
                return same;
            },
            _space: function() {
                var used = []
                  , inst = this;
                each(spaces, function(spaceName, space) {
                    if (inst[space.cache]) {
                        used.push(spaceName);
                    }
                });
                return used.pop();
            },
            transition: function(other, distance) {
                var end = color(other)
                  , spaceName = end._space()
                  , space = spaces[spaceName]
                  , startColor = this.alpha() === 0 ? color("transparent") : this
                  , start = startColor[space.cache] || space.to(startColor._rgba)
                  , result = start.slice();
                end = end[space.cache];
                each(space.props, function(key, prop) {
                    var index = prop.idx
                      , startValue = start[index]
                      , endValue = end[index]
                      , type = propTypes[prop.type] || {};
                    if (endValue === null) {
                        return;
                    }
                    if (startValue === null) {
                        result[index] = endValue;
                    } else {
                        if (type.mod) {
                            if (endValue - startValue > type.mod / 2) {
                                startValue += type.mod;
                            } else if (startValue - endValue > type.mod / 2) {
                                startValue -= type.mod;
                            }
                        }
                        result[index] = clamp((endValue - startValue) * distance + startValue, prop);
                    }
                });
                return this[spaceName](result);
            },
            blend: function(opaque) {
                if (this._rgba[3] === 1) {
                    return this;
                }
                var rgb = this._rgba.slice()
                  , a = rgb.pop()
                  , blend = color(opaque)._rgba;
                return color(jQuery.map(rgb, function(v, i) {
                    return (1 - a) * blend[i] + a * v;
                }));
            },
            toRgbaString: function() {
                var prefix = "rgba("
                  , rgba = jQuery.map(this._rgba, function(v, i) {
                    return v == null ? (i > 2 ? 1 : 0) : v;
                });
                if (rgba[3] === 1) {
                    rgba.pop();
                    prefix = "rgb(";
                }
                return prefix + rgba.join() + ")";
            },
            toHslaString: function() {
                var prefix = "hsla("
                  , hsla = jQuery.map(this.hsla(), function(v, i) {
                    if (v == null) {
                        v = i > 2 ? 1 : 0;
                    }
                    if (i && i < 3) {
                        v = Math.round(v * 100) + "%";
                    }
                    return v;
                });
                if (hsla[3] === 1) {
                    hsla.pop();
                    prefix = "hsl(";
                }
                return prefix + hsla.join() + ")";
            },
            toHexString: function(includeAlpha) {
                var rgba = this._rgba.slice()
                  , alpha = rgba.pop();
                if (includeAlpha) {
                    rgba.push(~~(alpha * 255));
                }
                return "#" + jQuery.map(rgba, function(v) {
                    v = (v || 0).toString(16);
                    return v.length === 1 ? "0" + v : v;
                }).join("");
            },
            toString: function() {
                return this._rgba[3] === 0 ? "transparent" : this.toRgbaString();
            }
        });
        color.fn.parse.prototype = color.fn;
        function hue2rgb(p, q, h) {
            h = (h + 1) % 1;
            if (h * 6 < 1) {
                return p + (q - p) * h * 6;
            }
            if (h * 2 < 1) {
                return q;
            }
            if (h * 3 < 2) {
                return p + (q - p) * ((2 / 3) - h) * 6;
            }
            return p;
        }
        spaces.hsla.to = function(rgba) {
            if (rgba[0] == null || rgba[1] == null || rgba[2] == null) {
                return [null, null, null, rgba[3]];
            }
            var r = rgba[0] / 255, g = rgba[1] / 255, b = rgba[2] / 255, a = rgba[3], max = Math.max(r, g, b), min = Math.min(r, g, b), diff = max - min, add = max + min, l = add * 0.5, h, s;
            if (min === max) {
                h = 0;
            } else if (r === max) {
                h = (60 * (g - b) / diff) + 360;
            } else if (g === max) {
                h = (60 * (b - r) / diff) + 120;
            } else {
                h = (60 * (r - g) / diff) + 240;
            }
            if (diff === 0) {
                s = 0;
            } else if (l <= 0.5) {
                s = diff / add;
            } else {
                s = diff / (2 - add);
            }
            return [Math.round(h) % 360, s, l, a == null ? 1 : a];
        }
        ;
        spaces.hsla.from = function(hsla) {
            if (hsla[0] == null || hsla[1] == null || hsla[2] == null) {
                return [null, null, null, hsla[3]];
            }
            var h = hsla[0] / 360
              , s = hsla[1]
              , l = hsla[2]
              , a = hsla[3]
              , q = l <= 0.5 ? l * (1 + s) : l + s - l * s
              , p = 2 * l - q;
            return [Math.round(hue2rgb(p, q, h + (1 / 3)) * 255), Math.round(hue2rgb(p, q, h) * 255), Math.round(hue2rgb(p, q, h - (1 / 3)) * 255), a];
        }
        ;
        each(spaces, function(spaceName, space) {
            var props = space.props
              , cache = space.cache
              , to = space.to
              , from = space.from;
            color.fn[spaceName] = function(value) {
                if (to && !this[cache]) {
                    this[cache] = to(this._rgba);
                }
                if (value === undefined) {
                    return this[cache].slice();
                }
                var ret, type = jQuery.type(value), arr = (type === "array" || type === "object") ? value : arguments, local = this[cache].slice();
                each(props, function(key, prop) {
                    var val = arr[type === "object" ? key : prop.idx];
                    if (val == null) {
                        val = local[prop.idx];
                    }
                    local[prop.idx] = clamp(val, prop);
                });
                if (from) {
                    ret = color(from(local));
                    ret[cache] = local;
                    return ret;
                } else {
                    return color(local);
                }
            }
            ;
            each(props, function(key, prop) {
                if (color.fn[key]) {
                    return;
                }
                color.fn[key] = function(value) {
                    var vtype = jQuery.type(value), fn = (key === "alpha" ? (this._hsla ? "hsla" : "rgba") : spaceName), local = this[fn](), cur = local[prop.idx], match;
                    if (vtype === "undefined") {
                        return cur;
                    }
                    if (vtype === "function") {
                        value = value.call(this, cur);
                        vtype = jQuery.type(value);
                    }
                    if (value == null && prop.empty) {
                        return this;
                    }
                    if (vtype === "string") {
                        match = rplusequals.exec(value);
                        if (match) {
                            value = cur + parseFloat(match[2]) * (match[1] === "+" ? 1 : -1);
                        }
                    }
                    local[prop.idx] = value;
                    return this[fn](local);
                }
                ;
            });
        });
        color.hook = function(hook) {
            var hooks = hook.split(" ");
            each(hooks, function(i, hook) {
                jQuery.cssHooks[hook] = {
                    set: function(elem, value) {
                        var parsed, curElem, backgroundColor = "";
                        if (value !== "transparent" && (jQuery.type(value) !== "string" || (parsed = stringParse(value)))) {
                            value = color(parsed || value);
                            if (!support.rgba && value._rgba[3] !== 1) {
                                curElem = hook === "backgroundColor" ? elem.parentNode : elem;
                                while ((backgroundColor === "" || backgroundColor === "transparent") && curElem && curElem.style) {
                                    try {
                                        backgroundColor = jQuery.css(curElem, "backgroundColor");
                                        curElem = curElem.parentNode;
                                    } catch (e) {}
                                }
                                value = value.blend(backgroundColor && backgroundColor !== "transparent" ? backgroundColor : "_default");
                            }
                            value = value.toRgbaString();
                        }
                        try {
                            elem.style[hook] = value;
                        } catch (e) {}
                    }
                };
                jQuery.fx.step[hook] = function(fx) {
                    if (!fx.colorInit) {
                        fx.start = color(fx.elem, hook);
                        fx.end = color(fx.end);
                        fx.colorInit = true;
                    }
                    jQuery.cssHooks[hook].set(fx.elem, fx.start.transition(fx.end, fx.pos));
                }
                ;
            });
        }
        ;
        color.hook(stepHooks);
        jQuery.cssHooks.borderColor = {
            expand: function(value) {
                var expanded = {};
                each(["Top", "Right", "Bottom", "Left"], function(i, part) {
                    expanded["border" + part + "Color"] = value;
                });
                return expanded;
            }
        };
        colors = jQuery.Color.names = {
            aqua: "#00ffff",
            black: "#000000",
            blue: "#0000ff",
            fuchsia: "#ff00ff",
            gray: "#808080",
            green: "#008000",
            lime: "#00ff00",
            maroon: "#800000",
            navy: "#000080",
            olive: "#808000",
            purple: "#800080",
            red: "#ff0000",
            silver: "#c0c0c0",
            teal: "#008080",
            white: "#ffffff",
            yellow: "#ffff00",
            transparent: [null, null, null, 0],
            _default: "#ffffff"
        };
    }
    )(jQuery);
    (function() {
        var classAnimationActions = ["add", "remove", "toggle"]
          , shorthandStyles = {
            border: 1,
            borderBottom: 1,
            borderColor: 1,
            borderLeft: 1,
            borderRight: 1,
            borderTop: 1,
            borderWidth: 1,
            margin: 1,
            padding: 1
        };
        $.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(_, prop) {
            $.fx.step[prop] = function(fx) {
                if (fx.end !== "none" && !fx.setAttr || fx.pos === 1 && !fx.setAttr) {
                    jQuery.style(fx.elem, prop, fx.end);
                    fx.setAttr = true;
                }
            }
            ;
        });
        function getElementStyles(elem) {
            var key, len, style = elem.ownerDocument.defaultView ? elem.ownerDocument.defaultView.getComputedStyle(elem, null) : elem.currentStyle, styles = {};
            if (style && style.length && style[0] && style[style[0]]) {
                len = style.length;
                while (len--) {
                    key = style[len];
                    if (typeof style[key] === "string") {
                        styles[$.camelCase(key)] = style[key];
                    }
                }
            } else {
                for (key in style) {
                    if (typeof style[key] === "string") {
                        styles[key] = style[key];
                    }
                }
            }
            return styles;
        }
        function styleDifference(oldStyle, newStyle) {
            var diff = {}, name, value;
            for (name in newStyle) {
                value = newStyle[name];
                if (oldStyle[name] !== value) {
                    if (!shorthandStyles[name]) {
                        if ($.fx.step[name] || !isNaN(parseFloat(value))) {
                            diff[name] = value;
                        }
                    }
                }
            }
            return diff;
        }
        if (!$.fn.addBack) {
            $.fn.addBack = function(selector) {
                return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));
            }
            ;
        }
        $.effects.animateClass = function(value, duration, easing, callback) {
            var o = $.speed(duration, easing, callback);
            return this.queue(function() {
                var animated = $(this), baseClass = animated.attr("class") || "", applyClassChange, allAnimations = o.children ? animated.find("*").addBack() : animated;
                allAnimations = allAnimations.map(function() {
                    var el = $(this);
                    return {
                        el: el,
                        start: getElementStyles(this)
                    };
                });
                applyClassChange = function() {
                    $.each(classAnimationActions, function(i, action) {
                        if (value[action]) {
                            animated[action + "Class"](value[action]);
                        }
                    });
                }
                ;
                applyClassChange();
                allAnimations = allAnimations.map(function() {
                    this.end = getElementStyles(this.el[0]);
                    this.diff = styleDifference(this.start, this.end);
                    return this;
                });
                animated.attr("class", baseClass);
                allAnimations = allAnimations.map(function() {
                    var styleInfo = this
                      , dfd = $.Deferred()
                      , opts = $.extend({}, o, {
                        queue: false,
                        complete: function() {
                            dfd.resolve(styleInfo);
                        }
                    });
                    this.el.animate(this.diff, opts);
                    return dfd.promise();
                });
                $.when.apply($, allAnimations.get()).done(function() {
                    applyClassChange();
                    $.each(arguments, function() {
                        var el = this.el;
                        $.each(this.diff, function(key) {
                            el.css(key, "");
                        });
                    });
                    o.complete.call(animated[0]);
                });
            });
        }
        ;
        $.fn.extend({
            addClass: (function(orig) {
                return function(classNames, speed, easing, callback) {
                    return speed ? $.effects.animateClass.call(this, {
                        add: classNames
                    }, speed, easing, callback) : orig.apply(this, arguments);
                }
                ;
            }
            )($.fn.addClass),
            removeClass: (function(orig) {
                return function(classNames, speed, easing, callback) {
                    return arguments.length > 1 ? $.effects.animateClass.call(this, {
                        remove: classNames
                    }, speed, easing, callback) : orig.apply(this, arguments);
                }
                ;
            }
            )($.fn.removeClass),
            toggleClass: (function(orig) {
                return function(classNames, force, speed, easing, callback) {
                    if (typeof force === "boolean" || force === undefined) {
                        if (!speed) {
                            return orig.apply(this, arguments);
                        } else {
                            return $.effects.animateClass.call(this, (force ? {
                                add: classNames
                            } : {
                                remove: classNames
                            }), speed, easing, callback);
                        }
                    } else {
                        return $.effects.animateClass.call(this, {
                            toggle: classNames
                        }, force, speed, easing);
                    }
                }
                ;
            }
            )($.fn.toggleClass),
            switchClass: function(remove, add, speed, easing, callback) {
                return $.effects.animateClass.call(this, {
                    add: add,
                    remove: remove
                }, speed, easing, callback);
            }
        });
    }
    )();
    (function() {
        $.extend($.effects, {
            version: "1.11.0",
            save: function(element, set) {
                for (var i = 0; i < set.length; i++) {
                    if (set[i] !== null) {
                        element.data(dataSpace + set[i], element[0].style[set[i]]);
                    }
                }
            },
            restore: function(element, set) {
                var val, i;
                for (i = 0; i < set.length; i++) {
                    if (set[i] !== null) {
                        val = element.data(dataSpace + set[i]);
                        if (val === undefined) {
                            val = "";
                        }
                        element.css(set[i], val);
                    }
                }
            },
            setMode: function(el, mode) {
                if (mode === "toggle") {
                    mode = el.is(":hidden") ? "show" : "hide";
                }
                return mode;
            },
            getBaseline: function(origin, original) {
                var y, x;
                switch (origin[0]) {
                case "top":
                    y = 0;
                    break;
                case "middle":
                    y = 0.5;
                    break;
                case "bottom":
                    y = 1;
                    break;
                default:
                    y = origin[0] / original.height;
                }
                switch (origin[1]) {
                case "left":
                    x = 0;
                    break;
                case "center":
                    x = 0.5;
                    break;
                case "right":
                    x = 1;
                    break;
                default:
                    x = origin[1] / original.width;
                }
                return {
                    x: x,
                    y: y
                };
            },
            createWrapper: function(element) {
                if (element.parent().is(".ui-effects-wrapper")) {
                    return element.parent();
                }
                var props = {
                    width: element.outerWidth(true),
                    height: element.outerHeight(true),
                    "float": element.css("float")
                }
                  , wrapper = $("<div></div>").addClass("ui-effects-wrapper").css({
                    fontSize: "100%",
                    background: "transparent",
                    border: "none",
                    margin: 0,
                    padding: 0
                })
                  , size = {
                    width: element.width(),
                    height: element.height()
                }
                  , active = document.activeElement;
                try {
                    active.id;
                } catch (e) {
                    active = document.body;
                }
                element.wrap(wrapper);
                if (element[0] === active || $.contains(element[0], active)) {
                    $(active).focus();
                }
                wrapper = element.parent();
                if (element.css("position") === "static") {
                    wrapper.css({
                        position: "relative"
                    });
                    element.css({
                        position: "relative"
                    });
                } else {
                    $.extend(props, {
                        position: element.css("position"),
                        zIndex: element.css("z-index")
                    });
                    $.each(["top", "left", "bottom", "right"], function(i, pos) {
                        props[pos] = element.css(pos);
                        if (isNaN(parseInt(props[pos], 10))) {
                            props[pos] = "auto";
                        }
                    });
                    element.css({
                        position: "relative",
                        top: 0,
                        left: 0,
                        right: "auto",
                        bottom: "auto"
                    });
                }
                element.css(size);
                return wrapper.css(props).show();
            },
            removeWrapper: function(element) {
                var active = document.activeElement;
                if (element.parent().is(".ui-effects-wrapper")) {
                    element.parent().replaceWith(element);
                    if (element[0] === active || $.contains(element[0], active)) {
                        $(active).focus();
                    }
                }
                return element;
            },
            setTransition: function(element, list, factor, value) {
                value = value || {};
                $.each(list, function(i, x) {
                    var unit = element.cssUnit(x);
                    if (unit[0] > 0) {
                        value[x] = unit[0] * factor + unit[1];
                    }
                });
                return value;
            }
        });
        function _normalizeArguments(effect, options, speed, callback) {
            if ($.isPlainObject(effect)) {
                options = effect;
                effect = effect.effect;
            }
            effect = {
                effect: effect
            };
            if (options == null) {
                options = {};
            }
            if ($.isFunction(options)) {
                callback = options;
                speed = null;
                options = {};
            }
            if (typeof options === "number" || $.fx.speeds[options]) {
                callback = speed;
                speed = options;
                options = {};
            }
            if ($.isFunction(speed)) {
                callback = speed;
                speed = null;
            }
            if (options) {
                $.extend(effect, options);
            }
            speed = speed || options.duration;
            effect.duration = $.fx.off ? 0 : typeof speed === "number" ? speed : speed in $.fx.speeds ? $.fx.speeds[speed] : $.fx.speeds._default;
            effect.complete = callback || options.complete;
            return effect;
        }
        function standardAnimationOption(option) {
            if (!option || typeof option === "number" || $.fx.speeds[option]) {
                return true;
            }
            if (typeof option === "string" && !$.effects.effect[option]) {
                return true;
            }
            if ($.isFunction(option)) {
                return true;
            }
            if (typeof option === "object" && !option.effect) {
                return true;
            }
            return false;
        }
        $.fn.extend({
            effect: function() {
                var args = _normalizeArguments.apply(this, arguments)
                  , mode = args.mode
                  , queue = args.queue
                  , effectMethod = $.effects.effect[args.effect];
                if ($.fx.off || !effectMethod) {
                    if (mode) {
                        return this[mode](args.duration, args.complete);
                    } else {
                        return this.each(function() {
                            if (args.complete) {
                                args.complete.call(this);
                            }
                        });
                    }
                }
                function run(next) {
                    var elem = $(this)
                      , complete = args.complete
                      , mode = args.mode;
                    function done() {
                        if ($.isFunction(complete)) {
                            complete.call(elem[0]);
                        }
                        if ($.isFunction(next)) {
                            next();
                        }
                    }
                    if (elem.is(":hidden") ? mode === "hide" : mode === "show") {
                        elem[mode]();
                        done();
                    } else {
                        effectMethod.call(elem[0], args, done);
                    }
                }
                return queue === false ? this.each(run) : this.queue(queue || "fx", run);
            },
            show: (function(orig) {
                return function(option) {
                    if (standardAnimationOption(option)) {
                        return orig.apply(this, arguments);
                    } else {
                        var args = _normalizeArguments.apply(this, arguments);
                        args.mode = "show";
                        return this.effect.call(this, args);
                    }
                }
                ;
            }
            )($.fn.show),
            hide: (function(orig) {
                return function(option) {
                    if (standardAnimationOption(option)) {
                        return orig.apply(this, arguments);
                    } else {
                        var args = _normalizeArguments.apply(this, arguments);
                        args.mode = "hide";
                        return this.effect.call(this, args);
                    }
                }
                ;
            }
            )($.fn.hide),
            toggle: (function(orig) {
                return function(option) {
                    if (standardAnimationOption(option) || typeof option === "boolean") {
                        return orig.apply(this, arguments);
                    } else {
                        var args = _normalizeArguments.apply(this, arguments);
                        args.mode = "toggle";
                        return this.effect.call(this, args);
                    }
                }
                ;
            }
            )($.fn.toggle),
            cssUnit: function(key) {
                var style = this.css(key)
                  , val = [];
                $.each(["em", "px", "%", "pt"], function(i, unit) {
                    if (style.indexOf(unit) > 0) {
                        val = [parseFloat(style), unit];
                    }
                });
                return val;
            }
        });
    }
    )();
    (function() {
        var baseEasings = {};
        $.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(i, name) {
            baseEasings[name] = function(p) {
                return Math.pow(p, i + 2);
            }
            ;
        });
        $.extend(baseEasings, {
            Sine: function(p) {
                return 1 - Math.cos(p * Math.PI / 2);
            },
            Circ: function(p) {
                return 1 - Math.sqrt(1 - p * p);
            },
            Elastic: function(p) {
                return p === 0 || p === 1 ? p : -Math.pow(2, 8 * (p - 1)) * Math.sin(((p - 1) * 80 - 7.5) * Math.PI / 15);
            },
            Back: function(p) {
                return p * p * (3 * p - 2);
            },
            Bounce: function(p) {
                var pow2, bounce = 4;
                while (p < ((pow2 = Math.pow(2, --bounce)) - 1) / 11) {}
                return 1 / Math.pow(4, 3 - bounce) - 7.5625 * Math.pow((pow2 * 3 - 2) / 22 - p, 2);
            }
        });
        $.each(baseEasings, function(name, easeIn) {
            $.easing["easeIn" + name] = easeIn;
            $.easing["easeOut" + name] = function(p) {
                return 1 - easeIn(1 - p);
            }
            ;
            $.easing["easeInOut" + name] = function(p) {
                return p < 0.5 ? easeIn(p * 2) / 2 : 1 - easeIn(p * -2 + 2) / 2;
            }
            ;
        });
    }
    )();
    var effect = $.effects;
    var effectBlind = $.effects.effect.blind = function(o, done) {
        var el = $(this), rvertical = /up|down|vertical/, rpositivemotion = /up|left|vertical|horizontal/, props = ["position", "top", "bottom", "left", "right", "height", "width"], mode = $.effects.setMode(el, o.mode || "hide"), direction = o.direction || "up", vertical = rvertical.test(direction), ref = vertical ? "height" : "width", ref2 = vertical ? "top" : "left", motion = rpositivemotion.test(direction), animation = {}, show = mode === "show", wrapper, distance, margin;
        if (el.parent().is(".ui-effects-wrapper")) {
            $.effects.save(el.parent(), props);
        } else {
            $.effects.save(el, props);
        }
        el.show();
        wrapper = $.effects.createWrapper(el).css({
            overflow: "hidden"
        });
        distance = wrapper[ref]();
        margin = parseFloat(wrapper.css(ref2)) || 0;
        animation[ref] = show ? distance : 0;
        if (!motion) {
            el.css(vertical ? "bottom" : "right", 0).css(vertical ? "top" : "left", "auto").css({
                position: "absolute"
            });
            animation[ref2] = show ? margin : distance + margin;
        }
        if (show) {
            wrapper.css(ref, 0);
            if (!motion) {
                wrapper.css(ref2, margin + distance);
            }
        }
        wrapper.animate(animation, {
            duration: o.duration,
            easing: o.easing,
            queue: false,
            complete: function() {
                if (mode === "hide") {
                    el.hide();
                }
                $.effects.restore(el, props);
                $.effects.removeWrapper(el);
                done();
            }
        });
    }
    ;
    var effectBounce = $.effects.effect.bounce = function(o, done) {
        var el = $(this), props = ["position", "top", "bottom", "left", "right", "height", "width"], mode = $.effects.setMode(el, o.mode || "effect"), hide = mode === "hide", show = mode === "show", direction = o.direction || "up", distance = o.distance, times = o.times || 5, anims = times * 2 + (show || hide ? 1 : 0), speed = o.duration / anims, easing = o.easing, ref = (direction === "up" || direction === "down") ? "top" : "left", motion = (direction === "up" || direction === "left"), i, upAnim, downAnim, queue = el.queue(), queuelen = queue.length;
        if (show || hide) {
            props.push("opacity");
        }
        $.effects.save(el, props);
        el.show();
        $.effects.createWrapper(el);
        if (!distance) {
            distance = el[ref === "top" ? "outerHeight" : "outerWidth"]() / 3;
        }
        if (show) {
            downAnim = {
                opacity: 1
            };
            downAnim[ref] = 0;
            el.css("opacity", 0).css(ref, motion ? -distance * 2 : distance * 2).animate(downAnim, speed, easing);
        }
        if (hide) {
            distance = distance / Math.pow(2, times - 1);
        }
        downAnim = {};
        downAnim[ref] = 0;
        for (i = 0; i < times; i++) {
            upAnim = {};
            upAnim[ref] = (motion ? "-=" : "+=") + distance;
            el.animate(upAnim, speed, easing).animate(downAnim, speed, easing);
            distance = hide ? distance * 2 : distance / 2;
        }
        if (hide) {
            upAnim = {
                opacity: 0
            };
            upAnim[ref] = (motion ? "-=" : "+=") + distance;
            el.animate(upAnim, speed, easing);
        }
        el.queue(function() {
            if (hide) {
                el.hide();
            }
            $.effects.restore(el, props);
            $.effects.removeWrapper(el);
            done();
        });
        if (queuelen > 1) {
            queue.splice.apply(queue, [1, 0].concat(queue.splice(queuelen, anims + 1)));
        }
        el.dequeue();
    }
    ;
    var effectClip = $.effects.effect.clip = function(o, done) {
        var el = $(this), props = ["position", "top", "bottom", "left", "right", "height", "width"], mode = $.effects.setMode(el, o.mode || "hide"), show = mode === "show", direction = o.direction || "vertical", vert = direction === "vertical", size = vert ? "height" : "width", position = vert ? "top" : "left", animation = {}, wrapper, animate, distance;
        $.effects.save(el, props);
        el.show();
        wrapper = $.effects.createWrapper(el).css({
            overflow: "hidden"
        });
        animate = (el[0].tagName === "IMG") ? wrapper : el;
        distance = animate[size]();
        if (show) {
            animate.css(size, 0);
            animate.css(position, distance / 2);
        }
        animation[size] = show ? distance : 0;
        animation[position] = show ? 0 : distance / 2;
        animate.animate(animation, {
            queue: false,
            duration: o.duration,
            easing: o.easing,
            complete: function() {
                if (!show) {
                    el.hide();
                }
                $.effects.restore(el, props);
                $.effects.removeWrapper(el);
                done();
            }
        });
    }
    ;
    var effectDrop = $.effects.effect.drop = function(o, done) {
        var el = $(this), props = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"], mode = $.effects.setMode(el, o.mode || "hide"), show = mode === "show", direction = o.direction || "left", ref = (direction === "up" || direction === "down") ? "top" : "left", motion = (direction === "up" || direction === "left") ? "pos" : "neg", animation = {
            opacity: show ? 1 : 0
        }, distance;
        $.effects.save(el, props);
        el.show();
        $.effects.createWrapper(el);
        distance = o.distance || el[ref === "top" ? "outerHeight" : "outerWidth"](true) / 2;
        if (show) {
            el.css("opacity", 0).css(ref, motion === "pos" ? -distance : distance);
        }
        animation[ref] = (show ? (motion === "pos" ? "+=" : "-=") : (motion === "pos" ? "-=" : "+=")) + distance;
        el.animate(animation, {
            queue: false,
            duration: o.duration,
            easing: o.easing,
            complete: function() {
                if (mode === "hide") {
                    el.hide();
                }
                $.effects.restore(el, props);
                $.effects.removeWrapper(el);
                done();
            }
        });
    }
    ;
    var effectExplode = $.effects.effect.explode = function(o, done) {
        var rows = o.pieces ? Math.round(Math.sqrt(o.pieces)) : 3, cells = rows, el = $(this), mode = $.effects.setMode(el, o.mode || "hide"), show = mode === "show", offset = el.show().css("visibility", "hidden").offset(), width = Math.ceil(el.outerWidth() / cells), height = Math.ceil(el.outerHeight() / rows), pieces = [], i, j, left, top, mx, my;
        function childComplete() {
            pieces.push(this);
            if (pieces.length === rows * cells) {
                animComplete();
            }
        }
        for (i = 0; i < rows; i++) {
            top = offset.top + i * height;
            my = i - (rows - 1) / 2;
            for (j = 0; j < cells; j++) {
                left = offset.left + j * width;
                mx = j - (cells - 1) / 2;
                el.clone().appendTo("body").wrap("<div></div>").css({
                    position: "absolute",
                    visibility: "visible",
                    left: -j * width,
                    top: -i * height
                }).parent().addClass("ui-effects-explode").css({
                    position: "absolute",
                    overflow: "hidden",
                    width: width,
                    height: height,
                    left: left + (show ? mx * width : 0),
                    top: top + (show ? my * height : 0),
                    opacity: show ? 0 : 1
                }).animate({
                    left: left + (show ? 0 : mx * width),
                    top: top + (show ? 0 : my * height),
                    opacity: show ? 1 : 0
                }, o.duration || 500, o.easing, childComplete);
            }
        }
        function animComplete() {
            el.css({
                visibility: "visible"
            });
            $(pieces).remove();
            if (!show) {
                el.hide();
            }
            done();
        }
    }
    ;
    var effectFade = $.effects.effect.fade = function(o, done) {
        var el = $(this)
          , mode = $.effects.setMode(el, o.mode || "toggle");
        el.animate({
            opacity: mode
        }, {
            queue: false,
            duration: o.duration,
            easing: o.easing,
            complete: done
        });
    }
    ;
    var effectFold = $.effects.effect.fold = function(o, done) {
        var el = $(this), props = ["position", "top", "bottom", "left", "right", "height", "width"], mode = $.effects.setMode(el, o.mode || "hide"), show = mode === "show", hide = mode === "hide", size = o.size || 15, percent = /([0-9]+)%/.exec(size), horizFirst = !!o.horizFirst, widthFirst = show !== horizFirst, ref = widthFirst ? ["width", "height"] : ["height", "width"], duration = o.duration / 2, wrapper, distance, animation1 = {}, animation2 = {};
        $.effects.save(el, props);
        el.show();
        wrapper = $.effects.createWrapper(el).css({
            overflow: "hidden"
        });
        distance = widthFirst ? [wrapper.width(), wrapper.height()] : [wrapper.height(), wrapper.width()];
        if (percent) {
            size = parseInt(percent[1], 10) / 100 * distance[hide ? 0 : 1];
        }
        if (show) {
            wrapper.css(horizFirst ? {
                height: 0,
                width: size
            } : {
                height: size,
                width: 0
            });
        }
        animation1[ref[0]] = show ? distance[0] : size;
        animation2[ref[1]] = show ? distance[1] : 0;
        wrapper.animate(animation1, duration, o.easing).animate(animation2, duration, o.easing, function() {
            if (hide) {
                el.hide();
            }
            $.effects.restore(el, props);
            $.effects.removeWrapper(el);
            done();
        });
    }
    ;
    var effectHighlight = $.effects.effect.highlight = function(o, done) {
        var elem = $(this)
          , props = ["backgroundImage", "backgroundColor", "opacity"]
          , mode = $.effects.setMode(elem, o.mode || "show")
          , animation = {
            backgroundColor: elem.css("backgroundColor")
        };
        if (mode === "hide") {
            animation.opacity = 0;
        }
        $.effects.save(elem, props);
        elem.show().css({
            backgroundImage: "none",
            backgroundColor: o.color || "#ffff99"
        }).animate(animation, {
            queue: false,
            duration: o.duration,
            easing: o.easing,
            complete: function() {
                if (mode === "hide") {
                    elem.hide();
                }
                $.effects.restore(elem, props);
                done();
            }
        });
    }
    ;
    var effectSize = $.effects.effect.size = function(o, done) {
        var original, baseline, factor, el = $(this), props0 = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"], props1 = ["position", "top", "bottom", "left", "right", "overflow", "opacity"], props2 = ["width", "height", "overflow"], cProps = ["fontSize"], vProps = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"], hProps = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"], mode = $.effects.setMode(el, o.mode || "effect"), restore = o.restore || mode !== "effect", scale = o.scale || "both", origin = o.origin || ["middle", "center"], position = el.css("position"), props = restore ? props0 : props1, zero = {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        };
        if (mode === "show") {
            el.show();
        }
        original = {
            height: el.height(),
            width: el.width(),
            outerHeight: el.outerHeight(),
            outerWidth: el.outerWidth()
        };
        if (o.mode === "toggle" && mode === "show") {
            el.from = o.to || zero;
            el.to = o.from || original;
        } else {
            el.from = o.from || (mode === "show" ? zero : original);
            el.to = o.to || (mode === "hide" ? zero : original);
        }
        factor = {
            from: {
                y: el.from.height / original.height,
                x: el.from.width / original.width
            },
            to: {
                y: el.to.height / original.height,
                x: el.to.width / original.width
            }
        };
        if (scale === "box" || scale === "both") {
            if (factor.from.y !== factor.to.y) {
                props = props.concat(vProps);
                el.from = $.effects.setTransition(el, vProps, factor.from.y, el.from);
                el.to = $.effects.setTransition(el, vProps, factor.to.y, el.to);
            }
            if (factor.from.x !== factor.to.x) {
                props = props.concat(hProps);
                el.from = $.effects.setTransition(el, hProps, factor.from.x, el.from);
                el.to = $.effects.setTransition(el, hProps, factor.to.x, el.to);
            }
        }
        if (scale === "content" || scale === "both") {
            if (factor.from.y !== factor.to.y) {
                props = props.concat(cProps).concat(props2);
                el.from = $.effects.setTransition(el, cProps, factor.from.y, el.from);
                el.to = $.effects.setTransition(el, cProps, factor.to.y, el.to);
            }
        }
        $.effects.save(el, props);
        el.show();
        $.effects.createWrapper(el);
        el.css("overflow", "hidden").css(el.from);
        if (origin) {
            baseline = $.effects.getBaseline(origin, original);
            el.from.top = (original.outerHeight - el.outerHeight()) * baseline.y;
            el.from.left = (original.outerWidth - el.outerWidth()) * baseline.x;
            el.to.top = (original.outerHeight - el.to.outerHeight) * baseline.y;
            el.to.left = (original.outerWidth - el.to.outerWidth) * baseline.x;
        }
        el.css(el.from);
        if (scale === "content" || scale === "both") {
            vProps = vProps.concat(["marginTop", "marginBottom"]).concat(cProps);
            hProps = hProps.concat(["marginLeft", "marginRight"]);
            props2 = props0.concat(vProps).concat(hProps);
            el.find("*[width]").each(function() {
                var child = $(this)
                  , c_original = {
                    height: child.height(),
                    width: child.width(),
                    outerHeight: child.outerHeight(),
                    outerWidth: child.outerWidth()
                };
                if (restore) {
                    $.effects.save(child, props2);
                }
                child.from = {
                    height: c_original.height * factor.from.y,
                    width: c_original.width * factor.from.x,
                    outerHeight: c_original.outerHeight * factor.from.y,
                    outerWidth: c_original.outerWidth * factor.from.x
                };
                child.to = {
                    height: c_original.height * factor.to.y,
                    width: c_original.width * factor.to.x,
                    outerHeight: c_original.height * factor.to.y,
                    outerWidth: c_original.width * factor.to.x
                };
                if (factor.from.y !== factor.to.y) {
                    child.from = $.effects.setTransition(child, vProps, factor.from.y, child.from);
                    child.to = $.effects.setTransition(child, vProps, factor.to.y, child.to);
                }
                if (factor.from.x !== factor.to.x) {
                    child.from = $.effects.setTransition(child, hProps, factor.from.x, child.from);
                    child.to = $.effects.setTransition(child, hProps, factor.to.x, child.to);
                }
                child.css(child.from);
                child.animate(child.to, o.duration, o.easing, function() {
                    if (restore) {
                        $.effects.restore(child, props2);
                    }
                });
            });
        }
        el.animate(el.to, {
            queue: false,
            duration: o.duration,
            easing: o.easing,
            complete: function() {
                if (el.to.opacity === 0) {
                    el.css("opacity", el.from.opacity);
                }
                if (mode === "hide") {
                    el.hide();
                }
                $.effects.restore(el, props);
                if (!restore) {
                    if (position === "static") {
                        el.css({
                            position: "relative",
                            top: el.to.top,
                            left: el.to.left
                        });
                    } else {
                        $.each(["top", "left"], function(idx, pos) {
                            el.css(pos, function(_, str) {
                                var val = parseInt(str, 10)
                                  , toRef = idx ? el.to.left : el.to.top;
                                if (str === "auto") {
                                    return toRef + "px";
                                }
                                return val + toRef + "px";
                            });
                        });
                    }
                }
                $.effects.removeWrapper(el);
                done();
            }
        });
    }
    ;
    var effectScale = $.effects.effect.scale = function(o, done) {
        var el = $(this)
          , options = $.extend(true, {}, o)
          , mode = $.effects.setMode(el, o.mode || "effect")
          , percent = parseInt(o.percent, 10) || (parseInt(o.percent, 10) === 0 ? 0 : (mode === "hide" ? 0 : 100))
          , direction = o.direction || "both"
          , origin = o.origin
          , original = {
            height: el.height(),
            width: el.width(),
            outerHeight: el.outerHeight(),
            outerWidth: el.outerWidth()
        }
          , factor = {
            y: direction !== "horizontal" ? (percent / 100) : 1,
            x: direction !== "vertical" ? (percent / 100) : 1
        };
        options.effect = "size";
        options.queue = false;
        options.complete = done;
        if (mode !== "effect") {
            options.origin = origin || ["middle", "center"];
            options.restore = true;
        }
        options.from = o.from || (mode === "show" ? {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        } : original);
        options.to = {
            height: original.height * factor.y,
            width: original.width * factor.x,
            outerHeight: original.outerHeight * factor.y,
            outerWidth: original.outerWidth * factor.x
        };
        if (options.fade) {
            if (mode === "show") {
                options.from.opacity = 0;
                options.to.opacity = 1;
            }
            if (mode === "hide") {
                options.from.opacity = 1;
                options.to.opacity = 0;
            }
        }
        el.effect(options);
    }
    ;
    var effectPuff = $.effects.effect.puff = function(o, done) {
        var elem = $(this)
          , mode = $.effects.setMode(elem, o.mode || "hide")
          , hide = mode === "hide"
          , percent = parseInt(o.percent, 10) || 150
          , factor = percent / 100
          , original = {
            height: elem.height(),
            width: elem.width(),
            outerHeight: elem.outerHeight(),
            outerWidth: elem.outerWidth()
        };
        $.extend(o, {
            effect: "scale",
            queue: false,
            fade: true,
            mode: mode,
            complete: done,
            percent: hide ? percent : 100,
            from: hide ? original : {
                height: original.height * factor,
                width: original.width * factor,
                outerHeight: original.outerHeight * factor,
                outerWidth: original.outerWidth * factor
            }
        });
        elem.effect(o);
    }
    ;
    var effectPulsate = $.effects.effect.pulsate = function(o, done) {
        var elem = $(this), mode = $.effects.setMode(elem, o.mode || "show"), show = mode === "show", hide = mode === "hide", showhide = (show || mode === "hide"), anims = ((o.times || 5) * 2) + (showhide ? 1 : 0), duration = o.duration / anims, animateTo = 0, queue = elem.queue(), queuelen = queue.length, i;
        if (show || !elem.is(":visible")) {
            elem.css("opacity", 0).show();
            animateTo = 1;
        }
        for (i = 1; i < anims; i++) {
            elem.animate({
                opacity: animateTo
            }, duration, o.easing);
            animateTo = 1 - animateTo;
        }
        elem.animate({
            opacity: animateTo
        }, duration, o.easing);
        elem.queue(function() {
            if (hide) {
                elem.hide();
            }
            done();
        });
        if (queuelen > 1) {
            queue.splice.apply(queue, [1, 0].concat(queue.splice(queuelen, anims + 1)));
        }
        elem.dequeue();
    }
    ;
    var effectShake = $.effects.effect.shake = function(o, done) {
        var el = $(this), props = ["position", "top", "bottom", "left", "right", "height", "width"], mode = $.effects.setMode(el, o.mode || "effect"), direction = o.direction || "left", distance = o.distance || 20, times = o.times || 3, anims = times * 2 + 1, speed = Math.round(o.duration / anims), ref = (direction === "up" || direction === "down") ? "top" : "left", positiveMotion = (direction === "up" || direction === "left"), animation = {}, animation1 = {}, animation2 = {}, i, queue = el.queue(), queuelen = queue.length;
        $.effects.save(el, props);
        el.show();
        $.effects.createWrapper(el);
        animation[ref] = (positiveMotion ? "-=" : "+=") + distance;
        animation1[ref] = (positiveMotion ? "+=" : "-=") + distance * 2;
        animation2[ref] = (positiveMotion ? "-=" : "+=") + distance * 2;
        el.animate(animation, speed, o.easing);
        for (i = 1; i < times; i++) {
            el.animate(animation1, speed, o.easing).animate(animation2, speed, o.easing);
        }
        el.animate(animation1, speed, o.easing).animate(animation, speed / 2, o.easing).queue(function() {
            if (mode === "hide") {
                el.hide();
            }
            $.effects.restore(el, props);
            $.effects.removeWrapper(el);
            done();
        });
        if (queuelen > 1) {
            queue.splice.apply(queue, [1, 0].concat(queue.splice(queuelen, anims + 1)));
        }
        el.dequeue();
    }
    ;
    var effectSlide = $.effects.effect.slide = function(o, done) {
        var el = $(this), props = ["position", "top", "bottom", "left", "right", "width", "height"], mode = $.effects.setMode(el, o.mode || "show"), show = mode === "show", direction = o.direction || "left", ref = (direction === "up" || direction === "down") ? "top" : "left", positiveMotion = (direction === "up" || direction === "left"), distance, animation = {};
        $.effects.save(el, props);
        el.show();
        distance = o.distance || el[ref === "top" ? "outerHeight" : "outerWidth"](true);
        $.effects.createWrapper(el).css({
            overflow: "hidden"
        });
        if (show) {
            el.css(ref, positiveMotion ? (isNaN(distance) ? "-" + distance : -distance) : distance);
        }
        animation[ref] = (show ? (positiveMotion ? "+=" : "-=") : (positiveMotion ? "-=" : "+=")) + distance;
        el.animate(animation, {
            queue: false,
            duration: o.duration,
            easing: o.easing,
            complete: function() {
                if (mode === "hide") {
                    el.hide();
                }
                $.effects.restore(el, props);
                $.effects.removeWrapper(el);
                done();
            }
        });
    }
    ;
    var effectTransfer = $.effects.effect.transfer = function(o, done) {
        var elem = $(this)
          , target = $(o.to)
          , targetFixed = target.css("position") === "fixed"
          , body = $("body")
          , fixTop = targetFixed ? body.scrollTop() : 0
          , fixLeft = targetFixed ? body.scrollLeft() : 0
          , endPosition = target.offset()
          , animation = {
            top: endPosition.top - fixTop,
            left: endPosition.left - fixLeft,
            height: target.innerHeight(),
            width: target.innerWidth()
        }
          , startPosition = elem.offset()
          , transfer = $("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(o.className).css({
            top: startPosition.top - fixTop,
            left: startPosition.left - fixLeft,
            height: elem.innerHeight(),
            width: elem.innerWidth(),
            position: targetFixed ? "fixed" : "absolute"
        }).animate(animation, o.duration, o.easing, function() {
            transfer.remove();
            done();
        });
    }
    ;
    var progressbar = $.widget("ui.progressbar", {
        version: "1.11.0",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue();
            this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            });
            this.valueDiv = $("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);
            this._refreshValue();
        },
        _destroy: function() {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
            this.valueDiv.remove();
        },
        value: function(newValue) {
            if (newValue === undefined) {
                return this.options.value;
            }
            this.options.value = this._constrainedValue(newValue);
            this._refreshValue();
        },
        _constrainedValue: function(newValue) {
            if (newValue === undefined) {
                newValue = this.options.value;
            }
            this.indeterminate = newValue === false;
            if (typeof newValue !== "number") {
                newValue = 0;
            }
            return this.indeterminate ? false : Math.min(this.options.max, Math.max(this.min, newValue));
        },
        _setOptions: function(options) {
            var value = options.value;
            delete options.value;
            this._super(options);
            this.options.value = this._constrainedValue(value);
            this._refreshValue();
        },
        _setOption: function(key, value) {
            if (key === "max") {
                value = Math.max(this.min, value);
            }
            if (key === "disabled") {
                this.element.toggleClass("ui-state-disabled", !!value).attr("aria-disabled", value);
            }
            this._super(key, value);
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min);
        },
        _refreshValue: function() {
            var value = this.options.value
              , percentage = this._percentage();
            this.valueDiv.toggle(this.indeterminate || value > this.min).toggleClass("ui-corner-right", value === this.options.max).width(percentage.toFixed(0) + "%");
            this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate);
            if (this.indeterminate) {
                this.element.removeAttr("aria-valuenow");
                if (!this.overlayDiv) {
                    this.overlayDiv = $("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv);
                }
            } else {
                this.element.attr({
                    "aria-valuemax": this.options.max,
                    "aria-valuenow": value
                });
                if (this.overlayDiv) {
                    this.overlayDiv.remove();
                    this.overlayDiv = null;
                }
            }
            if (this.oldValue !== value) {
                this.oldValue = value;
                this._trigger("change");
            }
            if (value === this.options.max) {
                this._trigger("complete");
            }
        }
    });
    var selectable = $.widget("ui.selectable", $.ui.mouse, {
        version: "1.11.0",
        options: {
            appendTo: "body",
            autoRefresh: true,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function() {
            var selectees, that = this;
            this.element.addClass("ui-selectable");
            this.dragged = false;
            this.refresh = function() {
                selectees = $(that.options.filter, that.element[0]);
                selectees.addClass("ui-selectee");
                selectees.each(function() {
                    var $this = $(this)
                      , pos = $this.offset();
                    $.data(this, "selectable-item", {
                        element: this,
                        $element: $this,
                        left: pos.left,
                        top: pos.top,
                        right: pos.left + $this.outerWidth(),
                        bottom: pos.top + $this.outerHeight(),
                        startselected: false,
                        selected: $this.hasClass("ui-selected"),
                        selecting: $this.hasClass("ui-selecting"),
                        unselecting: $this.hasClass("ui-unselecting")
                    });
                });
            }
            ;
            this.refresh();
            this.selectees = selectees.addClass("ui-selectee");
            this._mouseInit();
            this.helper = $("<div class='ui-selectable-helper'></div>");
        },
        _destroy: function() {
            this.selectees.removeClass("ui-selectee").removeData("selectable-item");
            this.element.removeClass("ui-selectable ui-selectable-disabled");
            this._mouseDestroy();
        },
        _mouseStart: function(event) {
            var that = this
              , options = this.options;
            this.opos = [event.pageX, event.pageY];
            if (this.options.disabled) {
                return;
            }
            this.selectees = $(options.filter, this.element[0]);
            this._trigger("start", event);
            $(options.appendTo).append(this.helper);
            this.helper.css({
                "left": event.pageX,
                "top": event.pageY,
                "width": 0,
                "height": 0
            });
            if (options.autoRefresh) {
                this.refresh();
            }
            this.selectees.filter(".ui-selected").each(function() {
                var selectee = $.data(this, "selectable-item");
                selectee.startselected = true;
                if (!event.metaKey && !event.ctrlKey) {
                    selectee.$element.removeClass("ui-selected");
                    selectee.selected = false;
                    selectee.$element.addClass("ui-unselecting");
                    selectee.unselecting = true;
                    that._trigger("unselecting", event, {
                        unselecting: selectee.element
                    });
                }
            });
            $(event.target).parents().addBack().each(function() {
                var doSelect, selectee = $.data(this, "selectable-item");
                if (selectee) {
                    doSelect = (!event.metaKey && !event.ctrlKey) || !selectee.$element.hasClass("ui-selected");
                    selectee.$element.removeClass(doSelect ? "ui-unselecting" : "ui-selected").addClass(doSelect ? "ui-selecting" : "ui-unselecting");
                    selectee.unselecting = !doSelect;
                    selectee.selecting = doSelect;
                    selectee.selected = doSelect;
                    if (doSelect) {
                        that._trigger("selecting", event, {
                            selecting: selectee.element
                        });
                    } else {
                        that._trigger("unselecting", event, {
                            unselecting: selectee.element
                        });
                    }
                    return false;
                }
            });
        },
        _mouseDrag: function(event) {
            this.dragged = true;
            if (this.options.disabled) {
                return;
            }
            var tmp, that = this, options = this.options, x1 = this.opos[0], y1 = this.opos[1], x2 = event.pageX, y2 = event.pageY;
            if (x1 > x2) {
                tmp = x2;
                x2 = x1;
                x1 = tmp;
            }
            if (y1 > y2) {
                tmp = y2;
                y2 = y1;
                y1 = tmp;
            }
            this.helper.css({
                left: x1,
                top: y1,
                width: x2 - x1,
                height: y2 - y1
            });
            this.selectees.each(function() {
                var selectee = $.data(this, "selectable-item")
                  , hit = false;
                if (!selectee || selectee.element === that.element[0]) {
                    return;
                }
                if (options.tolerance === "touch") {
                    hit = (!(selectee.left > x2 || selectee.right < x1 || selectee.top > y2 || selectee.bottom < y1));
                } else if (options.tolerance === "fit") {
                    hit = (selectee.left > x1 && selectee.right < x2 && selectee.top > y1 && selectee.bottom < y2);
                }
                if (hit) {
                    if (selectee.selected) {
                        selectee.$element.removeClass("ui-selected");
                        selectee.selected = false;
                    }
                    if (selectee.unselecting) {
                        selectee.$element.removeClass("ui-unselecting");
                        selectee.unselecting = false;
                    }
                    if (!selectee.selecting) {
                        selectee.$element.addClass("ui-selecting");
                        selectee.selecting = true;
                        that._trigger("selecting", event, {
                            selecting: selectee.element
                        });
                    }
                } else {
                    if (selectee.selecting) {
                        if ((event.metaKey || event.ctrlKey) && selectee.startselected) {
                            selectee.$element.removeClass("ui-selecting");
                            selectee.selecting = false;
                            selectee.$element.addClass("ui-selected");
                            selectee.selected = true;
                        } else {
                            selectee.$element.removeClass("ui-selecting");
                            selectee.selecting = false;
                            if (selectee.startselected) {
                                selectee.$element.addClass("ui-unselecting");
                                selectee.unselecting = true;
                            }
                            that._trigger("unselecting", event, {
                                unselecting: selectee.element
                            });
                        }
                    }
                    if (selectee.selected) {
                        if (!event.metaKey && !event.ctrlKey && !selectee.startselected) {
                            selectee.$element.removeClass("ui-selected");
                            selectee.selected = false;
                            selectee.$element.addClass("ui-unselecting");
                            selectee.unselecting = true;
                            that._trigger("unselecting", event, {
                                unselecting: selectee.element
                            });
                        }
                    }
                }
            });
            return false;
        },
        _mouseStop: function(event) {
            var that = this;
            this.dragged = false;
            $(".ui-unselecting", this.element[0]).each(function() {
                var selectee = $.data(this, "selectable-item");
                selectee.$element.removeClass("ui-unselecting");
                selectee.unselecting = false;
                selectee.startselected = false;
                that._trigger("unselected", event, {
                    unselected: selectee.element
                });
            });
            $(".ui-selecting", this.element[0]).each(function() {
                var selectee = $.data(this, "selectable-item");
                selectee.$element.removeClass("ui-selecting").addClass("ui-selected");
                selectee.selecting = false;
                selectee.selected = true;
                selectee.startselected = true;
                that._trigger("selected", event, {
                    selected: selectee.element
                });
            });
            this._trigger("stop", event);
            this.helper.remove();
            return false;
        }
    });
    var selectmenu = $.widget("ui.selectmenu", {
        version: "1.11.0",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            disabled: null,
            icons: {
                button: "ui-icon-triangle-1-s"
            },
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            width: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },
        _create: function() {
            var selectmenuId = this.element.uniqueId().attr("id");
            this.ids = {
                element: selectmenuId,
                button: selectmenuId + "-button",
                menu: selectmenuId + "-menu"
            };
            this._drawButton();
            this._drawMenu();
            if (this.options.disabled) {
                this.disable();
            }
        },
        _drawButton: function() {
            var that = this
              , tabindex = this.element.attr("tabindex");
            this.label = $("label[for='" + this.ids.element + "']").attr("for", this.ids.button);
            this._on(this.label, {
                click: function(event) {
                    this.button.focus();
                    event.preventDefault();
                }
            });
            this.element.hide();
            this.button = $("<span>", {
                "class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
                tabindex: tabindex || this.options.disabled ? -1 : 0,
                id: this.ids.button,
                role: "combobox",
                "aria-expanded": "false",
                "aria-autocomplete": "list",
                "aria-owns": this.ids.menu,
                "aria-haspopup": "true"
            }).insertAfter(this.element);
            $("<span>", {
                "class": "ui-icon " + this.options.icons.button
            }).prependTo(this.button);
            this.buttonText = $("<span>", {
                "class": "ui-selectmenu-text"
            }).appendTo(this.button);
            this._setText(this.buttonText, this.element.find("option:selected").text());
            this._setOption("width", this.options.width);
            this._on(this.button, this._buttonEvents);
            this.button.one("focusin", function() {
                if (!that.menuItems) {
                    that._refreshMenu();
                }
            });
            this._hoverable(this.button);
            this._focusable(this.button);
        },
        _drawMenu: function() {
            var that = this;
            this.menu = $("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            });
            this.menuWrap = $("<div>", {
                "class": "ui-selectmenu-menu ui-front"
            }).append(this.menu).appendTo(this._appendTo());
            this.menuInstance = this.menu.menu({
                role: "listbox",
                select: function(event, ui) {
                    event.preventDefault();
                    that._select(ui.item.data("ui-selectmenu-item"), event);
                },
                focus: function(event, ui) {
                    var item = ui.item.data("ui-selectmenu-item");
                    if (that.focusIndex != null && item.index !== that.focusIndex) {
                        that._trigger("focus", event, {
                            item: item
                        });
                        if (!that.isOpen) {
                            that._select(item, event);
                        }
                    }
                    that.focusIndex = item.index;
                    that.button.attr("aria-activedescendant", that.menuItems.eq(item.index).attr("id"));
                }
            }).menu("instance");
            this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");
            this.menuInstance._off(this.menu, "mouseleave");
            this.menuInstance._closeOnDocumentClick = function() {
                return false;
            }
            ;
            this.menuInstance._isDivider = function() {
                return false;
            }
            ;
        },
        refresh: function() {
            this._refreshMenu();
            this._setText(this.buttonText, this._getSelectedItem().text());
            this._setOption("width", this.options.width);
        },
        _refreshMenu: function() {
            this.menu.empty();
            var item, options = this.element.find("option");
            if (!options.length) {
                return;
            }
            this._parseOptions(options);
            this._renderMenu(this.menu, this.items);
            this.menuInstance.refresh();
            this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup");
            item = this._getSelectedItem();
            this.menuInstance.focus(null, item);
            this._setAria(item.data("ui-selectmenu-item"));
            this._setOption("disabled", this.element.prop("disabled"));
        },
        open: function(event) {
            if (this.options.disabled) {
                return;
            }
            if (!this.menuItems) {
                this._refreshMenu();
            } else {
                this.menu.find(".ui-state-focus").removeClass("ui-state-focus");
                this.menuInstance.focus(null, this._getSelectedItem());
            }
            this.isOpen = true;
            this._toggleAttr();
            this._resizeMenu();
            this._position();
            this._on(this.document, this._documentClick);
            this._trigger("open", event);
        },
        _position: function() {
            this.menuWrap.position($.extend({
                of: this.button
            }, this.options.position));
        },
        close: function(event) {
            if (!this.isOpen) {
                return;
            }
            this.isOpen = false;
            this._toggleAttr();
            this._off(this.document);
            this._trigger("close", event);
        },
        widget: function() {
            return this.button;
        },
        menuWidget: function() {
            return this.menu;
        },
        _renderMenu: function(ul, items) {
            var that = this
              , currentOptgroup = "";
            $.each(items, function(index, item) {
                if (item.optgroup !== currentOptgroup) {
                    $("<li>", {
                        "class": "ui-selectmenu-optgroup ui-menu-divider" + (item.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""),
                        text: item.optgroup
                    }).appendTo(ul);
                    currentOptgroup = item.optgroup;
                }
                that._renderItemData(ul, item);
            });
        },
        _renderItemData: function(ul, item) {
            return this._renderItem(ul, item).data("ui-selectmenu-item", item);
        },
        _renderItem: function(ul, item) {
            var li = $("<li>");
            if (item.disabled) {
                li.addClass("ui-state-disabled");
            }
            this._setText(li, item.label);
            return li.appendTo(ul);
        },
        _setText: function(element, value) {
            if (value) {
                element.text(value);
            } else {
                element.html("&#160;");
            }
        },
        _move: function(direction, event) {
            var item, next, filter = ".ui-menu-item";
            if (this.isOpen) {
                item = this.menuItems.eq(this.focusIndex);
            } else {
                item = this.menuItems.eq(this.element[0].selectedIndex);
                filter += ":not(.ui-state-disabled)";
            }
            if (direction === "first" || direction === "last") {
                next = item[direction === "first" ? "prevAll" : "nextAll"](filter).eq(-1);
            } else {
                next = item[direction + "All"](filter).eq(0);
            }
            if (next.length) {
                this.menuInstance.focus(event, next);
            }
        },
        _getSelectedItem: function() {
            return this.menuItems.eq(this.element[0].selectedIndex);
        },
        _toggle: function(event) {
            this[this.isOpen ? "close" : "open"](event);
        },
        _documentClick: {
            mousedown: function(event) {
                if (!this.isOpen) {
                    return;
                }
                if (!$(event.target).closest(".ui-selectmenu-menu, #" + this.ids.button).length) {
                    this.close(event);
                }
            }
        },
        _buttonEvents: {
            click: "_toggle",
            keydown: function(event) {
                var preventDefault = true;
                switch (event.keyCode) {
                case $.ui.keyCode.TAB:
                case $.ui.keyCode.ESCAPE:
                    this.close(event);
                    preventDefault = false;
                    break;
                case $.ui.keyCode.ENTER:
                    if (this.isOpen) {
                        this._selectFocusedItem(event);
                    }
                    break;
                case $.ui.keyCode.UP:
                    if (event.altKey) {
                        this._toggle(event);
                    } else {
                        this._move("prev", event);
                    }
                    break;
                case $.ui.keyCode.DOWN:
                    if (event.altKey) {
                        this._toggle(event);
                    } else {
                        this._move("next", event);
                    }
                    break;
                case $.ui.keyCode.SPACE:
                    if (this.isOpen) {
                        this._selectFocusedItem(event);
                    } else {
                        this._toggle(event);
                    }
                    break;
                case $.ui.keyCode.LEFT:
                    this._move("prev", event);
                    break;
                case $.ui.keyCode.RIGHT:
                    this._move("next", event);
                    break;
                case $.ui.keyCode.HOME:
                case $.ui.keyCode.PAGE_UP:
                    this._move("first", event);
                    break;
                case $.ui.keyCode.END:
                case $.ui.keyCode.PAGE_DOWN:
                    this._move("last", event);
                    break;
                default:
                    this.menu.trigger(event);
                    preventDefault = false;
                }
                if (preventDefault) {
                    event.preventDefault();
                }
            }
        },
        _selectFocusedItem: function(event) {
            var item = this.menuItems.eq(this.focusIndex);
            if (!item.hasClass("ui-state-disabled")) {
                this._select(item.data("ui-selectmenu-item"), event);
            }
        },
        _select: function(item, event) {
            var oldIndex = this.element[0].selectedIndex;
            this.element[0].selectedIndex = item.index;
            this._setText(this.buttonText, item.label);
            this._setAria(item);
            this._trigger("select", event, {
                item: item
            });
            if (item.index !== oldIndex) {
                this._trigger("change", event, {
                    item: item
                });
            }
            this.close(event);
        },
        _setAria: function(item) {
            var id = this.menuItems.eq(item.index).attr("id");
            this.button.attr({
                "aria-labelledby": id,
                "aria-activedescendant": id
            });
            this.menu.attr("aria-activedescendant", id);
        },
        _setOption: function(key, value) {
            if (key === "icons") {
                this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(value.button);
            }
            this._super(key, value);
            if (key === "appendTo") {
                this.menuWrap.appendTo(this._appendTo());
            }
            if (key === "disabled") {
                this.menuInstance.option("disabled", value);
                this.button.toggleClass("ui-state-disabled", value).attr("aria-disabled", value);
                this.element.prop("disabled", value);
                if (value) {
                    this.button.attr("tabindex", -1);
                    this.close();
                } else {
                    this.button.attr("tabindex", 0);
                }
            }
            if (key === "width") {
                if (!value) {
                    value = this.element.outerWidth();
                }
                this.button.outerWidth(value);
            }
        },
        _appendTo: function() {
            var element = this.options.appendTo;
            if (element) {
                element = element.jquery || element.nodeType ? $(element) : this.document.find(element).eq(0);
            }
            if (!element || !element[0]) {
                element = this.element.closest(".ui-front");
            }
            if (!element.length) {
                element = this.document[0].body;
            }
            return element;
        },
        _toggleAttr: function() {
            this.button.toggleClass("ui-corner-top", this.isOpen).toggleClass("ui-corner-all", !this.isOpen).attr("aria-expanded", this.isOpen);
            this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen);
            this.menu.attr("aria-hidden", !this.isOpen);
        },
        _resizeMenu: function() {
            this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1));
        },
        _getCreateOptions: function() {
            return {
                disabled: this.element.prop("disabled")
            };
        },
        _parseOptions: function(options) {
            var data = [];
            options.each(function(index, item) {
                var option = $(item)
                  , optgroup = option.parent("optgroup");
                data.push({
                    element: option,
                    index: index,
                    value: option.attr("value"),
                    label: option.text(),
                    optgroup: optgroup.attr("label") || "",
                    disabled: optgroup.prop("disabled") || option.prop("disabled")
                });
            });
            this.items = data;
        },
        _destroy: function() {
            this.menuWrap.remove();
            this.button.remove();
            this.element.show();
            this.element.removeUniqueId();
            this.label.attr("for", this.ids.element);
        }
    });
    var slider = $.widget("ui.slider", $.ui.mouse, {
        version: "1.11.0",
        widgetEventPrefix: "slide",
        options: {
            animate: false,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: false,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        numPages: 5,
        _create: function() {
            this._keySliding = false;
            this._mouseSliding = false;
            this._animateOff = true;
            this._handleIndex = null;
            this._detectOrientation();
            this._mouseInit();
            this.element.addClass("ui-slider" + " ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all");
            this._refresh();
            this._setOption("disabled", this.options.disabled);
            this._animateOff = false;
        },
        _refresh: function() {
            this._createRange();
            this._createHandles();
            this._setupEvents();
            this._refreshValue();
        },
        _createHandles: function() {
            var i, handleCount, options = this.options, existingHandles = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"), handle = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>", handles = [];
            handleCount = (options.values && options.values.length) || 1;
            if (existingHandles.length > handleCount) {
                existingHandles.slice(handleCount).remove();
                existingHandles = existingHandles.slice(0, handleCount);
            }
            for (i = existingHandles.length; i < handleCount; i++) {
                handles.push(handle);
            }
            this.handles = existingHandles.add($(handles.join("")).appendTo(this.element));
            this.handle = this.handles.eq(0);
            this.handles.each(function(i) {
                $(this).data("ui-slider-handle-index", i);
            });
        },
        _createRange: function() {
            var options = this.options
              , classes = "";
            if (options.range) {
                if (options.range === true) {
                    if (!options.values) {
                        options.values = [this._valueMin(), this._valueMin()];
                    } else if (options.values.length && options.values.length !== 2) {
                        options.values = [options.values[0], options.values[0]];
                    } else if ($.isArray(options.values)) {
                        options.values = options.values.slice(0);
                    }
                }
                if (!this.range || !this.range.length) {
                    this.range = $("<div></div>").appendTo(this.element);
                    classes = "ui-slider-range" + " ui-widget-header ui-corner-all";
                } else {
                    this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                        "left": "",
                        "bottom": ""
                    });
                }
                this.range.addClass(classes + ((options.range === "min" || options.range === "max") ? " ui-slider-range-" + options.range : ""));
            } else {
                if (this.range) {
                    this.range.remove();
                }
                this.range = null;
            }
        },
        _setupEvents: function() {
            this._off(this.handles);
            this._on(this.handles, this._handleEvents);
            this._hoverable(this.handles);
            this._focusable(this.handles);
        },
        _destroy: function() {
            this.handles.remove();
            if (this.range) {
                this.range.remove();
            }
            this.element.removeClass("ui-slider" + " ui-slider-horizontal" + " ui-slider-vertical" + " ui-widget" + " ui-widget-content" + " ui-corner-all");
            this._mouseDestroy();
        },
        _mouseCapture: function(event) {
            var position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle, that = this, o = this.options;
            if (o.disabled) {
                return false;
            }
            this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            };
            this.elementOffset = this.element.offset();
            position = {
                x: event.pageX,
                y: event.pageY
            };
            normValue = this._normValueFromMouse(position);
            distance = this._valueMax() - this._valueMin() + 1;
            this.handles.each(function(i) {
                var thisDistance = Math.abs(normValue - that.values(i));
                if ((distance > thisDistance) || (distance === thisDistance && (i === that._lastChangedValue || that.values(i) === o.min))) {
                    distance = thisDistance;
                    closestHandle = $(this);
                    index = i;
                }
            });
            allowed = this._start(event, index);
            if (allowed === false) {
                return false;
            }
            this._mouseSliding = true;
            this._handleIndex = index;
            closestHandle.addClass("ui-state-active").focus();
            offset = closestHandle.offset();
            mouseOverHandle = !$(event.target).parents().addBack().is(".ui-slider-handle");
            this._clickOffset = mouseOverHandle ? {
                left: 0,
                top: 0
            } : {
                left: event.pageX - offset.left - (closestHandle.width() / 2),
                top: event.pageY - offset.top - (closestHandle.height() / 2) - (parseInt(closestHandle.css("borderTopWidth"), 10) || 0) - (parseInt(closestHandle.css("borderBottomWidth"), 10) || 0) + (parseInt(closestHandle.css("marginTop"), 10) || 0)
            };
            if (!this.handles.hasClass("ui-state-hover")) {
                this._slide(event, index, normValue);
            }
            this._animateOff = true;
            return true;
        },
        _mouseStart: function() {
            return true;
        },
        _mouseDrag: function(event) {
            var position = {
                x: event.pageX,
                y: event.pageY
            }
              , normValue = this._normValueFromMouse(position);
            this._slide(event, this._handleIndex, normValue);
            return false;
        },
        _mouseStop: function(event) {
            this.handles.removeClass("ui-state-active");
            this._mouseSliding = false;
            this._stop(event, this._handleIndex);
            this._change(event, this._handleIndex);
            this._handleIndex = null;
            this._clickOffset = null;
            this._animateOff = false;
            return false;
        },
        _detectOrientation: function() {
            this.orientation = (this.options.orientation === "vertical") ? "vertical" : "horizontal";
        },
        _normValueFromMouse: function(position) {
            var pixelTotal, pixelMouse, percentMouse, valueTotal, valueMouse;
            if (this.orientation === "horizontal") {
                pixelTotal = this.elementSize.width;
                pixelMouse = position.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0);
            } else {
                pixelTotal = this.elementSize.height;
                pixelMouse = position.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0);
            }
            percentMouse = (pixelMouse / pixelTotal);
            if (percentMouse > 1) {
                percentMouse = 1;
            }
            if (percentMouse < 0) {
                percentMouse = 0;
            }
            if (this.orientation === "vertical") {
                percentMouse = 1 - percentMouse;
            }
            valueTotal = this._valueMax() - this._valueMin();
            valueMouse = this._valueMin() + percentMouse * valueTotal;
            return this._trimAlignValue(valueMouse);
        },
        _start: function(event, index) {
            var uiHash = {
                handle: this.handles[index],
                value: this.value()
            };
            if (this.options.values && this.options.values.length) {
                uiHash.value = this.values(index);
                uiHash.values = this.values();
            }
            return this._trigger("start", event, uiHash);
        },
        _slide: function(event, index, newVal) {
            var otherVal, newValues, allowed;
            if (this.options.values && this.options.values.length) {
                otherVal = this.values(index ? 0 : 1);
                if ((this.options.values.length === 2 && this.options.range === true) && ((index === 0 && newVal > otherVal) || (index === 1 && newVal < otherVal))) {
                    newVal = otherVal;
                }
                if (newVal !== this.values(index)) {
                    newValues = this.values();
                    newValues[index] = newVal;
                    allowed = this._trigger("slide", event, {
                        handle: this.handles[index],
                        value: newVal,
                        values: newValues
                    });
                    otherVal = this.values(index ? 0 : 1);
                    if (allowed !== false) {
                        this.values(index, newVal);
                    }
                }
            } else {
                if (newVal !== this.value()) {
                    allowed = this._trigger("slide", event, {
                        handle: this.handles[index],
                        value: newVal
                    });
                    if (allowed !== false) {
                        this.value(newVal);
                    }
                }
            }
        },
        _stop: function(event, index) {
            var uiHash = {
                handle: this.handles[index],
                value: this.value()
            };
            if (this.options.values && this.options.values.length) {
                uiHash.value = this.values(index);
                uiHash.values = this.values();
            }
            this._trigger("stop", event, uiHash);
        },
        _change: function(event, index) {
            if (!this._keySliding && !this._mouseSliding) {
                var uiHash = {
                    handle: this.handles[index],
                    value: this.value()
                };
                if (this.options.values && this.options.values.length) {
                    uiHash.value = this.values(index);
                    uiHash.values = this.values();
                }
                this._lastChangedValue = index;
                this._trigger("change", event, uiHash);
            }
        },
        value: function(newValue) {
            if (arguments.length) {
                this.options.value = this._trimAlignValue(newValue);
                this._refreshValue();
                this._change(null, 0);
                return;
            }
            return this._value();
        },
        values: function(index, newValue) {
            var vals, newValues, i;
            if (arguments.length > 1) {
                this.options.values[index] = this._trimAlignValue(newValue);
                this._refreshValue();
                this._change(null, index);
                return;
            }
            if (arguments.length) {
                if ($.isArray(arguments[0])) {
                    vals = this.options.values;
                    newValues = arguments[0];
                    for (i = 0; i < vals.length; i += 1) {
                        vals[i] = this._trimAlignValue(newValues[i]);
                        this._change(null, i);
                    }
                    this._refreshValue();
                } else {
                    if (this.options.values && this.options.values.length) {
                        return this._values(index);
                    } else {
                        return this.value();
                    }
                }
            } else {
                return this._values();
            }
        },
        _setOption: function(key, value) {
            var i, valsLength = 0;
            if (key === "range" && this.options.range === true) {
                if (value === "min") {
                    this.options.value = this._values(0);
                    this.options.values = null;
                } else if (value === "max") {
                    this.options.value = this._values(this.options.values.length - 1);
                    this.options.values = null;
                }
            }
            if ($.isArray(this.options.values)) {
                valsLength = this.options.values.length;
            }
            if (key === "disabled") {
                this.element.toggleClass("ui-state-disabled", !!value);
            }
            this._super(key, value);
            switch (key) {
            case "orientation":
                this._detectOrientation();
                this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation);
                this._refreshValue();
                break;
            case "value":
                this._animateOff = true;
                this._refreshValue();
                this._change(null, 0);
                this._animateOff = false;
                break;
            case "values":
                this._animateOff = true;
                this._refreshValue();
                for (i = 0; i < valsLength; i += 1) {
                    this._change(null, i);
                }
                this._animateOff = false;
                break;
            case "min":
            case "max":
                this._animateOff = true;
                this._refreshValue();
                this._animateOff = false;
                break;
            case "range":
                this._animateOff = true;
                this._refresh();
                this._animateOff = false;
                break;
            }
        },
        _value: function() {
            var val = this.options.value;
            val = this._trimAlignValue(val);
            return val;
        },
        _values: function(index) {
            var val, vals, i;
            if (arguments.length) {
                val = this.options.values[index];
                val = this._trimAlignValue(val);
                return val;
            } else if (this.options.values && this.options.values.length) {
                vals = this.options.values.slice();
                for (i = 0; i < vals.length; i += 1) {
                    vals[i] = this._trimAlignValue(vals[i]);
                }
                return vals;
            } else {
                return [];
            }
        },
        _trimAlignValue: function(val) {
            if (val <= this._valueMin()) {
                return this._valueMin();
            }
            if (val >= this._valueMax()) {
                return this._valueMax();
            }
            var step = (this.options.step > 0) ? this.options.step : 1
              , valModStep = (val - this._valueMin()) % step
              , alignValue = val - valModStep;
            if (Math.abs(valModStep) * 2 >= step) {
                alignValue += (valModStep > 0) ? step : (-step);
            }
            return parseFloat(alignValue.toFixed(5));
        },
        _valueMin: function() {
            return this.options.min;
        },
        _valueMax: function() {
            return this.options.max;
        },
        _refreshValue: function() {
            var lastValPercent, valPercent, value, valueMin, valueMax, oRange = this.options.range, o = this.options, that = this, animate = (!this._animateOff) ? o.animate : false, _set = {};
            if (this.options.values && this.options.values.length) {
                this.handles.each(function(i) {
                    valPercent = (that.values(i) - that._valueMin()) / (that._valueMax() - that._valueMin()) * 100;
                    _set[that.orientation === "horizontal" ? "left" : "bottom"] = valPercent + "%";
                    $(this).stop(1, 1)[animate ? "animate" : "css"](_set, o.animate);
                    if (that.options.range === true) {
                        if (that.orientation === "horizontal") {
                            if (i === 0) {
                                that.range.stop(1, 1)[animate ? "animate" : "css"]({
                                    left: valPercent + "%"
                                }, o.animate);
                            }
                            if (i === 1) {
                                that.range[animate ? "animate" : "css"]({
                                    width: (valPercent - lastValPercent) + "%"
                                }, {
                                    queue: false,
                                    duration: o.animate
                                });
                            }
                        } else {
                            if (i === 0) {
                                that.range.stop(1, 1)[animate ? "animate" : "css"]({
                                    bottom: (valPercent) + "%"
                                }, o.animate);
                            }
                            if (i === 1) {
                                that.range[animate ? "animate" : "css"]({
                                    height: (valPercent - lastValPercent) + "%"
                                }, {
                                    queue: false,
                                    duration: o.animate
                                });
                            }
                        }
                    }
                    lastValPercent = valPercent;
                });
            } else {
                value = this.value();
                valueMin = this._valueMin();
                valueMax = this._valueMax();
                valPercent = (valueMax !== valueMin) ? (value - valueMin) / (valueMax - valueMin) * 100 : 0;
                _set[this.orientation === "horizontal" ? "left" : "bottom"] = valPercent + "%";
                this.handle.stop(1, 1)[animate ? "animate" : "css"](_set, o.animate);
                if (oRange === "min" && this.orientation === "horizontal") {
                    this.range.stop(1, 1)[animate ? "animate" : "css"]({
                        width: valPercent + "%"
                    }, o.animate);
                }
                if (oRange === "max" && this.orientation === "horizontal") {
                    this.range[animate ? "animate" : "css"]({
                        width: (100 - valPercent) + "%"
                    }, {
                        queue: false,
                        duration: o.animate
                    });
                }
                if (oRange === "min" && this.orientation === "vertical") {
                    this.range.stop(1, 1)[animate ? "animate" : "css"]({
                        height: valPercent + "%"
                    }, o.animate);
                }
                if (oRange === "max" && this.orientation === "vertical") {
                    this.range[animate ? "animate" : "css"]({
                        height: (100 - valPercent) + "%"
                    }, {
                        queue: false,
                        duration: o.animate
                    });
                }
            }
        },
        _handleEvents: {
            keydown: function(event) {
                var allowed, curVal, newVal, step, index = $(event.target).data("ui-slider-handle-index");
                switch (event.keyCode) {
                case $.ui.keyCode.HOME:
                case $.ui.keyCode.END:
                case $.ui.keyCode.PAGE_UP:
                case $.ui.keyCode.PAGE_DOWN:
                case $.ui.keyCode.UP:
                case $.ui.keyCode.RIGHT:
                case $.ui.keyCode.DOWN:
                case $.ui.keyCode.LEFT:
                    event.preventDefault();
                    if (!this._keySliding) {
                        this._keySliding = true;
                        $(event.target).addClass("ui-state-active");
                        allowed = this._start(event, index);
                        if (allowed === false) {
                            return;
                        }
                    }
                    break;
                }
                step = this.options.step;
                if (this.options.values && this.options.values.length) {
                    curVal = newVal = this.values(index);
                } else {
                    curVal = newVal = this.value();
                }
                switch (event.keyCode) {
                case $.ui.keyCode.HOME:
                    newVal = this._valueMin();
                    break;
                case $.ui.keyCode.END:
                    newVal = this._valueMax();
                    break;
                case $.ui.keyCode.PAGE_UP:
                    newVal = this._trimAlignValue(curVal + ((this._valueMax() - this._valueMin()) / this.numPages));
                    break;
                case $.ui.keyCode.PAGE_DOWN:
                    newVal = this._trimAlignValue(curVal - ((this._valueMax() - this._valueMin()) / this.numPages));
                    break;
                case $.ui.keyCode.UP:
                case $.ui.keyCode.RIGHT:
                    if (curVal === this._valueMax()) {
                        return;
                    }
                    newVal = this._trimAlignValue(curVal + step);
                    break;
                case $.ui.keyCode.DOWN:
                case $.ui.keyCode.LEFT:
                    if (curVal === this._valueMin()) {
                        return;
                    }
                    newVal = this._trimAlignValue(curVal - step);
                    break;
                }
                this._slide(event, index, newVal);
            },
            keyup: function(event) {
                var index = $(event.target).data("ui-slider-handle-index");
                if (this._keySliding) {
                    this._keySliding = false;
                    this._stop(event, index);
                    this._change(event, index);
                    $(event.target).removeClass("ui-state-active");
                }
            }
        }
    });
    var sortable = $.widget("ui.sortable", $.ui.mouse, {
        version: "1.11.0",
        widgetEventPrefix: "sort",
        ready: false,
        options: {
            appendTo: "parent",
            axis: false,
            connectWith: false,
            containment: false,
            cursor: "auto",
            cursorAt: false,
            dropOnEmpty: true,
            forcePlaceholderSize: false,
            forceHelperSize: false,
            grid: false,
            handle: false,
            helper: "original",
            items: "> *",
            opacity: false,
            placeholder: false,
            revert: false,
            scroll: true,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1000,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _isOverAxis: function(x, reference, size) {
            return (x >= reference) && (x < (reference + size));
        },
        _isFloating: function(item) {
            return (/left|right/).test(item.css("float")) || (/inline|table-cell/).test(item.css("display"));
        },
        _create: function() {
            var o = this.options;
            this.containerCache = {};
            this.element.addClass("ui-sortable");
            this.refresh();
            this.floating = this.items.length ? o.axis === "x" || this._isFloating(this.items[0].item) : false;
            this.offset = this.element.offset();
            this._mouseInit();
            this._setHandleClassName();
            this.ready = true;
        },
        _setOption: function(key, value) {
            this._super(key, value);
            if (key === "handle") {
                this._setHandleClassName();
            }
        },
        _setHandleClassName: function() {
            this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");
            $.each(this.items, function() {
                (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle");
            });
        },
        _destroy: function() {
            this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");
            this._mouseDestroy();
            for (var i = this.items.length - 1; i >= 0; i--) {
                this.items[i].item.removeData(this.widgetName + "-item");
            }
            return this;
        },
        _mouseCapture: function(event, overrideHandle) {
            var currentItem = null
              , validHandle = false
              , that = this;
            if (this.reverting) {
                return false;
            }
            if (this.options.disabled || this.options.type === "static") {
                return false;
            }
            this._refreshItems(event);
            $(event.target).parents().each(function() {
                if ($.data(this, that.widgetName + "-item") === that) {
                    currentItem = $(this);
                    return false;
                }
            });
            if ($.data(event.target, that.widgetName + "-item") === that) {
                currentItem = $(event.target);
            }
            if (!currentItem) {
                return false;
            }
            if (this.options.handle && !overrideHandle) {
                $(this.options.handle, currentItem).find("*").addBack().each(function() {
                    if (this === event.target) {
                        validHandle = true;
                    }
                });
                if (!validHandle) {
                    return false;
                }
            }
            this.currentItem = currentItem;
            this._removeCurrentsFromItems();
            return true;
        },
        _mouseStart: function(event, overrideHandle, noActivation) {
            var i, body, o = this.options;
            this.currentContainer = this;
            this.refreshPositions();
            this.helper = this._createHelper(event);
            this._cacheHelperProportions();
            this._cacheMargins();
            this.scrollParent = this.helper.scrollParent();
            this.offset = this.currentItem.offset();
            this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            };
            $.extend(this.offset, {
                click: {
                    left: event.pageX - this.offset.left,
                    top: event.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            });
            this.helper.css("position", "absolute");
            this.cssPosition = this.helper.css("position");
            this.originalPosition = this._generatePosition(event);
            this.originalPageX = event.pageX;
            this.originalPageY = event.pageY;
            (o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));
            this.domPosition = {
                prev: this.currentItem.prev()[0],
                parent: this.currentItem.parent()[0]
            };
            if (this.helper[0] !== this.currentItem[0]) {
                this.currentItem.hide();
            }
            this._createPlaceholder();
            if (o.containment) {
                this._setContainment();
            }
            if (o.cursor && o.cursor !== "auto") {
                body = this.document.find("body");
                this.storedCursor = body.css("cursor");
                body.css("cursor", o.cursor);
                this.storedStylesheet = $("<style>*{ cursor: " + o.cursor + " !important; }</style>").appendTo(body);
            }
            if (o.opacity) {
                if (this.helper.css("opacity")) {
                    this._storedOpacity = this.helper.css("opacity");
                }
                this.helper.css("opacity", o.opacity);
            }
            if (o.zIndex) {
                if (this.helper.css("zIndex")) {
                    this._storedZIndex = this.helper.css("zIndex");
                }
                this.helper.css("zIndex", o.zIndex);
            }
            if (this.scrollParent[0] !== document && this.scrollParent[0].tagName !== "HTML") {
                this.overflowOffset = this.scrollParent.offset();
            }
            this._trigger("start", event, this._uiHash());
            if (!this._preserveHelperProportions) {
                this._cacheHelperProportions();
            }
            if (!noActivation) {
                for (i = this.containers.length - 1; i >= 0; i--) {
                    this.containers[i]._trigger("activate", event, this._uiHash(this));
                }
            }
            if ($.ui.ddmanager) {
                $.ui.ddmanager.current = this;
            }
            if ($.ui.ddmanager && !o.dropBehaviour) {
                $.ui.ddmanager.prepareOffsets(this, event);
            }
            this.dragging = true;
            this.helper.addClass("ui-sortable-helper");
            this._mouseDrag(event);
            return true;
        },
        _mouseDrag: function(event) {
            var i, item, itemElement, intersection, o = this.options, scrolled = false;
            this.position = this._generatePosition(event);
            this.positionAbs = this._convertPositionTo("absolute");
            if (!this.lastPositionAbs) {
                this.lastPositionAbs = this.positionAbs;
            }
            if (this.options.scroll) {
                if (this.scrollParent[0] !== document && this.scrollParent[0].tagName !== "HTML") {
                    if ((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {
                        this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;
                    } else if (event.pageY - this.overflowOffset.top < o.scrollSensitivity) {
                        this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;
                    }
                    if ((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {
                        this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;
                    } else if (event.pageX - this.overflowOffset.left < o.scrollSensitivity) {
                        this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;
                    }
                } else {
                    if (event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
                        scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
                    } else if ($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
                        scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
                    }
                    if (event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
                        scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
                    } else if ($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
                        scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
                    }
                }
                if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
                    $.ui.ddmanager.prepareOffsets(this, event);
                }
            }
            this.positionAbs = this._convertPositionTo("absolute");
            if (!this.options.axis || this.options.axis !== "y") {
                this.helper[0].style.left = this.position.left + "px";
            }
            if (!this.options.axis || this.options.axis !== "x") {
                this.helper[0].style.top = this.position.top + "px";
            }
            for (i = this.items.length - 1; i >= 0; i--) {
                item = this.items[i];
                itemElement = item.item[0];
                intersection = this._intersectsWithPointer(item);
                if (!intersection) {
                    continue;
                }
                if (item.instance !== this.currentContainer) {
                    continue;
                }
                if (itemElement !== this.currentItem[0] && this.placeholder[intersection === 1 ? "next" : "prev"]()[0] !== itemElement && !$.contains(this.placeholder[0], itemElement) && (this.options.type === "semi-dynamic" ? !$.contains(this.element[0], itemElement) : true)) {
                    this.direction = intersection === 1 ? "down" : "up";
                    if (this.options.tolerance === "pointer" || this._intersectsWithSides(item)) {
                        this._rearrange(event, item);
                    } else {
                        break;
                    }
                    this._trigger("change", event, this._uiHash());
                    break;
                }
            }
            this._contactContainers(event);
            if ($.ui.ddmanager) {
                $.ui.ddmanager.drag(this, event);
            }
            this._trigger("sort", event, this._uiHash());
            this.lastPositionAbs = this.positionAbs;
            return false;
        },
        _mouseStop: function(event, noPropagation) {
            if (!event) {
                return;
            }
            if ($.ui.ddmanager && !this.options.dropBehaviour) {
                $.ui.ddmanager.drop(this, event);
            }
            if (this.options.revert) {
                var that = this
                  , cur = this.placeholder.offset()
                  , axis = this.options.axis
                  , animation = {};
                if (!axis || axis === "x") {
                    animation.left = cur.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft);
                }
                if (!axis || axis === "y") {
                    animation.top = cur.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop);
                }
                this.reverting = true;
                $(this.helper).animate(animation, parseInt(this.options.revert, 10) || 500, function() {
                    that._clear(event);
                });
            } else {
                this._clear(event, noPropagation);
            }
            return false;
        },
        cancel: function() {
            if (this.dragging) {
                this._mouseUp({
                    target: null
                });
                if (this.options.helper === "original") {
                    this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
                } else {
                    this.currentItem.show();
                }
                for (var i = this.containers.length - 1; i >= 0; i--) {
                    this.containers[i]._trigger("deactivate", null, this._uiHash(this));
                    if (this.containers[i].containerCache.over) {
                        this.containers[i]._trigger("out", null, this._uiHash(this));
                        this.containers[i].containerCache.over = 0;
                    }
                }
            }
            if (this.placeholder) {
                if (this.placeholder[0].parentNode) {
                    this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
                }
                if (this.options.helper !== "original" && this.helper && this.helper[0].parentNode) {
                    this.helper.remove();
                }
                $.extend(this, {
                    helper: null,
                    dragging: false,
                    reverting: false,
                    _noFinalSort: null
                });
                if (this.domPosition.prev) {
                    $(this.domPosition.prev).after(this.currentItem);
                } else {
                    $(this.domPosition.parent).prepend(this.currentItem);
                }
            }
            return this;
        },
        serialize: function(o) {
            var items = this._getItemsAsjQuery(o && o.connected)
              , str = [];
            o = o || {};
            $(items).each(function() {
                var res = ($(o.item || this).attr(o.attribute || "id") || "").match(o.expression || (/(.+)[\-=_](.+)/));
                if (res) {
                    str.push((o.key || res[1] + "[]") + "=" + (o.key && o.expression ? res[1] : res[2]));
                }
            });
            if (!str.length && o.key) {
                str.push(o.key + "=");
            }
            return str.join("&");
        },
        toArray: function(o) {
            var items = this._getItemsAsjQuery(o && o.connected)
              , ret = [];
            o = o || {};
            items.each(function() {
                ret.push($(o.item || this).attr(o.attribute || "id") || "");
            });
            return ret;
        },
        _intersectsWith: function(item) {
            var x1 = this.positionAbs.left
              , x2 = x1 + this.helperProportions.width
              , y1 = this.positionAbs.top
              , y2 = y1 + this.helperProportions.height
              , l = item.left
              , r = l + item.width
              , t = item.top
              , b = t + item.height
              , dyClick = this.offset.click.top
              , dxClick = this.offset.click.left
              , isOverElementHeight = (this.options.axis === "x") || ((y1 + dyClick) > t && (y1 + dyClick) < b)
              , isOverElementWidth = (this.options.axis === "y") || ((x1 + dxClick) > l && (x1 + dxClick) < r)
              , isOverElement = isOverElementHeight && isOverElementWidth;
            if (this.options.tolerance === "pointer" || this.options.forcePointerForContainers || (this.options.tolerance !== "pointer" && this.helperProportions[this.floating ? "width" : "height"] > item[this.floating ? "width" : "height"])) {
                return isOverElement;
            } else {
                return (l < x1 + (this.helperProportions.width / 2) && x2 - (this.helperProportions.width / 2) < r && t < y1 + (this.helperProportions.height / 2) && y2 - (this.helperProportions.height / 2) < b);
            }
        },
        _intersectsWithPointer: function(item) {
            var isOverElementHeight = (this.options.axis === "x") || this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height)
              , isOverElementWidth = (this.options.axis === "y") || this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width)
              , isOverElement = isOverElementHeight && isOverElementWidth
              , verticalDirection = this._getDragVerticalDirection()
              , horizontalDirection = this._getDragHorizontalDirection();
            if (!isOverElement) {
                return false;
            }
            return this.floating ? (((horizontalDirection && horizontalDirection === "right") || verticalDirection === "down") ? 2 : 1) : (verticalDirection && (verticalDirection === "down" ? 2 : 1));
        },
        _intersectsWithSides: function(item) {
            var isOverBottomHalf = this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height / 2), item.height)
              , isOverRightHalf = this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width / 2), item.width)
              , verticalDirection = this._getDragVerticalDirection()
              , horizontalDirection = this._getDragHorizontalDirection();
            if (this.floating && horizontalDirection) {
                return ((horizontalDirection === "right" && isOverRightHalf) || (horizontalDirection === "left" && !isOverRightHalf));
            } else {
                return verticalDirection && ((verticalDirection === "down" && isOverBottomHalf) || (verticalDirection === "up" && !isOverBottomHalf));
            }
        },
        _getDragVerticalDirection: function() {
            var delta = this.positionAbs.top - this.lastPositionAbs.top;
            return delta !== 0 && (delta > 0 ? "down" : "up");
        },
        _getDragHorizontalDirection: function() {
            var delta = this.positionAbs.left - this.lastPositionAbs.left;
            return delta !== 0 && (delta > 0 ? "right" : "left");
        },
        refresh: function(event) {
            this._refreshItems(event);
            this._setHandleClassName();
            this.refreshPositions();
            return this;
        },
        _connectWith: function() {
            var options = this.options;
            return options.connectWith.constructor === String ? [options.connectWith] : options.connectWith;
        },
        _getItemsAsjQuery: function(connected) {
            var i, j, cur, inst, items = [], queries = [], connectWith = this._connectWith();
            if (connectWith && connected) {
                for (i = connectWith.length - 1; i >= 0; i--) {
                    cur = $(connectWith[i]);
                    for (j = cur.length - 1; j >= 0; j--) {
                        inst = $.data(cur[j], this.widgetFullName);
                        if (inst && inst !== this && !inst.options.disabled) {
                            queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), inst]);
                        }
                    }
                }
            }
            queries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem
            }) : $(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);
            function addItems() {
                items.push(this);
            }
            for (i = queries.length - 1; i >= 0; i--) {
                queries[i][0].each(addItems);
            }
            return $(items);
        },
        _removeCurrentsFromItems: function() {
            var list = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = $.grep(this.items, function(item) {
                for (var j = 0; j < list.length; j++) {
                    if (list[j] === item.item[0]) {
                        return false;
                    }
                }
                return true;
            });
        },
        _refreshItems: function(event) {
            this.items = [];
            this.containers = [this];
            var i, j, cur, inst, targetData, _queries, item, queriesLength, items = this.items, queries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, {
                item: this.currentItem
            }) : $(this.options.items, this.element), this]], connectWith = this._connectWith();
            if (connectWith && this.ready) {
                for (i = connectWith.length - 1; i >= 0; i--) {
                    cur = $(connectWith[i]);
                    for (j = cur.length - 1; j >= 0; j--) {
                        inst = $.data(cur[j], this.widgetFullName);
                        if (inst && inst !== this && !inst.options.disabled) {
                            queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, {
                                item: this.currentItem
                            }) : $(inst.options.items, inst.element), inst]);
                            this.containers.push(inst);
                        }
                    }
                }
            }
            for (i = queries.length - 1; i >= 0; i--) {
                targetData = queries[i][1];
                _queries = queries[i][0];
                for (j = 0,
                queriesLength = _queries.length; j < queriesLength; j++) {
                    item = $(_queries[j]);
                    item.data(this.widgetName + "-item", targetData);
                    items.push({
                        item: item,
                        instance: targetData,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    });
                }
            }
        },
        refreshPositions: function(fast) {
            if (this.offsetParent && this.helper) {
                this.offset.parent = this._getParentOffset();
            }
            var i, item, t, p;
            for (i = this.items.length - 1; i >= 0; i--) {
                item = this.items[i];
                if (item.instance !== this.currentContainer && this.currentContainer && item.item[0] !== this.currentItem[0]) {
                    continue;
                }
                t = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;
                if (!fast) {
                    item.width = t.outerWidth();
                    item.height = t.outerHeight();
                }
                p = t.offset();
                item.left = p.left;
                item.top = p.top;
            }
            if (this.options.custom && this.options.custom.refreshContainers) {
                this.options.custom.refreshContainers.call(this);
            } else {
                for (i = this.containers.length - 1; i >= 0; i--) {
                    p = this.containers[i].element.offset();
                    this.containers[i].containerCache.left = p.left;
                    this.containers[i].containerCache.top = p.top;
                    this.containers[i].containerCache.width = this.containers[i].element.outerWidth();
                    this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
                }
            }
            return this;
        },
        _createPlaceholder: function(that) {
            that = that || this;
            var className, o = that.options;
            if (!o.placeholder || o.placeholder.constructor === String) {
                className = o.placeholder;
                o.placeholder = {
                    element: function() {
                        var nodeName = that.currentItem[0].nodeName.toLowerCase()
                          , element = $("<" + nodeName + ">", that.document[0]).addClass(className || that.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                        if (nodeName === "tr") {
                            that.currentItem.children().each(function() {
                                $("<td>&#160;</td>", that.document[0]).attr("colspan", $(this).attr("colspan") || 1).appendTo(element);
                            });
                        } else if (nodeName === "img") {
                            element.attr("src", that.currentItem.attr("src"));
                        }
                        if (!className) {
                            element.css("visibility", "hidden");
                        }
                        return element;
                    },
                    update: function(container, p) {
                        if (className && !o.forcePlaceholderSize) {
                            return;
                        }
                        if (!p.height()) {
                            p.height(that.currentItem.innerHeight() - parseInt(that.currentItem.css("paddingTop") || 0, 10) - parseInt(that.currentItem.css("paddingBottom") || 0, 10));
                        }
                        if (!p.width()) {
                            p.width(that.currentItem.innerWidth() - parseInt(that.currentItem.css("paddingLeft") || 0, 10) - parseInt(that.currentItem.css("paddingRight") || 0, 10));
                        }
                    }
                };
            }
            that.placeholder = $(o.placeholder.element.call(that.element, that.currentItem));
            that.currentItem.after(that.placeholder);
            o.placeholder.update(that, that.placeholder);
        },
        _contactContainers: function(event) {
            var i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom, floating, axis, innermostContainer = null, innermostIndex = null;
            for (i = this.containers.length - 1; i >= 0; i--) {
                if ($.contains(this.currentItem[0], this.containers[i].element[0])) {
                    continue;
                }
                if (this._intersectsWith(this.containers[i].containerCache)) {
                    if (innermostContainer && $.contains(this.containers[i].element[0], innermostContainer.element[0])) {
                        continue;
                    }
                    innermostContainer = this.containers[i];
                    innermostIndex = i;
                } else {
                    if (this.containers[i].containerCache.over) {
                        this.containers[i]._trigger("out", event, this._uiHash(this));
                        this.containers[i].containerCache.over = 0;
                    }
                }
            }
            if (!innermostContainer) {
                return;
            }
            if (this.containers.length === 1) {
                if (!this.containers[innermostIndex].containerCache.over) {
                    this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
                    this.containers[innermostIndex].containerCache.over = 1;
                }
            } else {
                dist = 10000;
                itemWithLeastDistance = null;
                floating = innermostContainer.floating || this._isFloating(this.currentItem);
                posProperty = floating ? "left" : "top";
                sizeProperty = floating ? "width" : "height";
                axis = floating ? "clientX" : "clientY";
                for (j = this.items.length - 1; j >= 0; j--) {
                    if (!$.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) {
                        continue;
                    }
                    if (this.items[j].item[0] === this.currentItem[0]) {
                        continue;
                    }
                    cur = this.items[j].item.offset()[posProperty];
                    nearBottom = false;
                    if (event[axis] - cur > this.items[j][sizeProperty] / 2) {
                        nearBottom = true;
                    }
                    if (Math.abs(event[axis] - cur) < dist) {
                        dist = Math.abs(event[axis] - cur);
                        itemWithLeastDistance = this.items[j];
                        this.direction = nearBottom ? "up" : "down";
                    }
                }
                if (!itemWithLeastDistance && !this.options.dropOnEmpty) {
                    return;
                }
                if (this.currentContainer === this.containers[innermostIndex]) {
                    return;
                }
                itemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);
                this._trigger("change", event, this._uiHash());
                this.containers[innermostIndex]._trigger("change", event, this._uiHash(this));
                this.currentContainer = this.containers[innermostIndex];
                this.options.placeholder.update(this.currentContainer, this.placeholder);
                this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
                this.containers[innermostIndex].containerCache.over = 1;
            }
        },
        _createHelper: function(event) {
            var o = this.options
              , helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : (o.helper === "clone" ? this.currentItem.clone() : this.currentItem);
            if (!helper.parents("body").length) {
                $(o.appendTo !== "parent" ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);
            }
            if (helper[0] === this.currentItem[0]) {
                this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                };
            }
            if (!helper[0].style.width || o.forceHelperSize) {
                helper.width(this.currentItem.width());
            }
            if (!helper[0].style.height || o.forceHelperSize) {
                helper.height(this.currentItem.height());
            }
            return helper;
        },
        _adjustOffsetFromHelper: function(obj) {
            if (typeof obj === "string") {
                obj = obj.split(" ");
            }
            if ($.isArray(obj)) {
                obj = {
                    left: +obj[0],
                    top: +obj[1] || 0
                };
            }
            if ("left"in obj) {
                this.offset.click.left = obj.left + this.margins.left;
            }
            if ("right"in obj) {
                this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
            }
            if ("top"in obj) {
                this.offset.click.top = obj.top + this.margins.top;
            }
            if ("bottom"in obj) {
                this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
            }
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var po = this.offsetParent.offset();
            if (this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
                po.left += this.scrollParent.scrollLeft();
                po.top += this.scrollParent.scrollTop();
            }
            if (this.offsetParent[0] === document.body || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie)) {
                po = {
                    top: 0,
                    left: 0
                };
            }
            return {
                top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            };
        },
        _getRelativeOffset: function() {
            if (this.cssPosition === "relative") {
                var p = this.currentItem.position();
                return {
                    top: p.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: p.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                };
            } else {
                return {
                    top: 0,
                    left: 0
                };
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: (parseInt(this.currentItem.css("marginLeft"), 10) || 0),
                top: (parseInt(this.currentItem.css("marginTop"), 10) || 0)
            };
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            };
        },
        _setContainment: function() {
            var ce, co, over, o = this.options;
            if (o.containment === "parent") {
                o.containment = this.helper[0].parentNode;
            }
            if (o.containment === "document" || o.containment === "window") {
                this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, $(o.containment === "document" ? document : window).width() - this.helperProportions.width - this.margins.left, ($(o.containment === "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
            }
            if (!(/^(document|window|parent)$/).test(o.containment)) {
                ce = $(o.containment)[0];
                co = $(o.containment).offset();
                over = ($(ce).css("overflow") !== "hidden");
                this.containment = [co.left + (parseInt($(ce).css("borderLeftWidth"), 10) || 0) + (parseInt($(ce).css("paddingLeft"), 10) || 0) - this.margins.left, co.top + (parseInt($(ce).css("borderTopWidth"), 10) || 0) + (parseInt($(ce).css("paddingTop"), 10) || 0) - this.margins.top, co.left + (over ? Math.max(ce.scrollWidth, ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css("borderLeftWidth"), 10) || 0) - (parseInt($(ce).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, co.top + (over ? Math.max(ce.scrollHeight, ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css("borderTopWidth"), 10) || 0) - (parseInt($(ce).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top];
            }
        },
        _convertPositionTo: function(d, pos) {
            if (!pos) {
                pos = this.position;
            }
            var mod = d === "absolute" ? 1 : -1
              , scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent
              , scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
            return {
                top: (pos.top + this.offset.relative.top * mod + this.offset.parent.top * mod - ((this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : (scrollIsRootNode ? 0 : scroll.scrollTop())) * mod)),
                left: (pos.left + this.offset.relative.left * mod + this.offset.parent.left * mod - ((this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft()) * mod))
            };
        },
        _generatePosition: function(event) {
            var top, left, o = this.options, pageX = event.pageX, pageY = event.pageY, scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
            if (this.cssPosition === "relative" && !(this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0])) {
                this.offset.relative = this._getRelativeOffset();
            }
            if (this.originalPosition) {
                if (this.containment) {
                    if (event.pageX - this.offset.click.left < this.containment[0]) {
                        pageX = this.containment[0] + this.offset.click.left;
                    }
                    if (event.pageY - this.offset.click.top < this.containment[1]) {
                        pageY = this.containment[1] + this.offset.click.top;
                    }
                    if (event.pageX - this.offset.click.left > this.containment[2]) {
                        pageX = this.containment[2] + this.offset.click.left;
                    }
                    if (event.pageY - this.offset.click.top > this.containment[3]) {
                        pageY = this.containment[3] + this.offset.click.top;
                    }
                }
                if (o.grid) {
                    top = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];
                    pageY = this.containment ? ((top - this.offset.click.top >= this.containment[1] && top - this.offset.click.top <= this.containment[3]) ? top : ((top - this.offset.click.top >= this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;
                    left = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];
                    pageX = this.containment ? ((left - this.offset.click.left >= this.containment[0] && left - this.offset.click.left <= this.containment[2]) ? left : ((left - this.offset.click.left >= this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
                }
            }
            return {
                top: (pageY - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ((this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : (scrollIsRootNode ? 0 : scroll.scrollTop())))),
                left: (pageX - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ((this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft())))
            };
        },
        _rearrange: function(event, i, a, hardRefresh) {
            a ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction === "down" ? i.item[0] : i.item[0].nextSibling));
            this.counter = this.counter ? ++this.counter : 1;
            var counter = this.counter;
            this._delay(function() {
                if (counter === this.counter) {
                    this.refreshPositions(!hardRefresh);
                }
            });
        },
        _clear: function(event, noPropagation) {
            this.reverting = false;
            var i, delayedTriggers = [];
            if (!this._noFinalSort && this.currentItem.parent().length) {
                this.placeholder.before(this.currentItem);
            }
            this._noFinalSort = null;
            if (this.helper[0] === this.currentItem[0]) {
                for (i in this._storedCSS) {
                    if (this._storedCSS[i] === "auto" || this._storedCSS[i] === "static") {
                        this._storedCSS[i] = "";
                    }
                }
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
            } else {
                this.currentItem.show();
            }
            if (this.fromOutside && !noPropagation) {
                delayedTriggers.push(function(event) {
                    this._trigger("receive", event, this._uiHash(this.fromOutside));
                });
            }
            if ((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !noPropagation) {
                delayedTriggers.push(function(event) {
                    this._trigger("update", event, this._uiHash());
                });
            }
            if (this !== this.currentContainer) {
                if (!noPropagation) {
                    delayedTriggers.push(function(event) {
                        this._trigger("remove", event, this._uiHash());
                    });
                    delayedTriggers.push((function(c) {
                        return function(event) {
                            c._trigger("receive", event, this._uiHash(this));
                        }
                        ;
                    }
                    ).call(this, this.currentContainer));
                    delayedTriggers.push((function(c) {
                        return function(event) {
                            c._trigger("update", event, this._uiHash(this));
                        }
                        ;
                    }
                    ).call(this, this.currentContainer));
                }
            }
            function delayEvent(type, instance, container) {
                return function(event) {
                    container._trigger(type, event, instance._uiHash(instance));
                }
                ;
            }
            for (i = this.containers.length - 1; i >= 0; i--) {
                if (!noPropagation) {
                    delayedTriggers.push(delayEvent("deactivate", this, this.containers[i]));
                }
                if (this.containers[i].containerCache.over) {
                    delayedTriggers.push(delayEvent("out", this, this.containers[i]));
                    this.containers[i].containerCache.over = 0;
                }
            }
            if (this.storedCursor) {
                this.document.find("body").css("cursor", this.storedCursor);
                this.storedStylesheet.remove();
            }
            if (this._storedOpacity) {
                this.helper.css("opacity", this._storedOpacity);
            }
            if (this._storedZIndex) {
                this.helper.css("zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex);
            }
            this.dragging = false;
            if (this.cancelHelperRemoval) {
                if (!noPropagation) {
                    this._trigger("beforeStop", event, this._uiHash());
                    for (i = 0; i < delayedTriggers.length; i++) {
                        delayedTriggers[i].call(this, event);
                    }
                    this._trigger("stop", event, this._uiHash());
                }
                this.fromOutside = false;
                return false;
            }
            if (!noPropagation) {
                this._trigger("beforeStop", event, this._uiHash());
            }
            this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
            if (this.helper[0] !== this.currentItem[0]) {
                this.helper.remove();
            }
            this.helper = null;
            if (!noPropagation) {
                for (i = 0; i < delayedTriggers.length; i++) {
                    delayedTriggers[i].call(this, event);
                }
                this._trigger("stop", event, this._uiHash());
            }
            this.fromOutside = false;
            return true;
        },
        _trigger: function() {
            if ($.Widget.prototype._trigger.apply(this, arguments) === false) {
                this.cancel();
            }
        },
        _uiHash: function(_inst) {
            var inst = _inst || this;
            return {
                helper: inst.helper,
                placeholder: inst.placeholder || $([]),
                position: inst.position,
                originalPosition: inst.originalPosition,
                offset: inst.positionAbs,
                item: inst.currentItem,
                sender: _inst ? _inst.element : null
            };
        }
    });
    function spinner_modifier(fn) {
        return function() {
            var previous = this.element.val();
            fn.apply(this, arguments);
            this._refresh();
            if (previous !== this.element.val()) {
                this._trigger("change");
            }
        }
        ;
    }
    var spinner = $.widget("ui.spinner", {
        version: "1.11.0",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: true,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._setOption("max", this.options.max);
            this._setOption("min", this.options.min);
            this._setOption("step", this.options.step);
            if (this.value() !== "") {
                this._value(this.element.val(), true);
            }
            this._draw();
            this._on(this._events);
            this._refresh();
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete");
                }
            });
        },
        _getCreateOptions: function() {
            var options = {}
              , element = this.element;
            $.each(["min", "max", "step"], function(i, option) {
                var value = element.attr(option);
                if (value !== undefined && value.length) {
                    options[option] = value;
                }
            });
            return options;
        },
        _events: {
            keydown: function(event) {
                if (this._start(event) && this._keydown(event)) {
                    event.preventDefault();
                }
            },
            keyup: "_stop",
            focus: function() {
                this.previous = this.element.val();
            },
            blur: function(event) {
                if (this.cancelBlur) {
                    delete this.cancelBlur;
                    return;
                }
                this._stop();
                this._refresh();
                if (this.previous !== this.element.val()) {
                    this._trigger("change", event);
                }
            },
            mousewheel: function(event, delta) {
                if (!delta) {
                    return;
                }
                if (!this.spinning && !this._start(event)) {
                    return false;
                }
                this._spin((delta > 0 ? 1 : -1) * this.options.step, event);
                clearTimeout(this.mousewheelTimer);
                this.mousewheelTimer = this._delay(function() {
                    if (this.spinning) {
                        this._stop(event);
                    }
                }, 100);
                event.preventDefault();
            },
            "mousedown .ui-spinner-button": function(event) {
                var previous;
                previous = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val();
                function checkFocus() {
                    var isActive = this.element[0] === this.document[0].activeElement;
                    if (!isActive) {
                        this.element.focus();
                        this.previous = previous;
                        this._delay(function() {
                            this.previous = previous;
                        });
                    }
                }
                event.preventDefault();
                checkFocus.call(this);
                this.cancelBlur = true;
                this._delay(function() {
                    delete this.cancelBlur;
                    checkFocus.call(this);
                });
                if (this._start(event) === false) {
                    return;
                }
                this._repeat(null, $(event.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, event);
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function(event) {
                if (!$(event.currentTarget).hasClass("ui-state-active")) {
                    return;
                }
                if (this._start(event) === false) {
                    return false;
                }
                this._repeat(null, $(event.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, event);
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _draw: function() {
            var uiSpinner = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
            this.element.attr("role", "spinbutton");
            this.buttons = uiSpinner.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all");
            if (this.buttons.height() > Math.ceil(uiSpinner.height() * 0.5) && uiSpinner.height() > 0) {
                uiSpinner.height(uiSpinner.height());
            }
            if (this.options.disabled) {
                this.disable();
            }
        },
        _keydown: function(event) {
            var options = this.options
              , keyCode = $.ui.keyCode;
            switch (event.keyCode) {
            case keyCode.UP:
                this._repeat(null, 1, event);
                return true;
            case keyCode.DOWN:
                this._repeat(null, -1, event);
                return true;
            case keyCode.PAGE_UP:
                this._repeat(null, options.page, event);
                return true;
            case keyCode.PAGE_DOWN:
                this._repeat(null, -options.page, event);
                return true;
            }
            return false;
        },
        _uiSpinnerHtml: function() {
            return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";
        },
        _buttonHtml: function() {
            return "" + "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>" + "<span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" + "</a>" + "<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" + "<span class='ui-icon " + this.options.icons.down + "'>&#9660;</span>" + "</a>";
        },
        _start: function(event) {
            if (!this.spinning && this._trigger("start", event) === false) {
                return false;
            }
            if (!this.counter) {
                this.counter = 1;
            }
            this.spinning = true;
            return true;
        },
        _repeat: function(i, steps, event) {
            i = i || 500;
            clearTimeout(this.timer);
            this.timer = this._delay(function() {
                this._repeat(40, steps, event);
            }, i);
            this._spin(steps * this.options.step, event);
        },
        _spin: function(step, event) {
            var value = this.value() || 0;
            if (!this.counter) {
                this.counter = 1;
            }
            value = this._adjustValue(value + step * this._increment(this.counter));
            if (!this.spinning || this._trigger("spin", event, {
                value: value
            }) !== false) {
                this._value(value);
                this.counter++;
            }
        },
        _increment: function(i) {
            var incremental = this.options.incremental;
            if (incremental) {
                return $.isFunction(incremental) ? incremental(i) : Math.floor(i * i * i / 50000 - i * i / 500 + 17 * i / 200 + 1);
            }
            return 1;
        },
        _precision: function() {
            var precision = this._precisionOf(this.options.step);
            if (this.options.min !== null) {
                precision = Math.max(precision, this._precisionOf(this.options.min));
            }
            return precision;
        },
        _precisionOf: function(num) {
            var str = num.toString()
              , decimal = str.indexOf(".");
            return decimal === -1 ? 0 : str.length - decimal - 1;
        },
        _adjustValue: function(value) {
            var base, aboveMin, options = this.options;
            base = options.min !== null ? options.min : 0;
            aboveMin = value - base;
            aboveMin = Math.round(aboveMin / options.step) * options.step;
            value = base + aboveMin;
            value = parseFloat(value.toFixed(this._precision()));
            if (options.max !== null && value > options.max) {
                return options.max;
            }
            if (options.min !== null && value < options.min) {
                return options.min;
            }
            return value;
        },
        _stop: function(event) {
            if (!this.spinning) {
                return;
            }
            clearTimeout(this.timer);
            clearTimeout(this.mousewheelTimer);
            this.counter = 0;
            this.spinning = false;
            this._trigger("stop", event);
        },
        _setOption: function(key, value) {
            if (key === "culture" || key === "numberFormat") {
                var prevValue = this._parse(this.element.val());
                this.options[key] = value;
                this.element.val(this._format(prevValue));
                return;
            }
            if (key === "max" || key === "min" || key === "step") {
                if (typeof value === "string") {
                    value = this._parse(value);
                }
            }
            if (key === "icons") {
                this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(value.up);
                this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(value.down);
            }
            this._super(key, value);
            if (key === "disabled") {
                this.widget().toggleClass("ui-state-disabled", !!value);
                this.element.prop("disabled", !!value);
                this.buttons.button(value ? "disable" : "enable");
            }
        },
        _setOptions: spinner_modifier(function(options) {
            this._super(options);
        }),
        _parse: function(val) {
            if (typeof val === "string" && val !== "") {
                val = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(val, 10, this.options.culture) : +val;
            }
            return val === "" || isNaN(val) ? null : val;
        },
        _format: function(value) {
            if (value === "") {
                return "";
            }
            return window.Globalize && this.options.numberFormat ? Globalize.format(value, this.options.numberFormat, this.options.culture) : value;
        },
        _refresh: function() {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            });
        },
        isValid: function() {
            var value = this.value();
            if (value === null) {
                return false;
            }
            return value === this._adjustValue(value);
        },
        _value: function(value, allowAny) {
            var parsed;
            if (value !== "") {
                parsed = this._parse(value);
                if (parsed !== null) {
                    if (!allowAny) {
                        parsed = this._adjustValue(parsed);
                    }
                    value = this._format(parsed);
                }
            }
            this.element.val(value);
            this._refresh();
        },
        _destroy: function() {
            this.element.removeClass("ui-spinner-input").prop("disabled", false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
            this.uiSpinner.replaceWith(this.element);
        },
        stepUp: spinner_modifier(function(steps) {
            this._stepUp(steps);
        }),
        _stepUp: function(steps) {
            if (this._start()) {
                this._spin((steps || 1) * this.options.step);
                this._stop();
            }
        },
        stepDown: spinner_modifier(function(steps) {
            this._stepDown(steps);
        }),
        _stepDown: function(steps) {
            if (this._start()) {
                this._spin((steps || 1) * -this.options.step);
                this._stop();
            }
        },
        pageUp: spinner_modifier(function(pages) {
            this._stepUp((pages || 1) * this.options.page);
        }),
        pageDown: spinner_modifier(function(pages) {
            this._stepDown((pages || 1) * this.options.page);
        }),
        value: function(newVal) {
            if (!arguments.length) {
                return this._parse(this.element.val());
            }
            spinner_modifier(this._value).call(this, newVal);
        },
        widget: function() {
            return this.uiSpinner;
        }
    });
    var tabs = $.widget("ui.tabs", {
        version: "1.11.0",
        delay: 300,
        options: {
            active: null,
            collapsible: false,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _isLocal: (function() {
            var rhash = /#.*$/;
            return function(anchor) {
                var anchorUrl, locationUrl;
                anchor = anchor.cloneNode(false);
                anchorUrl = anchor.href.replace(rhash, "");
                locationUrl = location.href.replace(rhash, "");
                try {
                    anchorUrl = decodeURIComponent(anchorUrl);
                } catch (error) {}
                try {
                    locationUrl = decodeURIComponent(locationUrl);
                } catch (error) {}
                return anchor.hash.length > 1 && anchorUrl === locationUrl;
            }
            ;
        }
        )(),
        _create: function() {
            var that = this
              , options = this.options;
            this.running = false;
            this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", options.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function(event) {
                if ($(this).is(".ui-state-disabled")) {
                    event.preventDefault();
                }
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                if ($(this).closest("li").is(".ui-state-disabled")) {
                    this.blur();
                }
            });
            this._processTabs();
            options.active = this._initialActive();
            if ($.isArray(options.disabled)) {
                options.disabled = $.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"), function(li) {
                    return that.tabs.index(li);
                }))).sort();
            }
            if (this.options.active !== false && this.anchors.length) {
                this.active = this._findActive(options.active);
            } else {
                this.active = $();
            }
            this._refresh();
            if (this.active.length) {
                this.load(options.active);
            }
        },
        _initialActive: function() {
            var active = this.options.active
              , collapsible = this.options.collapsible
              , locationHash = location.hash.substring(1);
            if (active === null) {
                if (locationHash) {
                    this.tabs.each(function(i, tab) {
                        if ($(tab).attr("aria-controls") === locationHash) {
                            active = i;
                            return false;
                        }
                    });
                }
                if (active === null) {
                    active = this.tabs.index(this.tabs.filter(".ui-tabs-active"));
                }
                if (active === null || active === -1) {
                    active = this.tabs.length ? 0 : false;
                }
            }
            if (active !== false) {
                active = this.tabs.index(this.tabs.eq(active));
                if (active === -1) {
                    active = collapsible ? false : 0;
                }
            }
            if (!collapsible && active === false && this.anchors.length) {
                active = 0;
            }
            return active;
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: !this.active.length ? $() : this._getPanelForTab(this.active)
            };
        },
        _tabKeydown: function(event) {
            var focusedTab = $(this.document[0].activeElement).closest("li")
              , selectedIndex = this.tabs.index(focusedTab)
              , goingForward = true;
            if (this._handlePageNav(event)) {
                return;
            }
            switch (event.keyCode) {
            case $.ui.keyCode.RIGHT:
            case $.ui.keyCode.DOWN:
                selectedIndex++;
                break;
            case $.ui.keyCode.UP:
            case $.ui.keyCode.LEFT:
                goingForward = false;
                selectedIndex--;
                break;
            case $.ui.keyCode.END:
                selectedIndex = this.anchors.length - 1;
                break;
            case $.ui.keyCode.HOME:
                selectedIndex = 0;
                break;
            case $.ui.keyCode.SPACE:
                event.preventDefault();
                clearTimeout(this.activating);
                this._activate(selectedIndex);
                return;
            case $.ui.keyCode.ENTER:
                event.preventDefault();
                clearTimeout(this.activating);
                this._activate(selectedIndex === this.options.active ? false : selectedIndex);
                return;
            default:
                return;
            }
            event.preventDefault();
            clearTimeout(this.activating);
            selectedIndex = this._focusNextTab(selectedIndex, goingForward);
            if (!event.ctrlKey) {
                focusedTab.attr("aria-selected", "false");
                this.tabs.eq(selectedIndex).attr("aria-selected", "true");
                this.activating = this._delay(function() {
                    this.option("active", selectedIndex);
                }, this.delay);
            }
        },
        _panelKeydown: function(event) {
            if (this._handlePageNav(event)) {
                return;
            }
            if (event.ctrlKey && event.keyCode === $.ui.keyCode.UP) {
                event.preventDefault();
                this.active.focus();
            }
        },
        _handlePageNav: function(event) {
            if (event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP) {
                this._activate(this._focusNextTab(this.options.active - 1, false));
                return true;
            }
            if (event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN) {
                this._activate(this._focusNextTab(this.options.active + 1, true));
                return true;
            }
        },
        _findNextTab: function(index, goingForward) {
            var lastTabIndex = this.tabs.length - 1;
            function constrain() {
                if (index > lastTabIndex) {
                    index = 0;
                }
                if (index < 0) {
                    index = lastTabIndex;
                }
                return index;
            }
            while ($.inArray(constrain(), this.options.disabled) !== -1) {
                index = goingForward ? index + 1 : index - 1;
            }
            return index;
        },
        _focusNextTab: function(index, goingForward) {
            index = this._findNextTab(index, goingForward);
            this.tabs.eq(index).focus();
            return index;
        },
        _setOption: function(key, value) {
            if (key === "active") {
                this._activate(value);
                return;
            }
            if (key === "disabled") {
                this._setupDisabled(value);
                return;
            }
            this._super(key, value);
            if (key === "collapsible") {
                this.element.toggleClass("ui-tabs-collapsible", value);
                if (!value && this.options.active === false) {
                    this._activate(0);
                }
            }
            if (key === "event") {
                this._setupEvents(value);
            }
            if (key === "heightStyle") {
                this._setupHeightStyle(value);
            }
        },
        _sanitizeSelector: function(hash) {
            return hash ? hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : "";
        },
        refresh: function() {
            var options = this.options
              , lis = this.tablist.children(":has(a[href])");
            options.disabled = $.map(lis.filter(".ui-state-disabled"), function(tab) {
                return lis.index(tab);
            });
            this._processTabs();
            if (options.active === false || !this.anchors.length) {
                options.active = false;
                this.active = $();
            } else if (this.active.length && !$.contains(this.tablist[0], this.active[0])) {
                if (this.tabs.length === options.disabled.length) {
                    options.active = false;
                    this.active = $();
                } else {
                    this._activate(this._findNextTab(Math.max(0, options.active - 1), false));
                }
            } else {
                options.active = this.tabs.index(this.active);
            }
            this._refresh();
        },
        _refresh: function() {
            this._setupDisabled(this.options.disabled);
            this._setupEvents(this.options.event);
            this._setupHeightStyle(this.options.heightStyle);
            this.tabs.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            });
            this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-hidden": "true"
            });
            if (!this.active.length) {
                this.tabs.eq(0).attr("tabIndex", 0);
            } else {
                this.active.addClass("ui-tabs-active ui-state-active").attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                });
                this._getPanelForTab(this.active).show().attr({
                    "aria-hidden": "false"
                });
            }
        },
        _processTabs: function() {
            var that = this;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist");
            this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            });
            this.anchors = this.tabs.map(function() {
                return $("a", this)[0];
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            });
            this.panels = $();
            this.anchors.each(function(i, anchor) {
                var selector, panel, panelId, anchorId = $(anchor).uniqueId().attr("id"), tab = $(anchor).closest("li"), originalAriaControls = tab.attr("aria-controls");
                if (that._isLocal(anchor)) {
                    selector = anchor.hash;
                    panelId = selector.substring(1);
                    panel = that.element.find(that._sanitizeSelector(selector));
                } else {
                    panelId = tab.attr("aria-controls") || $({}).uniqueId()[0].id;
                    selector = "#" + panelId;
                    panel = that.element.find(selector);
                    if (!panel.length) {
                        panel = that._createPanel(panelId);
                        panel.insertAfter(that.panels[i - 1] || that.tablist);
                    }
                    panel.attr("aria-live", "polite");
                }
                if (panel.length) {
                    that.panels = that.panels.add(panel);
                }
                if (originalAriaControls) {
                    tab.data("ui-tabs-aria-controls", originalAriaControls);
                }
                tab.attr({
                    "aria-controls": panelId,
                    "aria-labelledby": anchorId
                });
                panel.attr("aria-labelledby", anchorId);
            });
            this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel");
        },
        _getList: function() {
            return this.tablist || this.element.find("ol,ul").eq(0);
        },
        _createPanel: function(id) {
            return $("<div>").attr("id", id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", true);
        },
        _setupDisabled: function(disabled) {
            if ($.isArray(disabled)) {
                if (!disabled.length) {
                    disabled = false;
                } else if (disabled.length === this.anchors.length) {
                    disabled = true;
                }
            }
            for (var i = 0, li; (li = this.tabs[i]); i++) {
                if (disabled === true || $.inArray(i, disabled) !== -1) {
                    $(li).addClass("ui-state-disabled").attr("aria-disabled", "true");
                } else {
                    $(li).removeClass("ui-state-disabled").removeAttr("aria-disabled");
                }
            }
            this.options.disabled = disabled;
        },
        _setupEvents: function(event) {
            var events = {};
            if (event) {
                $.each(event.split(" "), function(index, eventName) {
                    events[eventName] = "_eventHandler";
                });
            }
            this._off(this.anchors.add(this.tabs).add(this.panels));
            this._on(true, this.anchors, {
                click: function(event) {
                    event.preventDefault();
                }
            });
            this._on(this.anchors, events);
            this._on(this.tabs, {
                keydown: "_tabKeydown"
            });
            this._on(this.panels, {
                keydown: "_panelKeydown"
            });
            this._focusable(this.tabs);
            this._hoverable(this.tabs);
        },
        _setupHeightStyle: function(heightStyle) {
            var maxHeight, parent = this.element.parent();
            if (heightStyle === "fill") {
                maxHeight = parent.height();
                maxHeight -= this.element.outerHeight() - this.element.height();
                this.element.siblings(":visible").each(function() {
                    var elem = $(this)
                      , position = elem.css("position");
                    if (position === "absolute" || position === "fixed") {
                        return;
                    }
                    maxHeight -= elem.outerHeight(true);
                });
                this.element.children().not(this.panels).each(function() {
                    maxHeight -= $(this).outerHeight(true);
                });
                this.panels.each(function() {
                    $(this).height(Math.max(0, maxHeight - $(this).innerHeight() + $(this).height()));
                }).css("overflow", "auto");
            } else if (heightStyle === "auto") {
                maxHeight = 0;
                this.panels.each(function() {
                    maxHeight = Math.max(maxHeight, $(this).height("").height());
                }).height(maxHeight);
            }
        },
        _eventHandler: function(event) {
            var options = this.options
              , active = this.active
              , anchor = $(event.currentTarget)
              , tab = anchor.closest("li")
              , clickedIsActive = tab[0] === active[0]
              , collapsing = clickedIsActive && options.collapsible
              , toShow = collapsing ? $() : this._getPanelForTab(tab)
              , toHide = !active.length ? $() : this._getPanelForTab(active)
              , eventData = {
                oldTab: active,
                oldPanel: toHide,
                newTab: collapsing ? $() : tab,
                newPanel: toShow
            };
            event.preventDefault();
            if (tab.hasClass("ui-state-disabled") || tab.hasClass("ui-tabs-loading") || this.running || (clickedIsActive && !options.collapsible) || (this._trigger("beforeActivate", event, eventData) === false)) {
                return;
            }
            options.active = collapsing ? false : this.tabs.index(tab);
            this.active = clickedIsActive ? $() : tab;
            if (this.xhr) {
                this.xhr.abort();
            }
            if (!toHide.length && !toShow.length) {
                $.error("jQuery UI Tabs: Mismatching fragment identifier.");
            }
            if (toShow.length) {
                this.load(this.tabs.index(tab), event);
            }
            this._toggle(event, eventData);
        },
        _toggle: function(event, eventData) {
            var that = this
              , toShow = eventData.newPanel
              , toHide = eventData.oldPanel;
            this.running = true;
            function complete() {
                that.running = false;
                that._trigger("activate", event, eventData);
            }
            function show() {
                eventData.newTab.closest("li").addClass("ui-tabs-active ui-state-active");
                if (toShow.length && that.options.show) {
                    that._show(toShow, that.options.show, complete);
                } else {
                    toShow.show();
                    complete();
                }
            }
            if (toHide.length && this.options.hide) {
                this._hide(toHide, this.options.hide, function() {
                    eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");
                    show();
                });
            } else {
                eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");
                toHide.hide();
                show();
            }
            toHide.attr("aria-hidden", "true");
            eventData.oldTab.attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            });
            if (toShow.length && toHide.length) {
                eventData.oldTab.attr("tabIndex", -1);
            } else if (toShow.length) {
                this.tabs.filter(function() {
                    return $(this).attr("tabIndex") === 0;
                }).attr("tabIndex", -1);
            }
            toShow.attr("aria-hidden", "false");
            eventData.newTab.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            });
        },
        _activate: function(index) {
            var anchor, active = this._findActive(index);
            if (active[0] === this.active[0]) {
                return;
            }
            if (!active.length) {
                active = this.active;
            }
            anchor = active.find(".ui-tabs-anchor")[0];
            this._eventHandler({
                target: anchor,
                currentTarget: anchor,
                preventDefault: $.noop
            });
        },
        _findActive: function(index) {
            return index === false ? $() : this.tabs.eq(index);
        },
        _getIndex: function(index) {
            if (typeof index === "string") {
                index = this.anchors.index(this.anchors.filter("[href$='" + index + "']"));
            }
            return index;
        },
        _destroy: function() {
            if (this.xhr) {
                this.xhr.abort();
            }
            this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");
            this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");
            this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
            this.tabs.add(this.panels).each(function() {
                if ($.data(this, "ui-tabs-destroy")) {
                    $(this).remove();
                } else {
                    $(this).removeClass("ui-state-default ui-state-active ui-state-disabled " + "ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role");
                }
            });
            this.tabs.each(function() {
                var li = $(this)
                  , prev = li.data("ui-tabs-aria-controls");
                if (prev) {
                    li.attr("aria-controls", prev).removeData("ui-tabs-aria-controls");
                } else {
                    li.removeAttr("aria-controls");
                }
            });
            this.panels.show();
            if (this.options.heightStyle !== "content") {
                this.panels.css("height", "");
            }
        },
        enable: function(index) {
            var disabled = this.options.disabled;
            if (disabled === false) {
                return;
            }
            if (index === undefined) {
                disabled = false;
            } else {
                index = this._getIndex(index);
                if ($.isArray(disabled)) {
                    disabled = $.map(disabled, function(num) {
                        return num !== index ? num : null;
                    });
                } else {
                    disabled = $.map(this.tabs, function(li, num) {
                        return num !== index ? num : null;
                    });
                }
            }
            this._setupDisabled(disabled);
        },
        disable: function(index) {
            var disabled = this.options.disabled;
            if (disabled === true) {
                return;
            }
            if (index === undefined) {
                disabled = true;
            } else {
                index = this._getIndex(index);
                if ($.inArray(index, disabled) !== -1) {
                    return;
                }
                if ($.isArray(disabled)) {
                    disabled = $.merge([index], disabled).sort();
                } else {
                    disabled = [index];
                }
            }
            this._setupDisabled(disabled);
        },
        load: function(index, event) {
            index = this._getIndex(index);
            var that = this
              , tab = this.tabs.eq(index)
              , anchor = tab.find(".ui-tabs-anchor")
              , panel = this._getPanelForTab(tab)
              , eventData = {
                tab: tab,
                panel: panel
            };
            if (this._isLocal(anchor[0])) {
                return;
            }
            this.xhr = $.ajax(this._ajaxSettings(anchor, event, eventData));
            if (this.xhr && this.xhr.statusText !== "canceled") {
                tab.addClass("ui-tabs-loading");
                panel.attr("aria-busy", "true");
                this.xhr.success(function(response) {
                    setTimeout(function() {
                        panel.html(response);
                        that._trigger("load", event, eventData);
                    }, 1);
                }).complete(function(jqXHR, status) {
                    setTimeout(function() {
                        if (status === "abort") {
                            that.panels.stop(false, true);
                        }
                        tab.removeClass("ui-tabs-loading");
                        panel.removeAttr("aria-busy");
                        if (jqXHR === that.xhr) {
                            delete that.xhr;
                        }
                    }, 1);
                });
            }
        },
        _ajaxSettings: function(anchor, event, eventData) {
            var that = this;
            return {
                url: anchor.attr("href"),
                beforeSend: function(jqXHR, settings) {
                    return that._trigger("beforeLoad", event, $.extend({
                        jqXHR: jqXHR,
                        ajaxSettings: settings
                    }, eventData));
                }
            };
        },
        _getPanelForTab: function(tab) {
            var id = $(tab).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + id));
        }
    });
    var tooltip = $.widget("ui.tooltip", {
        version: "1.11.0",
        options: {
            content: function() {
                var title = $(this).attr("title") || "";
                return $("<a>").text(title).html();
            },
            hide: true,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: true,
            tooltipClass: null,
            track: false,
            close: null,
            open: null
        },
        _addDescribedBy: function(elem, id) {
            var describedby = (elem.attr("aria-describedby") || "").split(/\s+/);
            describedby.push(id);
            elem.data("ui-tooltip-id", id).attr("aria-describedby", $.trim(describedby.join(" ")));
        },
        _removeDescribedBy: function(elem) {
            var id = elem.data("ui-tooltip-id")
              , describedby = (elem.attr("aria-describedby") || "").split(/\s+/)
              , index = $.inArray(id, describedby);
            if (index !== -1) {
                describedby.splice(index, 1);
            }
            elem.removeData("ui-tooltip-id");
            describedby = $.trim(describedby.join(" "));
            if (describedby) {
                elem.attr("aria-describedby", describedby);
            } else {
                elem.removeAttr("aria-describedby");
            }
        },
        _create: function() {
            this._on({
                mouseover: "open",
                focusin: "open"
            });
            this.tooltips = {};
            this.parents = {};
            if (this.options.disabled) {
                this._disable();
            }
            this.liveRegion = $("<div>").attr({
                role: "log",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);
        },
        _setOption: function(key, value) {
            var that = this;
            if (key === "disabled") {
                this[value ? "_disable" : "_enable"]();
                this.options[key] = value;
                return;
            }
            this._super(key, value);
            if (key === "content") {
                $.each(this.tooltips, function(id, element) {
                    that._updateContent(element);
                });
            }
        },
        _disable: function() {
            var that = this;
            $.each(this.tooltips, function(id, element) {
                var event = $.Event("blur");
                event.target = event.currentTarget = element[0];
                that.close(event, true);
            });
            this.element.find(this.options.items).addBack().each(function() {
                var element = $(this);
                if (element.is("[title]")) {
                    element.data("ui-tooltip-title", element.attr("title")).removeAttr("title");
                }
            });
        },
        _enable: function() {
            this.element.find(this.options.items).addBack().each(function() {
                var element = $(this);
                if (element.data("ui-tooltip-title")) {
                    element.attr("title", element.data("ui-tooltip-title"));
                }
            });
        },
        open: function(event) {
            var that = this
              , target = $(event ? event.target : this.element).closest(this.options.items);
            if (!target.length || target.data("ui-tooltip-id")) {
                return;
            }
            if (target.attr("title")) {
                target.data("ui-tooltip-title", target.attr("title"));
            }
            target.data("ui-tooltip-open", true);
            if (event && event.type === "mouseover") {
                target.parents().each(function() {
                    var parent = $(this), blurEvent;
                    if (parent.data("ui-tooltip-open")) {
                        blurEvent = $.Event("blur");
                        blurEvent.target = blurEvent.currentTarget = this;
                        that.close(blurEvent, true);
                    }
                    if (parent.attr("title")) {
                        parent.uniqueId();
                        that.parents[this.id] = {
                            element: this,
                            title: parent.attr("title")
                        };
                        parent.attr("title", "");
                    }
                });
            }
            this._updateContent(target, event);
        },
        _updateContent: function(target, event) {
            var content, contentOption = this.options.content, that = this, eventType = event ? event.type : null;
            if (typeof contentOption === "string") {
                return this._open(event, target, contentOption);
            }
            content = contentOption.call(target[0], function(response) {
                if (!target.data("ui-tooltip-open")) {
                    return;
                }
                that._delay(function() {
                    if (event) {
                        event.type = eventType;
                    }
                    this._open(event, target, response);
                });
            });
            if (content) {
                this._open(event, target, content);
            }
        },
        _open: function(event, target, content) {
            var tooltip, events, delayedShow, a11yContent, positionOption = $.extend({}, this.options.position);
            if (!content) {
                return;
            }
            tooltip = this._find(target);
            if (tooltip.length) {
                tooltip.find(".ui-tooltip-content").html(content);
                return;
            }
            if (target.is("[title]")) {
                if (event && event.type === "mouseover") {
                    target.attr("title", "");
                } else {
                    target.removeAttr("title");
                }
            }
            tooltip = this._tooltip(target);
            this._addDescribedBy(target, tooltip.attr("id"));
            tooltip.find(".ui-tooltip-content").html(content);
            this.liveRegion.children().hide();
            if (content.clone) {
                a11yContent = content.clone();
                a11yContent.removeAttr("id").find("[id]").removeAttr("id");
            } else {
                a11yContent = content;
            }
            $("<div>").html(a11yContent).appendTo(this.liveRegion);
            function position(event) {
                positionOption.of = event;
                if (tooltip.is(":hidden")) {
                    return;
                }
                tooltip.position(positionOption);
            }
            if (this.options.track && event && /^mouse/.test(event.type)) {
                this._on(this.document, {
                    mousemove: position
                });
                position(event);
            } else {
                tooltip.position($.extend({
                    of: target
                }, this.options.position));
            }
            tooltip.hide();
            this._show(tooltip, this.options.show);
            if (this.options.show && this.options.show.delay) {
                delayedShow = this.delayedShow = setInterval(function() {
                    if (tooltip.is(":visible")) {
                        position(positionOption.of);
                        clearInterval(delayedShow);
                    }
                }, $.fx.interval);
            }
            this._trigger("open", event, {
                tooltip: tooltip
            });
            events = {
                keyup: function(event) {
                    if (event.keyCode === $.ui.keyCode.ESCAPE) {
                        var fakeEvent = $.Event(event);
                        fakeEvent.currentTarget = target[0];
                        this.close(fakeEvent, true);
                    }
                }
            };
            if (target[0] !== this.element[0]) {
                events.remove = function() {
                    this._removeTooltip(tooltip);
                }
                ;
            }
            if (!event || event.type === "mouseover") {
                events.mouseleave = "close";
            }
            if (!event || event.type === "focusin") {
                events.focusout = "close";
            }
            this._on(true, target, events);
        },
        close: function(event) {
            var that = this
              , target = $(event ? event.currentTarget : this.element)
              , tooltip = this._find(target);
            if (this.closing) {
                return;
            }
            clearInterval(this.delayedShow);
            if (target.data("ui-tooltip-title") && !target.attr("title")) {
                target.attr("title", target.data("ui-tooltip-title"));
            }
            this._removeDescribedBy(target);
            tooltip.stop(true);
            this._hide(tooltip, this.options.hide, function() {
                that._removeTooltip($(this));
            });
            target.removeData("ui-tooltip-open");
            this._off(target, "mouseleave focusout keyup");
            if (target[0] !== this.element[0]) {
                this._off(target, "remove");
            }
            this._off(this.document, "mousemove");
            if (event && event.type === "mouseleave") {
                $.each(this.parents, function(id, parent) {
                    $(parent.element).attr("title", parent.title);
                    delete that.parents[id];
                });
            }
            this.closing = true;
            this._trigger("close", event, {
                tooltip: tooltip
            });
            this.closing = false;
        },
        _tooltip: function(element) {
            var tooltip = $("<div>").attr("role", "tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""))
              , id = tooltip.uniqueId().attr("id");
            $("<div>").addClass("ui-tooltip-content").appendTo(tooltip);
            tooltip.appendTo(this.document[0].body);
            this.tooltips[id] = element;
            return tooltip;
        },
        _find: function(target) {
            var id = target.data("ui-tooltip-id");
            return id ? $("#" + id) : $();
        },
        _removeTooltip: function(tooltip) {
            tooltip.remove();
            delete this.tooltips[tooltip.attr("id")];
        },
        _destroy: function() {
            var that = this;
            $.each(this.tooltips, function(id, element) {
                var event = $.Event("blur");
                event.target = event.currentTarget = element[0];
                that.close(event, true);
                $("#" + id).remove();
                if (element.data("ui-tooltip-title")) {
                    if (!element.attr("title")) {
                        element.attr("title", element.data("ui-tooltip-title"));
                    }
                    element.removeData("ui-tooltip-title");
                }
            });
            this.liveRegion.remove();
        }
    });
}));
(function(factory) {
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else if (typeof exports === 'object') {
        factory(require('jquery'));
    } else {
        factory(jQuery);
    }
}(function($) {
    var pluses = /\+/g;
    function encode(s) {
        return config.raw ? s : encodeURIComponent(s);
    }
    function decode(s) {
        return config.raw ? s : decodeURIComponent(s);
    }
    function stringifyCookieValue(value) {
        return encode(config.json ? JSON.stringify(value) : String(value));
    }
    function parseCookieValue(s) {
        if (s.indexOf('"') === 0) {
            s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
        }
        try {
            s = decodeURIComponent(s.replace(pluses, ' '));
            return config.json ? JSON.parse(s) : s;
        } catch (e) {}
    }
    function read(s, converter) {
        var value = config.raw ? s : parseCookieValue(s);
        return $.isFunction(converter) ? converter(value) : value;
    }
    var config = $.cookie = function(key, value, options) {
        if (value !== undefined && !$.isFunction(value)) {
            options = $.extend({}, config.defaults, options);
            if (typeof options.expires === 'number') {
                var days = options.expires
                  , t = options.expires = new Date();
                t.setTime(+t + days * 864e+5);
            }
            return (document.cookie = [encode(key), '=', stringifyCookieValue(value), options.expires ? '; expires=' + options.expires.toUTCString() : '', options.path ? '; path=' + options.path : '', options.domain ? '; domain=' + options.domain : '', options.secure ? '; secure' : ''].join(''));
        }
        var result = key ? undefined : {};
        var cookies = document.cookie ? document.cookie.split('; ') : [];
        for (var i = 0, l = cookies.length; i < l; i++) {
            var parts = cookies[i].split('=');
            var name = decode(parts.shift());
            var cookie = parts.join('=');
            if (key && key === name) {
                result = read(cookie, value);
                break;
            }
            if (!key && (cookie = read(cookie)) !== undefined) {
                result[name] = cookie;
            }
        }
        return result;
    }
    ;
    config.defaults = {};
    $.removeCookie = function(key, options) {
        if ($.cookie(key) === undefined) {
            return false;
        }
        $.cookie(key, '', $.extend({}, options, {
            expires: -1
        }));
        return !$.cookie(key);
    }
    ;
}));
(function(Da, P, l) {
    var O = function(h) {
        function V(a) {
            var b, c, d = {};
            h.each(a, function(e) {
                if ((b = e.match(/^([^A-Z]+?)([A-Z])/)) && -1 !== "a aa ai ao as b fn i m o s ".indexOf(b[1] + " "))
                    c = e.replace(b[0], b[2].toLowerCase()),
                    d[c] = e,
                    "o" === b[1] && V(a[e])
            });
            a._hungarianMap = d
        }
        function G(a, b, c) {
            a._hungarianMap || V(a);
            var d;
            h.each(b, function(e) {
                d = a._hungarianMap[e];
                if (d !== l && (c || b[d] === l))
                    "o" === d.charAt(0) ? (b[d] || (b[d] = {}),
                    h.extend(!0, b[d], b[e]),
                    G(a[d], b[d], c)) : b[d] = b[e]
            })
        }
        function O(a) {
            var b = p.defaults.oLanguage
              , c = a.sZeroRecords;
            !a.sEmptyTable && (c && "No data available in table" === b.sEmptyTable) && D(a, a, "sZeroRecords", "sEmptyTable");
            !a.sLoadingRecords && (c && "Loading..." === b.sLoadingRecords) && D(a, a, "sZeroRecords", "sLoadingRecords");
            a.sInfoThousands && (a.sThousands = a.sInfoThousands);
            (a = a.sDecimal) && db(a)
        }
        function eb(a) {
            z(a, "ordering", "bSort");
            z(a, "orderMulti", "bSortMulti");
            z(a, "orderClasses", "bSortClasses");
            z(a, "orderCellsTop", "bSortCellsTop");
            z(a, "order", "aaSorting");
            z(a, "orderFixed", "aaSortingFixed");
            z(a, "paging", "bPaginate");
            z(a, "pagingType", "sPaginationType");
            z(a, "pageLength", "iDisplayLength");
            z(a, "searching", "bFilter");
            if (a = a.aoSearchCols)
                for (var b = 0, c = a.length; b < c; b++)
                    a[b] && G(p.models.oSearch, a[b])
        }
        function fb(a) {
            z(a, "orderable", "bSortable");
            z(a, "orderData", "aDataSort");
            z(a, "orderSequence", "asSorting");
            z(a, "orderDataType", "sortDataType")
        }
        function gb(a) {
            var a = a.oBrowser
              , b = h("<div/>").css({
                position: "absolute",
                top: 0,
                left: 0,
                height: 1,
                width: 1,
                overflow: "hidden"
            }).append(h("<div/>").css({
                position: "absolute",
                top: 1,
                left: 1,
                width: 100,
                overflow: "scroll"
            }).append(h('<div class="test"/>').css({
                width: "100%",
                height: 10
            }))).appendTo("body")
              , c = b.find(".test");
            a.bScrollOversize = 100 === c[0].offsetWidth;
            a.bScrollbarLeft = 1 !== c.offset().left;
            b.remove()
        }
        function hb(a, b, c, d, e, f) {
            var g, i = !1;
            c !== l && (g = c,
            i = !0);
            for (; d !== e; )
                a.hasOwnProperty(d) && (g = i ? b(g, a[d], d, a) : a[d],
                i = !0,
                d += f);
            return g
        }
        function Ea(a, b) {
            var c = p.defaults.column
              , d = a.aoColumns.length
              , c = h.extend({}, p.models.oColumn, c, {
                nTh: b ? b : P.createElement("th"),
                sTitle: c.sTitle ? c.sTitle : b ? b.innerHTML : "",
                aDataSort: c.aDataSort ? c.aDataSort : [d],
                mData: c.mData ? c.mData : d,
                idx: d
            });
            a.aoColumns.push(c);
            c = a.aoPreSearchCols;
            c[d] = h.extend({}, p.models.oSearch, c[d]);
            ia(a, d, null)
        }
        function ia(a, b, c) {
            var b = a.aoColumns[b]
              , d = a.oClasses
              , e = h(b.nTh);
            if (!b.sWidthOrig) {
                b.sWidthOrig = e.attr("width") || null;
                var f = (e.attr("style") || "").match(/width:\s*(\d+[pxem%]+)/);
                f && (b.sWidthOrig = f[1])
            }
            c !== l && null !== c && (fb(c),
            G(p.defaults.column, c),
            c.mDataProp !== l && !c.mData && (c.mData = c.mDataProp),
            c.sType && (b._sManualType = c.sType),
            c.className && !c.sClass && (c.sClass = c.className),
            h.extend(b, c),
            D(b, c, "sWidth", "sWidthOrig"),
            "number" === typeof c.iDataSort && (b.aDataSort = [c.iDataSort]),
            D(b, c, "aDataSort"));
            var g = b.mData
              , i = W(g)
              , j = b.mRender ? W(b.mRender) : null
              , c = function(a) {
                return "string" === typeof a && -1 !== a.indexOf("@")
            };
            b._bAttrSrc = h.isPlainObject(g) && (c(g.sort) || c(g.type) || c(g.filter));
            b.fnGetData = function(a, b, c) {
                var d = i(a, b, l, c);
                return j && b ? j(d, b, a, c) : d
            }
            ;
            b.fnSetData = function(a, b, c) {
                return Q(g)(a, b, c)
            }
            ;
            "number" !== typeof g && (a._rowReadObject = !0);
            a.oFeatures.bSort || (b.bSortable = !1,
            e.addClass(d.sSortableNone));
            a = -1 !== h.inArray("asc", b.asSorting);
            c = -1 !== h.inArray("desc", b.asSorting);
            !b.bSortable || !a && !c ? (b.sSortingClass = d.sSortableNone,
            b.sSortingClassJUI = "") : a && !c ? (b.sSortingClass = d.sSortableAsc,
            b.sSortingClassJUI = d.sSortJUIAscAllowed) : !a && c ? (b.sSortingClass = d.sSortableDesc,
            b.sSortingClassJUI = d.sSortJUIDescAllowed) : (b.sSortingClass = d.sSortable,
            b.sSortingClassJUI = d.sSortJUI)
        }
        function X(a) {
            if (!1 !== a.oFeatures.bAutoWidth) {
                var b = a.aoColumns;
                Fa(a);
                for (var c = 0, d = b.length; c < d; c++)
                    b[c].nTh.style.width = b[c].sWidth
            }
            b = a.oScroll;
            ("" !== b.sY || "" !== b.sX) && Y(a);
            u(a, null, "column-sizing", [a])
        }
        function ja(a, b) {
            var c = Z(a, "bVisible");
            return "number" === typeof c[b] ? c[b] : null
        }
        function $(a, b) {
            var c = Z(a, "bVisible")
              , c = h.inArray(b, c);
            return -1 !== c ? c : null
        }
        function aa(a) {
            return Z(a, "bVisible").length
        }
        function Z(a, b) {
            var c = [];
            h.map(a.aoColumns, function(a, e) {
                a[b] && c.push(e)
            });
            return c
        }
        function Ga(a) {
            var b = a.aoColumns, c = a.aoData, d = p.ext.type.detect, e, f, g, i, j, h, m, o, k;
            e = 0;
            for (f = b.length; e < f; e++)
                if (m = b[e],
                k = [],
                !m.sType && m._sManualType)
                    m.sType = m._sManualType;
                else if (!m.sType) {
                    g = 0;
                    for (i = d.length; g < i; g++) {
                        j = 0;
                        for (h = c.length; j < h && !(k[j] === l && (k[j] = w(a, j, e, "type")),
                        o = d[g](k[j], a),
                        !o || "html" === o); j++)
                            ;
                        if (o) {
                            m.sType = o;
                            break
                        }
                    }
                    m.sType || (m.sType = "string")
                }
        }
        function ib(a, b, c, d) {
            var e, f, g, i, j, n, m = a.aoColumns;
            if (b)
                for (e = b.length - 1; 0 <= e; e--) {
                    n = b[e];
                    var o = n.targets !== l ? n.targets : n.aTargets;
                    h.isArray(o) || (o = [o]);
                    f = 0;
                    for (g = o.length; f < g; f++)
                        if ("number" === typeof o[f] && 0 <= o[f]) {
                            for (; m.length <= o[f]; )
                                Ea(a);
                            d(o[f], n)
                        } else if ("number" === typeof o[f] && 0 > o[f])
                            d(m.length + o[f], n);
                        else if ("string" === typeof o[f]) {
                            i = 0;
                            for (j = m.length; i < j; i++)
                                ("_all" == o[f] || h(m[i].nTh).hasClass(o[f])) && d(i, n)
                        }
                }
            if (c) {
                e = 0;
                for (a = c.length; e < a; e++)
                    d(e, c[e])
            }
        }
        function I(a, b, c, d) {
            var e = a.aoData.length
              , f = h.extend(!0, {}, p.models.oRow, {
                src: c ? "dom" : "data"
            });
            f._aData = b;
            a.aoData.push(f);
            for (var b = a.aoColumns, f = 0, g = b.length; f < g; f++)
                c && Ha(a, e, f, w(a, e, f)),
                b[f].sType = null;
            a.aiDisplayMaster.push(e);
            (c || !a.oFeatures.bDeferRender) && Ia(a, e, c, d);
            return e
        }
        function ka(a, b) {
            var c;
            b instanceof h || (b = h(b));
            return b.map(function(b, e) {
                c = la(a, e);
                return I(a, c.data, e, c.cells)
            })
        }
        function w(a, b, c, d) {
            var e = a.iDraw
              , f = a.aoColumns[c]
              , g = a.aoData[b]._aData
              , i = f.sDefaultContent
              , c = f.fnGetData(g, d, {
                settings: a,
                row: b,
                col: c
            });
            if (c === l)
                return a.iDrawError != e && null === i && (R(a, 0, "Requested unknown parameter " + ("function" == typeof f.mData ? "{function}" : "'" + f.mData + "'") + " for row " + b, 4),
                a.iDrawError = e),
                i;
            if ((c === g || null === c) && null !== i)
                c = i;
            else if ("function" === typeof c)
                return c.call(g);
            return null === c && "display" == d ? "" : c
        }
        function Ha(a, b, c, d) {
            a.aoColumns[c].fnSetData(a.aoData[b]._aData, d, {
                settings: a,
                row: b,
                col: c
            })
        }
        function Ja(a) {
            return h.map(a.match(/(\\.|[^\.])+/g), function(a) {
                return a.replace(/\\./g, ".")
            })
        }
        function W(a) {
            if (h.isPlainObject(a)) {
                var b = {};
                h.each(a, function(a, c) {
                    c && (b[a] = W(c))
                });
                return function(a, c, f, g) {
                    var i = b[c] || b._;
                    return i !== l ? i(a, c, f, g) : a
                }
            }
            if (null === a)
                return function(a) {
                    return a
                }
                ;
            if ("function" === typeof a)
                return function(b, c, f, g) {
                    return a(b, c, f, g)
                }
                ;
            if ("string" === typeof a && (-1 !== a.indexOf(".") || -1 !== a.indexOf("[") || -1 !== a.indexOf("("))) {
                var c = function(a, b, f) {
                    var g, i;
                    if ("" !== f) {
                        i = Ja(f);
                        for (var j = 0, h = i.length; j < h; j++) {
                            f = i[j].match(ba);
                            g = i[j].match(S);
                            if (f) {
                                i[j] = i[j].replace(ba, "");
                                "" !== i[j] && (a = a[i[j]]);
                                g = [];
                                i.splice(0, j + 1);
                                i = i.join(".");
                                j = 0;
                                for (h = a.length; j < h; j++)
                                    g.push(c(a[j], b, i));
                                a = f[0].substring(1, f[0].length - 1);
                                a = "" === a ? g : g.join(a);
                                break
                            } else if (g) {
                                i[j] = i[j].replace(S, "");
                                a = a[i[j]]();
                                continue
                            }
                            if (null === a || a[i[j]] === l)
                                return l;
                            a = a[i[j]]
                        }
                    }
                    return a
                };
                return function(b, e) {
                    return c(b, e, a)
                }
            }
            return function(b) {
                return b[a]
            }
        }
        function Q(a) {
            if (h.isPlainObject(a))
                return Q(a._);
            if (null === a)
                return function() {}
                ;
            if ("function" === typeof a)
                return function(b, d, e) {
                    a(b, "set", d, e)
                }
                ;
            if ("string" === typeof a && (-1 !== a.indexOf(".") || -1 !== a.indexOf("[") || -1 !== a.indexOf("("))) {
                var b = function(a, d, e) {
                    var e = Ja(e), f;
                    f = e[e.length - 1];
                    for (var g, i, j = 0, h = e.length - 1; j < h; j++) {
                        g = e[j].match(ba);
                        i = e[j].match(S);
                        if (g) {
                            e[j] = e[j].replace(ba, "");
                            a[e[j]] = [];
                            f = e.slice();
                            f.splice(0, j + 1);
                            g = f.join(".");
                            i = 0;
                            for (h = d.length; i < h; i++)
                                f = {},
                                b(f, d[i], g),
                                a[e[j]].push(f);
                            return
                        }
                        i && (e[j] = e[j].replace(S, ""),
                        a = a[e[j]](d));
                        if (null === a[e[j]] || a[e[j]] === l)
                            a[e[j]] = {};
                        a = a[e[j]]
                    }
                    if (f.match(S))
                        a[f.replace(S, "")](d);
                    else
                        a[f.replace(ba, "")] = d
                };
                return function(c, d) {
                    return b(c, d, a)
                }
            }
            return function(b, d) {
                b[a] = d
            }
        }
        function Ka(a) {
            return C(a.aoData, "_aData")
        }
        function ma(a) {
            a.aoData.length = 0;
            a.aiDisplayMaster.length = 0;
            a.aiDisplay.length = 0
        }
        function na(a, b, c) {
            for (var d = -1, e = 0, f = a.length; e < f; e++)
                a[e] == b ? d = e : a[e] > b && a[e]--;
            -1 != d && c === l && a.splice(d, 1)
        }
        function oa(a, b, c, d) {
            var e = a.aoData[b], f;
            if ("dom" === c || (!c || "auto" === c) && "dom" === e.src)
                e._aData = la(a, e).data;
            else {
                var g = e.anCells, i;
                if (g) {
                    c = 0;
                    for (f = g.length; c < f; c++) {
                        for (i = g[c]; i.childNodes.length; )
                            i.removeChild(i.firstChild);
                        g[c].innerHTML = w(a, b, c, "display")
                    }
                }
            }
            e._aSortData = null;
            e._aFilterData = null;
            a = a.aoColumns;
            if (d !== l)
                a[d].sType = null;
            else {
                c = 0;
                for (f = a.length; c < f; c++)
                    a[c].sType = null
            }
            La(e)
        }
        function la(a, b) {
            var c = [], d = b.firstChild, e, f, g = 0, i, j = a.aoColumns, n = a._rowReadObject, m = n ? {} : [], o = function(a, b) {
                if ("string" === typeof a) {
                    var c = a.indexOf("@");
                    -1 !== c && (c = a.substring(c + 1),
                    Q(a)(m, b.getAttribute(c)))
                }
            }, k = function(a) {
                f = j[g];
                i = h.trim(a.innerHTML);
                f && f._bAttrSrc ? (Q(f.mData._)(m, i),
                o(f.mData.sort, a),
                o(f.mData.type, a),
                o(f.mData.filter, a)) : n ? (f._setter || (f._setter = Q(f.mData)),
                f._setter(m, i)) : m.push(i);
                g++
            };
            if (d)
                for (; d; ) {
                    e = d.nodeName.toUpperCase();
                    if ("TD" == e || "TH" == e)
                        k(d),
                        c.push(d);
                    d = d.nextSibling
                }
            else {
                c = b.anCells;
                d = 0;
                for (e = c.length; d < e; d++)
                    k(c[d])
            }
            return {
                data: m,
                cells: c
            }
        }
        function Ia(a, b, c, d) {
            var e = a.aoData[b], f = e._aData, g = [], i, j, h, m, o;
            if (null === e.nTr) {
                i = c || P.createElement("tr");
                e.nTr = i;
                e.anCells = g;
                i._DT_RowIndex = b;
                La(e);
                m = 0;
                for (o = a.aoColumns.length; m < o; m++) {
                    h = a.aoColumns[m];
                    j = c ? d[m] : P.createElement(h.sCellType);
                    g.push(j);
                    if (!c || h.mRender || h.mData !== m)
                        j.innerHTML = w(a, b, m, "display");
                    h.sClass && (j.className += " " + h.sClass);
                    h.bVisible && !c ? i.appendChild(j) : !h.bVisible && c && j.parentNode.removeChild(j);
                    h.fnCreatedCell && h.fnCreatedCell.call(a.oInstance, j, w(a, b, m), f, b, m)
                }
                u(a, "aoRowCreatedCallback", null, [i, f, b])
            }
            e.nTr.setAttribute("role", "row")
        }
        function La(a) {
            var b = a.nTr
              , c = a._aData;
            if (b) {
                c.DT_RowId && (b.id = c.DT_RowId);
                if (c.DT_RowClass) {
                    var d = c.DT_RowClass.split(" ");
                    a.__rowc = a.__rowc ? Ma(a.__rowc.concat(d)) : d;
                    h(b).removeClass(a.__rowc.join(" ")).addClass(c.DT_RowClass)
                }
                c.DT_RowData && h(b).data(c.DT_RowData)
            }
        }
        function jb(a) {
            var b, c, d, e, f, g = a.nTHead, i = a.nTFoot, j = 0 === h("th, td", g).length, n = a.oClasses, m = a.aoColumns;
            j && (e = h("<tr/>").appendTo(g));
            b = 0;
            for (c = m.length; b < c; b++)
                f = m[b],
                d = h(f.nTh).addClass(f.sClass),
                j && d.appendTo(e),
                a.oFeatures.bSort && (d.addClass(f.sSortingClass),
                !1 !== f.bSortable && (d.attr("tabindex", a.iTabIndex).attr("aria-controls", a.sTableId),
                Na(a, f.nTh, b))),
                f.sTitle != d.html() && d.html(f.sTitle),
                Oa(a, "header")(a, d, f, n);
            j && ca(a.aoHeader, g);
            h(g).find(">tr").attr("role", "row");
            h(g).find(">tr>th, >tr>td").addClass(n.sHeaderTH);
            h(i).find(">tr>th, >tr>td").addClass(n.sFooterTH);
            if (null !== i) {
                a = a.aoFooter[0];
                b = 0;
                for (c = a.length; b < c; b++)
                    f = m[b],
                    f.nTf = a[b].cell,
                    f.sClass && h(f.nTf).addClass(f.sClass)
            }
        }
        function da(a, b, c) {
            var d, e, f, g = [], i = [], j = a.aoColumns.length, n;
            if (b) {
                c === l && (c = !1);
                d = 0;
                for (e = b.length; d < e; d++) {
                    g[d] = b[d].slice();
                    g[d].nTr = b[d].nTr;
                    for (f = j - 1; 0 <= f; f--)
                        !a.aoColumns[f].bVisible && !c && g[d].splice(f, 1);
                    i.push([])
                }
                d = 0;
                for (e = g.length; d < e; d++) {
                    if (a = g[d].nTr)
                        for (; f = a.firstChild; )
                            a.removeChild(f);
                    f = 0;
                    for (b = g[d].length; f < b; f++)
                        if (n = j = 1,
                        i[d][f] === l) {
                            a.appendChild(g[d][f].cell);
                            for (i[d][f] = 1; g[d + j] !== l && g[d][f].cell == g[d + j][f].cell; )
                                i[d + j][f] = 1,
                                j++;
                            for (; g[d][f + n] !== l && g[d][f].cell == g[d][f + n].cell; ) {
                                for (c = 0; c < j; c++)
                                    i[d + c][f + n] = 1;
                                n++
                            }
                            h(g[d][f].cell).attr("rowspan", j).attr("colspan", n)
                        }
                }
            }
        }
        function L(a) {
            var b = u(a, "aoPreDrawCallback", "preDraw", [a]);
            if (-1 !== h.inArray(!1, b))
                B(a, !1);
            else {
                var b = []
                  , c = 0
                  , d = a.asStripeClasses
                  , e = d.length
                  , f = a.oLanguage
                  , g = a.iInitDisplayStart
                  , i = "ssp" == A(a)
                  , j = a.aiDisplay;
                a.bDrawing = !0;
                g !== l && -1 !== g && (a._iDisplayStart = i ? g : g >= a.fnRecordsDisplay() ? 0 : g,
                a.iInitDisplayStart = -1);
                var g = a._iDisplayStart
                  , n = a.fnDisplayEnd();
                if (a.bDeferLoading)
                    a.bDeferLoading = !1,
                    a.iDraw++,
                    B(a, !1);
                else if (i) {
                    if (!a.bDestroying && !kb(a))
                        return
                } else
                    a.iDraw++;
                if (0 !== j.length) {
                    f = i ? a.aoData.length : n;
                    for (i = i ? 0 : g; i < f; i++) {
                        var m = j[i]
                          , o = a.aoData[m];
                        null === o.nTr && Ia(a, m);
                        m = o.nTr;
                        if (0 !== e) {
                            var k = d[c % e];
                            o._sRowStripe != k && (h(m).removeClass(o._sRowStripe).addClass(k),
                            o._sRowStripe = k)
                        }
                        u(a, "aoRowCallback", null, [m, o._aData, c, i]);
                        b.push(m);
                        c++
                    }
                } else
                    c = f.sZeroRecords,
                    1 == a.iDraw && "ajax" == A(a) ? c = f.sLoadingRecords : f.sEmptyTable && 0 === a.fnRecordsTotal() && (c = f.sEmptyTable),
                    b[0] = h("<tr/>", {
                        "class": e ? d[0] : ""
                    }).append(h("<td />", {
                        valign: "top",
                        colSpan: aa(a),
                        "class": a.oClasses.sRowEmpty
                    }).html(c))[0];
                u(a, "aoHeaderCallback", "header", [h(a.nTHead).children("tr")[0], Ka(a), g, n, j]);
                u(a, "aoFooterCallback", "footer", [h(a.nTFoot).children("tr")[0], Ka(a), g, n, j]);
                d = h(a.nTBody);
                d.children().detach();
                d.append(h(b));
                u(a, "aoDrawCallback", "draw", [a]);
                a.bSorted = !1;
                a.bFiltered = !1;
                a.bDrawing = !1
            }
        }
        function M(a, b) {
            var c = a.oFeatures
              , d = c.bFilter;
            c.bSort && lb(a);
            d ? ea(a, a.oPreviousSearch) : a.aiDisplay = a.aiDisplayMaster.slice();
            !0 !== b && (a._iDisplayStart = 0);
            a._drawHold = b;
            L(a);
            a._drawHold = !1
        }
        function mb(a) {
            var b = a.oClasses
              , c = h(a.nTable)
              , c = h("<div/>").insertBefore(c)
              , d = a.oFeatures
              , e = h("<div/>", {
                id: a.sTableId + "_wrapper",
                "class": b.sWrapper + (a.nTFoot ? "" : " " + b.sNoFooter)
            });
            a.nHolding = c[0];
            a.nTableWrapper = e[0];
            a.nTableReinsertBefore = a.nTable.nextSibling;
            for (var f = a.sDom.split(""), g, i, j, n, m, o, k = 0; k < f.length; k++) {
                g = null;
                i = f[k];
                if ("<" == i) {
                    j = h("<div/>")[0];
                    n = f[k + 1];
                    if ("'" == n || '"' == n) {
                        m = "";
                        for (o = 2; f[k + o] != n; )
                            m += f[k + o],
                            o++;
                        "H" == m ? m = b.sJUIHeader : "F" == m && (m = b.sJUIFooter);
                        -1 != m.indexOf(".") ? (n = m.split("."),
                        j.id = n[0].substr(1, n[0].length - 1),
                        j.className = n[1]) : "#" == m.charAt(0) ? j.id = m.substr(1, m.length - 1) : j.className = m;
                        k += o
                    }
                    e.append(j);
                    e = h(j)
                } else if (">" == i)
                    e = e.parent();
                else if ("l" == i && d.bPaginate && d.bLengthChange)
                    g = nb(a);
                else if ("f" == i && d.bFilter)
                    g = ob(a);
                else if ("r" == i && d.bProcessing)
                    g = pb(a);
                else if ("t" == i)
                    g = qb(a);
                else if ("i" == i && d.bInfo)
                    g = rb(a);
                else if ("p" == i && d.bPaginate)
                    g = sb(a);
                else if (0 !== p.ext.feature.length) {
                    j = p.ext.feature;
                    o = 0;
                    for (n = j.length; o < n; o++)
                        if (i == j[o].cFeature) {
                            g = j[o].fnInit(a);
                            break
                        }
                }
                g && (j = a.aanFeatures,
                j[i] || (j[i] = []),
                j[i].push(g),
                e.append(g))
            }
            c.replaceWith(e)
        }
        function ca(a, b) {
            var c = h(b).children("tr"), d, e, f, g, i, j, n, m, o, k;
            a.splice(0, a.length);
            f = 0;
            for (j = c.length; f < j; f++)
                a.push([]);
            f = 0;
            for (j = c.length; f < j; f++) {
                d = c[f];
                for (e = d.firstChild; e; ) {
                    if ("TD" == e.nodeName.toUpperCase() || "TH" == e.nodeName.toUpperCase()) {
                        m = 1 * e.getAttribute("colspan");
                        o = 1 * e.getAttribute("rowspan");
                        m = !m || 0 === m || 1 === m ? 1 : m;
                        o = !o || 0 === o || 1 === o ? 1 : o;
                        g = 0;
                        for (i = a[f]; i[g]; )
                            g++;
                        n = g;
                        k = 1 === m ? !0 : !1;
                        for (i = 0; i < m; i++)
                            for (g = 0; g < o; g++)
                                a[f + g][n + i] = {
                                    cell: e,
                                    unique: k
                                },
                                a[f + g].nTr = d
                    }
                    e = e.nextSibling
                }
            }
        }
        function pa(a, b, c) {
            var d = [];
            c || (c = a.aoHeader,
            b && (c = [],
            ca(c, b)));
            for (var b = 0, e = c.length; b < e; b++)
                for (var f = 0, g = c[b].length; f < g; f++)
                    if (c[b][f].unique && (!d[f] || !a.bSortCellsTop))
                        d[f] = c[b][f].cell;
            return d
        }
        function qa(a, b, c) {
            u(a, "aoServerParams", "serverParams", [b]);
            if (b && h.isArray(b)) {
                var d = {}
                  , e = /(.*?)\[\]$/;
                h.each(b, function(a, b) {
                    var c = b.name.match(e);
                    c ? (c = c[0],
                    d[c] || (d[c] = []),
                    d[c].push(b.value)) : d[b.name] = b.value
                });
                b = d
            }
            var f, g = a.ajax, i = a.oInstance;
            if (h.isPlainObject(g) && g.data) {
                f = g.data;
                var j = h.isFunction(f) ? f(b) : f
                  , b = h.isFunction(f) && j ? j : h.extend(!0, b, j);
                delete g.data
            }
            j = {
                data: b,
                success: function(b) {
                    var d = b.error || b.sError;
                    d && a.oApi._fnLog(a, 0, d);
                    a.json = b;
                    u(a, null, "xhr", [a, b]);
                    c(b)
                },
                dataType: "json",
                cache: !1,
                type: a.sServerMethod,
                error: function(b, c) {
                    var d = a.oApi._fnLog;
                    "parsererror" == c ? d(a, 0, "Invalid JSON response", 1) : 4 === b.readyState && d(a, 0, "Ajax error", 7);
                    B(a, !1)
                }
            };
            a.oAjaxData = b;
            u(a, null, "preXhr", [a, b]);
            a.fnServerData ? a.fnServerData.call(i, a.sAjaxSource, h.map(b, function(a, b) {
                return {
                    name: b,
                    value: a
                }
            }), c, a) : a.sAjaxSource || "string" === typeof g ? a.jqXHR = h.ajax(h.extend(j, {
                url: g || a.sAjaxSource
            })) : h.isFunction(g) ? a.jqXHR = g.call(i, b, c, a) : (a.jqXHR = h.ajax(h.extend(j, g)),
            g.data = f)
        }
        function kb(a) {
            return a.bAjaxDataGet ? (a.iDraw++,
            B(a, !0),
            qa(a, tb(a), function(b) {
                ub(a, b)
            }),
            !1) : !0
        }
        function tb(a) {
            var b = a.aoColumns, c = b.length, d = a.oFeatures, e = a.oPreviousSearch, f = a.aoPreSearchCols, g, i = [], j, n, m, o = T(a);
            g = a._iDisplayStart;
            j = !1 !== d.bPaginate ? a._iDisplayLength : -1;
            var k = function(a, b) {
                i.push({
                    name: a,
                    value: b
                })
            };
            k("sEcho", a.iDraw);
            k("iColumns", c);
            k("sColumns", C(b, "sName").join(","));
            k("iDisplayStart", g);
            k("iDisplayLength", j);
            var l = {
                draw: a.iDraw,
                columns: [],
                order: [],
                start: g,
                length: j,
                search: {
                    value: e.sSearch,
                    regex: e.bRegex
                }
            };
            for (g = 0; g < c; g++)
                n = b[g],
                m = f[g],
                j = "function" == typeof n.mData ? "function" : n.mData,
                l.columns.push({
                    data: j,
                    name: n.sName,
                    searchable: n.bSearchable,
                    orderable: n.bSortable,
                    search: {
                        value: m.sSearch,
                        regex: m.bRegex
                    }
                }),
                k("mDataProp_" + g, j),
                d.bFilter && (k("sSearch_" + g, m.sSearch),
                k("bRegex_" + g, m.bRegex),
                k("bSearchable_" + g, n.bSearchable)),
                d.bSort && k("bSortable_" + g, n.bSortable);
            d.bFilter && (k("sSearch", e.sSearch),
            k("bRegex", e.bRegex));
            d.bSort && (h.each(o, function(a, b) {
                l.order.push({
                    column: b.col,
                    dir: b.dir
                });
                k("iSortCol_" + a, b.col);
                k("sSortDir_" + a, b.dir)
            }),
            k("iSortingCols", o.length));
            b = p.ext.legacy.ajax;
            return null === b ? a.sAjaxSource ? i : l : b ? i : l
        }
        function ub(a, b) {
            var c = b.sEcho !== l ? b.sEcho : b.draw
              , d = b.iTotalRecords !== l ? b.iTotalRecords : b.recordsTotal
              , e = b.iTotalDisplayRecords !== l ? b.iTotalDisplayRecords : b.recordsFiltered;
            if (c) {
                if (1 * c < a.iDraw)
                    return;
                a.iDraw = 1 * c
            }
            ma(a);
            a._iRecordsTotal = parseInt(d, 10);
            a._iRecordsDisplay = parseInt(e, 10);
            c = ra(a, b);
            d = 0;
            for (e = c.length; d < e; d++)
                I(a, c[d]);
            a.aiDisplay = a.aiDisplayMaster.slice();
            a.bAjaxDataGet = !1;
            L(a);
            a._bInitComplete || sa(a, b);
            a.bAjaxDataGet = !0;
            B(a, !1)
        }
        function ra(a, b) {
            var c = h.isPlainObject(a.ajax) && a.ajax.dataSrc !== l ? a.ajax.dataSrc : a.sAjaxDataProp;
            return "data" === c ? b.aaData || b[c] : "" !== c ? W(c)(b) : b
        }
        function ob(a) {
            var b = a.oClasses
              , c = a.sTableId
              , d = a.oLanguage
              , e = a.oPreviousSearch
              , f = a.aanFeatures
              , g = '<input type="search" class="' + b.sFilterInput + '"/>'
              , i = d.sSearch
              , i = i.match(/_INPUT_/) ? i.replace("_INPUT_", g) : i + g
              , b = h("<div/>", {
                id: !f.f ? c + "_filter" : null,
                "class": b.sFilter
            }).append(h("<label/>").append(i))
              , f = function() {
                var b = !this.value ? "" : this.value;
                b != e.sSearch && (ea(a, {
                    sSearch: b,
                    bRegex: e.bRegex,
                    bSmart: e.bSmart,
                    bCaseInsensitive: e.bCaseInsensitive
                }),
                a._iDisplayStart = 0,
                L(a))
            }
              , g = null !== a.searchDelay ? a.searchDelay : "ssp" === A(a) ? 400 : 0
              , j = h("input", b).val(e.sSearch).attr("placeholder", d.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT", g ? ta(f, g) : f).bind("keypress.DT", function(a) {
                if (13 == a.keyCode)
                    return !1
            }).attr("aria-controls", c);
            h(a.nTable).on("search.dt.DT", function(b, c) {
                if (a === c)
                    try {
                        j[0] !== P.activeElement && j.val(e.sSearch)
                    } catch (d) {}
            });
            return b[0]
        }
        function ea(a, b, c) {
            var d = a.oPreviousSearch
              , e = a.aoPreSearchCols
              , f = function(a) {
                d.sSearch = a.sSearch;
                d.bRegex = a.bRegex;
                d.bSmart = a.bSmart;
                d.bCaseInsensitive = a.bCaseInsensitive
            };
            Ga(a);
            if ("ssp" != A(a)) {
                vb(a, b.sSearch, c, b.bEscapeRegex !== l ? !b.bEscapeRegex : b.bRegex, b.bSmart, b.bCaseInsensitive);
                f(b);
                for (b = 0; b < e.length; b++)
                    wb(a, e[b].sSearch, b, e[b].bEscapeRegex !== l ? !e[b].bEscapeRegex : e[b].bRegex, e[b].bSmart, e[b].bCaseInsensitive);
                xb(a)
            } else
                f(b);
            a.bFiltered = !0;
            u(a, null, "search", [a])
        }
        function xb(a) {
            for (var b = p.ext.search, c = a.aiDisplay, d, e, f = 0, g = b.length; f < g; f++) {
                for (var i = [], j = 0, h = c.length; j < h; j++)
                    e = c[j],
                    d = a.aoData[e],
                    b[f](a, d._aFilterData, e, d._aData, j) && i.push(e);
                c.length = 0;
                c.push.apply(c, i)
            }
        }
        function wb(a, b, c, d, e, f) {
            if ("" !== b)
                for (var g = a.aiDisplay, d = Pa(b, d, e, f), e = g.length - 1; 0 <= e; e--)
                    b = a.aoData[g[e]]._aFilterData[c],
                    d.test(b) || g.splice(e, 1)
        }
        function vb(a, b, c, d, e, f) {
            var d = Pa(b, d, e, f), e = a.oPreviousSearch.sSearch, f = a.aiDisplayMaster, g;
            0 !== p.ext.search.length && (c = !0);
            g = yb(a);
            if (0 >= b.length)
                a.aiDisplay = f.slice();
            else {
                if (g || c || e.length > b.length || 0 !== b.indexOf(e) || a.bSorted)
                    a.aiDisplay = f.slice();
                b = a.aiDisplay;
                for (c = b.length - 1; 0 <= c; c--)
                    d.test(a.aoData[b[c]]._sFilterRow) || b.splice(c, 1)
            }
        }
        function Pa(a, b, c, d) {
            a = b ? a : Qa(a);
            c && (a = "^(?=.*?" + h.map(a.match(/"[^"]+"|[^ ]+/g) || "", function(a) {
                if ('"' === a.charAt(0))
                    var b = a.match(/^"(.*)"$/)
                      , a = b ? b[1] : a;
                return a.replace('"', "")
            }).join(")(?=.*?") + ").*$");
            return RegExp(a, d ? "i" : "")
        }
        function Qa(a) {
            return a.replace(Xb, "\\$1")
        }
        function yb(a) {
            var b = a.aoColumns, c, d, e, f, g, i, j, h, m = p.ext.type.search;
            c = !1;
            d = 0;
            for (f = a.aoData.length; d < f; d++)
                if (h = a.aoData[d],
                !h._aFilterData) {
                    i = [];
                    e = 0;
                    for (g = b.length; e < g; e++)
                        c = b[e],
                        c.bSearchable ? (j = w(a, d, e, "filter"),
                        m[c.sType] && (j = m[c.sType](j)),
                        null === j && (j = ""),
                        "string" !== typeof j && j.toString && (j = j.toString())) : j = "",
                        j.indexOf && -1 !== j.indexOf("&") && (ua.innerHTML = j,
                        j = Yb ? ua.textContent : ua.innerText),
                        j.replace && (j = j.replace(/[\r\n]/g, "")),
                        i.push(j);
                    h._aFilterData = i;
                    h._sFilterRow = i.join("  ");
                    c = !0
                }
            return c
        }
        function zb(a) {
            return {
                search: a.sSearch,
                smart: a.bSmart,
                regex: a.bRegex,
                caseInsensitive: a.bCaseInsensitive
            }
        }
        function Ab(a) {
            return {
                sSearch: a.search,
                bSmart: a.smart,
                bRegex: a.regex,
                bCaseInsensitive: a.caseInsensitive
            }
        }
        function rb(a) {
            var b = a.sTableId
              , c = a.aanFeatures.i
              , d = h("<div/>", {
                "class": a.oClasses.sInfo,
                id: !c ? b + "_info" : null
            });
            c || (a.aoDrawCallback.push({
                fn: Bb,
                sName: "information"
            }),
            d.attr("role", "status").attr("aria-live", "polite"),
            h(a.nTable).attr("aria-describedby", b + "_info"));
            return d[0]
        }
        function Bb(a) {
            var b = a.aanFeatures.i;
            if (0 !== b.length) {
                var c = a.oLanguage
                  , d = a._iDisplayStart + 1
                  , e = a.fnDisplayEnd()
                  , f = a.fnRecordsTotal()
                  , g = a.fnRecordsDisplay()
                  , i = g ? c.sInfo : c.sInfoEmpty;
                g !== f && (i += " " + c.sInfoFiltered);
                i += c.sInfoPostFix;
                i = Cb(a, i);
                c = c.fnInfoCallback;
                null !== c && (i = c.call(a.oInstance, a, d, e, f, g, i));
                h(b).html(i)
            }
        }
        function Cb(a, b) {
            var c = a.fnFormatNumber
              , d = a._iDisplayStart + 1
              , e = a._iDisplayLength
              , f = a.fnRecordsDisplay()
              , g = -1 === e;
            return b.replace(/_START_/g, c.call(a, d)).replace(/_END_/g, c.call(a, a.fnDisplayEnd())).replace(/_MAX_/g, c.call(a, a.fnRecordsTotal())).replace(/_TOTAL_/g, c.call(a, f)).replace(/_PAGE_/g, c.call(a, g ? 1 : Math.ceil(d / e))).replace(/_PAGES_/g, c.call(a, g ? 1 : Math.ceil(f / e)))
        }
        function va(a) {
            var b, c, d = a.iInitDisplayStart, e = a.aoColumns, f;
            c = a.oFeatures;
            if (a.bInitialised) {
                mb(a);
                jb(a);
                da(a, a.aoHeader);
                da(a, a.aoFooter);
                B(a, !0);
                c.bAutoWidth && Fa(a);
                b = 0;
                for (c = e.length; b < c; b++)
                    f = e[b],
                    f.sWidth && (f.nTh.style.width = s(f.sWidth));
                M(a);
                e = A(a);
                "ssp" != e && ("ajax" == e ? qa(a, [], function(c) {
                    var f = ra(a, c);
                    for (b = 0; b < f.length; b++)
                        I(a, f[b]);
                    a.iInitDisplayStart = d;
                    M(a);
                    B(a, !1);
                    sa(a, c)
                }, a) : (B(a, !1),
                sa(a)))
            } else
                setTimeout(function() {
                    va(a)
                }, 200)
        }
        function sa(a, b) {
            a._bInitComplete = !0;
            b && X(a);
            u(a, "aoInitComplete", "init", [a, b])
        }
        function Ra(a, b) {
            var c = parseInt(b, 10);
            a._iDisplayLength = c;
            Sa(a);
            u(a, null, "length", [a, c])
        }
        function nb(a) {
            for (var b = a.oClasses, c = a.sTableId, d = a.aLengthMenu, e = h.isArray(d[0]), f = e ? d[0] : d, d = e ? d[1] : d, e = h("<select/>", {
                name: c + "_length",
                "aria-controls": c,
                "class": b.sLengthSelect
            }), g = 0, i = f.length; g < i; g++)
                e[0][g] = new Option(d[g],f[g]);
            var j = h("<div><label/></div>").addClass(b.sLength);
            a.aanFeatures.l || (j[0].id = c + "_length");
            j.children().append(a.oLanguage.sLengthMenu.replace("_MENU_", e[0].outerHTML));
            h("select", j).val(a._iDisplayLength).bind("change.DT", function() {
                Ra(a, h(this).val());
                L(a)
            });
            h(a.nTable).bind("length.dt.DT", function(b, c, d) {
                a === c && h("select", j).val(d)
            });
            return j[0]
        }
        function sb(a) {
            var b = a.sPaginationType
              , c = p.ext.pager[b]
              , d = "function" === typeof c
              , e = function(a) {
                L(a)
            }
              , b = h("<div/>").addClass(a.oClasses.sPaging + b)[0]
              , f = a.aanFeatures;
            d || c.fnInit(a, b, e);
            f.p || (b.id = a.sTableId + "_paginate",
            a.aoDrawCallback.push({
                fn: function(a) {
                    if (d) {
                        var b = a._iDisplayStart, j = a._iDisplayLength, h = a.fnRecordsDisplay(), m = -1 === j, b = m ? 0 : Math.ceil(b / j), j = m ? 1 : Math.ceil(h / j), h = c(b, j), o, m = 0;
                        for (o = f.p.length; m < o; m++)
                            Oa(a, "pageButton")(a, f.p[m], m, h, b, j)
                    } else
                        c.fnUpdate(a, e)
                },
                sName: "pagination"
            }));
            return b
        }
        function Ta(a, b, c) {
            var d = a._iDisplayStart
              , e = a._iDisplayLength
              , f = a.fnRecordsDisplay();
            0 === f || -1 === e ? d = 0 : "number" === typeof b ? (d = b * e,
            d > f && (d = 0)) : "first" == b ? d = 0 : "previous" == b ? (d = 0 <= e ? d - e : 0,
            0 > d && (d = 0)) : "next" == b ? d + e < f && (d += e) : "last" == b ? d = Math.floor((f - 1) / e) * e : R(a, 0, "Unknown paging action: " + b, 5);
            b = a._iDisplayStart !== d;
            a._iDisplayStart = d;
            b && (u(a, null, "page", [a]),
            c && L(a));
            return b
        }
        function pb(a) {
            return h("<div/>", {
                id: !a.aanFeatures.r ? a.sTableId + "_processing" : null,
                "class": a.oClasses.sProcessing
            }).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]
        }
        function B(a, b) {
            a.oFeatures.bProcessing && h(a.aanFeatures.r).css("display", b ? "block" : "none");
            u(a, null, "processing", [a, b])
        }
        function qb(a) {
            var b = h(a.nTable);
            b.attr("role", "grid");
            var c = a.oScroll;
            if ("" === c.sX && "" === c.sY)
                return a.nTable;
            var d = c.sX
              , e = c.sY
              , f = a.oClasses
              , g = b.children("caption")
              , i = g.length ? g[0]._captionSide : null
              , j = h(b[0].cloneNode(!1))
              , n = h(b[0].cloneNode(!1))
              , m = b.children("tfoot");
            c.sX && "100%" === b.attr("width") && b.removeAttr("width");
            m.length || (m = null);
            c = h("<div/>", {
                "class": f.sScrollWrapper
            }).append(h("<div/>", {
                "class": f.sScrollHead
            }).css({
                overflow: "hidden",
                position: "relative",
                border: 0,
                width: d ? !d ? null : s(d) : "100%"
            }).append(h("<div/>", {
                "class": f.sScrollHeadInner
            }).css({
                "box-sizing": "content-box",
                width: c.sXInner || "100%"
            }).append(j.removeAttr("id").css("margin-left", 0).append(b.children("thead")))).append("top" === i ? g : null)).append(h("<div/>", {
                "class": f.sScrollBody
            }).css({
                overflow: "auto",
                height: !e ? null : s(e),
                width: !d ? null : s(d)
            }).append(b));
            m && c.append(h("<div/>", {
                "class": f.sScrollFoot
            }).css({
                overflow: "hidden",
                border: 0,
                width: d ? !d ? null : s(d) : "100%"
            }).append(h("<div/>", {
                "class": f.sScrollFootInner
            }).append(n.removeAttr("id").css("margin-left", 0).append(b.children("tfoot")))).append("bottom" === i ? g : null));
            var b = c.children()
              , o = b[0]
              , f = b[1]
              , k = m ? b[2] : null;
            d && h(f).scroll(function() {
                var a = this.scrollLeft;
                o.scrollLeft = a;
                m && (k.scrollLeft = a)
            });
            a.nScrollHead = o;
            a.nScrollBody = f;
            a.nScrollFoot = k;
            a.aoDrawCallback.push({
                fn: Y,
                sName: "scrolling"
            });
            return c[0]
        }
        function Y(a) {
            var b = a.oScroll, c = b.sX, d = b.sXInner, e = b.sY, f = b.iBarWidth, g = h(a.nScrollHead), i = g[0].style, j = g.children("div"), n = j[0].style, m = j.children("table"), j = a.nScrollBody, o = h(j), k = j.style, l = h(a.nScrollFoot).children("div"), p = l.children("table"), r = h(a.nTHead), q = h(a.nTable), fa = q[0], N = fa.style, J = a.nTFoot ? h(a.nTFoot) : null, t = a.oBrowser, u = t.bScrollOversize, x, v, w, K, y, z = [], A = [], B = [], C, D = function(a) {
                a = a.style;
                a.paddingTop = "0";
                a.paddingBottom = "0";
                a.borderTopWidth = "0";
                a.borderBottomWidth = "0";
                a.height = 0
            };
            q.children("thead, tfoot").remove();
            y = r.clone().prependTo(q);
            x = r.find("tr");
            w = y.find("tr");
            y.find("th, td").removeAttr("tabindex");
            J && (K = J.clone().prependTo(q),
            v = J.find("tr"),
            K = K.find("tr"));
            c || (k.width = "100%",
            g[0].style.width = "100%");
            h.each(pa(a, y), function(b, c) {
                C = ja(a, b);
                c.style.width = a.aoColumns[C].sWidth
            });
            J && F(function(a) {
                a.style.width = ""
            }, K);
            b.bCollapse && "" !== e && (k.height = o[0].offsetHeight + r[0].offsetHeight + "px");
            g = q.outerWidth();
            if ("" === c) {
                if (N.width = "100%",
                u && (q.find("tbody").height() > j.offsetHeight || "scroll" == o.css("overflow-y")))
                    N.width = s(q.outerWidth() - f)
            } else
                "" !== d ? N.width = s(d) : g == o.width() && o.height() < q.height() ? (N.width = s(g - f),
                q.outerWidth() > g - f && (N.width = s(g))) : N.width = s(g);
            g = q.outerWidth();
            F(D, w);
            F(function(a) {
                B.push(a.innerHTML);
                z.push(s(h(a).css("width")))
            }, w);
            F(function(a, b) {
                a.style.width = z[b]
            }, x);
            h(w).height(0);
            J && (F(D, K),
            F(function(a) {
                A.push(s(h(a).css("width")))
            }, K),
            F(function(a, b) {
                a.style.width = A[b]
            }, v),
            h(K).height(0));
            F(function(a, b) {
                a.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">' + B[b] + "</div>";
                a.style.width = z[b]
            }, w);
            J && F(function(a, b) {
                a.innerHTML = "";
                a.style.width = A[b]
            }, K);
            if (q.outerWidth() < g) {
                v = j.scrollHeight > j.offsetHeight || "scroll" == o.css("overflow-y") ? g + f : g;
                if (u && (j.scrollHeight > j.offsetHeight || "scroll" == o.css("overflow-y")))
                    N.width = s(v - f);
                ("" === c || "" !== d) && R(a, 1, "Possible column misalignment", 6)
            } else
                v = "100%";
            k.width = s(v);
            i.width = s(v);
            J && (a.nScrollFoot.style.width = s(v));
            !e && u && (k.height = s(fa.offsetHeight + f));
            e && b.bCollapse && (k.height = s(e),
            b = c && fa.offsetWidth > j.offsetWidth ? f : 0,
            fa.offsetHeight < j.offsetHeight && (k.height = s(fa.offsetHeight + b)));
            b = q.outerWidth();
            m[0].style.width = s(b);
            n.width = s(b);
            m = q.height() > j.clientHeight || "scroll" == o.css("overflow-y");
            t = "padding" + (t.bScrollbarLeft ? "Left" : "Right");
            n[t] = m ? f + "px" : "0px";
            J && (p[0].style.width = s(b),
            l[0].style.width = s(b),
            l[0].style[t] = m ? f + "px" : "0px");
            o.scroll();
            if ((a.bSorted || a.bFiltered) && !a._drawHold)
                j.scrollTop = 0
        }
        function F(a, b, c) {
            for (var d = 0, e = 0, f = b.length, g, i; e < f; ) {
                g = b[e].firstChild;
                for (i = c ? c[e].firstChild : null; g; )
                    1 === g.nodeType && (c ? a(g, i, d) : a(g, d),
                    d++),
                    g = g.nextSibling,
                    i = c ? i.nextSibling : null;
                e++
            }
        }
        function Fa(a) {
            var b = a.nTable, c = a.aoColumns, d = a.oScroll, e = d.sY, f = d.sX, g = d.sXInner, i = c.length, d = Z(a, "bVisible"), j = h("th", a.nTHead), n = b.getAttribute("width"), m = b.parentNode, o = !1, k, l;
            for (k = 0; k < d.length; k++)
                l = c[d[k]],
                null !== l.sWidth && (l.sWidth = Db(l.sWidthOrig, m),
                o = !0);
            if (!o && !f && !e && i == aa(a) && i == j.length)
                for (k = 0; k < i; k++)
                    c[k].sWidth = s(j.eq(k).width());
            else {
                i = h(b).clone().empty().css("visibility", "hidden").removeAttr("id").append(h(a.nTHead).clone(!1)).append(h(a.nTFoot).clone(!1)).append(h("<tbody><tr/></tbody>"));
                i.find("tfoot th, tfoot td").css("width", "");
                var p = i.find("tbody tr")
                  , j = pa(a, i.find("thead")[0]);
                for (k = 0; k < d.length; k++)
                    l = c[d[k]],
                    j[k].style.width = null !== l.sWidthOrig && "" !== l.sWidthOrig ? s(l.sWidthOrig) : "";
                if (a.aoData.length)
                    for (k = 0; k < d.length; k++)
                        o = d[k],
                        l = c[o],
                        h(Eb(a, o)).clone(!1).append(l.sContentPadding).appendTo(p);
                i.appendTo(m);
                f && g ? i.width(g) : f ? (i.css("width", "auto"),
                i.width() < m.offsetWidth && i.width(m.offsetWidth)) : e ? i.width(m.offsetWidth) : n && i.width(n);
                Fb(a, i[0]);
                if (f) {
                    for (k = g = 0; k < d.length; k++)
                        l = c[d[k]],
                        e = h(j[k]).outerWidth(),
                        g += null === l.sWidthOrig ? e : parseInt(l.sWidth, 10) + e - h(j[k]).width();
                    i.width(s(g));
                    b.style.width = s(g)
                }
                for (k = 0; k < d.length; k++)
                    if (l = c[d[k]],
                    e = h(j[k]).width())
                        l.sWidth = s(e);
                b.style.width = s(i.css("width"));
                i.remove()
            }
            n && (b.style.width = s(n));
            if ((n || f) && !a._reszEvt)
                h(Da).bind("resize.DT-" + a.sInstance, ta(function() {
                    X(a)
                })),
                a._reszEvt = !0
        }
        function ta(a, b) {
            var c = b !== l ? b : 200, d, e;
            return function() {
                var b = this
                  , g = +new Date
                  , i = arguments;
                d && g < d + c ? (clearTimeout(e),
                e = setTimeout(function() {
                    d = l;
                    a.apply(b, i)
                }, c)) : d ? (d = g,
                a.apply(b, i)) : d = g
            }
        }
        function Db(a, b) {
            if (!a)
                return 0;
            var c = h("<div/>").css("width", s(a)).appendTo(b || P.body)
              , d = c[0].offsetWidth;
            c.remove();
            return d
        }
        function Fb(a, b) {
            var c = a.oScroll;
            if (c.sX || c.sY)
                c = !c.sX ? c.iBarWidth : 0,
                b.style.width = s(h(b).outerWidth() - c)
        }
        function Eb(a, b) {
            var c = Gb(a, b);
            if (0 > c)
                return null;
            var d = a.aoData[c];
            return !d.nTr ? h("<td/>").html(w(a, c, b, "display"))[0] : d.anCells[b]
        }
        function Gb(a, b) {
            for (var c, d = -1, e = -1, f = 0, g = a.aoData.length; f < g; f++)
                c = w(a, f, b, "display") + "",
                c = c.replace(Zb, ""),
                c.length > d && (d = c.length,
                e = f);
            return e
        }
        function s(a) {
            return null === a ? "0px" : "number" == typeof a ? 0 > a ? "0px" : a + "px" : a.match(/\d$/) ? a + "px" : a
        }
        function Hb() {
            if (!p.__scrollbarWidth) {
                var a = h("<p/>").css({
                    width: "100%",
                    height: 200,
                    padding: 0
                })[0]
                  , b = h("<div/>").css({
                    position: "absolute",
                    top: 0,
                    left: 0,
                    width: 200,
                    height: 150,
                    padding: 0,
                    overflow: "hidden",
                    visibility: "hidden"
                }).append(a).appendTo("body")
                  , c = a.offsetWidth;
                b.css("overflow", "scroll");
                a = a.offsetWidth;
                c === a && (a = b[0].clientWidth);
                b.remove();
                p.__scrollbarWidth = c - a
            }
            return p.__scrollbarWidth
        }
        function T(a) {
            var b, c, d = [], e = a.aoColumns, f, g, i, j;
            b = a.aaSortingFixed;
            c = h.isPlainObject(b);
            var n = [];
            f = function(a) {
                a.length && !h.isArray(a[0]) ? n.push(a) : n.push.apply(n, a)
            }
            ;
            h.isArray(b) && f(b);
            c && b.pre && f(b.pre);
            f(a.aaSorting);
            c && b.post && f(b.post);
            for (a = 0; a < n.length; a++) {
                j = n[a][0];
                f = e[j].aDataSort;
                b = 0;
                for (c = f.length; b < c; b++)
                    g = f[b],
                    i = e[g].sType || "string",
                    n[a]._idx === l && (n[a]._idx = h.inArray(n[a][1], e[g].asSorting)),
                    d.push({
                        src: j,
                        col: g,
                        dir: n[a][1],
                        index: n[a]._idx,
                        type: i,
                        formatter: p.ext.type.order[i + "-pre"]
                    })
            }
            return d
        }
        function lb(a) {
            var b, c, d = [], e = p.ext.type.order, f = a.aoData, g = 0, i, h = a.aiDisplayMaster, n;
            Ga(a);
            n = T(a);
            b = 0;
            for (c = n.length; b < c; b++)
                i = n[b],
                i.formatter && g++,
                Ib(a, i.col);
            if ("ssp" != A(a) && 0 !== n.length) {
                b = 0;
                for (c = h.length; b < c; b++)
                    d[h[b]] = b;
                g === n.length ? h.sort(function(a, b) {
                    var c, e, g, i, h = n.length, j = f[a]._aSortData, l = f[b]._aSortData;
                    for (g = 0; g < h; g++)
                        if (i = n[g],
                        c = j[i.col],
                        e = l[i.col],
                        c = c < e ? -1 : c > e ? 1 : 0,
                        0 !== c)
                            return "asc" === i.dir ? c : -c;
                    c = d[a];
                    e = d[b];
                    return c < e ? -1 : c > e ? 1 : 0
                }) : h.sort(function(a, b) {
                    var c, g, i, h, j = n.length, l = f[a]._aSortData, p = f[b]._aSortData;
                    for (i = 0; i < j; i++)
                        if (h = n[i],
                        c = l[h.col],
                        g = p[h.col],
                        h = e[h.type + "-" + h.dir] || e["string-" + h.dir],
                        c = h(c, g),
                        0 !== c)
                            return c;
                    c = d[a];
                    g = d[b];
                    return c < g ? -1 : c > g ? 1 : 0
                })
            }
            a.bSorted = !0
        }
        function Jb(a) {
            for (var b, c, d = a.aoColumns, e = T(a), a = a.oLanguage.oAria, f = 0, g = d.length; f < g; f++) {
                c = d[f];
                var i = c.asSorting;
                b = c.sTitle.replace(/<.*?>/g, "");
                var h = c.nTh;
                h.removeAttribute("aria-sort");
                c.bSortable && (0 < e.length && e[0].col == f ? (h.setAttribute("aria-sort", "asc" == e[0].dir ? "ascending" : "descending"),
                c = i[e[0].index + 1] || i[0]) : c = i[0],
                b += "asc" === c ? a.sSortAscending : a.sSortDescending);
                h.setAttribute("aria-label", b)
            }
        }
        function Ua(a, b, c, d) {
            var e = a.aaSorting
              , f = a.aoColumns[b].asSorting
              , g = function(a, b) {
                var c = a._idx;
                c === l && (c = h.inArray(a[1], f));
                return c + 1 < f.length ? c + 1 : b ? null : 0
            };
            "number" === typeof e[0] && (e = a.aaSorting = [e]);
            c && a.oFeatures.bSortMulti ? (c = h.inArray(b, C(e, "0")),
            -1 !== c ? (b = g(e[c], !0),
            null === b ? e.splice(c, 1) : (e[c][1] = f[b],
            e[c]._idx = b)) : (e.push([b, f[0], 0]),
            e[e.length - 1]._idx = 0)) : e.length && e[0][0] == b ? (b = g(e[0]),
            e.length = 1,
            e[0][1] = f[b],
            e[0]._idx = b) : (e.length = 0,
            e.push([b, f[0]]),
            e[0]._idx = 0);
            M(a);
            "function" == typeof d && d(a)
        }
        function Na(a, b, c, d) {
            var e = a.aoColumns[c];
            Va(b, {}, function(b) {
                !1 !== e.bSortable && (a.oFeatures.bProcessing ? (B(a, !0),
                setTimeout(function() {
                    Ua(a, c, b.shiftKey, d);
                    "ssp" !== A(a) && B(a, !1)
                }, 0)) : Ua(a, c, b.shiftKey, d))
            })
        }
        function wa(a) {
            var b = a.aLastSort, c = a.oClasses.sSortColumn, d = T(a), e = a.oFeatures, f, g;
            if (e.bSort && e.bSortClasses) {
                e = 0;
                for (f = b.length; e < f; e++)
                    g = b[e].src,
                    h(C(a.aoData, "anCells", g)).removeClass(c + (2 > e ? e + 1 : 3));
                e = 0;
                for (f = d.length; e < f; e++)
                    g = d[e].src,
                    h(C(a.aoData, "anCells", g)).addClass(c + (2 > e ? e + 1 : 3))
            }
            a.aLastSort = d
        }
        function Ib(a, b) {
            var c = a.aoColumns[b], d = p.ext.order[c.sSortDataType], e;
            d && (e = d.call(a.oInstance, a, b, $(a, b)));
            for (var f, g = p.ext.type.order[c.sType + "-pre"], i = 0, h = a.aoData.length; i < h; i++)
                if (c = a.aoData[i],
                c._aSortData || (c._aSortData = []),
                !c._aSortData[b] || d)
                    f = d ? e[i] : w(a, i, b, "sort"),
                    c._aSortData[b] = g ? g(f) : f
        }
        function xa(a) {
            if (a.oFeatures.bStateSave && !a.bDestroying) {
                var b = {
                    time: +new Date,
                    start: a._iDisplayStart,
                    length: a._iDisplayLength,
                    order: h.extend(!0, [], a.aaSorting),
                    search: zb(a.oPreviousSearch),
                    columns: h.map(a.aoColumns, function(b, d) {
                        return {
                            visible: b.bVisible,
                            search: zb(a.aoPreSearchCols[d])
                        }
                    })
                };
                u(a, "aoStateSaveParams", "stateSaveParams", [a, b]);
                a.oSavedState = b;
                a.fnStateSaveCallback.call(a.oInstance, a, b)
            }
        }
        function Kb(a) {
            var b, c, d = a.aoColumns;
            if (a.oFeatures.bStateSave) {
                var e = a.fnStateLoadCallback.call(a.oInstance, a);
                if (e && e.time && (b = u(a, "aoStateLoadParams", "stateLoadParams", [a, e]),
                -1 === h.inArray(!1, b) && (b = a.iStateDuration,
                !(0 < b && e.time < +new Date - 1E3 * b) && d.length === e.columns.length))) {
                    a.oLoadedState = h.extend(!0, {}, e);
                    a._iDisplayStart = e.start;
                    a.iInitDisplayStart = e.start;
                    a._iDisplayLength = e.length;
                    a.aaSorting = [];
                    h.each(e.order, function(b, c) {
                        a.aaSorting.push(c[0] >= d.length ? [0, c[1]] : c)
                    });
                    h.extend(a.oPreviousSearch, Ab(e.search));
                    b = 0;
                    for (c = e.columns.length; b < c; b++) {
                        var f = e.columns[b];
                        d[b].bVisible = f.visible;
                        h.extend(a.aoPreSearchCols[b], Ab(f.search))
                    }
                    u(a, "aoStateLoaded", "stateLoaded", [a, e])
                }
            }
        }
        function ya(a) {
            var b = p.settings
              , a = h.inArray(a, C(b, "nTable"));
            return -1 !== a ? b[a] : null
        }
        function R(a, b, c, d) {
            c = "DataTables warning: " + (null !== a ? "table id=" + a.sTableId + " - " : "") + c;
            d && (c += ". For more information about this error, please see http://datatables.net/tn/" + d);
            if (b)
                Da.console && console.log && console.log(c);
            else if (a = p.ext,
            "alert" == (a.sErrMode || a.errMode))
                alert(c);
            else
                throw Error(c);
        }
        function D(a, b, c, d) {
            h.isArray(c) ? h.each(c, function(c, d) {
                h.isArray(d) ? D(a, b, d[0], d[1]) : D(a, b, d)
            }) : (d === l && (d = c),
            b[c] !== l && (a[d] = b[c]))
        }
        function Lb(a, b, c) {
            var d, e;
            for (e in b)
                b.hasOwnProperty(e) && (d = b[e],
                h.isPlainObject(d) ? (h.isPlainObject(a[e]) || (a[e] = {}),
                h.extend(!0, a[e], d)) : a[e] = c && "data" !== e && "aaData" !== e && h.isArray(d) ? d.slice() : d);
            return a
        }
        function Va(a, b, c) {
            h(a).bind("click.DT", b, function(b) {
                a.blur();
                c(b)
            }).bind("keypress.DT", b, function(a) {
                13 === a.which && (a.preventDefault(),
                c(a))
            }).bind("selectstart.DT", function() {
                return !1
            })
        }
        function y(a, b, c, d) {
            c && a[b].push({
                fn: c,
                sName: d
            })
        }
        function u(a, b, c, d) {
            var e = [];
            b && (e = h.map(a[b].slice().reverse(), function(b) {
                return b.fn.apply(a.oInstance, d)
            }));
            null !== c && h(a.nTable).trigger(c + ".dt", d);
            return e
        }
        function Sa(a) {
            var b = a._iDisplayStart
              , c = a.fnDisplayEnd()
              , d = a._iDisplayLength;
            b >= c && (b = c - d);
            if (-1 === d || 0 > b)
                b = 0;
            a._iDisplayStart = b
        }
        function Oa(a, b) {
            var c = a.renderer
              , d = p.ext.renderer[b];
            return h.isPlainObject(c) && c[b] ? d[c[b]] || d._ : "string" === typeof c ? d[c] || d._ : d._
        }
        function A(a) {
            return a.oFeatures.bServerSide ? "ssp" : a.ajax || a.sAjaxSource ? "ajax" : "dom"
        }
        function Wa(a, b) {
            var c = []
              , c = Mb.numbers_length
              , d = Math.floor(c / 2);
            b <= c ? c = U(0, b) : a <= d ? (c = U(0, c - 2),
            c.push("ellipsis"),
            c.push(b - 1)) : (a >= b - 1 - d ? c = U(b - (c - 2), b) : (c = U(a - 1, a + 2),
            c.push("ellipsis"),
            c.push(b - 1)),
            c.splice(0, 0, "ellipsis"),
            c.splice(0, 0, 0));
            c.DT_el = "span";
            return c
        }
        function db(a) {
            h.each({
                num: function(b) {
                    return za(b, a)
                },
                "num-fmt": function(b) {
                    return za(b, a, Xa)
                },
                "html-num": function(b) {
                    return za(b, a, Aa)
                },
                "html-num-fmt": function(b) {
                    return za(b, a, Aa, Xa)
                }
            }, function(b, c) {
                v.type.order[b + a + "-pre"] = c
            })
        }
        function Nb(a) {
            return function() {
                var b = [ya(this[p.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));
                return p.ext.internal[a].apply(this, b)
            }
        }
        var p, v, q, r, t, Ya = {}, Ob = /[\r\n]/g, Aa = /<.*?>/g, $b = /^[\w\+\-]/, ac = /[\w\+\-]$/, Xb = RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)", "g"), Xa = /[',$\u00a3\u20ac\u00a5%\u2009\u202F]/g, H = function(a) {
            return !a || !0 === a || "-" === a ? !0 : !1
        }, Pb = function(a) {
            var b = parseInt(a, 10);
            return !isNaN(b) && isFinite(a) ? b : null
        }, Qb = function(a, b) {
            Ya[b] || (Ya[b] = RegExp(Qa(b), "g"));
            return "string" === typeof a && "." !== b ? a.replace(/\./g, "").replace(Ya[b], ".") : a
        }, Za = function(a, b, c) {
            var d = "string" === typeof a;
            b && d && (a = Qb(a, b));
            c && d && (a = a.replace(Xa, ""));
            return H(a) || !isNaN(parseFloat(a)) && isFinite(a)
        }, Rb = function(a, b, c) {
            return H(a) ? !0 : !(H(a) || "string" === typeof a) ? null : Za(a.replace(Aa, ""), b, c) ? !0 : null
        }, C = function(a, b, c) {
            var d = []
              , e = 0
              , f = a.length;
            if (c !== l)
                for (; e < f; e++)
                    a[e] && a[e][b] && d.push(a[e][b][c]);
            else
                for (; e < f; e++)
                    a[e] && d.push(a[e][b]);
            return d
        }, ga = function(a, b, c, d) {
            var e = []
              , f = 0
              , g = b.length;
            if (d !== l)
                for (; f < g; f++)
                    e.push(a[b[f]][c][d]);
            else
                for (; f < g; f++)
                    e.push(a[b[f]][c]);
            return e
        }, U = function(a, b) {
            var c = [], d;
            b === l ? (b = 0,
            d = a) : (d = b,
            b = a);
            for (var e = b; e < d; e++)
                c.push(e);
            return c
        }, Ma = function(a) {
            var b = [], c, d, e = a.length, f, g = 0;
            d = 0;
            a: for (; d < e; d++) {
                c = a[d];
                for (f = 0; f < g; f++)
                    if (b[f] === c)
                        continue a;
                b.push(c);
                g++
            }
            return b
        }, z = function(a, b, c) {
            a[b] !== l && (a[c] = a[b])
        }, ba = /\[.*?\]$/, S = /\(\)$/, ua = h("<div>")[0], Yb = ua.textContent !== l, Zb = /<.*?>/g;
        p = function(a) {
            this.$ = function(a, b) {
                return this.api(!0).$(a, b)
            }
            ;
            this._ = function(a, b) {
                return this.api(!0).rows(a, b).data()
            }
            ;
            this.api = function(a) {
                return a ? new q(ya(this[v.iApiIndex])) : new q(this)
            }
            ;
            this.fnAddData = function(a, b) {
                var c = this.api(!0)
                  , d = h.isArray(a) && (h.isArray(a[0]) || h.isPlainObject(a[0])) ? c.rows.add(a) : c.row.add(a);
                (b === l || b) && c.draw();
                return d.flatten().toArray()
            }
            ;
            this.fnAdjustColumnSizing = function(a) {
                var b = this.api(!0).columns.adjust()
                  , c = b.settings()[0]
                  , d = c.oScroll;
                a === l || a ? b.draw(!1) : ("" !== d.sX || "" !== d.sY) && Y(c)
            }
            ;
            this.fnClearTable = function(a) {
                var b = this.api(!0).clear();
                (a === l || a) && b.draw()
            }
            ;
            this.fnClose = function(a) {
                this.api(!0).row(a).child.hide()
            }
            ;
            this.fnDeleteRow = function(a, b, c) {
                var d = this.api(!0)
                  , a = d.rows(a)
                  , e = a.settings()[0]
                  , h = e.aoData[a[0][0]];
                a.remove();
                b && b.call(this, e, h);
                (c === l || c) && d.draw();
                return h
            }
            ;
            this.fnDestroy = function(a) {
                this.api(!0).destroy(a)
            }
            ;
            this.fnDraw = function(a) {
                this.api(!0).draw(!a)
            }
            ;
            this.fnFilter = function(a, b, c, d, e, h) {
                e = this.api(!0);
                null === b || b === l ? e.search(a, c, d, h) : e.column(b).search(a, c, d, h);
                e.draw()
            }
            ;
            this.fnGetData = function(a, b) {
                var c = this.api(!0);
                if (a !== l) {
                    var d = a.nodeName ? a.nodeName.toLowerCase() : "";
                    return b !== l || "td" == d || "th" == d ? c.cell(a, b).data() : c.row(a).data() || null
                }
                return c.data().toArray()
            }
            ;
            this.fnGetNodes = function(a) {
                var b = this.api(!0);
                return a !== l ? b.row(a).node() : b.rows().nodes().flatten().toArray()
            }
            ;
            this.fnGetPosition = function(a) {
                var b = this.api(!0)
                  , c = a.nodeName.toUpperCase();
                return "TR" == c ? b.row(a).index() : "TD" == c || "TH" == c ? (a = b.cell(a).index(),
                [a.row, a.columnVisible, a.column]) : null
            }
            ;
            this.fnIsOpen = function(a) {
                return this.api(!0).row(a).child.isShown()
            }
            ;
            this.fnOpen = function(a, b, c) {
                return this.api(!0).row(a).child(b, c).show().child()[0]
            }
            ;
            this.fnPageChange = function(a, b) {
                var c = this.api(!0).page(a);
                (b === l || b) && c.draw(!1)
            }
            ;
            this.fnSetColumnVis = function(a, b, c) {
                a = this.api(!0).column(a).visible(b);
                (c === l || c) && a.columns.adjust().draw()
            }
            ;
            this.fnSettings = function() {
                return ya(this[v.iApiIndex])
            }
            ;
            this.fnSort = function(a) {
                this.api(!0).order(a).draw()
            }
            ;
            this.fnSortListener = function(a, b, c) {
                this.api(!0).order.listener(a, b, c)
            }
            ;
            this.fnUpdate = function(a, b, c, d, e) {
                var h = this.api(!0);
                c === l || null === c ? h.row(b).data(a) : h.cell(b, c).data(a);
                (e === l || e) && h.columns.adjust();
                (d === l || d) && h.draw();
                return 0
            }
            ;
            this.fnVersionCheck = v.fnVersionCheck;
            var b = this
              , c = a === l
              , d = this.length;
            c && (a = {});
            this.oApi = this.internal = v.internal;
            for (var e in p.ext.internal)
                e && (this[e] = Nb(e));
            this.each(function() {
                var e = {}, g = 1 < d ? Lb(e, a, !0) : a, i = 0, j, n = this.getAttribute("id"), e = !1, m = p.defaults;
                if ("table" != this.nodeName.toLowerCase())
                    R(null, 0, "Non-table node initialisation (" + this.nodeName + ")", 2);
                else {
                    eb(m);
                    fb(m.column);
                    G(m, m, !0);
                    G(m.column, m.column, !0);
                    G(m, g);
                    var o = p.settings
                      , i = 0;
                    for (j = o.length; i < j; i++) {
                        if (o[i].nTable == this) {
                            j = g.bRetrieve !== l ? g.bRetrieve : m.bRetrieve;
                            if (c || j)
                                return o[i].oInstance;
                            if (g.bDestroy !== l ? g.bDestroy : m.bDestroy) {
                                o[i].oInstance.fnDestroy();
                                break
                            } else {
                                R(o[i], 0, "Cannot reinitialise DataTable", 3);
                                return
                            }
                        }
                        if (o[i].sTableId == this.id) {
                            o.splice(i, 1);
                            break
                        }
                    }
                    if (null === n || "" === n)
                        this.id = n = "DataTables_Table_" + p.ext._unique++;
                    var k = h.extend(!0, {}, p.models.oSettings, {
                        nTable: this,
                        oApi: b.internal,
                        oInit: g,
                        sDestroyWidth: h(this)[0].style.width,
                        sInstance: n,
                        sTableId: n
                    });
                    o.push(k);
                    k.oInstance = 1 === b.length ? b : h(this).dataTable();
                    eb(g);
                    g.oLanguage && O(g.oLanguage);
                    g.aLengthMenu && !g.iDisplayLength && (g.iDisplayLength = h.isArray(g.aLengthMenu[0]) ? g.aLengthMenu[0][0] : g.aLengthMenu[0]);
                    g = Lb(h.extend(!0, {}, m), g);
                    D(k.oFeatures, g, "bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));
                    D(k, g, ["asStripeClasses", "ajax", "fnServerData", "fnFormatNumber", "sServerMethod", "aaSorting", "aaSortingFixed", "aLengthMenu", "sPaginationType", "sAjaxSource", "sAjaxDataProp", "iStateDuration", "sDom", "bSortCellsTop", "iTabIndex", "fnStateLoadCallback", "fnStateSaveCallback", "renderer", "searchDelay", ["iCookieDuration", "iStateDuration"], ["oSearch", "oPreviousSearch"], ["aoSearchCols", "aoPreSearchCols"], ["iDisplayLength", "_iDisplayLength"], ["bJQueryUI", "bJUI"]]);
                    D(k.oScroll, g, [["sScrollX", "sX"], ["sScrollXInner", "sXInner"], ["sScrollY", "sY"], ["bScrollCollapse", "bCollapse"]]);
                    D(k.oLanguage, g, "fnInfoCallback");
                    y(k, "aoDrawCallback", g.fnDrawCallback, "user");
                    y(k, "aoServerParams", g.fnServerParams, "user");
                    y(k, "aoStateSaveParams", g.fnStateSaveParams, "user");
                    y(k, "aoStateLoadParams", g.fnStateLoadParams, "user");
                    y(k, "aoStateLoaded", g.fnStateLoaded, "user");
                    y(k, "aoRowCallback", g.fnRowCallback, "user");
                    y(k, "aoRowCreatedCallback", g.fnCreatedRow, "user");
                    y(k, "aoHeaderCallback", g.fnHeaderCallback, "user");
                    y(k, "aoFooterCallback", g.fnFooterCallback, "user");
                    y(k, "aoInitComplete", g.fnInitComplete, "user");
                    y(k, "aoPreDrawCallback", g.fnPreDrawCallback, "user");
                    n = k.oClasses;
                    g.bJQueryUI ? (h.extend(n, p.ext.oJUIClasses, g.oClasses),
                    g.sDom === m.sDom && "lfrtip" === m.sDom && (k.sDom = '<"H"lfr>t<"F"ip>'),
                    k.renderer) ? h.isPlainObject(k.renderer) && !k.renderer.header && (k.renderer.header = "jqueryui") : k.renderer = "jqueryui" : h.extend(n, p.ext.classes, g.oClasses);
                    h(this).addClass(n.sTable);
                    if ("" !== k.oScroll.sX || "" !== k.oScroll.sY)
                        k.oScroll.iBarWidth = Hb();
                    !0 === k.oScroll.sX && (k.oScroll.sX = "100%");
                    k.iInitDisplayStart === l && (k.iInitDisplayStart = g.iDisplayStart,
                    k._iDisplayStart = g.iDisplayStart);
                    null !== g.iDeferLoading && (k.bDeferLoading = !0,
                    i = h.isArray(g.iDeferLoading),
                    k._iRecordsDisplay = i ? g.iDeferLoading[0] : g.iDeferLoading,
                    k._iRecordsTotal = i ? g.iDeferLoading[1] : g.iDeferLoading);
                    "" !== g.oLanguage.sUrl ? (k.oLanguage.sUrl = g.oLanguage.sUrl,
                    h.getJSON(k.oLanguage.sUrl, null, function(a) {
                        O(a);
                        G(m.oLanguage, a);
                        h.extend(true, k.oLanguage, g.oLanguage, a);
                        va(k)
                    }),
                    e = !0) : h.extend(!0, k.oLanguage, g.oLanguage);
                    null === g.asStripeClasses && (k.asStripeClasses = [n.sStripeOdd, n.sStripeEven]);
                    var i = k.asStripeClasses
                      , r = h("tbody tr:eq(0)", this);
                    -1 !== h.inArray(!0, h.map(i, function(a) {
                        return r.hasClass(a)
                    })) && (h("tbody tr", this).removeClass(i.join(" ")),
                    k.asDestroyStripes = i.slice());
                    var o = [], q, i = this.getElementsByTagName("thead");
                    0 !== i.length && (ca(k.aoHeader, i[0]),
                    o = pa(k));
                    if (null === g.aoColumns) {
                        q = [];
                        i = 0;
                        for (j = o.length; i < j; i++)
                            q.push(null)
                    } else
                        q = g.aoColumns;
                    i = 0;
                    for (j = q.length; i < j; i++)
                        Ea(k, o ? o[i] : null);
                    ib(k, g.aoColumnDefs, q, function(a, b) {
                        ia(k, a, b)
                    });
                    if (r.length) {
                        var s = function(a, b) {
                            return a.getAttribute("data-" + b) ? b : null
                        };
                        h.each(la(k, r[0]).cells, function(a, b) {
                            var c = k.aoColumns[a];
                            if (c.mData === a) {
                                var d = s(b, "sort") || s(b, "order")
                                  , e = s(b, "filter") || s(b, "search");
                                if (d !== null || e !== null) {
                                    c.mData = {
                                        _: a + ".display",
                                        sort: d !== null ? a + ".@data-" + d : l,
                                        type: d !== null ? a + ".@data-" + d : l,
                                        filter: e !== null ? a + ".@data-" + e : l
                                    };
                                    ia(k, a)
                                }
                            }
                        })
                    }
                    var t = k.oFeatures;
                    g.bStateSave && (t.bStateSave = !0,
                    Kb(k, g),
                    y(k, "aoDrawCallback", xa, "state_save"));
                    if (g.aaSorting === l) {
                        o = k.aaSorting;
                        i = 0;
                        for (j = o.length; i < j; i++)
                            o[i][1] = k.aoColumns[i].asSorting[0]
                    }
                    wa(k);
                    t.bSort && y(k, "aoDrawCallback", function() {
                        if (k.bSorted) {
                            var a = T(k)
                              , b = {};
                            h.each(a, function(a, c) {
                                b[c.src] = c.dir
                            });
                            u(k, null, "order", [k, a, b]);
                            Jb(k)
                        }
                    });
                    y(k, "aoDrawCallback", function() {
                        (k.bSorted || A(k) === "ssp" || t.bDeferRender) && wa(k)
                    }, "sc");
                    gb(k);
                    i = h(this).children("caption").each(function() {
                        this._captionSide = h(this).css("caption-side")
                    });
                    j = h(this).children("thead");
                    0 === j.length && (j = h("<thead/>").appendTo(this));
                    k.nTHead = j[0];
                    j = h(this).children("tbody");
                    0 === j.length && (j = h("<tbody/>").appendTo(this));
                    k.nTBody = j[0];
                    j = h(this).children("tfoot");
                    if (0 === j.length && 0 < i.length && ("" !== k.oScroll.sX || "" !== k.oScroll.sY))
                        j = h("<tfoot/>").appendTo(this);
                    0 === j.length || 0 === j.children().length ? h(this).addClass(n.sNoFooter) : 0 < j.length && (k.nTFoot = j[0],
                    ca(k.aoFooter, k.nTFoot));
                    if (g.aaData)
                        for (i = 0; i < g.aaData.length; i++)
                            I(k, g.aaData[i]);
                    else
                        (k.bDeferLoading || "dom" == A(k)) && ka(k, h(k.nTBody).children("tr"));
                    k.aiDisplay = k.aiDisplayMaster.slice();
                    k.bInitialised = !0;
                    !1 === e && va(k)
                }
            });
            b = null;
            return this
        }
        ;
        var Sb = []
          , x = Array.prototype
          , bc = function(a) {
            var b, c, d = p.settings, e = h.map(d, function(a) {
                return a.nTable
            });
            if (a) {
                if (a.nTable && a.oApi)
                    return [a];
                if (a.nodeName && "table" === a.nodeName.toLowerCase())
                    return b = h.inArray(a, e),
                    -1 !== b ? [d[b]] : null;
                if (a && "function" === typeof a.settings)
                    return a.settings().toArray();
                "string" === typeof a ? c = h(a) : a instanceof h && (c = a)
            } else
                return [];
            if (c)
                return c.map(function() {
                    b = h.inArray(this, e);
                    return -1 !== b ? d[b] : null
                }).toArray()
        };
        q = function(a, b) {
            if (!this instanceof q)
                throw "DT API must be constructed as a new object";
            var c = []
              , d = function(a) {
                (a = bc(a)) && c.push.apply(c, a)
            };
            if (h.isArray(a))
                for (var e = 0, f = a.length; e < f; e++)
                    d(a[e]);
            else
                d(a);
            this.context = Ma(c);
            b && this.push.apply(this, b.toArray ? b.toArray() : b);
            this.selector = {
                rows: null,
                cols: null,
                opts: null
            };
            q.extend(this, this, Sb)
        }
        ;
        p.Api = q;
        q.prototype = {
            concat: x.concat,
            context: [],
            each: function(a) {
                for (var b = 0, c = this.length; b < c; b++)
                    a.call(this, this[b], b, this);
                return this
            },
            eq: function(a) {
                var b = this.context;
                return b.length > a ? new q(b[a],this[a]) : null
            },
            filter: function(a) {
                var b = [];
                if (x.filter)
                    b = x.filter.call(this, a, this);
                else
                    for (var c = 0, d = this.length; c < d; c++)
                        a.call(this, this[c], c, this) && b.push(this[c]);
                return new q(this.context,b)
            },
            flatten: function() {
                var a = [];
                return new q(this.context,a.concat.apply(a, this.toArray()))
            },
            join: x.join,
            indexOf: x.indexOf || function(a, b) {
                for (var c = b || 0, d = this.length; c < d; c++)
                    if (this[c] === a)
                        return c;
                return -1
            }
            ,
            iterator: function(a, b, c) {
                var d = [], e, f, g, h, j, n = this.context, m, o, k = this.selector;
                "string" === typeof a && (c = b,
                b = a,
                a = !1);
                f = 0;
                for (g = n.length; f < g; f++) {
                    var p = new q(n[f]);
                    if ("table" === b)
                        e = c.call(p, n[f], f),
                        e !== l && d.push(e);
                    else if ("columns" === b || "rows" === b)
                        e = c.call(p, n[f], this[f], f),
                        e !== l && d.push(e);
                    else if ("column" === b || "column-rows" === b || "row" === b || "cell" === b) {
                        o = this[f];
                        "column-rows" === b && (m = Ba(n[f], k.opts));
                        h = 0;
                        for (j = o.length; h < j; h++)
                            e = o[h],
                            e = "cell" === b ? c.call(p, n[f], e.row, e.column, f, h) : c.call(p, n[f], e, f, h, m),
                            e !== l && d.push(e)
                    }
                }
                return d.length ? (a = new q(n,a ? d.concat.apply([], d) : d),
                b = a.selector,
                b.rows = k.rows,
                b.cols = k.cols,
                b.opts = k.opts,
                a) : this
            },
            lastIndexOf: x.lastIndexOf || function(a, b) {
                return this.indexOf.apply(this.toArray.reverse(), arguments)
            }
            ,
            length: 0,
            map: function(a) {
                var b = [];
                if (x.map)
                    b = x.map.call(this, a, this);
                else
                    for (var c = 0, d = this.length; c < d; c++)
                        b.push(a.call(this, this[c], c));
                return new q(this.context,b)
            },
            pluck: function(a) {
                return this.map(function(b) {
                    return b[a]
                })
            },
            pop: x.pop,
            push: x.push,
            reduce: x.reduce || function(a, b) {
                return hb(this, a, b, 0, this.length, 1)
            }
            ,
            reduceRight: x.reduceRight || function(a, b) {
                return hb(this, a, b, this.length - 1, -1, -1)
            }
            ,
            reverse: x.reverse,
            selector: null,
            shift: x.shift,
            sort: x.sort,
            splice: x.splice,
            toArray: function() {
                return x.slice.call(this)
            },
            to$: function() {
                return h(this)
            },
            toJQuery: function() {
                return h(this)
            },
            unique: function() {
                return new q(this.context,Ma(this))
            },
            unshift: x.unshift
        };
        q.extend = function(a, b, c) {
            if (b && (b instanceof q || b.__dt_wrapper)) {
                var d, e, f, g = function(a, b, c) {
                    return function() {
                        var d = b.apply(a, arguments);
                        q.extend(d, d, c.methodExt);
                        return d
                    }
                };
                d = 0;
                for (e = c.length; d < e; d++)
                    f = c[d],
                    b[f.name] = "function" === typeof f.val ? g(a, f.val, f) : h.isPlainObject(f.val) ? {} : f.val,
                    b[f.name].__dt_wrapper = !0,
                    q.extend(a, b[f.name], f.propExt)
            }
        }
        ;
        q.register = r = function(a, b) {
            if (h.isArray(a))
                for (var c = 0, d = a.length; c < d; c++)
                    q.register(a[c], b);
            else
                for (var e = a.split("."), f = Sb, g, i, c = 0, d = e.length; c < d; c++) {
                    g = (i = -1 !== e[c].indexOf("()")) ? e[c].replace("()", "") : e[c];
                    var j;
                    a: {
                        j = 0;
                        for (var n = f.length; j < n; j++)
                            if (f[j].name === g) {
                                j = f[j];
                                break a
                            }
                        j = null
                    }
                    j || (j = {
                        name: g,
                        val: {},
                        methodExt: [],
                        propExt: []
                    },
                    f.push(j));
                    c === d - 1 ? j.val = b : f = i ? j.methodExt : j.propExt
                }
        }
        ;
        q.registerPlural = t = function(a, b, c) {
            q.register(a, c);
            q.register(b, function() {
                var a = c.apply(this, arguments);
                return a === this ? this : a instanceof q ? a.length ? h.isArray(a[0]) ? new q(a.context,a[0]) : a[0] : l : a
            })
        }
        ;
        r("tables()", function(a) {
            var b;
            if (a) {
                b = q;
                var c = this.context;
                if ("number" === typeof a)
                    a = [c[a]];
                else
                    var d = h.map(c, function(a) {
                        return a.nTable
                    })
                      , a = h(d).filter(a).map(function() {
                        var a = h.inArray(this, d);
                        return c[a]
                    }).toArray();
                b = new b(a)
            } else
                b = this;
            return b
        });
        r("table()", function(a) {
            var a = this.tables(a)
              , b = a.context;
            return b.length ? new q(b[0]) : a
        });
        t("tables().nodes()", "table().node()", function() {
            return this.iterator("table", function(a) {
                return a.nTable
            })
        });
        t("tables().body()", "table().body()", function() {
            return this.iterator("table", function(a) {
                return a.nTBody
            })
        });
        t("tables().header()", "table().header()", function() {
            return this.iterator("table", function(a) {
                return a.nTHead
            })
        });
        t("tables().footer()", "table().footer()", function() {
            return this.iterator("table", function(a) {
                return a.nTFoot
            })
        });
        t("tables().containers()", "table().container()", function() {
            return this.iterator("table", function(a) {
                return a.nTableWrapper
            })
        });
        r("draw()", function(a) {
            return this.iterator("table", function(b) {
                M(b, !1 === a)
            })
        });
        r("page()", function(a) {
            return a === l ? this.page.info().page : this.iterator("table", function(b) {
                Ta(b, a)
            })
        });
        r("page.info()", function() {
            if (0 === this.context.length)
                return l;
            var a = this.context[0]
              , b = a._iDisplayStart
              , c = a._iDisplayLength
              , d = a.fnRecordsDisplay()
              , e = -1 === c;
            return {
                page: e ? 0 : Math.floor(b / c),
                pages: e ? 1 : Math.ceil(d / c),
                start: b,
                end: a.fnDisplayEnd(),
                length: c,
                recordsTotal: a.fnRecordsTotal(),
                recordsDisplay: d
            }
        });
        r("page.len()", function(a) {
            return a === l ? 0 !== this.context.length ? this.context[0]._iDisplayLength : l : this.iterator("table", function(b) {
                Ra(b, a)
            })
        });
        var Tb = function(a, b, c) {
            "ssp" == A(a) ? M(a, b) : (B(a, !0),
            qa(a, [], function(c) {
                ma(a);
                for (var c = ra(a, c), d = 0, g = c.length; d < g; d++)
                    I(a, c[d]);
                M(a, b);
                B(a, !1)
            }));
            if (c) {
                var d = new q(a);
                d.one("draw", function() {
                    c(d.ajax.json())
                })
            }
        };
        r("ajax.json()", function() {
            var a = this.context;
            if (0 < a.length)
                return a[0].json
        });
        r("ajax.params()", function() {
            var a = this.context;
            if (0 < a.length)
                return a[0].oAjaxData
        });
        r("ajax.reload()", function(a, b) {
            return this.iterator("table", function(c) {
                Tb(c, !1 === b, a)
            })
        });
        r("ajax.url()", function(a) {
            var b = this.context;
            if (a === l) {
                if (0 === b.length)
                    return l;
                b = b[0];
                return b.ajax ? h.isPlainObject(b.ajax) ? b.ajax.url : b.ajax : b.sAjaxSource
            }
            return this.iterator("table", function(b) {
                h.isPlainObject(b.ajax) ? b.ajax.url = a : b.ajax = a
            })
        });
        r("ajax.url().load()", function(a, b) {
            return this.iterator("table", function(c) {
                Tb(c, !1 === b, a)
            })
        });
        var $a = function(a, b) {
            var c = [], d, e, f, g, i, j;
            d = typeof a;
            if (!a || "string" === d || "function" === d || a.length === l)
                a = [a];
            f = 0;
            for (g = a.length; f < g; f++) {
                e = a[f] && a[f].split ? a[f].split(",") : [a[f]];
                i = 0;
                for (j = e.length; i < j; i++)
                    (d = b("string" === typeof e[i] ? h.trim(e[i]) : e[i])) && d.length && c.push.apply(c, d)
            }
            return c
        }
          , ab = function(a) {
            a || (a = {});
            a.filter && !a.search && (a.search = a.filter);
            return {
                search: a.search || "none",
                order: a.order || "current",
                page: a.page || "all"
            }
        }
          , bb = function(a) {
            for (var b = 0, c = a.length; b < c; b++)
                if (0 < a[b].length)
                    return a[0] = a[b],
                    a.length = 1,
                    a.context = [a.context[b]],
                    a;
            a.length = 0;
            return a
        }
          , Ba = function(a, b) {
            var c, d, e, f = [], g = a.aiDisplay;
            c = a.aiDisplayMaster;
            var i = b.search;
            d = b.order;
            e = b.page;
            if ("ssp" == A(a))
                return "removed" === i ? [] : U(0, c.length);
            if ("current" == e) {
                c = a._iDisplayStart;
                for (d = a.fnDisplayEnd(); c < d; c++)
                    f.push(g[c])
            } else if ("current" == d || "applied" == d)
                f = "none" == i ? c.slice() : "applied" == i ? g.slice() : h.map(c, function(a) {
                    return -1 === h.inArray(a, g) ? a : null
                });
            else if ("index" == d || "original" == d) {
                c = 0;
                for (d = a.aoData.length; c < d; c++)
                    "none" == i ? f.push(c) : (e = h.inArray(c, g),
                    (-1 === e && "removed" == i || 0 <= e && "applied" == i) && f.push(c))
            }
            return f
        };
        r("rows()", function(a, b) {
            a === l ? a = "" : h.isPlainObject(a) && (b = a,
            a = "");
            var b = ab(b)
              , c = this.iterator("table", function(c) {
                var e = b;
                return $a(a, function(a) {
                    var b = Pb(a);
                    if (b !== null && !e)
                        return [b];
                    var i = Ba(c, e);
                    if (b !== null && h.inArray(b, i) !== -1)
                        return [b];
                    if (!a)
                        return i;
                    b = ga(c.aoData, i, "nTr");
                    return typeof a === "function" ? h.map(i, function(b) {
                        var e = c.aoData[b];
                        return a(b, e._aData, e.nTr) ? b : null
                    }) : a.nodeName && h.inArray(a, b) !== -1 ? [a._DT_RowIndex] : h(b).filter(a).map(function() {
                        return this._DT_RowIndex
                    }).toArray()
                })
            });
            c.selector.rows = a;
            c.selector.opts = b;
            return c
        });
        r("rows().nodes()", function() {
            return this.iterator("row", function(a, b) {
                return a.aoData[b].nTr || l
            })
        });
        r("rows().data()", function() {
            return this.iterator(!0, "rows", function(a, b) {
                return ga(a.aoData, b, "_aData")
            })
        });
        t("rows().cache()", "row().cache()", function(a) {
            return this.iterator("row", function(b, c) {
                var d = b.aoData[c];
                return "search" === a ? d._aFilterData : d._aSortData
            })
        });
        t("rows().invalidate()", "row().invalidate()", function(a) {
            return this.iterator("row", function(b, c) {
                oa(b, c, a)
            })
        });
        t("rows().indexes()", "row().index()", function() {
            return this.iterator("row", function(a, b) {
                return b
            })
        });
        t("rows().remove()", "row().remove()", function() {
            var a = this;
            return this.iterator("row", function(b, c, d) {
                var e = b.aoData;
                e.splice(c, 1);
                for (var f = 0, g = e.length; f < g; f++)
                    null !== e[f].nTr && (e[f].nTr._DT_RowIndex = f);
                h.inArray(c, b.aiDisplay);
                na(b.aiDisplayMaster, c);
                na(b.aiDisplay, c);
                na(a[d], c, !1);
                Sa(b)
            })
        });
        r("rows.add()", function(a) {
            var b = this.iterator("table", function(b) {
                var c, f, g, h = [];
                f = 0;
                for (g = a.length; f < g; f++)
                    c = a[f],
                    c.nodeName && "TR" === c.nodeName.toUpperCase() ? h.push(ka(b, c)[0]) : h.push(I(b, c));
                return h
            })
              , c = this.rows(-1);
            c.pop();
            c.push.apply(c, b.toArray());
            return c
        });
        r("row()", function(a, b) {
            return bb(this.rows(a, b))
        });
        r("row().data()", function(a) {
            var b = this.context;
            if (a === l)
                return b.length && this.length ? b[0].aoData[this[0]]._aData : l;
            b[0].aoData[this[0]]._aData = a;
            oa(b[0], this[0], "data");
            return this
        });
        r("row().node()", function() {
            var a = this.context;
            return a.length && this.length ? a[0].aoData[this[0]].nTr || null : null
        });
        r("row.add()", function(a) {
            a instanceof h && a.length && (a = a[0]);
            var b = this.iterator("table", function(b) {
                return a.nodeName && "TR" === a.nodeName.toUpperCase() ? ka(b, a)[0] : I(b, a)
            });
            return this.row(b[0])
        });
        var cb = function(a, b) {
            var c = a.context;
            c.length && (c = c[0].aoData[b !== l ? b : a[0]],
            c._details && (c._details.remove(),
            c._detailsShow = l,
            c._details = l))
        }
          , Ub = function(a, b) {
            var c = a.context;
            if (c.length && a.length) {
                var d = c[0].aoData[a[0]];
                if (d._details) {
                    (d._detailsShow = b) ? d._details.insertAfter(d.nTr) : d._details.detach();
                    var e = c[0]
                      , f = new q(e)
                      , g = e.aoData;
                    f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");
                    0 < C(g, "_details").length && (f.on("draw.dt.DT_details", function(a, b) {
                        e === b && f.rows({
                            page: "current"
                        }).eq(0).each(function(a) {
                            a = g[a];
                            a._detailsShow && a._details.insertAfter(a.nTr)
                        })
                    }),
                    f.on("column-visibility.dt.DT_details", function(a, b) {
                        if (e === b)
                            for (var c, d = aa(b), f = 0, h = g.length; f < h; f++)
                                c = g[f],
                                c._details && c._details.children("td[colspan]").attr("colspan", d)
                    }),
                    f.on("destroy.dt.DT_details", function(a, b) {
                        if (e === b)
                            for (var c = 0, d = g.length; c < d; c++)
                                g[c]._details && cb(f, c)
                    }))
                }
            }
        };
        r("row().child()", function(a, b) {
            var c = this.context;
            if (a === l)
                return c.length && this.length ? c[0].aoData[this[0]]._details : l;
            if (!0 === a)
                this.child.show();
            else if (!1 === a)
                cb(this);
            else if (c.length && this.length) {
                var d = c[0]
                  , c = c[0].aoData[this[0]]
                  , e = []
                  , f = function(a, b) {
                    if (a.nodeName && "tr" === a.nodeName.toLowerCase())
                        e.push(a);
                    else {
                        var c = h("<tr><td/></tr>").addClass(b);
                        h("td", c).addClass(b).html(a)[0].colSpan = aa(d);
                        e.push(c[0])
                    }
                };
                if (h.isArray(a) || a instanceof h)
                    for (var g = 0, i = a.length; g < i; g++)
                        f(a[g], b);
                else
                    f(a, b);
                c._details && c._details.remove();
                c._details = h(e);
                c._detailsShow && c._details.insertAfter(c.nTr)
            }
            return this
        });
        r(["row().child.show()", "row().child().show()"], function() {
            Ub(this, !0);
            return this
        });
        r(["row().child.hide()", "row().child().hide()"], function() {
            Ub(this, !1);
            return this
        });
        r(["row().child.remove()", "row().child().remove()"], function() {
            cb(this);
            return this
        });
        r("row().child.isShown()", function() {
            var a = this.context;
            return a.length && this.length ? a[0].aoData[this[0]]._detailsShow || !1 : !1
        });
        var cc = /^(.+):(name|visIdx|visible)$/
          , Vb = function(a, b, c, d, e) {
            for (var c = [], d = 0, f = e.length; d < f; d++)
                c.push(w(a, e[d], b));
            return c
        };
        r("columns()", function(a, b) {
            a === l ? a = "" : h.isPlainObject(a) && (b = a,
            a = "");
            var b = ab(b)
              , c = this.iterator("table", function(c) {
                var e = a
                  , f = b
                  , g = c.aoColumns
                  , i = C(g, "sName")
                  , j = C(g, "nTh");
                return $a(e, function(a) {
                    var b = Pb(a);
                    if (a === "")
                        return U(g.length);
                    if (b !== null)
                        return [b >= 0 ? b : g.length + b];
                    if (typeof a === "function") {
                        var e = Ba(c, f);
                        return h.map(g, function(b, f) {
                            return a(f, Vb(c, f, 0, 0, e), j[f]) ? f : null
                        })
                    }
                    var k = typeof a === "string" ? a.match(cc) : "";
                    if (k)
                        switch (k[2]) {
                        case "visIdx":
                        case "visible":
                            b = parseInt(k[1], 10);
                            if (b < 0) {
                                var l = h.map(g, function(a, b) {
                                    return a.bVisible ? b : null
                                });
                                return [l[l.length + b]]
                            }
                            return [ja(c, b)];
                        case "name":
                            return h.map(i, function(a, b) {
                                return a === k[1] ? b : null
                            })
                        }
                    else
                        return h(j).filter(a).map(function() {
                            return h.inArray(this, j)
                        }).toArray()
                })
            });
            c.selector.cols = a;
            c.selector.opts = b;
            return c
        });
        t("columns().header()", "column().header()", function() {
            return this.iterator("column", function(a, b) {
                return a.aoColumns[b].nTh
            })
        });
        t("columns().footer()", "column().footer()", function() {
            return this.iterator("column", function(a, b) {
                return a.aoColumns[b].nTf
            })
        });
        t("columns().data()", "column().data()", function() {
            return this.iterator("column-rows", Vb)
        });
        t("columns().dataSrc()", "column().dataSrc()", function() {
            return this.iterator("column", function(a, b) {
                return a.aoColumns[b].mData
            })
        });
        t("columns().cache()", "column().cache()", function(a) {
            return this.iterator("column-rows", function(b, c, d, e, f) {
                return ga(b.aoData, f, "search" === a ? "_aFilterData" : "_aSortData", c)
            })
        });
        t("columns().nodes()", "column().nodes()", function() {
            return this.iterator("column-rows", function(a, b, c, d, e) {
                return ga(a.aoData, e, "anCells", b)
            })
        });
        t("columns().visible()", "column().visible()", function(a, b) {
            return this.iterator("column", function(c, d) {
                var e;
                if (a === l)
                    e = c.aoColumns[d].bVisible;
                else {
                    var f = c.aoColumns;
                    e = f[d];
                    var g = c.aoData, i, j, n;
                    if (a === l)
                        e = e.bVisible;
                    else {
                        if (e.bVisible !== a) {
                            if (a) {
                                var m = h.inArray(!0, C(f, "bVisible"), d + 1);
                                i = 0;
                                for (j = g.length; i < j; i++)
                                    n = g[i].nTr,
                                    f = g[i].anCells,
                                    n && n.insertBefore(f[d], f[m] || null)
                            } else
                                h(C(c.aoData, "anCells", d)).detach();
                            e.bVisible = a;
                            da(c, c.aoHeader);
                            da(c, c.aoFooter);
                            if (b === l || b)
                                X(c),
                                (c.oScroll.sX || c.oScroll.sY) && Y(c);
                            u(c, null, "column-visibility", [c, d, a]);
                            xa(c)
                        }
                        e = void 0
                    }
                }
                return e
            })
        });
        t("columns().indexes()", "column().index()", function(a) {
            return this.iterator("column", function(b, c) {
                return "visible" === a ? $(b, c) : c
            })
        });
        r("columns.adjust()", function() {
            return this.iterator("table", function(a) {
                X(a)
            })
        });
        r("column.index()", function(a, b) {
            if (0 !== this.context.length) {
                var c = this.context[0];
                if ("fromVisible" === a || "toData" === a)
                    return ja(c, b);
                if ("fromData" === a || "toVisible" === a)
                    return $(c, b)
            }
        });
        r("column()", function(a, b) {
            return bb(this.columns(a, b))
        });
        r("cells()", function(a, b, c) {
            h.isPlainObject(a) && (typeof a.row !== l ? (c = b,
            b = null) : (c = a,
            a = null));
            h.isPlainObject(b) && (c = b,
            b = null);
            if (null === b || b === l)
                return this.iterator("table", function(b) {
                    var d = a, e = ab(c), f = b.aoData, g = Ba(b, e), e = ga(f, g, "anCells"), i = h([].concat.apply([], e)), j, m = b.aoColumns.length, n, p, r, q, s, t;
                    return $a(d, function(a) {
                        var c = typeof a === "function";
                        if (a === null || a === l || c) {
                            n = [];
                            p = 0;
                            for (r = g.length; p < r; p++) {
                                j = g[p];
                                for (q = 0; q < m; q++) {
                                    s = {
                                        row: j,
                                        column: q
                                    };
                                    if (c) {
                                        t = b.aoData[j];
                                        a(s, w(b, j, q), t.anCells[q]) && n.push(s)
                                    } else
                                        n.push(s)
                                }
                            }
                            return n
                        }
                        return h.isPlainObject(a) ? [a] : i.filter(a).map(function(a, b) {
                            j = b.parentNode._DT_RowIndex;
                            return {
                                row: j,
                                column: h.inArray(b, f[j].anCells)
                            }
                        }).toArray()
                    })
                });
            var d = this.columns(b, c), e = this.rows(a, c), f, g, i, j, n, m = this.iterator("table", function(a, b) {
                f = [];
                g = 0;
                for (i = e[b].length; g < i; g++) {
                    j = 0;
                    for (n = d[b].length; j < n; j++)
                        f.push({
                            row: e[b][g],
                            column: d[b][j]
                        })
                }
                return f
            });
            h.extend(m.selector, {
                cols: b,
                rows: a,
                opts: c
            });
            return m
        });
        t("cells().nodes()", "cell().node()", function() {
            return this.iterator("cell", function(a, b, c) {
                return a.aoData[b].anCells[c]
            })
        });
        r("cells().data()", function() {
            return this.iterator("cell", function(a, b, c) {
                return w(a, b, c)
            })
        });
        t("cells().cache()", "cell().cache()", function(a) {
            a = "search" === a ? "_aFilterData" : "_aSortData";
            return this.iterator("cell", function(b, c, d) {
                return b.aoData[c][a][d]
            })
        });
        t("cells().render()", "cell().render()", function(a) {
            return this.iterator("cell", function(b, c, d) {
                return w(b, c, d, a)
            })
        });
        t("cells().indexes()", "cell().index()", function() {
            return this.iterator("cell", function(a, b, c) {
                return {
                    row: b,
                    column: c,
                    columnVisible: $(a, c)
                }
            })
        });
        r(["cells().invalidate()", "cell().invalidate()"], function(a) {
            var b = this.selector;
            this.rows(b.rows, b.opts).invalidate(a);
            return this
        });
        r("cell()", function(a, b, c) {
            return bb(this.cells(a, b, c))
        });
        r("cell().data()", function(a) {
            var b = this.context
              , c = this[0];
            if (a === l)
                return b.length && c.length ? w(b[0], c[0].row, c[0].column) : l;
            Ha(b[0], c[0].row, c[0].column, a);
            oa(b[0], c[0].row, "data", c[0].column);
            return this
        });
        r("order()", function(a, b) {
            var c = this.context;
            if (a === l)
                return 0 !== c.length ? c[0].aaSorting : l;
            "number" === typeof a ? a = [[a, b]] : h.isArray(a[0]) || (a = Array.prototype.slice.call(arguments));
            return this.iterator("table", function(b) {
                b.aaSorting = a.slice()
            })
        });
        r("order.listener()", function(a, b, c) {
            return this.iterator("table", function(d) {
                Na(d, a, b, c)
            })
        });
        r(["columns().order()", "column().order()"], function(a) {
            var b = this;
            return this.iterator("table", function(c, d) {
                var e = [];
                h.each(b[d], function(b, c) {
                    e.push([c, a])
                });
                c.aaSorting = e
            })
        });
        r("search()", function(a, b, c, d) {
            var e = this.context;
            return a === l ? 0 !== e.length ? e[0].oPreviousSearch.sSearch : l : this.iterator("table", function(e) {
                e.oFeatures.bFilter && ea(e, h.extend({}, e.oPreviousSearch, {
                    sSearch: a + "",
                    bRegex: null === b ? !1 : b,
                    bSmart: null === c ? !0 : c,
                    bCaseInsensitive: null === d ? !0 : d
                }), 1)
            })
        });
        t("columns().search()", "column().search()", function(a, b, c, d) {
            return this.iterator("column", function(e, f) {
                var g = e.aoPreSearchCols;
                if (a === l)
                    return g[f].sSearch;
                e.oFeatures.bFilter && (h.extend(g[f], {
                    sSearch: a + "",
                    bRegex: null === b ? !1 : b,
                    bSmart: null === c ? !0 : c,
                    bCaseInsensitive: null === d ? !0 : d
                }),
                ea(e, e.oPreviousSearch, 1))
            })
        });
        r("state()", function() {
            return this.context.length ? this.context[0].oSavedState : null
        });
        r("state.clear()", function() {
            return this.iterator("table", function(a) {
                a.fnStateSaveCallback.call(a.oInstance, a, {})
            })
        });
        r("state.loaded()", function() {
            return this.context.length ? this.context[0].oLoadedState : null
        });
        r("state.save()", function() {
            return this.iterator("table", function(a) {
                xa(a)
            })
        });
        p.versionCheck = p.fnVersionCheck = function(a) {
            for (var b = p.version.split("."), a = a.split("."), c, d, e = 0, f = a.length; e < f; e++)
                if (c = parseInt(b[e], 10) || 0,
                d = parseInt(a[e], 10) || 0,
                c !== d)
                    return c > d;
            return !0
        }
        ;
        p.isDataTable = p.fnIsDataTable = function(a) {
            var b = h(a).get(0)
              , c = !1;
            h.each(p.settings, function(a, e) {
                if (e.nTable === b || e.nScrollHead === b || e.nScrollFoot === b)
                    c = !0
            });
            return c
        }
        ;
        p.tables = p.fnTables = function(a) {
            return jQuery.map(p.settings, function(b) {
                if (!a || a && h(b.nTable).is(":visible"))
                    return b.nTable
            })
        }
        ;
        p.util = {
            throttle: ta
        };
        p.camelToHungarian = G;
        r("$()", function(a, b) {
            var c = this.rows(b).nodes()
              , c = h(c);
            return h([].concat(c.filter(a).toArray(), c.find(a).toArray()))
        });
        h.each(["on", "one", "off"], function(a, b) {
            r(b + "()", function() {
                var a = Array.prototype.slice.call(arguments);
                a[0].match(/\.dt\b/) || (a[0] += ".dt");
                var d = h(this.tables().nodes());
                d[b].apply(d, a);
                return this
            })
        });
        r("clear()", function() {
            return this.iterator("table", function(a) {
                ma(a)
            })
        });
        r("settings()", function() {
            return new q(this.context,this.context)
        });
        r("data()", function() {
            return this.iterator("table", function(a) {
                return C(a.aoData, "_aData")
            }).flatten()
        });
        r("destroy()", function(a) {
            a = a || !1;
            return this.iterator("table", function(b) {
                var c = b.nTableWrapper.parentNode, d = b.oClasses, e = b.nTable, f = b.nTBody, g = b.nTHead, i = b.nTFoot, j = h(e), f = h(f), l = h(b.nTableWrapper), m = h.map(b.aoData, function(a) {
                    return a.nTr
                }), o;
                b.bDestroying = !0;
                u(b, "aoDestroyCallback", "destroy", [b]);
                a || (new q(b)).columns().visible(!0);
                l.unbind(".DT").find(":not(tbody *)").unbind(".DT");
                h(Da).unbind(".DT-" + b.sInstance);
                e != g.parentNode && (j.children("thead").detach(),
                j.append(g));
                i && e != i.parentNode && (j.children("tfoot").detach(),
                j.append(i));
                j.detach();
                l.detach();
                b.aaSorting = [];
                b.aaSortingFixed = [];
                wa(b);
                h(m).removeClass(b.asStripeClasses.join(" "));
                h("th, td", g).removeClass(d.sSortable + " " + d.sSortableAsc + " " + d.sSortableDesc + " " + d.sSortableNone);
                b.bJUI && (h("th span." + d.sSortIcon + ", td span." + d.sSortIcon, g).detach(),
                h("th, td", g).each(function() {
                    var a = h("div." + d.sSortJUIWrapper, this);
                    h(this).append(a.contents());
                    a.detach()
                }));
                !a && c && c.insertBefore(e, b.nTableReinsertBefore);
                f.children().detach();
                f.append(m);
                j.css("width", b.sDestroyWidth).removeClass(d.sTable);
                (o = b.asDestroyStripes.length) && f.children().each(function(a) {
                    h(this).addClass(b.asDestroyStripes[a % o])
                });
                c = h.inArray(b, p.settings);
                -1 !== c && p.settings.splice(c, 1)
            })
        });
        p.version = "1.10.3";
        p.settings = [];
        p.models = {};
        p.models.oSearch = {
            bCaseInsensitive: !0,
            sSearch: "",
            bRegex: !1,
            bSmart: !0
        };
        p.models.oRow = {
            nTr: null,
            anCells: null,
            _aData: [],
            _aSortData: null,
            _aFilterData: null,
            _sFilterRow: null,
            _sRowStripe: "",
            src: null
        };
        p.models.oColumn = {
            idx: null,
            aDataSort: null,
            asSorting: null,
            bSearchable: null,
            bSortable: null,
            bVisible: null,
            _sManualType: null,
            _bAttrSrc: !1,
            fnCreatedCell: null,
            fnGetData: null,
            fnSetData: null,
            mData: null,
            mRender: null,
            nTh: null,
            nTf: null,
            sClass: null,
            sContentPadding: null,
            sDefaultContent: null,
            sName: null,
            sSortDataType: "std",
            sSortingClass: null,
            sSortingClassJUI: null,
            sTitle: null,
            sType: null,
            sWidth: null,
            sWidthOrig: null
        };
        p.defaults = {
            aaData: null,
            aaSorting: [[0, "asc"]],
            aaSortingFixed: [],
            ajax: null,
            aLengthMenu: [10, 25, 50, 100],
            aoColumns: null,
            aoColumnDefs: null,
            aoSearchCols: [],
            asStripeClasses: null,
            bAutoWidth: !0,
            bDeferRender: !1,
            bDestroy: !1,
            bFilter: !0,
            bInfo: !0,
            bJQueryUI: !1,
            bLengthChange: !0,
            bPaginate: !0,
            bProcessing: !1,
            bRetrieve: !1,
            bScrollCollapse: !1,
            bServerSide: !1,
            bSort: !0,
            bSortMulti: !0,
            bSortCellsTop: !1,
            bSortClasses: !0,
            bStateSave: !1,
            fnCreatedRow: null,
            fnDrawCallback: null,
            fnFooterCallback: null,
            fnFormatNumber: function(a) {
                return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g, this.oLanguage.sThousands)
            },
            fnHeaderCallback: null,
            fnInfoCallback: null,
            fnInitComplete: null,
            fnPreDrawCallback: null,
            fnRowCallback: null,
            fnServerData: null,
            fnServerParams: null,
            fnStateLoadCallback: function(a) {
                try {
                    return JSON.parse((-1 === a.iStateDuration ? sessionStorage : localStorage).getItem("DataTables_" + a.sInstance + "_" + location.pathname))
                } catch (b) {}
            },
            fnStateLoadParams: null,
            fnStateLoaded: null,
            fnStateSaveCallback: function(a, b) {
                try {
                    (-1 === a.iStateDuration ? sessionStorage : localStorage).setItem("DataTables_" + a.sInstance + "_" + location.pathname, JSON.stringify(b))
                } catch (c) {}
            },
            fnStateSaveParams: null,
            iStateDuration: 7200,
            iDeferLoading: null,
            iDisplayLength: 10,
            iDisplayStart: 0,
            iTabIndex: 0,
            oClasses: {},
            oLanguage: {
                oAria: {
                    sSortAscending: ": activate to sort column ascending",
                    sSortDescending: ": activate to sort column descending"
                },
                oPaginate: {
                    sFirst: "First",
                    sLast: "Last",
                    sNext: "Next",
                    sPrevious: "Previous"
                },
                sEmptyTable: "No data available in table",
                sInfo: "Showing _START_ to _END_ of _TOTAL_ entries",
                sInfoEmpty: "Showing 0 to 0 of 0 entries",
                sInfoFiltered: "(filtered from _MAX_ total entries)",
                sInfoPostFix: "",
                sDecimal: "",
                sThousands: ",",
                sLengthMenu: "Show _MENU_ entries",
                sLoadingRecords: "Loading...",
                sProcessing: "Processing...",
                sSearch: "Search:",
                sSearchPlaceholder: "",
                sUrl: "",
                sZeroRecords: "No matching records found"
            },
            oSearch: h.extend({}, p.models.oSearch),
            sAjaxDataProp: "data",
            sAjaxSource: null,
            sDom: "lfrtip",
            searchDelay: null,
            sPaginationType: "simple_numbers",
            sScrollX: "",
            sScrollXInner: "",
            sScrollY: "",
            sServerMethod: "GET",
            renderer: null
        };
        V(p.defaults);
        p.defaults.column = {
            aDataSort: null,
            iDataSort: -1,
            asSorting: ["asc", "desc"],
            bSearchable: !0,
            bSortable: !0,
            bVisible: !0,
            fnCreatedCell: null,
            mData: null,
            mRender: null,
            sCellType: "td",
            sClass: "",
            sContentPadding: "",
            sDefaultContent: null,
            sName: "",
            sSortDataType: "std",
            sTitle: null,
            sType: null,
            sWidth: null
        };
        V(p.defaults.column);
        p.models.oSettings = {
            oFeatures: {
                bAutoWidth: null,
                bDeferRender: null,
                bFilter: null,
                bInfo: null,
                bLengthChange: null,
                bPaginate: null,
                bProcessing: null,
                bServerSide: null,
                bSort: null,
                bSortMulti: null,
                bSortClasses: null,
                bStateSave: null
            },
            oScroll: {
                bCollapse: null,
                iBarWidth: 0,
                sX: null,
                sXInner: null,
                sY: null
            },
            oLanguage: {
                fnInfoCallback: null
            },
            oBrowser: {
                bScrollOversize: !1,
                bScrollbarLeft: !1
            },
            ajax: null,
            aanFeatures: [],
            aoData: [],
            aiDisplay: [],
            aiDisplayMaster: [],
            aoColumns: [],
            aoHeader: [],
            aoFooter: [],
            oPreviousSearch: {},
            aoPreSearchCols: [],
            aaSorting: null,
            aaSortingFixed: [],
            asStripeClasses: null,
            asDestroyStripes: [],
            sDestroyWidth: 0,
            aoRowCallback: [],
            aoHeaderCallback: [],
            aoFooterCallback: [],
            aoDrawCallback: [],
            aoRowCreatedCallback: [],
            aoPreDrawCallback: [],
            aoInitComplete: [],
            aoStateSaveParams: [],
            aoStateLoadParams: [],
            aoStateLoaded: [],
            sTableId: "",
            nTable: null,
            nTHead: null,
            nTFoot: null,
            nTBody: null,
            nTableWrapper: null,
            bDeferLoading: !1,
            bInitialised: !1,
            aoOpenRows: [],
            sDom: null,
            searchDelay: null,
            sPaginationType: "two_button",
            iStateDuration: 0,
            aoStateSave: [],
            aoStateLoad: [],
            oSavedState: null,
            oLoadedState: null,
            sAjaxSource: null,
            sAjaxDataProp: null,
            bAjaxDataGet: !0,
            jqXHR: null,
            json: l,
            oAjaxData: l,
            fnServerData: null,
            aoServerParams: [],
            sServerMethod: null,
            fnFormatNumber: null,
            aLengthMenu: null,
            iDraw: 0,
            bDrawing: !1,
            iDrawError: -1,
            _iDisplayLength: 10,
            _iDisplayStart: 0,
            _iRecordsTotal: 0,
            _iRecordsDisplay: 0,
            bJUI: null,
            oClasses: {},
            bFiltered: !1,
            bSorted: !1,
            bSortCellsTop: null,
            oInit: null,
            aoDestroyCallback: [],
            fnRecordsTotal: function() {
                return "ssp" == A(this) ? 1 * this._iRecordsTotal : this.aiDisplayMaster.length
            },
            fnRecordsDisplay: function() {
                return "ssp" == A(this) ? 1 * this._iRecordsDisplay : this.aiDisplay.length
            },
            fnDisplayEnd: function() {
                var a = this._iDisplayLength
                  , b = this._iDisplayStart
                  , c = b + a
                  , d = this.aiDisplay.length
                  , e = this.oFeatures
                  , f = e.bPaginate;
                return e.bServerSide ? !1 === f || -1 === a ? b + d : Math.min(b + a, this._iRecordsDisplay) : !f || c > d || -1 === a ? d : c
            },
            oInstance: null,
            sInstance: null,
            iTabIndex: 0,
            nScrollHead: null,
            nScrollFoot: null,
            aLastSort: [],
            oPlugins: {}
        };
        p.ext = v = {
            classes: {},
            errMode: "alert",
            feature: [],
            search: [],
            internal: {},
            legacy: {
                ajax: null
            },
            pager: {},
            renderer: {
                pageButton: {},
                header: {}
            },
            order: {},
            type: {
                detect: [],
                search: {},
                order: {}
            },
            _unique: 0,
            fnVersionCheck: p.fnVersionCheck,
            iApiIndex: 0,
            oJUIClasses: {},
            sVersion: p.version
        };
        h.extend(v, {
            afnFiltering: v.search,
            aTypes: v.type.detect,
            ofnSearch: v.type.search,
            oSort: v.type.order,
            afnSortData: v.order,
            aoFeatures: v.feature,
            oApi: v.internal,
            oStdClasses: v.classes,
            oPagination: v.pager
        });
        h.extend(p.ext.classes, {
            sTable: "dataTable",
            sNoFooter: "no-footer",
            sPageButton: "paginate_button",
            sPageButtonActive: "current",
            sPageButtonDisabled: "disabled",
            sStripeOdd: "odd",
            sStripeEven: "even",
            sRowEmpty: "dataTables_empty",
            sWrapper: "dataTables_wrapper",
            sFilter: "dataTables_filter",
            sInfo: "dataTables_info",
            sPaging: "dataTables_paginate paging_",
            sLength: "dataTables_length",
            sProcessing: "dataTables_processing",
            sSortAsc: "sorting_asc",
            sSortDesc: "sorting_desc",
            sSortable: "sorting",
            sSortableAsc: "sorting_asc_disabled",
            sSortableDesc: "sorting_desc_disabled",
            sSortableNone: "sorting_disabled",
            sSortColumn: "sorting_",
            sFilterInput: "",
            sLengthSelect: "",
            sScrollWrapper: "dataTables_scroll",
            sScrollHead: "dataTables_scrollHead",
            sScrollHeadInner: "dataTables_scrollHeadInner",
            sScrollBody: "dataTables_scrollBody",
            sScrollFoot: "dataTables_scrollFoot",
            sScrollFootInner: "dataTables_scrollFootInner",
            sHeaderTH: "",
            sFooterTH: "",
            sSortJUIAsc: "",
            sSortJUIDesc: "",
            sSortJUI: "",
            sSortJUIAscAllowed: "",
            sSortJUIDescAllowed: "",
            sSortJUIWrapper: "",
            sSortIcon: "",
            sJUIHeader: "",
            sJUIFooter: ""
        });
        var Ca = ""
          , Ca = ""
          , E = Ca + "ui-state-default"
          , ha = Ca + "css_right ui-icon ui-icon-"
          , Wb = Ca + "fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";
        h.extend(p.ext.oJUIClasses, p.ext.classes, {
            sPageButton: "fg-button ui-button " + E,
            sPageButtonActive: "ui-state-disabled",
            sPageButtonDisabled: "ui-state-disabled",
            sPaging: "dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",
            sSortAsc: E + " sorting_asc",
            sSortDesc: E + " sorting_desc",
            sSortable: E + " sorting",
            sSortableAsc: E + " sorting_asc_disabled",
            sSortableDesc: E + " sorting_desc_disabled",
            sSortableNone: E + " sorting_disabled",
            sSortJUIAsc: ha + "triangle-1-n",
            sSortJUIDesc: ha + "triangle-1-s",
            sSortJUI: ha + "carat-2-n-s",
            sSortJUIAscAllowed: ha + "carat-1-n",
            sSortJUIDescAllowed: ha + "carat-1-s",
            sSortJUIWrapper: "DataTables_sort_wrapper",
            sSortIcon: "DataTables_sort_icon",
            sScrollHead: "dataTables_scrollHead " + E,
            sScrollFoot: "dataTables_scrollFoot " + E,
            sHeaderTH: E,
            sFooterTH: E,
            sJUIHeader: Wb + " ui-corner-tl ui-corner-tr",
            sJUIFooter: Wb + " ui-corner-bl ui-corner-br"
        });
        var Mb = p.ext.pager;
        h.extend(Mb, {
            simple: function() {
                return ["previous", "next"]
            },
            full: function() {
                return ["first", "previous", "next", "last"]
            },
            simple_numbers: function(a, b) {
                return ["previous", Wa(a, b), "next"]
            },
            full_numbers: function(a, b) {
                return ["first", "previous", Wa(a, b), "next", "last"]
            },
            _numbers: Wa,
            numbers_length: 7
        });
        h.extend(!0, p.ext.renderer, {
            pageButton: {
                _: function(a, b, c, d, e, f) {
                    var g = a.oClasses, i = a.oLanguage.oPaginate, j, l, m = 0, o = function(b, d) {
                        var k, p, r, q, s = function(b) {
                            Ta(a, b.data.action, true)
                        };
                        k = 0;
                        for (p = d.length; k < p; k++) {
                            q = d[k];
                            if (h.isArray(q)) {
                                r = h("<" + (q.DT_el || "div") + "/>").appendTo(b);
                                o(r, q)
                            } else {
                                l = j = "";
                                switch (q) {
                                case "ellipsis":
                                    b.append("<span>&hellip;</span>");
                                    break;
                                case "first":
                                    j = i.sFirst;
                                    l = q + (e > 0 ? "" : " " + g.sPageButtonDisabled);
                                    break;
                                case "previous":
                                    j = i.sPrevious;
                                    l = q + (e > 0 ? "" : " " + g.sPageButtonDisabled);
                                    break;
                                case "next":
                                    j = i.sNext;
                                    l = q + (e < f - 1 ? "" : " " + g.sPageButtonDisabled);
                                    break;
                                case "last":
                                    j = i.sLast;
                                    l = q + (e < f - 1 ? "" : " " + g.sPageButtonDisabled);
                                    break;
                                default:
                                    j = q + 1;
                                    l = e === q ? g.sPageButtonActive : ""
                                }
                                if (j) {
                                    r = h("<a>", {
                                        "class": g.sPageButton + " " + l,
                                        "aria-controls": a.sTableId,
                                        "data-dt-idx": m,
                                        tabindex: a.iTabIndex,
                                        id: c === 0 && typeof q === "string" ? a.sTableId + "_" + q : null
                                    }).html(j).appendTo(b);
                                    Va(r, {
                                        action: q
                                    }, s);
                                    m++
                                }
                            }
                        }
                    };
                    try {
                        var k = h(P.activeElement).data("dt-idx");
                        o(h(b).empty(), d);
                        k !== null && h(b).find("[data-dt-idx=" + k + "]").focus()
                    } catch (p) {}
                }
            }
        });
        var za = function(a, b, c, d) {
            if (0 !== a && (!a || "-" === a))
                return -Infinity;
            b && (a = Qb(a, b));
            a.replace && (c && (a = a.replace(c, "")),
            d && (a = a.replace(d, "")));
            return 1 * a
        };
        h.extend(v.type.order, {
            "date-pre": function(a) {
                return Date.parse(a) || 0
            },
            "html-pre": function(a) {
                return H(a) ? "" : a.replace ? a.replace(/<.*?>/g, "").toLowerCase() : a + ""
            },
            "string-pre": function(a) {
                return H(a) ? "" : "string" === typeof a ? a.toLowerCase() : !a.toString ? "" : a.toString()
            },
            "string-asc": function(a, b) {
                return a < b ? -1 : a > b ? 1 : 0
            },
            "string-desc": function(a, b) {
                return a < b ? 1 : a > b ? -1 : 0
            }
        });
        db("");
        h.extend(p.ext.type.detect, [function(a, b) {
            var c = b.oLanguage.sDecimal;
            return Za(a, c) ? "num" + c : null
        }
        , function(a) {
            if (a && !(a instanceof Date) && (!$b.test(a) || !ac.test(a)))
                return null;
            var b = Date.parse(a);
            return null !== b && !isNaN(b) || H(a) ? "date" : null
        }
        , function(a, b) {
            var c = b.oLanguage.sDecimal;
            return Za(a, c, !0) ? "num-fmt" + c : null
        }
        , function(a, b) {
            var c = b.oLanguage.sDecimal;
            return Rb(a, c) ? "html-num" + c : null
        }
        , function(a, b) {
            var c = b.oLanguage.sDecimal;
            return Rb(a, c, !0) ? "html-num-fmt" + c : null
        }
        , function(a) {
            return H(a) || "string" === typeof a && -1 !== a.indexOf("<") ? "html" : null
        }
        ]);
        h.extend(p.ext.type.search, {
            html: function(a) {
                return H(a) ? a : "string" === typeof a ? a.replace(Ob, " ").replace(Aa, "") : ""
            },
            string: function(a) {
                return H(a) ? a : "string" === typeof a ? a.replace(Ob, " ") : a
            }
        });
        h.extend(!0, p.ext.renderer, {
            header: {
                _: function(a, b, c, d) {
                    h(a.nTable).on("order.dt.DT", function(e, f, g, h) {
                        if (a === f) {
                            e = c.idx;
                            b.removeClass(c.sSortingClass + " " + d.sSortAsc + " " + d.sSortDesc).addClass(h[e] == "asc" ? d.sSortAsc : h[e] == "desc" ? d.sSortDesc : c.sSortingClass)
                        }
                    })
                },
                jqueryui: function(a, b, c, d) {
                    h("<div/>").addClass(d.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(d.sSortIcon + " " + c.sSortingClassJUI)).appendTo(b);
                    h(a.nTable).on("order.dt.DT", function(e, f, g, h) {
                        if (a === f) {
                            e = c.idx;
                            b.removeClass(d.sSortAsc + " " + d.sSortDesc).addClass(h[e] == "asc" ? d.sSortAsc : h[e] == "desc" ? d.sSortDesc : c.sSortingClass);
                            b.find("span." + d.sSortIcon).removeClass(d.sSortJUIAsc + " " + d.sSortJUIDesc + " " + d.sSortJUI + " " + d.sSortJUIAscAllowed + " " + d.sSortJUIDescAllowed).addClass(h[e] == "asc" ? d.sSortJUIAsc : h[e] == "desc" ? d.sSortJUIDesc : c.sSortingClassJUI)
                        }
                    })
                }
            }
        });
        p.render = {
            number: function(a, b, c, d) {
                return {
                    display: function(e) {
                        var f = 0 > e ? "-" : ""
                          , e = Math.abs(parseFloat(e))
                          , g = parseInt(e, 10)
                          , e = c ? b + (e - g).toFixed(c).substring(2) : "";
                        return f + (d || "") + g.toString().replace(/\B(?=(\d{3})+(?!\d))/g, a) + e
                    }
                }
            }
        };
        h.extend(p.ext.internal, {
            _fnExternApiFunc: Nb,
            _fnBuildAjax: qa,
            _fnAjaxUpdate: kb,
            _fnAjaxParameters: tb,
            _fnAjaxUpdateDraw: ub,
            _fnAjaxDataSrc: ra,
            _fnAddColumn: Ea,
            _fnColumnOptions: ia,
            _fnAdjustColumnSizing: X,
            _fnVisibleToColumnIndex: ja,
            _fnColumnIndexToVisible: $,
            _fnVisbleColumns: aa,
            _fnGetColumns: Z,
            _fnColumnTypes: Ga,
            _fnApplyColumnDefs: ib,
            _fnHungarianMap: V,
            _fnCamelToHungarian: G,
            _fnLanguageCompat: O,
            _fnBrowserDetect: gb,
            _fnAddData: I,
            _fnAddTr: ka,
            _fnNodeToDataIndex: function(a, b) {
                return b._DT_RowIndex !== l ? b._DT_RowIndex : null
            },
            _fnNodeToColumnIndex: function(a, b, c) {
                return h.inArray(c, a.aoData[b].anCells)
            },
            _fnGetCellData: w,
            _fnSetCellData: Ha,
            _fnSplitObjNotation: Ja,
            _fnGetObjectDataFn: W,
            _fnSetObjectDataFn: Q,
            _fnGetDataMaster: Ka,
            _fnClearTable: ma,
            _fnDeleteIndex: na,
            _fnInvalidateRow: oa,
            _fnGetRowElements: la,
            _fnCreateTr: Ia,
            _fnBuildHead: jb,
            _fnDrawHead: da,
            _fnDraw: L,
            _fnReDraw: M,
            _fnAddOptionsHtml: mb,
            _fnDetectHeader: ca,
            _fnGetUniqueThs: pa,
            _fnFeatureHtmlFilter: ob,
            _fnFilterComplete: ea,
            _fnFilterCustom: xb,
            _fnFilterColumn: wb,
            _fnFilter: vb,
            _fnFilterCreateSearch: Pa,
            _fnEscapeRegex: Qa,
            _fnFilterData: yb,
            _fnFeatureHtmlInfo: rb,
            _fnUpdateInfo: Bb,
            _fnInfoMacros: Cb,
            _fnInitialise: va,
            _fnInitComplete: sa,
            _fnLengthChange: Ra,
            _fnFeatureHtmlLength: nb,
            _fnFeatureHtmlPaginate: sb,
            _fnPageChange: Ta,
            _fnFeatureHtmlProcessing: pb,
            _fnProcessingDisplay: B,
            _fnFeatureHtmlTable: qb,
            _fnScrollDraw: Y,
            _fnApplyToChildren: F,
            _fnCalculateColumnWidths: Fa,
            _fnThrottle: ta,
            _fnConvertToWidth: Db,
            _fnScrollingWidthAdjust: Fb,
            _fnGetWidestNode: Eb,
            _fnGetMaxLenString: Gb,
            _fnStringToCss: s,
            _fnScrollBarWidth: Hb,
            _fnSortFlatten: T,
            _fnSort: lb,
            _fnSortAria: Jb,
            _fnSortListener: Ua,
            _fnSortAttachListener: Na,
            _fnSortingClasses: wa,
            _fnSortData: Ib,
            _fnSaveState: xa,
            _fnLoadState: Kb,
            _fnSettingsFromNode: ya,
            _fnLog: R,
            _fnMap: D,
            _fnBindAction: Va,
            _fnCallbackReg: y,
            _fnCallbackFire: u,
            _fnLengthOverflow: Sa,
            _fnRenderer: Oa,
            _fnDataSource: A,
            _fnRowAttributes: La,
            _fnCalculateEnd: function() {}
        });
        h.fn.dataTable = p;
        h.fn.dataTableSettings = p.settings;
        h.fn.dataTableExt = p.ext;
        h.fn.DataTable = function(a) {
            return h(this).dataTable(a).api()
        }
        ;
        h.each(p, function(a, b) {
            h.fn.DataTable[a] = b
        });
        return h.fn.dataTable
    };
    "function" === typeof define && define.amd ? define("datatables", ["jquery"], O) : "object" === typeof exports ? O(require("jquery")) : jQuery && !jQuery.fn.dataTable && O(jQuery)
}
)(window, document);
if (typeof jQuery === 'undefined') {
    throw new Error('Bootstrap\'s JavaScript requires jQuery')
}
+function($) {
    'use strict';
    function transitionEnd() {
        var el = document.createElement('bootstrap')
        var transEndEventNames = {
            'WebkitTransition': 'webkitTransitionEnd',
            'MozTransition': 'transitionend',
            'OTransition': 'oTransitionEnd otransitionend',
            'transition': 'transitionend'
        }
        for (var name in transEndEventNames) {
            if (el.style[name] !== undefined) {
                return {
                    end: transEndEventNames[name]
                }
            }
        }
        return false
    }
    $.fn.emulateTransitionEnd = function(duration) {
        var called = false
          , $el = this
        $(this).one($.support.transition.end, function() {
            called = true
        })
        var callback = function() {
            if (!called)
                $($el).trigger($.support.transition.end)
        }
        setTimeout(callback, duration)
        return this
    }
    $(function() {
        $.support.transition = transitionEnd()
    })
}(jQuery);
+function($) {
    'use strict';
    var dismiss = '[data-dismiss="alert"]'
    var Alert = function(el) {
        $(el).on('click', dismiss, this.close)
    }
    Alert.prototype.close = function(e) {
        var $this = $(this)
        var selector = $this.attr('data-target')
        if (!selector) {
            selector = $this.attr('href')
            selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '')
        }
        var $parent = $(selector)
        if (e)
            e.preventDefault()
        if (!$parent.length) {
            $parent = $this.hasClass('alert') ? $this : $this.parent()
        }
        $parent.trigger(e = $.Event('close.bs.alert'))
        if (e.isDefaultPrevented())
            return
        $parent.removeClass('in')
        function removeElement() {
            $parent.trigger('closed.bs.alert').remove()
        }
        $.support.transition && $parent.hasClass('fade') ? $parent.one($.support.transition.end, removeElement).emulateTransitionEnd(150) : removeElement()
    }
    var old = $.fn.alert
    $.fn.alert = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.alert')
            if (!data)
                $this.data('bs.alert', (data = new Alert(this)))
            if (typeof option == 'string')
                data[option].call($this)
        })
    }
    $.fn.alert.Constructor = Alert
    $.fn.alert.noConflict = function() {
        $.fn.alert = old
        return this
    }
    $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)
}(jQuery);
+function($) {
    'use strict';
    var Button = function(element, options) {
        this.$element = $(element)
        this.options = $.extend({}, Button.DEFAULTS, options)
        this.isLoading = false
    }
    Button.DEFAULTS = {
        loadingText: 'loading...'
    }
    Button.prototype.setState = function(state) {
        var d = 'disabled'
        var $el = this.$element
        var val = $el.is('input') ? 'val' : 'html'
        var data = $el.data()
        state = state + 'Text'
        if (!data.resetText)
            $el.data('resetText', $el[val]())
        $el[val](data[state] || this.options[state])
        setTimeout($.proxy(function() {
            if (state == 'loadingText') {
                this.isLoading = true
                $el.addClass(d).attr(d, d)
            } else if (this.isLoading) {
                this.isLoading = false
                $el.removeClass(d).removeAttr(d)
            }
        }, this), 0)
    }
    Button.prototype.toggle = function() {
        var changed = true
        var $parent = this.$element.closest('[data-toggle="buttons"]')
        if ($parent.length) {
            var $input = this.$element.find('input')
            if ($input.prop('type') == 'radio') {
                if ($input.prop('checked') && this.$element.hasClass('active'))
                    changed = false
                else
                    $parent.find('.active').removeClass('active')
            }
            if (changed)
                $input.prop('checked', !this.$element.hasClass('active')).trigger('change')
        }
        if (changed)
            this.$element.toggleClass('active')
    }
    var old = $.fn.button
    $.fn.button = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.button')
            var options = typeof option == 'object' && option
            if (!data)
                $this.data('bs.button', (data = new Button(this,options)))
            if (option == 'toggle')
                data.toggle()
            else if (option)
                data.setState(option)
        })
    }
    $.fn.button.Constructor = Button
    $.fn.button.noConflict = function() {
        $.fn.button = old
        return this
    }
    $(document).on('click.bs.button.data-api', '[data-toggle^=button]', function(e) {
        var $btn = $(e.target)
        if (!$btn.hasClass('btn'))
            $btn = $btn.closest('.btn')
        $btn.button('toggle')
        e.preventDefault()
    })
}(jQuery);
+function($) {
    'use strict';
    var Carousel = function(element, options) {
        this.$element = $(element)
        this.$indicators = this.$element.find('.carousel-indicators')
        this.options = options
        this.paused = this.sliding = this.interval = this.$active = this.$items = null
        this.options.pause == 'hover' && this.$element.on('mouseenter', $.proxy(this.pause, this)).on('mouseleave', $.proxy(this.cycle, this))
    }
    Carousel.DEFAULTS = {
        interval: 5000,
        pause: 'hover',
        wrap: true
    }
    Carousel.prototype.cycle = function(e) {
        e || (this.paused = false)
        this.interval && clearInterval(this.interval)
        this.options.interval && !this.paused && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))
        return this
    }
    Carousel.prototype.getActiveIndex = function() {
        this.$active = this.$element.find('.item.active')
        this.$items = this.$active.parent().children()
        return this.$items.index(this.$active)
    }
    Carousel.prototype.to = function(pos) {
        var that = this
        var activeIndex = this.getActiveIndex()
        if (pos > (this.$items.length - 1) || pos < 0)
            return
        if (this.sliding)
            return this.$element.one('slid.bs.carousel', function() {
                that.to(pos)
            })
        if (activeIndex == pos)
            return this.pause().cycle()
        return this.slide(pos > activeIndex ? 'next' : 'prev', $(this.$items[pos]))
    }
    Carousel.prototype.pause = function(e) {
        e || (this.paused = true)
        if (this.$element.find('.next, .prev').length && $.support.transition) {
            this.$element.trigger($.support.transition.end)
            this.cycle(true)
        }
        this.interval = clearInterval(this.interval)
        return this
    }
    Carousel.prototype.next = function() {
        if (this.sliding)
            return
        return this.slide('next')
    }
    Carousel.prototype.prev = function() {
        if (this.sliding)
            return
        return this.slide('prev')
    }
    Carousel.prototype.slide = function(type, next) {
        var $active = this.$element.find('.item.active')
        var $next = next || $active[type]()
        var isCycling = this.interval
        var direction = type == 'next' ? 'left' : 'right'
        var fallback = type == 'next' ? 'first' : 'last'
        var that = this
        if (!$next.length) {
            if (!this.options.wrap)
                return
            $next = this.$element.find('.item')[fallback]()
        }
        if ($next.hasClass('active'))
            return this.sliding = false
        var e = $.Event('slide.bs.carousel', {
            relatedTarget: $next[0],
            direction: direction
        })
        this.$element.trigger(e)
        if (e.isDefaultPrevented())
            return
        this.sliding = true
        isCycling && this.pause()
        if (this.$indicators.length) {
            this.$indicators.find('.active').removeClass('active')
            this.$element.one('slid.bs.carousel', function() {
                var $nextIndicator = $(that.$indicators.children()[that.getActiveIndex()])
                $nextIndicator && $nextIndicator.addClass('active')
            })
        }
        if ($.support.transition && this.$element.hasClass('slide')) {
            $next.addClass(type)
            $next[0].offsetWidth
            $active.addClass(direction)
            $next.addClass(direction)
            $active.one($.support.transition.end, function() {
                $next.removeClass([type, direction].join(' ')).addClass('active')
                $active.removeClass(['active', direction].join(' '))
                that.sliding = false
                setTimeout(function() {
                    that.$element.trigger('slid.bs.carousel')
                }, 0)
            }).emulateTransitionEnd($active.css('transition-duration').slice(0, -1) * 1000)
        } else {
            $active.removeClass('active')
            $next.addClass('active')
            this.sliding = false
            this.$element.trigger('slid.bs.carousel')
        }
        isCycling && this.cycle()
        return this
    }
    var old = $.fn.carousel
    $.fn.carousel = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.carousel')
            var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)
            var action = typeof option == 'string' ? option : options.slide
            if (!data)
                $this.data('bs.carousel', (data = new Carousel(this,options)))
            if (typeof option == 'number')
                data.to(option)
            else if (action)
                data[action]()
            else if (options.interval)
                data.pause().cycle()
        })
    }
    $.fn.carousel.Constructor = Carousel
    $.fn.carousel.noConflict = function() {
        $.fn.carousel = old
        return this
    }
    $(document).on('click.bs.carousel.data-api', '[data-slide], [data-slide-to]', function(e) {
        var $this = $(this), href
        var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, ''))
        var options = $.extend({}, $target.data(), $this.data())
        var slideIndex = $this.attr('data-slide-to')
        if (slideIndex)
            options.interval = false
        $target.carousel(options)
        if (slideIndex = $this.attr('data-slide-to')) {
            $target.data('bs.carousel').to(slideIndex)
        }
        e.preventDefault()
    })
    $(window).on('load', function() {
        $('[data-ride="carousel"]').each(function() {
            var $carousel = $(this)
            $carousel.carousel($carousel.data())
        })
    })
}(jQuery);
+function($) {
    'use strict';
    var Collapse = function(element, options) {
        this.$element = $(element)
        this.options = $.extend({}, Collapse.DEFAULTS, options)
        this.transitioning = null
        if (this.options.parent)
            this.$parent = $(this.options.parent)
        if (this.options.toggle)
            this.toggle()
    }
    Collapse.DEFAULTS = {
        toggle: true
    }
    Collapse.prototype.dimension = function() {
        var hasWidth = this.$element.hasClass('width')
        return hasWidth ? 'width' : 'height'
    }
    Collapse.prototype.show = function() {
        if (this.transitioning || this.$element.hasClass('in'))
            return
        var startEvent = $.Event('show.bs.collapse')
        this.$element.trigger(startEvent)
        if (startEvent.isDefaultPrevented())
            return
        var actives = this.$parent && this.$parent.find('> .panel > .in')
        if (actives && actives.length) {
            var hasData = actives.data('bs.collapse')
            if (hasData && hasData.transitioning)
                return
            actives.collapse('hide')
            hasData || actives.data('bs.collapse', null)
        }
        var dimension = this.dimension()
        this.$element.removeClass('collapse').addClass('collapsing')[dimension](0)
        this.transitioning = 1
        var complete = function() {
            this.$element.removeClass('collapsing').addClass('collapse in')[dimension]('auto')
            this.transitioning = 0
            this.$element.trigger('shown.bs.collapse')
        }
        if (!$.support.transition)
            return complete.call(this)
        var scrollSize = $.camelCase(['scroll', dimension].join('-'))
        this.$element.one($.support.transition.end, $.proxy(complete, this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])
    }
    Collapse.prototype.hide = function() {
        if (this.transitioning || !this.$element.hasClass('in'))
            return
        var startEvent = $.Event('hide.bs.collapse')
        this.$element.trigger(startEvent)
        if (startEvent.isDefaultPrevented())
            return
        var dimension = this.dimension()
        this.$element[dimension](this.$element[dimension]())[0].offsetHeight
        this.$element.addClass('collapsing').removeClass('collapse').removeClass('in')
        this.transitioning = 1
        var complete = function() {
            this.transitioning = 0
            this.$element.trigger('hidden.bs.collapse').removeClass('collapsing').addClass('collapse')
        }
        if (!$.support.transition)
            return complete.call(this)
        this.$element[dimension](0).one($.support.transition.end, $.proxy(complete, this)).emulateTransitionEnd(350)
    }
    Collapse.prototype.toggle = function() {
        this[this.$element.hasClass('in') ? 'hide' : 'show']()
    }
    var old = $.fn.collapse
    $.fn.collapse = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.collapse')
            var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)
            if (!data && options.toggle && option == 'show')
                option = !option
            if (!data)
                $this.data('bs.collapse', (data = new Collapse(this,options)))
            if (typeof option == 'string')
                data[option]()
        })
    }
    $.fn.collapse.Constructor = Collapse
    $.fn.collapse.noConflict = function() {
        $.fn.collapse = old
        return this
    }
    $(document).on('click.bs.collapse.data-api', '[data-toggle=collapse]', function(e) {
        var $this = $(this), href
        var target = $this.attr('data-target') || e.preventDefault() || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')
        var $target = $(target)
        var data = $target.data('bs.collapse')
        var option = data ? 'toggle' : $this.data()
        var parent = $this.attr('data-parent')
        var $parent = parent && $(parent)
        if (!data || !data.transitioning) {
            if ($parent)
                $parent.find('[data-toggle=collapse][data-parent="' + parent + '"]').not($this).addClass('collapsed')
            $this[$target.hasClass('in') ? 'addClass' : 'removeClass']('collapsed')
        }
        $target.collapse(option)
    })
}(jQuery);
+function($) {
    'use strict';
    var backdrop = '.dropdown-backdrop'
    var toggle = '[data-toggle=dropdown]'
    var Dropdown = function(element) {
        $(element).on('click.bs.dropdown', this.toggle)
    }
    Dropdown.prototype.toggle = function(e) {
        var $this = $(this)
        if ($this.is('.disabled, :disabled'))
            return
        var $parent = getParent($this)
        var isActive = $parent.hasClass('open')
        clearMenus()
        if (!isActive) {
            if ('ontouchstart'in document.documentElement && !$parent.closest('.navbar-nav').length) {
                $('<div class="dropdown-backdrop"/>').insertAfter($(this)).on('click', clearMenus)
            }
            var relatedTarget = {
                relatedTarget: this
            }
            $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))
            if (e.isDefaultPrevented())
                return
            $parent.toggleClass('open').trigger('shown.bs.dropdown', relatedTarget)
            $this.focus()
        }
        return false
    }
    Dropdown.prototype.keydown = function(e) {
        if (!/(38|40|27)/.test(e.keyCode))
            return
        var $this = $(this)
        e.preventDefault()
        e.stopPropagation()
        if ($this.is('.disabled, :disabled'))
            return
        var $parent = getParent($this)
        var isActive = $parent.hasClass('open')
        if (!isActive || (isActive && e.keyCode == 27)) {
            if (e.which == 27)
                $parent.find(toggle).focus()
            return $this.click()
        }
        var desc = ' li:not(.divider):visible a'
        var $items = $parent.find('[role=menu]' + desc + ', [role=listbox]' + desc)
        if (!$items.length)
            return
        var index = $items.index($items.filter(':focus'))
        if (e.keyCode == 38 && index > 0)
            index--
        if (e.keyCode == 40 && index < $items.length - 1)
            index++
        if (!~index)
            index = 0
        $items.eq(index).focus()
    }
    function clearMenus(e) {
        $(backdrop).remove()
        $(toggle).each(function() {
            var $parent = getParent($(this))
            var relatedTarget = {
                relatedTarget: this
            }
            if (!$parent.hasClass('open'))
                return
            $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))
            if (e.isDefaultPrevented())
                return
            $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)
        })
    }
    function getParent($this) {
        var selector = $this.attr('data-target')
        if (!selector) {
            selector = $this.attr('href')
            selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '')
        }
        var $parent = selector && $(selector)
        return $parent && $parent.length ? $parent : $this.parent()
    }
    var old = $.fn.dropdown
    $.fn.dropdown = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.dropdown')
            if (!data)
                $this.data('bs.dropdown', (data = new Dropdown(this)))
            if (typeof option == 'string')
                data[option].call($this)
        })
    }
    $.fn.dropdown.Constructor = Dropdown
    $.fn.dropdown.noConflict = function() {
        $.fn.dropdown = old
        return this
    }
    $(document).on('click.bs.dropdown.data-api', clearMenus).on('click.bs.dropdown.data-api', '.dropdown form', function(e) {
        e.stopPropagation()
    }).on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle).on('keydown.bs.dropdown.data-api', toggle + ', [role=menu], [role=listbox]', Dropdown.prototype.keydown)
}(jQuery);
+function($) {
    'use strict';
    var Modal = function(element, options) {
        this.options = options
        this.$element = $(element)
        this.$backdrop = this.isShown = null
        if (this.options.remote) {
            this.$element.find('.modal-content').load(this.options.remote, $.proxy(function() {
                this.$element.trigger('loaded.bs.modal')
            }, this))
        }
    }
    Modal.DEFAULTS = {
        backdrop: true,
        keyboard: true,
        show: true
    }
    Modal.prototype.toggle = function(_relatedTarget) {
        return this[!this.isShown ? 'show' : 'hide'](_relatedTarget)
    }
    Modal.prototype.show = function(_relatedTarget) {
        var that = this
        var e = $.Event('show.bs.modal', {
            relatedTarget: _relatedTarget
        })
        this.$element.trigger(e)
        if (this.isShown || e.isDefaultPrevented())
            return
        this.isShown = true
        this.escape()
        this.$element.on('click.dismiss.bs.modal', '[data-dismiss="modal"]', $.proxy(this.hide, this))
        this.backdrop(function() {
            var transition = $.support.transition && that.$element.hasClass('fade')
            if (!that.$element.parent().length) {
                that.$element.appendTo(document.body)
            }
            that.$element.show().scrollTop(0)
            if (transition) {
                that.$element[0].offsetWidth
            }
            that.$element.addClass('in').attr('aria-hidden', false)
            that.enforceFocus()
            var e = $.Event('shown.bs.modal', {
                relatedTarget: _relatedTarget
            })
            transition ? that.$element.find('.modal-dialog').one($.support.transition.end, function() {
                that.$element.focus().trigger(e)
            }).emulateTransitionEnd(300) : that.$element.focus().trigger(e)
        })
    }
    Modal.prototype.hide = function(e) {
        if (e)
            e.preventDefault()
        e = $.Event('hide.bs.modal')
        this.$element.trigger(e)
        if (!this.isShown || e.isDefaultPrevented())
            return
        this.isShown = false
        this.escape()
        $(document).off('focusin.bs.modal')
        this.$element.removeClass('in').attr('aria-hidden', true).off('click.dismiss.bs.modal')
        $.support.transition && this.$element.hasClass('fade') ? this.$element.one($.support.transition.end, $.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal()
    }
    Modal.prototype.enforceFocus = function() {
        $(document).off('focusin.bs.modal').on('focusin.bs.modal', $.proxy(function(e) {
            if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {
                this.$element.focus()
            }
        }, this))
    }
    Modal.prototype.escape = function() {
        if (this.isShown && this.options.keyboard) {
            this.$element.on('keyup.dismiss.bs.modal', $.proxy(function(e) {
                e.which == 27 && this.hide()
            }, this))
        } else if (!this.isShown) {
            this.$element.off('keyup.dismiss.bs.modal')
        }
    }
    Modal.prototype.hideModal = function() {
        var that = this
        this.$element.hide()
        this.backdrop(function() {
            that.removeBackdrop()
            that.$element.trigger('hidden.bs.modal')
        })
    }
    Modal.prototype.removeBackdrop = function() {
        this.$backdrop && this.$backdrop.remove()
        this.$backdrop = null
    }
    Modal.prototype.backdrop = function(callback) {
        var animate = this.$element.hasClass('fade') ? 'fade' : ''
        if (this.isShown && this.options.backdrop) {
            var doAnimate = $.support.transition && animate
            this.$backdrop = $('<div class="modal-backdrop ' + animate + '" />').appendTo(document.body)
            this.$element.on('click.dismiss.bs.modal', $.proxy(function(e) {
                if (e.target !== e.currentTarget)
                    return
                this.options.backdrop == 'static' ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this)
            }, this))
            if (doAnimate)
                this.$backdrop[0].offsetWidth
            this.$backdrop.addClass('in')
            if (!callback)
                return
            doAnimate ? this.$backdrop.one($.support.transition.end, callback).emulateTransitionEnd(150) : callback()
        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass('in')
            $.support.transition && this.$element.hasClass('fade') ? this.$backdrop.one($.support.transition.end, callback).emulateTransitionEnd(150) : callback()
        } else if (callback) {
            callback()
        }
    }
    var old = $.fn.modal
    $.fn.modal = function(option, _relatedTarget) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.modal')
            var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)
            if (!data)
                $this.data('bs.modal', (data = new Modal(this,options)))
            if (typeof option == 'string')
                data[option](_relatedTarget)
            else if (options.show)
                data.show(_relatedTarget)
        })
    }
    $.fn.modal.Constructor = Modal
    $.fn.modal.noConflict = function() {
        $.fn.modal = old
        return this
    }
    $(document).on('click.bs.modal.data-api', '[data-toggle="modal"]', function(e) {
        var $this = $(this)
        var href = $this.attr('href')
        var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\s]+$)/, '')))
        var option = $target.data('bs.modal') ? 'toggle' : $.extend({
            remote: !/#/.test(href) && href
        }, $target.data(), $this.data())
        if ($this.is('a'))
            e.preventDefault()
        $target.modal(option, this).one('hide', function() {
            $this.is(':visible') && $this.focus()
        })
    })
    $(document).on('show.bs.modal', '.modal', function() {
        $(document.body).addClass('modal-open')
    }).on('hidden.bs.modal', '.modal', function() {
        $(document.body).removeClass('modal-open')
    })
}(jQuery);
+function($) {
    'use strict';
    var Tooltip = function(element, options) {
        this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null
        this.init('tooltip', element, options)
    }
    Tooltip.DEFAULTS = {
        animation: true,
        placement: 'top',
        selector: false,
        template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: 'hover focus',
        title: '',
        delay: 0,
        html: false,
        container: false
    }
    Tooltip.prototype.init = function(type, element, options) {
        this.enabled = true
        this.type = type
        this.$element = $(element)
        this.options = this.getOptions(options)
        var triggers = this.options.trigger.split(' ')
        for (var i = triggers.length; i--; ) {
            var trigger = triggers[i]
            if (trigger == 'click') {
                this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))
            } else if (trigger != 'manual') {
                var eventIn = trigger == 'hover' ? 'mouseenter' : 'focusin'
                var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'
                this.$element.on(eventIn + '.' + this.type, this.options.selector, $.proxy(this.enter, this))
                this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))
            }
        }
        this.options.selector ? (this._options = $.extend({}, this.options, {
            trigger: 'manual',
            selector: ''
        })) : this.fixTitle()
    }
    Tooltip.prototype.getDefaults = function() {
        return Tooltip.DEFAULTS
    }
    Tooltip.prototype.getOptions = function(options) {
        options = $.extend({}, this.getDefaults(), this.$element.data(), options)
        if (options.delay && typeof options.delay == 'number') {
            options.delay = {
                show: options.delay,
                hide: options.delay
            }
        }
        return options
    }
    Tooltip.prototype.getDelegateOptions = function() {
        var options = {}
        var defaults = this.getDefaults()
        this._options && $.each(this._options, function(key, value) {
            if (defaults[key] != value)
                options[key] = value
        })
        return options
    }
    Tooltip.prototype.enter = function(obj) {
        var self = obj instanceof this.constructor ? obj : $(obj.currentTarget)[this.type](this.getDelegateOptions()).data('bs.' + this.type)
        clearTimeout(self.timeout)
        self.hoverState = 'in'
        if (!self.options.delay || !self.options.delay.show)
            return self.show()
        self.timeout = setTimeout(function() {
            if (self.hoverState == 'in')
                self.show()
        }, self.options.delay.show)
    }
    Tooltip.prototype.leave = function(obj) {
        var self = obj instanceof this.constructor ? obj : $(obj.currentTarget)[this.type](this.getDelegateOptions()).data('bs.' + this.type)
        clearTimeout(self.timeout)
        self.hoverState = 'out'
        if (!self.options.delay || !self.options.delay.hide)
            return self.hide()
        self.timeout = setTimeout(function() {
            if (self.hoverState == 'out')
                self.hide()
        }, self.options.delay.hide)
    }
    Tooltip.prototype.show = function() {
        var e = $.Event('show.bs.' + this.type)
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(e)
            if (e.isDefaultPrevented())
                return
            var that = this;
            var $tip = this.tip()
            this.setContent()
            if (this.options.animation)
                $tip.addClass('fade')
            var placement = typeof this.options.placement == 'function' ? this.options.placement.call(this, $tip[0], this.$element[0]) : this.options.placement
            var autoToken = /\s?auto?\s?/i
            var autoPlace = autoToken.test(placement)
            if (autoPlace)
                placement = placement.replace(autoToken, '') || 'top'
            $tip.detach().css({
                top: 0,
                left: 0,
                display: 'block'
            }).addClass(placement)
            this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)
            var pos = this.getPosition()
            var actualWidth = $tip[0].offsetWidth
            var actualHeight = $tip[0].offsetHeight
            if (autoPlace) {
                var $parent = this.$element.parent()
                var orgPlacement = placement
                var docScroll = document.documentElement.scrollTop || document.body.scrollTop
                var parentWidth = this.options.container == 'body' ? window.innerWidth : $parent.outerWidth()
                var parentHeight = this.options.container == 'body' ? window.innerHeight : $parent.outerHeight()
                var parentLeft = this.options.container == 'body' ? 0 : $parent.offset().left
                placement = placement == 'bottom' && pos.top + pos.height + actualHeight - docScroll > parentHeight ? 'top' : placement == 'top' && pos.top - docScroll - actualHeight < 0 ? 'bottom' : placement == 'right' && pos.right + actualWidth > parentWidth ? 'left' : placement == 'left' && pos.left - actualWidth < parentLeft ? 'right' : placement
                $tip.removeClass(orgPlacement).addClass(placement)
            }
            var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)
            this.applyPlacement(calculatedOffset, placement)
            this.hoverState = null
            var complete = function() {
                that.$element.trigger('shown.bs.' + that.type)
            }
            $.support.transition && this.$tip.hasClass('fade') ? $tip.one($.support.transition.end, complete).emulateTransitionEnd(150) : complete()
        }
    }
    Tooltip.prototype.applyPlacement = function(offset, placement) {
        var replace
        var $tip = this.tip()
        var width = $tip[0].offsetWidth
        var height = $tip[0].offsetHeight
        var marginTop = parseInt($tip.css('margin-top'), 10)
        var marginLeft = parseInt($tip.css('margin-left'), 10)
        if (isNaN(marginTop))
            marginTop = 0
        if (isNaN(marginLeft))
            marginLeft = 0
        offset.top = offset.top + marginTop
        offset.left = offset.left + marginLeft
        $.offset.setOffset($tip[0], $.extend({
            using: function(props) {
                $tip.css({
                    top: Math.round(props.top),
                    left: Math.round(props.left)
                })
            }
        }, offset), 0)
        $tip.addClass('in')
        var actualWidth = $tip[0].offsetWidth
        var actualHeight = $tip[0].offsetHeight
        if (placement == 'top' && actualHeight != height) {
            replace = true
            offset.top = offset.top + height - actualHeight
        }
        if (/bottom|top/.test(placement)) {
            var delta = 0
            if (offset.left < 0) {
                delta = offset.left * -2
                offset.left = 0
                $tip.offset(offset)
                actualWidth = $tip[0].offsetWidth
                actualHeight = $tip[0].offsetHeight
            }
            this.replaceArrow(delta - width + actualWidth, actualWidth, 'left')
        } else {
            this.replaceArrow(actualHeight - height, actualHeight, 'top')
        }
        if (replace)
            $tip.offset(offset)
    }
    Tooltip.prototype.replaceArrow = function(delta, dimension, position) {
        this.arrow().css(position, delta ? (50 * (1 - delta / dimension) + '%') : '')
    }
    Tooltip.prototype.setContent = function() {
        var $tip = this.tip()
        var title = this.getTitle()
        $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)
        $tip.removeClass('fade in top bottom left right')
    }
    Tooltip.prototype.hide = function() {
        var that = this
        var $tip = this.tip()
        var e = $.Event('hide.bs.' + this.type)
        function complete() {
            if (that.hoverState != 'in')
                $tip.detach()
            that.$element.trigger('hidden.bs.' + that.type)
        }
        this.$element.trigger(e)
        if (e.isDefaultPrevented())
            return
        $tip.removeClass('in')
        $.support.transition && this.$tip.hasClass('fade') ? $tip.one($.support.transition.end, complete).emulateTransitionEnd(150) : complete()
        this.hoverState = null
        return this
    }
    Tooltip.prototype.fixTitle = function() {
        var $e = this.$element
        if ($e.attr('title') || typeof ($e.attr('data-original-title')) != 'string') {
            $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')
        }
    }
    Tooltip.prototype.hasContent = function() {
        return this.getTitle()
    }
    Tooltip.prototype.getPosition = function() {
        var el = this.$element[0]
        return $.extend({}, (typeof el.getBoundingClientRect == 'function') ? el.getBoundingClientRect() : {
            width: el.offsetWidth,
            height: el.offsetHeight
        }, this.$element.offset())
    }
    Tooltip.prototype.getCalculatedOffset = function(placement, pos, actualWidth, actualHeight) {
        return placement == 'bottom' ? {
            top: pos.top + pos.height,
            left: pos.left + pos.width / 2 - actualWidth / 2
        } : placement == 'top' ? {
            top: pos.top - actualHeight,
            left: pos.left + pos.width / 2 - actualWidth / 2
        } : placement == 'left' ? {
            top: pos.top + pos.height / 2 - actualHeight / 2,
            left: pos.left - actualWidth
        } : {
            top: pos.top + pos.height / 2 - actualHeight / 2,
            left: pos.left + pos.width
        }
    }
    Tooltip.prototype.getTitle = function() {
        var title
        var $e = this.$element
        var o = this.options
        title = $e.attr('data-original-title') || (typeof o.title == 'function' ? o.title.call($e[0]) : o.title)
        return title
    }
    Tooltip.prototype.tip = function() {
        return this.$tip = this.$tip || $(this.options.template)
    }
    Tooltip.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow')
    }
    Tooltip.prototype.validate = function() {
        if (!this.$element[0].parentNode) {
            this.hide()
            this.$element = null
            this.options = null
        }
    }
    Tooltip.prototype.enable = function() {
        this.enabled = true
    }
    Tooltip.prototype.disable = function() {
        this.enabled = false
    }
    Tooltip.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled
    }
    Tooltip.prototype.toggle = function(e) {
        var self = e ? $(e.currentTarget)[this.type](this.getDelegateOptions()).data('bs.' + this.type) : this
        self.tip().hasClass('in') ? self.leave(self) : self.enter(self)
    }
    Tooltip.prototype.destroy = function() {
        clearTimeout(this.timeout)
        this.hide().$element.off('.' + this.type).removeData('bs.' + this.type)
    }
    var old = $.fn.tooltip
    $.fn.tooltip = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.tooltip')
            var options = typeof option == 'object' && option
            if (!data && option == 'destroy')
                return
            if (!data)
                $this.data('bs.tooltip', (data = new Tooltip(this,options)))
            if (typeof option == 'string')
                data[option]()
        })
    }
    $.fn.tooltip.Constructor = Tooltip
    $.fn.tooltip.noConflict = function() {
        $.fn.tooltip = old
        return this
    }
}(jQuery);
+function($) {
    'use strict';
    var Popover = function(element, options) {
        this.init('popover', element, options)
    }
    if (!$.fn.tooltip)
        throw new Error('Popover requires tooltip.js')
    Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
        placement: 'right',
        trigger: 'click',
        content: '',
        template: '<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    })
    Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)
    Popover.prototype.constructor = Popover
    Popover.prototype.getDefaults = function() {
        return Popover.DEFAULTS
    }
    Popover.prototype.setContent = function() {
        var $tip = this.tip()
        var title = this.getTitle()
        var content = this.getContent()
        $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)
        $tip.find('.popover-content')[this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'](content)
        $tip.removeClass('fade top bottom left right in')
        if (!$tip.find('.popover-title').html())
            $tip.find('.popover-title').hide()
    }
    Popover.prototype.hasContent = function() {
        return this.getTitle() || this.getContent()
    }
    Popover.prototype.getContent = function() {
        var $e = this.$element
        var o = this.options
        return $e.attr('data-content') || (typeof o.content == 'function' ? o.content.call($e[0]) : o.content)
    }
    Popover.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find('.arrow')
    }
    Popover.prototype.tip = function() {
        if (!this.$tip)
            this.$tip = $(this.options.template)
        return this.$tip
    }
    var old = $.fn.popover
    $.fn.popover = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.popover')
            var options = typeof option == 'object' && option
            if (!data && option == 'destroy')
                return
            if (!data)
                $this.data('bs.popover', (data = new Popover(this,options)))
            if (typeof option == 'string')
                data[option]()
        })
    }
    $.fn.popover.Constructor = Popover
    $.fn.popover.noConflict = function() {
        $.fn.popover = old
        return this
    }
}(jQuery);
+function($) {
    'use strict';
    function ScrollSpy(element, options) {
        var href
        var process = $.proxy(this.process, this)
        this.$element = $(element).is('body') ? $(window) : $(element)
        this.$body = $('body')
        this.$scrollElement = this.$element.on('scroll.bs.scroll-spy.data-api', process)
        this.options = $.extend({}, ScrollSpy.DEFAULTS, options)
        this.selector = (this.options.target || ((href = $(element).attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) || '') + ' .nav li > a'
        this.offsets = $([])
        this.targets = $([])
        this.activeTarget = null
        this.refresh()
        this.process()
    }
    ScrollSpy.DEFAULTS = {
        offset: 10
    }
    ScrollSpy.prototype.refresh = function() {
        var offsetMethod = this.$element[0] == window ? 'offset' : 'position'
        this.offsets = $([])
        this.targets = $([])
        var self = this
        var $targets = this.$body.find(this.selector).map(function() {
            var $el = $(this)
            var href = $el.data('target') || $el.attr('href')
            var $href = /^#./.test(href) && $(href)
            return ($href && $href.length && $href.is(':visible') && [[$href[offsetMethod]().top + (!$.isWindow(self.$scrollElement.get(0)) && self.$scrollElement.scrollTop()), href]]) || null
        }).sort(function(a, b) {
            return a[0] - b[0]
        }).each(function() {
            self.offsets.push(this[0])
            self.targets.push(this[1])
        })
    }
    ScrollSpy.prototype.process = function() {
        var scrollTop = this.$scrollElement.scrollTop() + this.options.offset
        var scrollHeight = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight
        var maxScroll = scrollHeight - this.$scrollElement.height()
        var offsets = this.offsets
        var targets = this.targets
        var activeTarget = this.activeTarget
        var i
        if (scrollTop >= maxScroll) {
            return activeTarget != (i = targets.last()[0]) && this.activate(i)
        }
        if (activeTarget && scrollTop <= offsets[0]) {
            return activeTarget != (i = targets[0]) && this.activate(i)
        }
        for (i = offsets.length; i--; ) {
            activeTarget != targets[i] && scrollTop >= offsets[i] && (!offsets[i + 1] || scrollTop <= offsets[i + 1]) && this.activate(targets[i])
        }
    }
    ScrollSpy.prototype.activate = function(target) {
        this.activeTarget = target
        $(this.selector).parentsUntil(this.options.target, '.active').removeClass('active')
        var selector = this.selector + '[data-target="' + target + '"],' + this.selector + '[href="' + target + '"]'
        var active = $(selector).parents('li').addClass('active')
        if (active.parent('.dropdown-menu').length) {
            active = active.closest('li.dropdown').addClass('active')
        }
        active.trigger('activate.bs.scrollspy')
    }
    var old = $.fn.scrollspy
    $.fn.scrollspy = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.scrollspy')
            var options = typeof option == 'object' && option
            if (!data)
                $this.data('bs.scrollspy', (data = new ScrollSpy(this,options)))
            if (typeof option == 'string')
                data[option]()
        })
    }
    $.fn.scrollspy.Constructor = ScrollSpy
    $.fn.scrollspy.noConflict = function() {
        $.fn.scrollspy = old
        return this
    }
    $(window).on('load', function() {
        $('[data-spy="scroll"]').each(function() {
            var $spy = $(this)
            $spy.scrollspy($spy.data())
        })
    })
}(jQuery);
+function($) {
    'use strict';
    var Tab = function(element) {
        this.element = $(element)
    }
    Tab.prototype.show = function() {
        var $this = this.element
        var $ul = $this.closest('ul:not(.dropdown-menu)')
        var selector = $this.data('target')
        if (!selector) {
            selector = $this.attr('href')
            selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '')
        }
        if ($this.parent('li').hasClass('active'))
            return
        var previous = $ul.find('.active:last a')[0]
        var e = $.Event('show.bs.tab', {
            relatedTarget: previous
        })
        $this.trigger(e)
        if (e.isDefaultPrevented())
            return
        var $target = $(selector)
        this.activate($this.parent('li'), $ul)
        this.activate($target, $target.parent(), function() {
            $this.trigger({
                type: 'shown.bs.tab',
                relatedTarget: previous
            })
        })
    }
    Tab.prototype.activate = function(element, container, callback) {
        var $active = container.find('> .active')
        var transition = callback && $.support.transition && $active.hasClass('fade')
        function next() {
            $active.removeClass('active').find('> .dropdown-menu > .active').removeClass('active')
            element.addClass('active')
            if (transition) {
                element[0].offsetWidth
                element.addClass('in')
            } else {
                element.removeClass('fade')
            }
            if (element.parent('.dropdown-menu')) {
                element.closest('li.dropdown').addClass('active')
            }
            callback && callback()
        }
        transition ? $active.one($.support.transition.end, next).emulateTransitionEnd(150) : next()
        $active.removeClass('in')
    }
    var old = $.fn.tab
    $.fn.tab = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.tab')
            if (!data)
                $this.data('bs.tab', (data = new Tab(this)))
            if (typeof option == 'string')
                data[option]()
        })
    }
    $.fn.tab.Constructor = Tab
    $.fn.tab.noConflict = function() {
        $.fn.tab = old
        return this
    }
    $(document).on('click.bs.tab.data-api', '[data-toggle="tab"], [data-toggle="pill"]', function(e) {
        e.preventDefault()
        $(this).tab('show')
    })
}(jQuery);
+function($) {
    'use strict';
    var Affix = function(element, options) {
        this.options = $.extend({}, Affix.DEFAULTS, options)
        this.$window = $(window).on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this)).on('click.bs.affix.data-api', $.proxy(this.checkPositionWithEventLoop, this))
        this.$element = $(element)
        this.affixed = this.unpin = this.pinnedOffset = null
        this.checkPosition()
    }
    Affix.RESET = 'affix affix-top affix-bottom'
    Affix.DEFAULTS = {
        offset: 0
    }
    Affix.prototype.getPinnedOffset = function() {
        if (this.pinnedOffset)
            return this.pinnedOffset
        this.$element.removeClass(Affix.RESET).addClass('affix')
        var scrollTop = this.$window.scrollTop()
        var position = this.$element.offset()
        return (this.pinnedOffset = position.top - scrollTop)
    }
    Affix.prototype.checkPositionWithEventLoop = function() {
        setTimeout($.proxy(this.checkPosition, this), 1)
    }
    Affix.prototype.checkPosition = function() {
        if (!this.$element.is(':visible'))
            return
        var scrollHeight = $(document).height()
        var scrollTop = this.$window.scrollTop()
        var position = this.$element.offset()
        var offset = this.options.offset
        var offsetTop = offset.top
        var offsetBottom = offset.bottom
        if (this.affixed == 'top')
            position.top += scrollTop
        if (typeof offset != 'object')
            offsetBottom = offsetTop = offset
        if (typeof offsetTop == 'function')
            offsetTop = offset.top(this.$element)
        if (typeof offsetBottom == 'function')
            offsetBottom = offset.bottom(this.$element)
        var affix = this.unpin != null && (scrollTop + this.unpin <= position.top) ? false : offsetBottom != null && (position.top + this.$element.height() >= scrollHeight - offsetBottom) ? 'bottom' : offsetTop != null && (scrollTop <= offsetTop) ? 'top' : false
        if (this.affixed === affix)
            return
        if (this.unpin)
            this.$element.css('top', '')
        var affixType = 'affix' + (affix ? '-' + affix : '')
        var e = $.Event(affixType + '.bs.affix')
        this.$element.trigger(e)
        if (e.isDefaultPrevented())
            return
        this.affixed = affix
        this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null
        this.$element.removeClass(Affix.RESET).addClass(affixType).trigger($.Event(affixType.replace('affix', 'affixed')))
        if (affix == 'bottom') {
            this.$element.offset({
                top: scrollHeight - offsetBottom - this.$element.height()
            })
        }
    }
    var old = $.fn.affix
    $.fn.affix = function(option) {
        return this.each(function() {
            var $this = $(this)
            var data = $this.data('bs.affix')
            var options = typeof option == 'object' && option
            if (!data)
                $this.data('bs.affix', (data = new Affix(this,options)))
            if (typeof option == 'string')
                data[option]()
        })
    }
    $.fn.affix.Constructor = Affix
    $.fn.affix.noConflict = function() {
        $.fn.affix = old
        return this
    }
    $(window).on('load', function() {
        $('[data-spy="affix"]').each(function() {
            var $spy = $(this)
            var data = $spy.data()
            data.offset = data.offset || {}
            if (data.offsetBottom)
                data.offset.bottom = data.offsetBottom
            if (data.offsetTop)
                data.offset.top = data.offsetTop
            $spy.affix(data)
        })
    })
}(jQuery);
jQuery.fn.dataTableExt.oApi.fnSetFilteringDelay = function(oSettings, iDelay) {
    var _that = this;
    if (iDelay === undefined) {
        iDelay = 250;
    }
    this.each(function(i) {
        $.fn.dataTableExt.iApiIndex = i;
        var $this = this
          , oTimerId = null
          , sPreviousSearch = null
          , anControl = $('input', _that.fnSettings().aanFeatures.f);
        anControl.unbind('keyup').bind('keyup', function() {
            var $$this = $this;
            if (sPreviousSearch === null || sPreviousSearch != anControl.val()) {
                window.clearTimeout(oTimerId);
                sPreviousSearch = anControl.val();
                oTimerId = window.setTimeout(function() {
                    $.fn.dataTableExt.iApiIndex = i;
                    _that.fnFilter(anControl.val());
                }, iDelay);
            }
        });
        return this;
    });
    return this;
}
;
var TableTools;
(function(n, k, q) {
    var p = function(m, p) {
        var g = {
            version: "1.0.4-TableTools2",
            clients: {},
            moviePath: "",
            nextId: 1,
            $: function(a) {
                "string" == typeof a && (a = k.getElementById(a));
                a.addClass || (a.hide = function() {
                    this.style.display = "none"
                }
                ,
                a.show = function() {
                    this.style.display = ""
                }
                ,
                a.addClass = function(a) {
                    this.removeClass(a);
                    this.className += " " + a
                }
                ,
                a.removeClass = function(a) {
                    this.className = this.className.replace(RegExp("\\s*" + a + "\\s*"), " ").replace(/^\s+/, "").replace(/\s+$/, "")
                }
                ,
                a.hasClass = function(a) {
                    return !!this.className.match(RegExp("\\s*" + a + "\\s*"))
                }
                );
                return a
            },
            setMoviePath: function(a) {
                this.moviePath = a
            },
            dispatch: function(a, b, c) {
                (a = this.clients[a]) && a.receiveEvent(b, c)
            },
            register: function(a, b) {
                this.clients[a] = b
            },
            getDOMObjectPosition: function(a) {
                var b = {
                    left: 0,
                    top: 0,
                    width: a.width ? a.width : a.offsetWidth,
                    height: a.height ? a.height : a.offsetHeight
                };
                "" !== a.style.width && (b.width = a.style.width.replace("px", ""));
                "" !== a.style.height && (b.height = a.style.height.replace("px", ""));
                for (; a; )
                    b.left += a.offsetLeft,
                    b.top += a.offsetTop,
                    a = a.offsetParent;
                return b
            },
            Client: function(a) {
                this.handlers = {};
                this.id = g.nextId++;
                this.movieId = "ZeroClipboard_TableToolsMovie_" + this.id;
                g.register(this.id, this);
                a && this.glue(a)
            }
        };
        g.Client.prototype = {
            id: 0,
            ready: !1,
            movie: null,
            clipText: "",
            fileName: "",
            action: "copy",
            handCursorEnabled: !0,
            cssEffects: !0,
            handlers: null,
            sized: !1,
            glue: function(a, b) {
                this.domElement = g.$(a);
                var c = 99;
                this.domElement.style.zIndex && (c = parseInt(this.domElement.style.zIndex, 10) + 1);
                var d = g.getDOMObjectPosition(this.domElement);
                this.div = k.createElement("div");
                var f = this.div.style;
                f.position = "absolute";
                f.left = "0px";
                f.top = "0px";
                f.width = d.width + "px";
                f.height = d.height + "px";
                f.zIndex = c;
                "undefined" != typeof b && "" !== b && (this.div.title = b);
                0 !== d.width && 0 !== d.height && (this.sized = !0);
                this.domElement && (this.domElement.appendChild(this.div),
                this.div.innerHTML = this.getHTML(d.width, d.height).replace(/&/g, "&amp;"))
            },
            positionElement: function() {
                var a = g.getDOMObjectPosition(this.domElement)
                  , b = this.div.style;
                b.position = "absolute";
                b.width = a.width + "px";
                b.height = a.height + "px";
                0 !== a.width && 0 !== a.height && (this.sized = !0,
                b = this.div.childNodes[0],
                b.width = a.width,
                b.height = a.height)
            },
            getHTML: function(a, b) {
                var c = ""
                  , d = "id=" + this.id + "&width=" + a + "&height=" + b;
                if (navigator.userAgent.match(/MSIE/))
                    var f = location.href.match(/^https/i) ? "https://" : "http://"
                      , c = c + ('<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="' + f + 'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="' + a + '" height="' + b + '" id="' + this.movieId + '" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="' + g.moviePath + '" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="' + d + '"/><param name="wmode" value="transparent"/></object>');
                else
                    c += '<embed id="' + this.movieId + '" src="' + g.moviePath + '" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="' + a + '" height="' + b + '" name="' + this.movieId + '" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="' + d + '" wmode="transparent" />';
                return c
            },
            hide: function() {
                this.div && (this.div.style.left = "-2000px")
            },
            show: function() {
                this.reposition()
            },
            destroy: function() {
                if (this.domElement && this.div) {
                    this.hide();
                    this.div.innerHTML = "";
                    var a = k.getElementsByTagName("body")[0];
                    try {
                        a.removeChild(this.div)
                    } catch (b) {}
                    this.div = this.domElement = null
                }
            },
            reposition: function(a) {
                a && ((this.domElement = g.$(a)) || this.hide());
                if (this.domElement && this.div) {
                    var a = g.getDOMObjectPosition(this.domElement)
                      , b = this.div.style;
                    b.left = "" + a.left + "px";
                    b.top = "" + a.top + "px"
                }
            },
            clearText: function() {
                this.clipText = "";
                this.ready && this.movie.clearText()
            },
            appendText: function(a) {
                this.clipText += a;
                this.ready && this.movie.appendText(a)
            },
            setText: function(a) {
                this.clipText = a;
                this.ready && this.movie.setText(a)
            },
            setCharSet: function(a) {
                this.charSet = a;
                this.ready && this.movie.setCharSet(a)
            },
            setBomInc: function(a) {
                this.incBom = a;
                this.ready && this.movie.setBomInc(a)
            },
            setFileName: function(a) {
                this.fileName = a;
                this.ready && this.movie.setFileName(a)
            },
            setAction: function(a) {
                this.action = a;
                this.ready && this.movie.setAction(a)
            },
            addEventListener: function(a, b) {
                a = a.toString().toLowerCase().replace(/^on/, "");
                this.handlers[a] || (this.handlers[a] = []);
                this.handlers[a].push(b)
            },
            setHandCursor: function(a) {
                this.handCursorEnabled = a;
                this.ready && this.movie.setHandCursor(a)
            },
            setCSSEffects: function(a) {
                this.cssEffects = !!a
            },
            receiveEvent: function(a, b) {
                var c, a = a.toString().toLowerCase().replace(/^on/, "");
                switch (a) {
                case "load":
                    this.movie = k.getElementById(this.movieId);
                    if (!this.movie) {
                        c = this;
                        setTimeout(function() {
                            c.receiveEvent("load", null)
                        }, 1);
                        return
                    }
                    if (!this.ready && navigator.userAgent.match(/Firefox/) && navigator.userAgent.match(/Windows/)) {
                        c = this;
                        setTimeout(function() {
                            c.receiveEvent("load", null)
                        }, 100);
                        this.ready = !0;
                        return
                    }
                    this.ready = !0;
                    this.movie.clearText();
                    this.movie.appendText(this.clipText);
                    this.movie.setFileName(this.fileName);
                    this.movie.setAction(this.action);
                    this.movie.setCharSet(this.charSet);
                    this.movie.setBomInc(this.incBom);
                    this.movie.setHandCursor(this.handCursorEnabled);
                    break;
                case "mouseover":
                    this.domElement && this.cssEffects && this.recoverActive && this.domElement.addClass("active");
                    break;
                case "mouseout":
                    this.domElement && this.cssEffects && (this.recoverActive = !1,
                    this.domElement.hasClass("active") && (this.domElement.removeClass("active"),
                    this.recoverActive = !0));
                    break;
                case "mousedown":
                    this.domElement && this.cssEffects && this.domElement.addClass("active");
                    break;
                case "mouseup":
                    this.domElement && this.cssEffects && (this.domElement.removeClass("active"),
                    this.recoverActive = !1)
                }
                if (this.handlers[a])
                    for (var d = 0, f = this.handlers[a].length; d < f; d++) {
                        var e = this.handlers[a][d];
                        if ("function" == typeof e)
                            e(this, b);
                        else if ("object" == typeof e && 2 == e.length)
                            e[0][e[1]](this, b);
                        else if ("string" == typeof e)
                            n[e](this, b)
                    }
            }
        };
        n.ZeroClipboard_TableTools = g;
        var e = jQuery;
        TableTools = function(a, b) {
            !this instanceof TableTools && alert("Warning: TableTools must be initialised with the keyword 'new'");
            this.s = {
                that: this,
                dt: e.fn.dataTable.Api ? (new e.fn.dataTable.Api(a)).settings()[0] : a.fnSettings(),
                print: {
                    saveStart: -1,
                    saveLength: -1,
                    saveScroll: -1,
                    funcEnd: function() {}
                },
                buttonCounter: 0,
                select: {
                    type: "",
                    selected: [],
                    preRowSelect: null,
                    postSelected: null,
                    postDeselected: null,
                    all: !1,
                    selectedClass: ""
                },
                custom: {},
                swfPath: "",
                buttonSet: [],
                master: !1,
                tags: {}
            };
            this.dom = {
                container: null,
                table: null,
                print: {
                    hidden: [],
                    message: null
                },
                collection: {
                    collection: null,
                    background: null
                }
            };
            this.classes = e.extend(!0, {}, TableTools.classes);
            this.s.dt.bJUI && e.extend(!0, this.classes, TableTools.classes_themeroller);
            this.fnSettings = function() {
                return this.s
            }
            ;
            "undefined" == typeof b && (b = {});
            TableTools._aInstances.push(this);
            this._fnConstruct(b);
            return this
        }
        ;
        TableTools.prototype = {
            fnGetSelected: function(a) {
                var b = [], c = this.s.dt.aoData, d = this.s.dt.aiDisplay, f;
                if (a) {
                    a = 0;
                    for (f = d.length; a < f; a++)
                        c[d[a]]._DTTT_selected && b.push(c[d[a]].nTr)
                } else {
                    a = 0;
                    for (f = c.length; a < f; a++)
                        c[a]._DTTT_selected && b.push(c[a].nTr)
                }
                return b
            },
            fnGetSelectedData: function() {
                var a = [], b = this.s.dt.aoData, c, d;
                c = 0;
                for (d = b.length; c < d; c++)
                    b[c]._DTTT_selected && a.push(this.s.dt.oInstance.fnGetData(c));
                return a
            },
            fnGetSelectedIndexes: function(a) {
                var b = [], c = this.s.dt.aoData, d = this.s.dt.aiDisplay, f;
                if (a) {
                    a = 0;
                    for (f = d.length; a < f; a++)
                        c[d[a]]._DTTT_selected && b.push(d[a])
                } else {
                    a = 0;
                    for (f = c.length; a < f; a++)
                        c[a]._DTTT_selected && b.push(a)
                }
                return b
            },
            fnIsSelected: function(a) {
                a = this.s.dt.oInstance.fnGetPosition(a);
                return !0 === this.s.dt.aoData[a]._DTTT_selected ? !0 : !1
            },
            fnSelectAll: function(a) {
                this._fnRowSelect(a ? this.s.dt.aiDisplay : this.s.dt.aoData)
            },
            fnSelectNone: function(a) {
                this._fnRowDeselect(this.fnGetSelectedIndexes(a))
            },
            fnSelect: function(a) {
                "single" == this.s.select.type && this.fnSelectNone();
                this._fnRowSelect(a)
            },
            fnDeselect: function(a) {
                this._fnRowDeselect(a)
            },
            fnGetTitle: function(a) {
                var b = "";
                "undefined" != typeof a.sTitle && "" !== a.sTitle ? b = a.sTitle : (a = k.getElementsByTagName("title"),
                0 < a.length && (b = a[0].innerHTML));
                return 4 > "¡".toString().length ? b.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g, "") : b.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g, "")
            },
            fnCalcColRatios: function(a) {
                var b = this.s.dt.aoColumns, a = this._fnColumnTargets(a.mColumns), c = [], d = 0, f = 0, e, i;
                e = 0;
                for (i = a.length; e < i; e++)
                    a[e] && (d = b[e].nTh.offsetWidth,
                    f += d,
                    c.push(d));
                e = 0;
                for (i = c.length; e < i; e++)
                    c[e] /= f;
                return c.join("\t")
            },
            fnGetTableData: function(a) {
                if (this.s.dt)
                    return this._fnGetDataTablesData(a)
            },
            fnSetText: function(a, b) {
                this._fnFlashSetText(a, b)
            },
            fnResizeButtons: function() {
                for (var a in g.clients)
                    if (a) {
                        var b = g.clients[a];
                        "undefined" != typeof b.domElement && b.domElement.parentNode && b.positionElement()
                    }
            },
            fnResizeRequired: function() {
                for (var a in g.clients)
                    if (a) {
                        var b = g.clients[a];
                        if ("undefined" != typeof b.domElement && b.domElement.parentNode == this.dom.container && !1 === b.sized)
                            return !0
                    }
                return !1
            },
            fnPrint: function(a, b) {
                b === q && (b = {});
                a === q || a ? this._fnPrintStart(b) : this._fnPrintEnd()
            },
            fnInfo: function(a, b) {
                var c = e("<div/>").addClass(this.classes.print.info).html(a).appendTo("body");
                setTimeout(function() {
                    c.fadeOut("normal", function() {
                        c.remove()
                    })
                }, b)
            },
            fnContainer: function() {
                return this.dom.container
            },
            _fnConstruct: function(a) {
                var b = this;
                this._fnCustomiseSettings(a);
                this.dom.container = k.createElement(this.s.tags.container);
                this.dom.container.className = this.classes.container;
                "none" != this.s.select.type && this._fnRowSelectConfig();
                this._fnButtonDefinations(this.s.buttonSet, this.dom.container);
                this.s.dt.aoDestroyCallback.push({
                    sName: "TableTools",
                    fn: function() {
                        e(b.s.dt.nTBody).off("click.DTTT_Select", "tr");
                        e(b.dom.container).empty();
                        var a = e.inArray(b, TableTools._aInstances);
                        -1 !== a && TableTools._aInstances.splice(a, 1)
                    }
                })
            },
            _fnCustomiseSettings: function(a) {
                "undefined" == typeof this.s.dt._TableToolsInit && (this.s.master = !0,
                this.s.dt._TableToolsInit = !0);
                this.dom.table = this.s.dt.nTable;
                this.s.custom = e.extend({}, TableTools.DEFAULTS, a);
                this.s.swfPath = this.s.custom.sSwfPath;
                "undefined" != typeof g && (g.moviePath = this.s.swfPath);
                this.s.select.type = this.s.custom.sRowSelect;
                this.s.select.preRowSelect = this.s.custom.fnPreRowSelect;
                this.s.select.postSelected = this.s.custom.fnRowSelected;
                this.s.select.postDeselected = this.s.custom.fnRowDeselected;
                this.s.custom.sSelectedClass && (this.classes.select.row = this.s.custom.sSelectedClass);
                this.s.tags = this.s.custom.oTags;
                this.s.buttonSet = this.s.custom.aButtons
            },
            _fnButtonDefinations: function(a, b) {
                for (var c, d = 0, f = a.length; d < f; d++) {
                    if ("string" == typeof a[d]) {
                        if ("undefined" == typeof TableTools.BUTTONS[a[d]]) {
                            alert("TableTools: Warning - unknown button type: " + a[d]);
                            continue
                        }
                        c = e.extend({}, TableTools.BUTTONS[a[d]], !0)
                    } else {
                        if ("undefined" == typeof TableTools.BUTTONS[a[d].sExtends]) {
                            alert("TableTools: Warning - unknown button type: " + a[d].sExtends);
                            continue
                        }
                        c = e.extend({}, TableTools.BUTTONS[a[d].sExtends], !0);
                        c = e.extend(c, a[d], !0)
                    }
                    (c = this._fnCreateButton(c, e(b).hasClass(this.classes.collection.container))) && b.appendChild(c)
                }
            },
            _fnCreateButton: function(a, b) {
                var c = this._fnButtonBase(a, b);
                if (a.sAction.match(/flash/)) {
                    if (!this._fnHasFlash())
                        return !1;
                    this._fnFlashConfig(c, a)
                } else
                    "text" == a.sAction ? this._fnTextConfig(c, a) : "div" == a.sAction ? this._fnTextConfig(c, a) : "collection" == a.sAction && (this._fnTextConfig(c, a),
                    this._fnCollectionConfig(c, a));
                if (-1 !== this.s.dt.iTabIndex)
                    e(c).attr("tabindex", this.s.dt.iTabIndex).attr("aria-controls", this.s.dt.sTableId).on("keyup.DTTT", function(a) {
                        13 === a.keyCode && (a.stopPropagation(),
                        e(this).trigger("click"))
                    }).on("mousedown.DTTT", function(b) {
                        a.sAction.match(/flash/) || b.preventDefault()
                    });
                return c
            },
            _fnButtonBase: function(a, b) {
                var c, d, f;
                b ? (c = a.sTag && "default" !== a.sTag ? a.sTag : this.s.tags.collection.button,
                d = a.sLinerTag && "default" !== a.sLinerTag ? a.sLiner : this.s.tags.collection.liner,
                f = this.classes.collection.buttons.normal) : (c = a.sTag && "default" !== a.sTag ? a.sTag : this.s.tags.button,
                d = a.sLinerTag && "default" !== a.sLinerTag ? a.sLiner : this.s.tags.liner,
                f = this.classes.buttons.normal);
                c = k.createElement(c);
                d = k.createElement(d);
                var e = this._fnGetMasterSettings();
                c.className = f + " " + a.sButtonClass;
                c.setAttribute("id", "ToolTables_" + this.s.dt.sInstance + "_" + e.buttonCounter);
                c.appendChild(d);
                d.innerHTML = a.sButtonText;
                e.buttonCounter++;
                return c
            },
            _fnGetMasterSettings: function() {
                if (this.s.master)
                    return this.s;
                for (var a = TableTools._aInstances, b = 0, c = a.length; b < c; b++)
                    if (this.dom.table == a[b].s.dt.nTable)
                        return a[b].s
            },
            _fnCollectionConfig: function(a, b) {
                var c = k.createElement(this.s.tags.collection.container);
                c.style.display = "none";
                c.className = this.classes.collection.container;
                b._collection = c;
                k.body.appendChild(c);
                this._fnButtonDefinations(b.aButtons, c)
            },
            _fnCollectionShow: function(a, b) {
                var c = this
                  , d = e(a).offset()
                  , f = b._collection
                  , j = d.left
                  , d = d.top + e(a).outerHeight()
                  , i = e(n).height()
                  , h = e(k).height()
                  , o = e(n).width()
                  , g = e(k).width();
                f.style.position = "absolute";
                f.style.left = j + "px";
                f.style.top = d + "px";
                f.style.display = "block";
                e(f).css("opacity", 0);
                var l = k.createElement("div");
                l.style.position = "absolute";
                l.style.left = "0px";
                l.style.top = "0px";
                l.style.height = (i > h ? i : h) + "px";
                l.style.width = (o > g ? o : g) + "px";
                l.className = this.classes.collection.background;
                e(l).css("opacity", 0);
                k.body.appendChild(l);
                k.body.appendChild(f);
                i = e(f).outerWidth();
                o = e(f).outerHeight();
                j + i > g && (f.style.left = g - i + "px");
                d + o > h && (f.style.top = d - o - e(a).outerHeight() + "px");
                this.dom.collection.collection = f;
                this.dom.collection.background = l;
                setTimeout(function() {
                    e(f).animate({
                        opacity: 1
                    }, 500);
                    e(l).animate({
                        opacity: 0.25
                    }, 500)
                }, 10);
                this.fnResizeButtons();
                e(l).click(function() {
                    c._fnCollectionHide.call(c, null, null)
                })
            },
            _fnCollectionHide: function(a, b) {
                !(null !== b && "collection" == b.sExtends) && null !== this.dom.collection.collection && (e(this.dom.collection.collection).animate({
                    opacity: 0
                }, 500, function() {
                    this.style.display = "none"
                }),
                e(this.dom.collection.background).animate({
                    opacity: 0
                }, 500, function() {
                    this.parentNode.removeChild(this)
                }),
                this.dom.collection.collection = null,
                this.dom.collection.background = null)
            },
            _fnRowSelectConfig: function() {
                if (this.s.master) {
                    var a = this
                      , b = this.s.dt;
                    e(b.nTable).addClass(this.classes.select.table);
                    "os" === this.s.select.type && (e(b.nTBody).on("mousedown.DTTT_Select", "tr", function(a) {
                        if (a.shiftKey)
                            e(b.nTBody).css("-moz-user-select", "none").one("selectstart.DTTT_Select", "tr", function() {
                                return !1
                            })
                    }),
                    e(b.nTBody).on("mouseup.DTTT_Select", "tr", function() {
                        e(b.nTBody).css("-moz-user-select", "")
                    }));
                    e(b.nTBody).on("click.DTTT_Select", this.s.custom.sRowSelector, function(c) {
                        var d = this.nodeName.toLowerCase() === "tr" ? this : e(this).parents("tr")[0]
                          , f = a.s.select
                          , j = a.s.dt.oInstance.fnGetPosition(d);
                        if (d.parentNode == b.nTBody && b.oInstance.fnGetData(d) !== null) {
                            if (f.type == "os")
                                if (c.ctrlKey || c.metaKey)
                                    a.fnIsSelected(d) ? a._fnRowDeselect(d, c) : a._fnRowSelect(d, c);
                                else if (c.shiftKey) {
                                    var i = a.s.dt.aiDisplay.slice()
                                      , h = e.inArray(f.lastRow, i)
                                      , o = e.inArray(j, i);
                                    if (a.fnGetSelected().length === 0 || h === -1)
                                        i.splice(e.inArray(j, i) + 1, i.length);
                                    else {
                                        if (h > o)
                                            var g = o
                                              , o = h
                                              , h = g;
                                        i.splice(o + 1, i.length);
                                        i.splice(0, h)
                                    }
                                    if (a.fnIsSelected(d)) {
                                        i.splice(e.inArray(j, i), 1);
                                        a._fnRowDeselect(i, c)
                                    } else
                                        a._fnRowSelect(i, c)
                                } else if (a.fnIsSelected(d) && a.fnGetSelected().length === 1)
                                    a._fnRowDeselect(d, c);
                                else {
                                    a.fnSelectNone();
                                    a._fnRowSelect(d, c)
                                }
                            else if (a.fnIsSelected(d))
                                a._fnRowDeselect(d, c);
                            else if (f.type == "single") {
                                a.fnSelectNone();
                                a._fnRowSelect(d, c)
                            } else
                                f.type == "multi" && a._fnRowSelect(d, c);
                            f.lastRow = j
                        }
                    });
                    b.oApi._fnCallbackReg(b, "aoRowCreatedCallback", function(c, d, f) {
                        b.aoData[f]._DTTT_selected && e(c).addClass(a.classes.select.row)
                    }, "TableTools-SelectAll")
                }
            },
            _fnRowSelect: function(a, b) {
                var c = this._fnSelectData(a), d = [], f, j;
                f = 0;
                for (j = c.length; f < j; f++)
                    c[f].nTr && d.push(c[f].nTr);
                if (null === this.s.select.preRowSelect || this.s.select.preRowSelect.call(this, b, d, !0)) {
                    f = 0;
                    for (j = c.length; f < j; f++)
                        c[f]._DTTT_selected = !0,
                        c[f].nTr && e(c[f].nTr).addClass(this.classes.select.row);
                    null !== this.s.select.postSelected && this.s.select.postSelected.call(this, d);
                    TableTools._fnEventDispatch(this, "select", d, !0)
                }
            },
            _fnRowDeselect: function(a, b) {
                var c = this._fnSelectData(a), d = [], f, j;
                f = 0;
                for (j = c.length; f < j; f++)
                    c[f].nTr && d.push(c[f].nTr);
                if (null === this.s.select.preRowSelect || this.s.select.preRowSelect.call(this, b, d, !1)) {
                    f = 0;
                    for (j = c.length; f < j; f++)
                        c[f]._DTTT_selected = !1,
                        c[f].nTr && e(c[f].nTr).removeClass(this.classes.select.row);
                    null !== this.s.select.postDeselected && this.s.select.postDeselected.call(this, d);
                    TableTools._fnEventDispatch(this, "select", d, !1)
                }
            },
            _fnSelectData: function(a) {
                var b = [], c, d, f;
                if (a.nodeName)
                    c = this.s.dt.oInstance.fnGetPosition(a),
                    b.push(this.s.dt.aoData[c]);
                else if ("undefined" !== typeof a.length) {
                    d = 0;
                    for (f = a.length; d < f; d++)
                        a[d].nodeName ? (c = this.s.dt.oInstance.fnGetPosition(a[d]),
                        b.push(this.s.dt.aoData[c])) : "number" === typeof a[d] ? b.push(this.s.dt.aoData[a[d]]) : b.push(a[d])
                } else
                    b.push(a);
                return b
            },
            _fnTextConfig: function(a, b) {
                var c = this;
                null !== b.fnInit && b.fnInit.call(this, a, b);
                "" !== b.sToolTip && (a.title = b.sToolTip);
                e(a).hover(function() {
                    b.fnMouseover !== null && b.fnMouseover.call(this, a, b, null)
                }, function() {
                    b.fnMouseout !== null && b.fnMouseout.call(this, a, b, null)
                });
                null !== b.fnSelect && TableTools._fnEventListen(this, "select", function(d) {
                    b.fnSelect.call(c, a, b, d)
                });
                e(a).click(function(d) {
                    b.fnClick !== null && b.fnClick.call(c, a, b, null, d);
                    b.fnComplete !== null && b.fnComplete.call(c, a, b, null, null);
                    c._fnCollectionHide(a, b)
                })
            },
            _fnHasFlash: function() {
                try {
                    if (new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))
                        return !0
                } catch (a) {
                    if (navigator.mimeTypes && navigator.mimeTypes["application/x-shockwave-flash"] !== q && navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)
                        return !0
                }
                return !1
            },
            _fnFlashConfig: function(a, b) {
                var c = this
                  , d = new g.Client;
                null !== b.fnInit && b.fnInit.call(this, a, b);
                d.setHandCursor(!0);
                "flash_save" == b.sAction ? (d.setAction("save"),
                d.setCharSet("utf16le" == b.sCharSet ? "UTF16LE" : "UTF8"),
                d.setBomInc(b.bBomInc),
                d.setFileName(b.sFileName.replace("*", this.fnGetTitle(b)))) : "flash_pdf" == b.sAction ? (d.setAction("pdf"),
                d.setFileName(b.sFileName.replace("*", this.fnGetTitle(b)))) : d.setAction("copy");
                d.addEventListener("mouseOver", function() {
                    b.fnMouseover !== null && b.fnMouseover.call(c, a, b, d)
                });
                d.addEventListener("mouseOut", function() {
                    b.fnMouseout !== null && b.fnMouseout.call(c, a, b, d)
                });
                d.addEventListener("mouseDown", function() {
                    b.fnClick !== null && b.fnClick.call(c, a, b, d)
                });
                d.addEventListener("complete", function(f, e) {
                    b.fnComplete !== null && b.fnComplete.call(c, a, b, d, e);
                    c._fnCollectionHide(a, b)
                });
                this._fnFlashGlue(d, a, b.sToolTip)
            },
            _fnFlashGlue: function(a, b, c) {
                var d = this
                  , f = b.getAttribute("id");
                k.getElementById(f) ? a.glue(b, c) : setTimeout(function() {
                    d._fnFlashGlue(a, b, c)
                }, 100)
            },
            _fnFlashSetText: function(a, b) {
                var c = this._fnChunkData(b, 8192);
                a.clearText();
                for (var d = 0, f = c.length; d < f; d++)
                    a.appendText(c[d])
            },
            _fnColumnTargets: function(a) {
                var b = [], c = this.s.dt, d, f = c.aoColumns;
                d = f.length;
                if ("function" == typeof a) {
                    a = a.call(this, c);
                    for (c = 0; c < d; c++)
                        b.push(-1 !== e.inArray(c, a) ? !0 : !1)
                } else if ("object" == typeof a) {
                    for (c = 0; c < d; c++)
                        b.push(!1);
                    c = 0;
                    for (d = a.length; c < d; c++)
                        b[a[c]] = !0
                } else if ("visible" == a)
                    for (c = 0; c < d; c++)
                        b.push(f[c].bVisible ? !0 : !1);
                else if ("hidden" == a)
                    for (c = 0; c < d; c++)
                        b.push(f[c].bVisible ? !1 : !0);
                else if ("sortable" == a)
                    for (c = 0; c < d; c++)
                        b.push(f[c].bSortable ? !0 : !1);
                else
                    for (c = 0; c < d; c++)
                        b.push(!0);
                return b
            },
            _fnNewline: function(a) {
                return "auto" == a.sNewLine ? navigator.userAgent.match(/Windows/) ? "\r\n" : "\n" : a.sNewLine
            },
            _fnGetDataTablesData: function(a) {
                var b, c, d, f, j, i = [], h = "", g = this.s.dt, k, l = RegExp(a.sFieldBoundary, "g"), n = this._fnColumnTargets(a.mColumns);
                d = "undefined" != typeof a.bSelectedOnly ? a.bSelectedOnly : !1;
                if (a.bHeader) {
                    j = [];
                    b = 0;
                    for (c = g.aoColumns.length; b < c; b++)
                        n[b] && (h = g.aoColumns[b].sTitle.replace(/\n/g, " ").replace(/<.*?>/g, "").replace(/^\s+|\s+$/g, ""),
                        h = this._fnHtmlDecode(h),
                        j.push(this._fnBoundData(h, a.sFieldBoundary, l)));
                    i.push(j.join(a.sFieldSeperator))
                }
                d = !0;
                var m;
                f = this.fnGetSelectedIndexes();
                m = (d = "none" !== this.s.select.type && d && 0 !== f.length) ? f : p.Api ? (new p.Api(g)).rows(a.oSelectorOpts).indexes().flatten().toArray() : g.oInstance.$("tr", a.oSelectorOpts).map(function(a, b) {
                    return g.oInstance.fnGetPosition(b)
                }).get();
                d = 0;
                for (f = m.length; d < f; d++) {
                    k = g.aoData[m[d]].nTr;
                    j = [];
                    b = 0;
                    for (c = g.aoColumns.length; b < c; b++)
                        n[b] && (h = g.oApi._fnGetCellData(g, m[d], b, "display"),
                        a.fnCellRender ? h = a.fnCellRender(h, b, k, m[d]) + "" : "string" == typeof h ? (h = h.replace(/\n/g, " "),
                        h = h.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi, "$1$2$3"),
                        h = h.replace(/<.*?>/g, "")) : h += "",
                        h = h.replace(/^\s+/, "").replace(/\s+$/, ""),
                        h = this._fnHtmlDecode(h),
                        j.push(this._fnBoundData(h, a.sFieldBoundary, l)));
                    i.push(j.join(a.sFieldSeperator));
                    a.bOpenRows && (b = e.grep(g.aoOpenRows, function(a) {
                        return a.nParent === k
                    }),
                    1 === b.length && (h = this._fnBoundData(e("td", b[0].nTr).html(), a.sFieldBoundary, l),
                    i.push(h)))
                }
                if (a.bFooter && null !== g.nTFoot) {
                    j = [];
                    b = 0;
                    for (c = g.aoColumns.length; b < c; b++)
                        n[b] && null !== g.aoColumns[b].nTf && (h = g.aoColumns[b].nTf.innerHTML.replace(/\n/g, " ").replace(/<.*?>/g, ""),
                        h = this._fnHtmlDecode(h),
                        j.push(this._fnBoundData(h, a.sFieldBoundary, l)));
                    i.push(j.join(a.sFieldSeperator))
                }
                return i.join(this._fnNewline(a))
            },
            _fnBoundData: function(a, b, c) {
                return "" === b ? a : b + a.replace(c, b + b) + b
            },
            _fnChunkData: function(a, b) {
                for (var c = [], d = a.length, f = 0; f < d; f += b)
                    f + b < d ? c.push(a.substring(f, f + b)) : c.push(a.substring(f, d));
                return c
            },
            _fnHtmlDecode: function(a) {
                if (-1 === a.indexOf("&"))
                    return a;
                var b = k.createElement("div");
                return a.replace(/&([^\s]*?);/g, function(a, d) {
                    if ("#" === a.substr(1, 1))
                        return String.fromCharCode(Number(d.substr(1)));
                    b.innerHTML = a;
                    return b.childNodes[0].nodeValue
                })
            },
            _fnPrintStart: function(a) {
                var b = this
                  , c = this.s.dt;
                this._fnPrintHideNodes(c.nTable);
                this.s.print.saveStart = c._iDisplayStart;
                this.s.print.saveLength = c._iDisplayLength;
                a.bShowAll && (c._iDisplayStart = 0,
                c._iDisplayLength = -1,
                c.oApi._fnCalculateEnd && c.oApi._fnCalculateEnd(c),
                c.oApi._fnDraw(c));
                if ("" !== c.oScroll.sX || "" !== c.oScroll.sY)
                    this._fnPrintScrollStart(c),
                    e(this.s.dt.nTable).bind("draw.DTTT_Print", function() {
                        b._fnPrintScrollStart(c)
                    });
                var d = c.aanFeatures, f;
                for (f in d)
                    if ("i" != f && "t" != f && 1 == f.length)
                        for (var g = 0, i = d[f].length; g < i; g++)
                            this.dom.print.hidden.push({
                                node: d[f][g],
                                display: "block"
                            }),
                            d[f][g].style.display = "none";
                e(k.body).addClass(this.classes.print.body);
                "" !== a.sInfo && this.fnInfo(a.sInfo, 3E3);
                a.sMessage && e("<div/>").addClass(this.classes.print.message).html(a.sMessage).prependTo("body");
                this.s.print.saveScroll = e(n).scrollTop();
                n.scrollTo(0, 0);
                e(k).bind("keydown.DTTT", function(a) {
                    if (a.keyCode == 27) {
                        a.preventDefault();
                        b._fnPrintEnd.call(b, a)
                    }
                })
            },
            _fnPrintEnd: function() {
                var a = this.s.dt
                  , b = this.s.print;
                this._fnPrintShowNodes();
                if ("" !== a.oScroll.sX || "" !== a.oScroll.sY)
                    e(this.s.dt.nTable).unbind("draw.DTTT_Print"),
                    this._fnPrintScrollEnd();
                n.scrollTo(0, b.saveScroll);
                e("div." + this.classes.print.message).remove();
                e(k.body).removeClass("DTTT_Print");
                a._iDisplayStart = b.saveStart;
                a._iDisplayLength = b.saveLength;
                a.oApi._fnCalculateEnd && a.oApi._fnCalculateEnd(a);
                a.oApi._fnDraw(a);
                e(k).unbind("keydown.DTTT")
            },
            _fnPrintScrollStart: function() {
                var a = this.s.dt;
                a.nScrollHead.getElementsByTagName("div")[0].getElementsByTagName("table");
                var b = a.nTable.parentNode, c;
                c = a.nTable.getElementsByTagName("thead");
                0 < c.length && a.nTable.removeChild(c[0]);
                null !== a.nTFoot && (c = a.nTable.getElementsByTagName("tfoot"),
                0 < c.length && a.nTable.removeChild(c[0]));
                c = a.nTHead.cloneNode(!0);
                a.nTable.insertBefore(c, a.nTable.childNodes[0]);
                null !== a.nTFoot && (c = a.nTFoot.cloneNode(!0),
                a.nTable.insertBefore(c, a.nTable.childNodes[1]));
                "" !== a.oScroll.sX && (a.nTable.style.width = e(a.nTable).outerWidth() + "px",
                b.style.width = e(a.nTable).outerWidth() + "px",
                b.style.overflow = "visible");
                "" !== a.oScroll.sY && (b.style.height = e(a.nTable).outerHeight() + "px",
                b.style.overflow = "visible")
            },
            _fnPrintScrollEnd: function() {
                var a = this.s.dt
                  , b = a.nTable.parentNode;
                "" !== a.oScroll.sX && (b.style.width = a.oApi._fnStringToCss(a.oScroll.sX),
                b.style.overflow = "auto");
                "" !== a.oScroll.sY && (b.style.height = a.oApi._fnStringToCss(a.oScroll.sY),
                b.style.overflow = "auto")
            },
            _fnPrintShowNodes: function() {
                for (var a = this.dom.print.hidden, b = 0, c = a.length; b < c; b++)
                    a[b].node.style.display = a[b].display;
                a.splice(0, a.length)
            },
            _fnPrintHideNodes: function(a) {
                for (var b = this.dom.print.hidden, c = a.parentNode, d = c.childNodes, f = 0, g = d.length; f < g; f++)
                    if (d[f] != a && 1 == d[f].nodeType) {
                        var i = e(d[f]).css("display");
                        "none" != i && (b.push({
                            node: d[f],
                            display: i
                        }),
                        d[f].style.display = "none")
                    }
                "BODY" != c.nodeName.toUpperCase() && this._fnPrintHideNodes(c)
            }
        };
        TableTools._aInstances = [];
        TableTools._aListeners = [];
        TableTools.fnGetMasters = function() {
            for (var a = [], b = 0, c = TableTools._aInstances.length; b < c; b++)
                TableTools._aInstances[b].s.master && a.push(TableTools._aInstances[b]);
            return a
        }
        ;
        TableTools.fnGetInstance = function(a) {
            "object" != typeof a && (a = k.getElementById(a));
            for (var b = 0, c = TableTools._aInstances.length; b < c; b++)
                if (TableTools._aInstances[b].s.master && TableTools._aInstances[b].dom.table == a)
                    return TableTools._aInstances[b];
            return null
        }
        ;
        TableTools._fnEventListen = function(a, b, c) {
            TableTools._aListeners.push({
                that: a,
                type: b,
                fn: c
            })
        }
        ;
        TableTools._fnEventDispatch = function(a, b, c, d) {
            for (var f = TableTools._aListeners, e = 0, g = f.length; e < g; e++)
                a.dom.table == f[e].that.dom.table && f[e].type == b && f[e].fn(c, d)
        }
        ;
        TableTools.buttonBase = {
            sAction: "text",
            sTag: "default",
            sLinerTag: "default",
            sButtonClass: "DTTT_button_text",
            sButtonText: "Button text",
            sTitle: "",
            sToolTip: "",
            sCharSet: "utf8",
            bBomInc: !1,
            sFileName: "*.csv",
            sFieldBoundary: "",
            sFieldSeperator: "\t",
            sNewLine: "auto",
            mColumns: "all",
            bHeader: !0,
            bFooter: !0,
            bOpenRows: !1,
            bSelectedOnly: !1,
            oSelectorOpts: q,
            fnMouseover: null,
            fnMouseout: null,
            fnClick: null,
            fnSelect: null,
            fnComplete: null,
            fnInit: null,
            fnCellRender: null
        };
        TableTools.BUTTONS = {
            csv: e.extend({}, TableTools.buttonBase, {
                sAction: "flash_save",
                sButtonClass: "DTTT_button_csv",
                sButtonText: "CSV",
                sFieldBoundary: '"',
                sFieldSeperator: ",",
                fnClick: function(a, b, c) {
                    this.fnSetText(c, this.fnGetTableData(b))
                }
            }),
            xls: e.extend({}, TableTools.buttonBase, {
                sAction: "flash_save",
                sCharSet: "utf16le",
                bBomInc: !0,
                sButtonClass: "DTTT_button_xls",
                sButtonText: "Excel",
                fnClick: function(a, b, c) {
                    this.fnSetText(c, this.fnGetTableData(b))
                }
            }),
            copy: e.extend({}, TableTools.buttonBase, {
                sAction: "flash_copy",
                sButtonClass: "DTTT_button_copy",
                sButtonText: "Copy",
                fnClick: function(a, b, c) {
                    this.fnSetText(c, this.fnGetTableData(b))
                },
                fnComplete: function(a, b, c, d) {
                    a = d.split("\n").length;
                    b.bHeader && a--;
                    null !== this.s.dt.nTFoot && b.bFooter && a--;
                    this.fnInfo("<h6>Table copied</h6><p>Copied " + a + " row" + (1 == a ? "" : "s") + " to the clipboard.</p>", 1500)
                }
            }),
            pdf: e.extend({}, TableTools.buttonBase, {
                sAction: "flash_pdf",
                sNewLine: "\n",
                sFileName: "*.pdf",
                sButtonClass: "DTTT_button_pdf",
                sButtonText: "PDF",
                sPdfOrientation: "portrait",
                sPdfSize: "A4",
                sPdfMessage: "",
                fnClick: function(a, b, c) {
                    this.fnSetText(c, "title:" + this.fnGetTitle(b) + "\nmessage:" + b.sPdfMessage + "\ncolWidth:" + this.fnCalcColRatios(b) + "\norientation:" + b.sPdfOrientation + "\nsize:" + b.sPdfSize + "\n--/TableToolsOpts--\n" + this.fnGetTableData(b))
                }
            }),
            print: e.extend({}, TableTools.buttonBase, {
                sInfo: "<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.</p>",
                sMessage: null,
                bShowAll: !0,
                sToolTip: "View print view",
                sButtonClass: "DTTT_button_print",
                sButtonText: "Print",
                fnClick: function(a, b) {
                    this.fnPrint(!0, b)
                }
            }),
            text: e.extend({}, TableTools.buttonBase),
            select: e.extend({}, TableTools.buttonBase, {
                sButtonText: "Select button",
                fnSelect: function(a) {
                    0 !== this.fnGetSelected().length ? e(a).removeClass(this.classes.buttons.disabled) : e(a).addClass(this.classes.buttons.disabled)
                },
                fnInit: function(a) {
                    e(a).addClass(this.classes.buttons.disabled)
                }
            }),
            select_single: e.extend({}, TableTools.buttonBase, {
                sButtonText: "Select button",
                fnSelect: function(a) {
                    1 == this.fnGetSelected().length ? e(a).removeClass(this.classes.buttons.disabled) : e(a).addClass(this.classes.buttons.disabled)
                },
                fnInit: function(a) {
                    e(a).addClass(this.classes.buttons.disabled)
                }
            }),
            select_all: e.extend({}, TableTools.buttonBase, {
                sButtonText: "Select all",
                fnClick: function() {
                    this.fnSelectAll()
                },
                fnSelect: function(a) {
                    this.fnGetSelected().length == this.s.dt.fnRecordsDisplay() ? e(a).addClass(this.classes.buttons.disabled) : e(a).removeClass(this.classes.buttons.disabled)
                }
            }),
            select_none: e.extend({}, TableTools.buttonBase, {
                sButtonText: "Deselect all",
                fnClick: function() {
                    this.fnSelectNone()
                },
                fnSelect: function(a) {
                    0 !== this.fnGetSelected().length ? e(a).removeClass(this.classes.buttons.disabled) : e(a).addClass(this.classes.buttons.disabled)
                },
                fnInit: function(a) {
                    e(a).addClass(this.classes.buttons.disabled)
                }
            }),
            ajax: e.extend({}, TableTools.buttonBase, {
                sAjaxUrl: "/xhr.php",
                sButtonText: "Ajax button",
                fnClick: function(a, b) {
                    var c = this.fnGetTableData(b);
                    e.ajax({
                        url: b.sAjaxUrl,
                        data: [{
                            name: "tableData",
                            value: c
                        }],
                        success: b.fnAjaxComplete,
                        dataType: "json",
                        type: "POST",
                        cache: !1,
                        error: function() {
                            alert("Error detected when sending table data to server")
                        }
                    })
                },
                fnAjaxComplete: function() {
                    alert("Ajax complete")
                }
            }),
            div: e.extend({}, TableTools.buttonBase, {
                sAction: "div",
                sTag: "div",
                sButtonClass: "DTTT_nonbutton",
                sButtonText: "Text button"
            }),
            collection: e.extend({}, TableTools.buttonBase, {
                sAction: "collection",
                sButtonClass: "DTTT_button_collection",
                sButtonText: "Collection",
                fnClick: function(a, b) {
                    this._fnCollectionShow(a, b)
                }
            })
        };
        TableTools.buttons = TableTools.BUTTONS;
        TableTools.classes = {
            container: "DTTT_container",
            buttons: {
                normal: "DTTT_button",
                disabled: "DTTT_disabled"
            },
            collection: {
                container: "DTTT_collection",
                background: "DTTT_collection_background",
                buttons: {
                    normal: "DTTT_button",
                    disabled: "DTTT_disabled"
                }
            },
            select: {
                table: "DTTT_selectable",
                row: "DTTT_selected selected"
            },
            print: {
                body: "DTTT_Print",
                info: "DTTT_print_info",
                message: "DTTT_PrintMessage"
            }
        };
        TableTools.classes_themeroller = {
            container: "DTTT_container ui-buttonset ui-buttonset-multi",
            buttons: {
                normal: "DTTT_button ui-button ui-state-default"
            },
            collection: {
                container: "DTTT_collection ui-buttonset ui-buttonset-multi"
            }
        };
        TableTools.DEFAULTS = {
            sSwfPath: "../swf/copy_csv_xls_pdf.swf",
            sRowSelect: "none",
            sRowSelector: "tr",
            sSelectedClass: null,
            fnPreRowSelect: null,
            fnRowSelected: null,
            fnRowDeselected: null,
            aButtons: ["copy", "csv", "xls", "pdf", "print"],
            oTags: {
                container: "div",
                button: "a",
                liner: "span",
                collection: {
                    container: "div",
                    button: "a",
                    liner: "span"
                }
            }
        };
        TableTools.defaults = TableTools.DEFAULTS;
        TableTools.prototype.CLASS = "TableTools";
        TableTools.version = "2.2.3";
        e.fn.dataTable.Api && e.fn.dataTable.Api.register("tabletools()", function() {
            var a = null;
            0 < this.context.length && (a = TableTools.fnGetInstance(this.context[0].nTable));
            return a
        });
        "function" == typeof e.fn.dataTable && "function" == typeof e.fn.dataTableExt.fnVersionCheck && e.fn.dataTableExt.fnVersionCheck("1.9.0") ? e.fn.dataTableExt.aoFeatures.push({
            fnInit: function(a) {
                var b = a.oInit;
                return (new TableTools(a.oInstance,b ? b.tableTools || b.oTableTools || {} : {})).dom.container
            },
            cFeature: "T",
            sFeature: "TableTools"
        }) : alert("Warning: TableTools requires DataTables 1.9.0 or newer - www.datatables.net/download");
        e.fn.DataTable.TableTools = TableTools;
        "function" == typeof m.fn.dataTable && "function" == typeof m.fn.dataTableExt.fnVersionCheck && m.fn.dataTableExt.fnVersionCheck("1.9.0") ? m.fn.dataTableExt.aoFeatures.push({
            fnInit: function(a) {
                a = new TableTools(a.oInstance,"undefined" != typeof a.oInit.oTableTools ? a.oInit.oTableTools : {});
                TableTools._aInstances.push(a);
                return a.dom.container
            },
            cFeature: "T",
            sFeature: "TableTools"
        }) : alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download");
        m.fn.dataTable.TableTools = TableTools;
        return m.fn.DataTable.TableTools = TableTools
    };
    "function" === typeof define && define.amd ? define(["jquery", "datatables"], p) : "object" === typeof exports ? p(require("jquery"), require("datatables")) : jQuery && !jQuery.fn.dataTable.TableTools && p(jQuery, jQuery.fn.dataTable)
}
)(window, document);
!function(e) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = e();
    else if ("function" == typeof define && define.amd)
        define([], e);
    else {
        var t;
        t = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this,
        t.React = e()
    }
}(function() {
    return function e(t, n, r) {
        function o(a, s) {
            if (!n[a]) {
                if (!t[a]) {
                    var u = "function" == typeof require && require;
                    if (!s && u)
                        return u(a, !0);
                    if (i)
                        return i(a, !0);
                    var l = new Error("Cannot find module '" + a + "'");
                    throw l.code = "MODULE_NOT_FOUND",
                    l
                }
                var c = n[a] = {
                    exports: {}
                };
                t[a][0].call(c.exports, function(e) {
                    var n = t[a][1][e];
                    return o(n ? n : e)
                }, c, c.exports, e, t, n, r)
            }
            return n[a].exports
        }
        for (var i = "function" == typeof require && require, a = 0; a < r.length; a++)
            o(r[a]);
        return o
    }({
        1: [function(e, t, n) {
            "use strict";
            var r = e(25)
              , o = e(31)
              , i = e(42)
              , a = e(34)
              , s = e(67)
              , u = e(95)
              , l = e(97)
              , c = e(124)
              , p = e(119)
              , d = e(165);
            o.addons = {
                CSSTransitionGroup: a,
                LinkedStateMixin: r,
                PureRenderMixin: i,
                TransitionGroup: u,
                batchedUpdates: l.batchedUpdates,
                classSet: c,
                cloneWithProps: p,
                createFragment: s.create,
                update: d
            },
            t.exports = o
        }
        , {
            119: 119,
            124: 124,
            165: 165,
            25: 25,
            31: 31,
            34: 34,
            42: 42,
            67: 67,
            95: 95,
            97: 97
        }],
        2: [function(e, t, n) {
            "use strict";
            var r = e(131)
              , o = {
                componentDidMount: function() {
                    this.props.autoFocus && r(this.getDOMNode())
                }
            };
            t.exports = o
        }
        , {
            131: 131
        }],
        3: [function(e, t, n) {
            "use strict";
            function r() {
                var e = window.opera;
                return "object" == typeof e && "function" == typeof e.version && parseInt(e.version(), 10) <= 12
            }
            function o(e) {
                return (e.ctrlKey || e.altKey || e.metaKey) && !(e.ctrlKey && e.altKey)
            }
            function i(e) {
                switch (e) {
                case P.topCompositionStart:
                    return I.compositionStart;
                case P.topCompositionEnd:
                    return I.compositionEnd;
                case P.topCompositionUpdate:
                    return I.compositionUpdate
                }
            }
            function a(e, t) {
                return e === P.topKeyDown && t.keyCode === b
            }
            function s(e, t) {
                switch (e) {
                case P.topKeyUp:
                    return -1 !== E.indexOf(t.keyCode);
                case P.topKeyDown:
                    return t.keyCode !== b;
                case P.topKeyPress:
                case P.topMouseDown:
                case P.topBlur:
                    return !0;
                default:
                    return !1
                }
            }
            function u(e) {
                var t = e.detail;
                return "object" == typeof t && "data"in t ? t.data : null
            }
            function l(e, t, n, r) {
                var o, l;
                if (_ ? o = i(e) : w ? s(e, r) && (o = I.compositionEnd) : a(e, r) && (o = I.compositionStart),
                !o)
                    return null;
                M && (w || o !== I.compositionStart ? o === I.compositionEnd && w && (l = w.getData()) : w = v.getPooled(t));
                var c = g.getPooled(o, n, r);
                if (l)
                    c.data = l;
                else {
                    var p = u(r);
                    null !== p && (c.data = p)
                }
                return h.accumulateTwoPhaseDispatches(c),
                c
            }
            function c(e, t) {
                switch (e) {
                case P.topCompositionEnd:
                    return u(t);
                case P.topKeyPress:
                    var n = t.which;
                    return n !== T ? null : (R = !0,
                    N);
                case P.topTextInput:
                    var r = t.data;
                    return r === N && R ? null : r;
                default:
                    return null
                }
            }
            function p(e, t) {
                if (w) {
                    if (e === P.topCompositionEnd || s(e, t)) {
                        var n = w.getData();
                        return v.release(w),
                        w = null,
                        n
                    }
                    return null
                }
                switch (e) {
                case P.topPaste:
                    return null;
                case P.topKeyPress:
                    return t.which && !o(t) ? String.fromCharCode(t.which) : null;
                case P.topCompositionEnd:
                    return M ? null : t.data;
                default:
                    return null
                }
            }
            function d(e, t, n, r) {
                var o;
                if (o = D ? c(e, r) : p(e, r),
                !o)
                    return null;
                var i = y.getPooled(I.beforeInput, n, r);
                return i.data = o,
                h.accumulateTwoPhaseDispatches(i),
                i
            }
            var f = e(16)
              , h = e(21)
              , m = e(22)
              , v = e(23)
              , g = e(103)
              , y = e(107)
              , C = e(154)
              , E = [9, 13, 27, 32]
              , b = 229
              , _ = m.canUseDOM && "CompositionEvent"in window
              , x = null;
            m.canUseDOM && "documentMode"in document && (x = document.documentMode);
            var D = m.canUseDOM && "TextEvent"in window && !x && !r()
              , M = m.canUseDOM && (!_ || x && x > 8 && 11 >= x)
              , T = 32
              , N = String.fromCharCode(T)
              , P = f.topLevelTypes
              , I = {
                beforeInput: {
                    phasedRegistrationNames: {
                        bubbled: C({
                            onBeforeInput: null
                        }),
                        captured: C({
                            onBeforeInputCapture: null
                        })
                    },
                    dependencies: [P.topCompositionEnd, P.topKeyPress, P.topTextInput, P.topPaste]
                },
                compositionEnd: {
                    phasedRegistrationNames: {
                        bubbled: C({
                            onCompositionEnd: null
                        }),
                        captured: C({
                            onCompositionEndCapture: null
                        })
                    },
                    dependencies: [P.topBlur, P.topCompositionEnd, P.topKeyDown, P.topKeyPress, P.topKeyUp, P.topMouseDown]
                },
                compositionStart: {
                    phasedRegistrationNames: {
                        bubbled: C({
                            onCompositionStart: null
                        }),
                        captured: C({
                            onCompositionStartCapture: null
                        })
                    },
                    dependencies: [P.topBlur, P.topCompositionStart, P.topKeyDown, P.topKeyPress, P.topKeyUp, P.topMouseDown]
                },
                compositionUpdate: {
                    phasedRegistrationNames: {
                        bubbled: C({
                            onCompositionUpdate: null
                        }),
                        captured: C({
                            onCompositionUpdateCapture: null
                        })
                    },
                    dependencies: [P.topBlur, P.topCompositionUpdate, P.topKeyDown, P.topKeyPress, P.topKeyUp, P.topMouseDown]
                }
            }
              , R = !1
              , w = null
              , O = {
                eventTypes: I,
                extractEvents: function(e, t, n, r) {
                    return [l(e, t, n, r), d(e, t, n, r)]
                }
            };
            t.exports = O
        }
        , {
            103: 103,
            107: 107,
            154: 154,
            16: 16,
            21: 21,
            22: 22,
            23: 23
        }],
        4: [function(e, t, n) {
            var r = e(147)
              , o = {
                addClass: function(e, t) {
                    return r(!/\s/.test(t)),
                    t && (e.classList ? e.classList.add(t) : o.hasClass(e, t) || (e.className = e.className + " " + t)),
                    e
                },
                removeClass: function(e, t) {
                    return r(!/\s/.test(t)),
                    t && (e.classList ? e.classList.remove(t) : o.hasClass(e, t) && (e.className = e.className.replace(new RegExp("(^|\\s)" + t + "(?:\\s|$)","g"), "$1").replace(/\s+/g, " ").replace(/^\s*|\s*$/g, ""))),
                    e
                },
                conditionClass: function(e, t, n) {
                    return (n ? o.addClass : o.removeClass)(e, t)
                },
                hasClass: function(e, t) {
                    return r(!/\s/.test(t)),
                    e.classList ? !!t && e.classList.contains(t) : (" " + e.className + " ").indexOf(" " + t + " ") > -1
                }
            };
            t.exports = o
        }
        , {
            147: 147
        }],
        5: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                return e + t.charAt(0).toUpperCase() + t.substring(1)
            }
            var o = {
                boxFlex: !0,
                boxFlexGroup: !0,
                columnCount: !0,
                flex: !0,
                flexGrow: !0,
                flexPositive: !0,
                flexShrink: !0,
                flexNegative: !0,
                fontWeight: !0,
                lineClamp: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0,
                fillOpacity: !0,
                strokeDashoffset: !0,
                strokeOpacity: !0,
                strokeWidth: !0
            }
              , i = ["Webkit", "ms", "Moz", "O"];
            Object.keys(o).forEach(function(e) {
                i.forEach(function(t) {
                    o[r(t, e)] = o[e]
                })
            });
            var a = {
                background: {
                    backgroundImage: !0,
                    backgroundPosition: !0,
                    backgroundRepeat: !0,
                    backgroundColor: !0
                },
                border: {
                    borderWidth: !0,
                    borderStyle: !0,
                    borderColor: !0
                },
                borderBottom: {
                    borderBottomWidth: !0,
                    borderBottomStyle: !0,
                    borderBottomColor: !0
                },
                borderLeft: {
                    borderLeftWidth: !0,
                    borderLeftStyle: !0,
                    borderLeftColor: !0
                },
                borderRight: {
                    borderRightWidth: !0,
                    borderRightStyle: !0,
                    borderRightColor: !0
                },
                borderTop: {
                    borderTopWidth: !0,
                    borderTopStyle: !0,
                    borderTopColor: !0
                },
                font: {
                    fontStyle: !0,
                    fontVariant: !0,
                    fontWeight: !0,
                    fontSize: !0,
                    lineHeight: !0,
                    fontFamily: !0
                }
            }
              , s = {
                isUnitlessNumber: o,
                shorthandPropertyExpansions: a
            };
            t.exports = s
        }
        , {}],
        6: [function(e, t, n) {
            "use strict";
            var r = e(5)
              , o = e(22)
              , i = (e(118),
            e(125))
              , a = e(145)
              , s = e(156)
              , u = (e(166),
            s(function(e) {
                return a(e)
            }))
              , l = "cssFloat";
            o.canUseDOM && void 0 === document.documentElement.style.cssFloat && (l = "styleFloat");
            var c = {
                createMarkupForStyles: function(e) {
                    var t = "";
                    for (var n in e)
                        if (e.hasOwnProperty(n)) {
                            var r = e[n];
                            null != r && (t += u(n) + ":",
                            t += i(n, r) + ";")
                        }
                    return t || null
                },
                setValueForStyles: function(e, t) {
                    var n = e.style;
                    for (var o in t)
                        if (t.hasOwnProperty(o)) {
                            var a = i(o, t[o]);
                            if ("float" === o && (o = l),
                            a)
                                n[o] = a;
                            else {
                                var s = r.shorthandPropertyExpansions[o];
                                if (s)
                                    for (var u in s)
                                        n[u] = "";
                                else
                                    n[o] = ""
                            }
                        }
                }
            };
            t.exports = c
        }
        , {
            118: 118,
            125: 125,
            145: 145,
            156: 156,
            166: 166,
            22: 22,
            5: 5
        }],
        7: [function(e, t, n) {
            "use strict";
            function r() {
                this._callbacks = null,
                this._contexts = null
            }
            var o = e(30)
              , i = e(29)
              , a = e(147);
            i(r.prototype, {
                enqueue: function(e, t) {
                    this._callbacks = this._callbacks || [],
                    this._contexts = this._contexts || [],
                    this._callbacks.push(e),
                    this._contexts.push(t)
                },
                notifyAll: function() {
                    var e = this._callbacks
                      , t = this._contexts;
                    if (e) {
                        a(e.length === t.length),
                        this._callbacks = null,
                        this._contexts = null;
                        for (var n = 0, r = e.length; r > n; n++)
                            e[n].call(t[n]);
                        e.length = 0,
                        t.length = 0
                    }
                },
                reset: function() {
                    this._callbacks = null,
                    this._contexts = null
                },
                destructor: function() {
                    this.reset()
                }
            }),
            o.addPoolingTo(r),
            t.exports = r
        }
        , {
            147: 147,
            29: 29,
            30: 30
        }],
        8: [function(e, t, n) {
            "use strict";
            function r(e) {
                return "SELECT" === e.nodeName || "INPUT" === e.nodeName && "file" === e.type
            }
            function o(e) {
                var t = x.getPooled(P.change, R, e);
                E.accumulateTwoPhaseDispatches(t),
                _.batchedUpdates(i, t)
            }
            function i(e) {
                C.enqueueEvents(e),
                C.processEventQueue()
            }
            function a(e, t) {
                I = e,
                R = t,
                I.attachEvent("onchange", o)
            }
            function s() {
                I && (I.detachEvent("onchange", o),
                I = null,
                R = null)
            }
            function u(e, t, n) {
                return e === N.topChange ? n : void 0
            }
            function l(e, t, n) {
                e === N.topFocus ? (s(),
                a(t, n)) : e === N.topBlur && s()
            }
            function c(e, t) {
                I = e,
                R = t,
                w = e.value,
                O = Object.getOwnPropertyDescriptor(e.constructor.prototype, "value"),
                Object.defineProperty(I, "value", k),
                I.attachEvent("onpropertychange", d)
            }
            function p() {
                I && (delete I.value,
                I.detachEvent("onpropertychange", d),
                I = null,
                R = null,
                w = null,
                O = null)
            }
            function d(e) {
                if ("value" === e.propertyName) {
                    var t = e.srcElement.value;
                    t !== w && (w = t,
                    o(e))
                }
            }
            function f(e, t, n) {
                return e === N.topInput ? n : void 0
            }
            function h(e, t, n) {
                e === N.topFocus ? (p(),
                c(t, n)) : e === N.topBlur && p()
            }
            function m(e, t, n) {
                return e !== N.topSelectionChange && e !== N.topKeyUp && e !== N.topKeyDown || !I || I.value === w ? void 0 : (w = I.value,
                R)
            }
            function v(e) {
                return "INPUT" === e.nodeName && ("checkbox" === e.type || "radio" === e.type)
            }
            function g(e, t, n) {
                return e === N.topClick ? n : void 0
            }
            var y = e(16)
              , C = e(18)
              , E = e(21)
              , b = e(22)
              , _ = e(97)
              , x = e(105)
              , D = e(148)
              , M = e(150)
              , T = e(154)
              , N = y.topLevelTypes
              , P = {
                change: {
                    phasedRegistrationNames: {
                        bubbled: T({
                            onChange: null
                        }),
                        captured: T({
                            onChangeCapture: null
                        })
                    },
                    dependencies: [N.topBlur, N.topChange, N.topClick, N.topFocus, N.topInput, N.topKeyDown, N.topKeyUp, N.topSelectionChange]
                }
            }
              , I = null
              , R = null
              , w = null
              , O = null
              , S = !1;
            b.canUseDOM && (S = D("change") && (!("documentMode"in document) || document.documentMode > 8));
            var A = !1;
            b.canUseDOM && (A = D("input") && (!("documentMode"in document) || document.documentMode > 9));
            var k = {
                get: function() {
                    return O.get.call(this)
                },
                set: function(e) {
                    w = "" + e,
                    O.set.call(this, e)
                }
            }
              , L = {
                eventTypes: P,
                extractEvents: function(e, t, n, o) {
                    var i, a;
                    if (r(t) ? S ? i = u : a = l : M(t) ? A ? i = f : (i = m,
                    a = h) : v(t) && (i = g),
                    i) {
                        var s = i(e, t, n);
                        if (s) {
                            var c = x.getPooled(P.change, s, o);
                            return E.accumulateTwoPhaseDispatches(c),
                            c
                        }
                    }
                    a && a(e, t, n)
                }
            };
            t.exports = L
        }
        , {
            105: 105,
            148: 148,
            150: 150,
            154: 154,
            16: 16,
            18: 18,
            21: 21,
            22: 22,
            97: 97
        }],
        9: [function(e, t, n) {
            "use strict";
            var r = 0
              , o = {
                createReactRootIndex: function() {
                    return r++
                }
            };
            t.exports = o
        }
        , {}],
        10: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                e.insertBefore(t, e.childNodes[n] || null)
            }
            var o = e(13)
              , i = e(77)
              , a = e(160)
              , s = e(147)
              , u = {
                dangerouslyReplaceNodeWithMarkup: o.dangerouslyReplaceNodeWithMarkup,
                updateTextContent: a,
                processUpdates: function(e, t) {
                    for (var n, u = null, l = null, c = 0; c < e.length; c++)
                        if (n = e[c],
                        n.type === i.MOVE_EXISTING || n.type === i.REMOVE_NODE) {
                            var p = n.fromIndex
                              , d = n.parentNode.childNodes[p]
                              , f = n.parentID;
                            s(d),
                            u = u || {},
                            u[f] = u[f] || [],
                            u[f][p] = d,
                            l = l || [],
                            l.push(d)
                        }
                    var h = o.dangerouslyRenderMarkup(t);
                    if (l)
                        for (var m = 0; m < l.length; m++)
                            l[m].parentNode.removeChild(l[m]);
                    for (var v = 0; v < e.length; v++)
                        switch (n = e[v],
                        n.type) {
                        case i.INSERT_MARKUP:
                            r(n.parentNode, h[n.markupIndex], n.toIndex);
                            break;
                        case i.MOVE_EXISTING:
                            r(n.parentNode, u[n.parentID][n.fromIndex], n.toIndex);
                            break;
                        case i.TEXT_CONTENT:
                            a(n.parentNode, n.textContent);
                            break;
                        case i.REMOVE_NODE:
                        }
                }
            };
            t.exports = u
        }
        , {
            13: 13,
            147: 147,
            160: 160,
            77: 77
        }],
        11: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                return (e & t) === t
            }
            var o = e(147)
              , i = {
                MUST_USE_ATTRIBUTE: 1,
                MUST_USE_PROPERTY: 2,
                HAS_SIDE_EFFECTS: 4,
                HAS_BOOLEAN_VALUE: 8,
                HAS_NUMERIC_VALUE: 16,
                HAS_POSITIVE_NUMERIC_VALUE: 48,
                HAS_OVERLOADED_BOOLEAN_VALUE: 64,
                injectDOMPropertyConfig: function(e) {
                    var t = e.Properties || {}
                      , n = e.DOMAttributeNames || {}
                      , a = e.DOMPropertyNames || {}
                      , u = e.DOMMutationMethods || {};
                    e.isCustomAttribute && s._isCustomAttributeFunctions.push(e.isCustomAttribute);
                    for (var l in t) {
                        o(!s.isStandardName.hasOwnProperty(l)),
                        s.isStandardName[l] = !0;
                        var c = l.toLowerCase();
                        if (s.getPossibleStandardName[c] = l,
                        n.hasOwnProperty(l)) {
                            var p = n[l];
                            s.getPossibleStandardName[p] = l,
                            s.getAttributeName[l] = p
                        } else
                            s.getAttributeName[l] = c;
                        s.getPropertyName[l] = a.hasOwnProperty(l) ? a[l] : l,
                        u.hasOwnProperty(l) ? s.getMutationMethod[l] = u[l] : s.getMutationMethod[l] = null;
                        var d = t[l];
                        s.mustUseAttribute[l] = r(d, i.MUST_USE_ATTRIBUTE),
                        s.mustUseProperty[l] = r(d, i.MUST_USE_PROPERTY),
                        s.hasSideEffects[l] = r(d, i.HAS_SIDE_EFFECTS),
                        s.hasBooleanValue[l] = r(d, i.HAS_BOOLEAN_VALUE),
                        s.hasNumericValue[l] = r(d, i.HAS_NUMERIC_VALUE),
                        s.hasPositiveNumericValue[l] = r(d, i.HAS_POSITIVE_NUMERIC_VALUE),
                        s.hasOverloadedBooleanValue[l] = r(d, i.HAS_OVERLOADED_BOOLEAN_VALUE),
                        o(!s.mustUseAttribute[l] || !s.mustUseProperty[l]),
                        o(s.mustUseProperty[l] || !s.hasSideEffects[l]),
                        o(!!s.hasBooleanValue[l] + !!s.hasNumericValue[l] + !!s.hasOverloadedBooleanValue[l] <= 1)
                    }
                }
            }
              , a = {}
              , s = {
                ID_ATTRIBUTE_NAME: "data-reactid",
                isStandardName: {},
                getPossibleStandardName: {},
                getAttributeName: {},
                getPropertyName: {},
                getMutationMethod: {},
                mustUseAttribute: {},
                mustUseProperty: {},
                hasSideEffects: {},
                hasBooleanValue: {},
                hasNumericValue: {},
                hasPositiveNumericValue: {},
                hasOverloadedBooleanValue: {},
                _isCustomAttributeFunctions: [],
                isCustomAttribute: function(e) {
                    for (var t = 0; t < s._isCustomAttributeFunctions.length; t++) {
                        var n = s._isCustomAttributeFunctions[t];
                        if (n(e))
                            return !0
                    }
                    return !1
                },
                getDefaultValueForProperty: function(e, t) {
                    var n, r = a[e];
                    return r || (a[e] = r = {}),
                    t in r || (n = document.createElement(e),
                    r[t] = n[t]),
                    r[t]
                },
                injection: i
            };
            t.exports = s
        }
        , {
            147: 147
        }],
        12: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                return null == t || o.hasBooleanValue[e] && !t || o.hasNumericValue[e] && isNaN(t) || o.hasPositiveNumericValue[e] && 1 > t || o.hasOverloadedBooleanValue[e] && t === !1
            }
            var o = e(11)
              , i = e(158)
              , a = (e(166),
            {
                createMarkupForID: function(e) {
                    return o.ID_ATTRIBUTE_NAME + "=" + i(e)
                },
                createMarkupForProperty: function(e, t) {
                    if (o.isStandardName.hasOwnProperty(e) && o.isStandardName[e]) {
                        if (r(e, t))
                            return "";
                        var n = o.getAttributeName[e];
                        return o.hasBooleanValue[e] || o.hasOverloadedBooleanValue[e] && t === !0 ? n : n + "=" + i(t)
                    }
                    return o.isCustomAttribute(e) ? null == t ? "" : e + "=" + i(t) : null
                },
                setValueForProperty: function(e, t, n) {
                    if (o.isStandardName.hasOwnProperty(t) && o.isStandardName[t]) {
                        var i = o.getMutationMethod[t];
                        if (i)
                            i(e, n);
                        else if (r(t, n))
                            this.deleteValueForProperty(e, t);
                        else if (o.mustUseAttribute[t])
                            e.setAttribute(o.getAttributeName[t], "" + n);
                        else {
                            var a = o.getPropertyName[t];
                            o.hasSideEffects[t] && "" + e[a] == "" + n || (e[a] = n)
                        }
                    } else
                        o.isCustomAttribute(t) && (null == n ? e.removeAttribute(t) : e.setAttribute(t, "" + n))
                },
                deleteValueForProperty: function(e, t) {
                    if (o.isStandardName.hasOwnProperty(t) && o.isStandardName[t]) {
                        var n = o.getMutationMethod[t];
                        if (n)
                            n(e, void 0);
                        else if (o.mustUseAttribute[t])
                            e.removeAttribute(o.getAttributeName[t]);
                        else {
                            var r = o.getPropertyName[t]
                              , i = o.getDefaultValueForProperty(e.nodeName, r);
                            o.hasSideEffects[t] && "" + e[r] === i || (e[r] = i)
                        }
                    } else
                        o.isCustomAttribute(t) && e.removeAttribute(t)
                }
            });
            t.exports = a
        }
        , {
            11: 11,
            158: 158,
            166: 166
        }],
        13: [function(e, t, n) {
            "use strict";
            function r(e) {
                return e.substring(1, e.indexOf(" "))
            }
            var o = e(22)
              , i = e(123)
              , a = e(126)
              , s = e(139)
              , u = e(147)
              , l = /^(<[^ \/>]+)/
              , c = "data-danger-index"
              , p = {
                dangerouslyRenderMarkup: function(e) {
                    u(o.canUseDOM);
                    for (var t, n = {}, p = 0; p < e.length; p++)
                        u(e[p]),
                        t = r(e[p]),
                        t = s(t) ? t : "*",
                        n[t] = n[t] || [],
                        n[t][p] = e[p];
                    var d = []
                      , f = 0;
                    for (t in n)
                        if (n.hasOwnProperty(t)) {
                            var h, m = n[t];
                            for (h in m)
                                if (m.hasOwnProperty(h)) {
                                    var v = m[h];
                                    m[h] = v.replace(l, "$1 " + c + '="' + h + '" ')
                                }
                            for (var g = i(m.join(""), a), y = 0; y < g.length; ++y) {
                                var C = g[y];
                                C.hasAttribute && C.hasAttribute(c) && (h = +C.getAttribute(c),
                                C.removeAttribute(c),
                                u(!d.hasOwnProperty(h)),
                                d[h] = C,
                                f += 1)
                            }
                        }
                    return u(f === d.length),
                    u(d.length === e.length),
                    d
                },
                dangerouslyReplaceNodeWithMarkup: function(e, t) {
                    u(o.canUseDOM),
                    u(t),
                    u("html" !== e.tagName.toLowerCase());
                    var n = i(t, a)[0];
                    e.parentNode.replaceChild(n, e)
                }
            };
            t.exports = p
        }
        , {
            123: 123,
            126: 126,
            139: 139,
            147: 147,
            22: 22
        }],
        14: [function(e, t, n) {
            "use strict";
            var r = e(154)
              , o = [r({
                ResponderEventPlugin: null
            }), r({
                SimpleEventPlugin: null
            }), r({
                TapEventPlugin: null
            }), r({
                EnterLeaveEventPlugin: null
            }), r({
                ChangeEventPlugin: null
            }), r({
                SelectEventPlugin: null
            }), r({
                BeforeInputEventPlugin: null
            }), r({
                AnalyticsEventPlugin: null
            }), r({
                MobileSafariClickEventPlugin: null
            })];
            t.exports = o
        }
        , {
            154: 154
        }],
        15: [function(e, t, n) {
            "use strict";
            var r = e(16)
              , o = e(21)
              , i = e(109)
              , a = e(75)
              , s = e(154)
              , u = r.topLevelTypes
              , l = a.getFirstReactDOM
              , c = {
                mouseEnter: {
                    registrationName: s({
                        onMouseEnter: null
                    }),
                    dependencies: [u.topMouseOut, u.topMouseOver]
                },
                mouseLeave: {
                    registrationName: s({
                        onMouseLeave: null
                    }),
                    dependencies: [u.topMouseOut, u.topMouseOver]
                }
            }
              , p = [null, null]
              , d = {
                eventTypes: c,
                extractEvents: function(e, t, n, r) {
                    if (e === u.topMouseOver && (r.relatedTarget || r.fromElement))
                        return null;
                    if (e !== u.topMouseOut && e !== u.topMouseOver)
                        return null;
                    var s;
                    if (t.window === t)
                        s = t;
                    else {
                        var d = t.ownerDocument;
                        s = d ? d.defaultView || d.parentWindow : window
                    }
                    var f, h;
                    if (e === u.topMouseOut ? (f = t,
                    h = l(r.relatedTarget || r.toElement) || s) : (f = s,
                    h = t),
                    f === h)
                        return null;
                    var m = f ? a.getID(f) : ""
                      , v = h ? a.getID(h) : ""
                      , g = i.getPooled(c.mouseLeave, m, r);
                    g.type = "mouseleave",
                    g.target = f,
                    g.relatedTarget = h;
                    var y = i.getPooled(c.mouseEnter, v, r);
                    return y.type = "mouseenter",
                    y.target = h,
                    y.relatedTarget = f,
                    o.accumulateEnterLeaveDispatches(g, y, m, v),
                    p[0] = g,
                    p[1] = y,
                    p
                }
            };
            t.exports = d
        }
        , {
            109: 109,
            154: 154,
            16: 16,
            21: 21,
            75: 75
        }],
        16: [function(e, t, n) {
            "use strict";
            var r = e(153)
              , o = r({
                bubbled: null,
                captured: null
            })
              , i = r({
                topBlur: null,
                topChange: null,
                topClick: null,
                topCompositionEnd: null,
                topCompositionStart: null,
                topCompositionUpdate: null,
                topContextMenu: null,
                topCopy: null,
                topCut: null,
                topDoubleClick: null,
                topDrag: null,
                topDragEnd: null,
                topDragEnter: null,
                topDragExit: null,
                topDragLeave: null,
                topDragOver: null,
                topDragStart: null,
                topDrop: null,
                topError: null,
                topFocus: null,
                topInput: null,
                topKeyDown: null,
                topKeyPress: null,
                topKeyUp: null,
                topLoad: null,
                topMouseDown: null,
                topMouseMove: null,
                topMouseOut: null,
                topMouseOver: null,
                topMouseUp: null,
                topPaste: null,
                topReset: null,
                topScroll: null,
                topSelectionChange: null,
                topSubmit: null,
                topTextInput: null,
                topTouchCancel: null,
                topTouchEnd: null,
                topTouchMove: null,
                topTouchStart: null,
                topWheel: null
            })
              , a = {
                topLevelTypes: i,
                PropagationPhases: o
            };
            t.exports = a
        }
        , {
            153: 153
        }],
        17: [function(e, t, n) {
            var r = e(126)
              , o = {
                listen: function(e, t, n) {
                    return e.addEventListener ? (e.addEventListener(t, n, !1),
                    {
                        remove: function() {
                            e.removeEventListener(t, n, !1)
                        }
                    }) : e.attachEvent ? (e.attachEvent("on" + t, n),
                    {
                        remove: function() {
                            e.detachEvent("on" + t, n)
                        }
                    }) : void 0
                },
                capture: function(e, t, n) {
                    return e.addEventListener ? (e.addEventListener(t, n, !0),
                    {
                        remove: function() {
                            e.removeEventListener(t, n, !0)
                        }
                    }) : {
                        remove: r
                    }
                },
                registerDefault: function() {}
            };
            t.exports = o
        }
        , {
            126: 126
        }],
        18: [function(e, t, n) {
            "use strict";
            var r = e(19)
              , o = e(20)
              , i = e(115)
              , a = e(132)
              , s = e(147)
              , u = {}
              , l = null
              , c = function(e) {
                if (e) {
                    var t = o.executeDispatch
                      , n = r.getPluginModuleForEvent(e);
                    n && n.executeDispatch && (t = n.executeDispatch),
                    o.executeDispatchesInOrder(e, t),
                    e.isPersistent() || e.constructor.release(e)
                }
            }
              , p = null
              , d = {
                injection: {
                    injectMount: o.injection.injectMount,
                    injectInstanceHandle: function(e) {
                        p = e
                    },
                    getInstanceHandle: function() {
                        return p
                    },
                    injectEventPluginOrder: r.injectEventPluginOrder,
                    injectEventPluginsByName: r.injectEventPluginsByName
                },
                eventNameDispatchConfigs: r.eventNameDispatchConfigs,
                registrationNameModules: r.registrationNameModules,
                putListener: function(e, t, n) {
                    s(!n || "function" == typeof n);
                    var r = u[t] || (u[t] = {});
                    r[e] = n
                },
                getListener: function(e, t) {
                    var n = u[t];
                    return n && n[e]
                },
                deleteListener: function(e, t) {
                    var n = u[t];
                    n && delete n[e]
                },
                deleteAllListeners: function(e) {
                    for (var t in u)
                        delete u[t][e]
                },
                extractEvents: function(e, t, n, o) {
                    for (var a, s = r.plugins, u = 0, l = s.length; l > u; u++) {
                        var c = s[u];
                        if (c) {
                            var p = c.extractEvents(e, t, n, o);
                            p && (a = i(a, p))
                        }
                    }
                    return a
                },
                enqueueEvents: function(e) {
                    e && (l = i(l, e))
                },
                processEventQueue: function() {
                    var e = l;
                    l = null,
                    a(e, c),
                    s(!l)
                },
                __purge: function() {
                    u = {}
                },
                __getListenerBank: function() {
                    return u
                }
            };
            t.exports = d
        }
        , {
            115: 115,
            132: 132,
            147: 147,
            19: 19,
            20: 20
        }],
        19: [function(e, t, n) {
            "use strict";
            function r() {
                if (s)
                    for (var e in u) {
                        var t = u[e]
                          , n = s.indexOf(e);
                        if (a(n > -1),
                        !l.plugins[n]) {
                            a(t.extractEvents),
                            l.plugins[n] = t;
                            var r = t.eventTypes;
                            for (var i in r)
                                a(o(r[i], t, i))
                        }
                    }
            }
            function o(e, t, n) {
                a(!l.eventNameDispatchConfigs.hasOwnProperty(n)),
                l.eventNameDispatchConfigs[n] = e;
                var r = e.phasedRegistrationNames;
                if (r) {
                    for (var o in r)
                        if (r.hasOwnProperty(o)) {
                            var s = r[o];
                            i(s, t, n)
                        }
                    return !0
                }
                return e.registrationName ? (i(e.registrationName, t, n),
                !0) : !1
            }
            function i(e, t, n) {
                a(!l.registrationNameModules[e]),
                l.registrationNameModules[e] = t,
                l.registrationNameDependencies[e] = t.eventTypes[n].dependencies
            }
            var a = e(147)
              , s = null
              , u = {}
              , l = {
                plugins: [],
                eventNameDispatchConfigs: {},
                registrationNameModules: {},
                registrationNameDependencies: {},
                injectEventPluginOrder: function(e) {
                    a(!s),
                    s = Array.prototype.slice.call(e),
                    r()
                },
                injectEventPluginsByName: function(e) {
                    var t = !1;
                    for (var n in e)
                        if (e.hasOwnProperty(n)) {
                            var o = e[n];
                            u.hasOwnProperty(n) && u[n] === o || (a(!u[n]),
                            u[n] = o,
                            t = !0)
                        }
                    t && r()
                },
                getPluginModuleForEvent: function(e) {
                    var t = e.dispatchConfig;
                    if (t.registrationName)
                        return l.registrationNameModules[t.registrationName] || null;
                    for (var n in t.phasedRegistrationNames)
                        if (t.phasedRegistrationNames.hasOwnProperty(n)) {
                            var r = l.registrationNameModules[t.phasedRegistrationNames[n]];
                            if (r)
                                return r
                        }
                    return null
                },
                _resetEventPlugins: function() {
                    s = null;
                    for (var e in u)
                        u.hasOwnProperty(e) && delete u[e];
                    l.plugins.length = 0;
                    var t = l.eventNameDispatchConfigs;
                    for (var n in t)
                        t.hasOwnProperty(n) && delete t[n];
                    var r = l.registrationNameModules;
                    for (var o in r)
                        r.hasOwnProperty(o) && delete r[o]
                }
            };
            t.exports = l
        }
        , {
            147: 147
        }],
        20: [function(e, t, n) {
            "use strict";
            function r(e) {
                return e === v.topMouseUp || e === v.topTouchEnd || e === v.topTouchCancel
            }
            function o(e) {
                return e === v.topMouseMove || e === v.topTouchMove
            }
            function i(e) {
                return e === v.topMouseDown || e === v.topTouchStart
            }
            function a(e, t) {
                var n = e._dispatchListeners
                  , r = e._dispatchIDs;
                if (Array.isArray(n))
                    for (var o = 0; o < n.length && !e.isPropagationStopped(); o++)
                        t(e, n[o], r[o]);
                else
                    n && t(e, n, r)
            }
            function s(e, t, n) {
                e.currentTarget = m.Mount.getNode(n);
                var r = t(e, n);
                return e.currentTarget = null,
                r
            }
            function u(e, t) {
                a(e, t),
                e._dispatchListeners = null,
                e._dispatchIDs = null
            }
            function l(e) {
                var t = e._dispatchListeners
                  , n = e._dispatchIDs;
                if (Array.isArray(t)) {
                    for (var r = 0; r < t.length && !e.isPropagationStopped(); r++)
                        if (t[r](e, n[r]))
                            return n[r]
                } else if (t && t(e, n))
                    return n;
                return null
            }
            function c(e) {
                var t = l(e);
                return e._dispatchIDs = null,
                e._dispatchListeners = null,
                t
            }
            function p(e) {
                var t = e._dispatchListeners
                  , n = e._dispatchIDs;
                h(!Array.isArray(t));
                var r = t ? t(e, n) : null;
                return e._dispatchListeners = null,
                e._dispatchIDs = null,
                r
            }
            function d(e) {
                return !!e._dispatchListeners
            }
            var f = e(16)
              , h = e(147)
              , m = {
                Mount: null,
                injectMount: function(e) {
                    m.Mount = e
                }
            }
              , v = f.topLevelTypes
              , g = {
                isEndish: r,
                isMoveish: o,
                isStartish: i,
                executeDirectDispatch: p,
                executeDispatch: s,
                executeDispatchesInOrder: u,
                executeDispatchesInOrderStopAtTrue: c,
                hasDispatches: d,
                injection: m,
                useTouchEvents: !1
            };
            t.exports = g
        }
        , {
            147: 147,
            16: 16
        }],
        21: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                var r = t.dispatchConfig.phasedRegistrationNames[n];
                return v(e, r)
            }
            function o(e, t, n) {
                var o = t ? m.bubbled : m.captured
                  , i = r(e, n, o);
                i && (n._dispatchListeners = f(n._dispatchListeners, i),
                n._dispatchIDs = f(n._dispatchIDs, e))
            }
            function i(e) {
                e && e.dispatchConfig.phasedRegistrationNames && d.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker, o, e)
            }
            function a(e, t, n) {
                if (n && n.dispatchConfig.registrationName) {
                    var r = n.dispatchConfig.registrationName
                      , o = v(e, r);
                    o && (n._dispatchListeners = f(n._dispatchListeners, o),
                    n._dispatchIDs = f(n._dispatchIDs, e))
                }
            }
            function s(e) {
                e && e.dispatchConfig.registrationName && a(e.dispatchMarker, null, e)
            }
            function u(e) {
                h(e, i)
            }
            function l(e, t, n, r) {
                d.injection.getInstanceHandle().traverseEnterLeave(n, r, a, e, t)
            }
            function c(e) {
                h(e, s)
            }
            var p = e(16)
              , d = e(18)
              , f = e(115)
              , h = e(132)
              , m = p.PropagationPhases
              , v = d.getListener
              , g = {
                accumulateTwoPhaseDispatches: u,
                accumulateDirectDispatches: c,
                accumulateEnterLeaveDispatches: l
            };
            t.exports = g
        }
        , {
            115: 115,
            132: 132,
            16: 16,
            18: 18
        }],
        22: [function(e, t, n) {
            "use strict";
            var r = !("undefined" == typeof window || !window.document || !window.document.createElement)
              , o = {
                canUseDOM: r,
                canUseWorkers: "undefined" != typeof Worker,
                canUseEventListeners: r && !(!window.addEventListener && !window.attachEvent),
                canUseViewport: r && !!window.screen,
                isInWorker: !r
            };
            t.exports = o
        }
        , {}],
        23: [function(e, t, n) {
            "use strict";
            function r(e) {
                this._root = e,
                this._startText = this.getText(),
                this._fallbackText = null
            }
            var o = e(30)
              , i = e(29)
              , a = e(142);
            i(r.prototype, {
                getText: function() {
                    return "value"in this._root ? this._root.value : this._root[a()]
                },
                getData: function() {
                    if (this._fallbackText)
                        return this._fallbackText;
                    var e, t, n = this._startText, r = n.length, o = this.getText(), i = o.length;
                    for (e = 0; r > e && n[e] === o[e]; e++)
                        ;
                    var a = r - e;
                    for (t = 1; a >= t && n[r - t] === o[i - t]; t++)
                        ;
                    var s = t > 1 ? 1 - t : void 0;
                    return this._fallbackText = o.slice(e, s),
                    this._fallbackText
                }
            }),
            o.addPoolingTo(r),
            t.exports = r
        }
        , {
            142: 142,
            29: 29,
            30: 30
        }],
        24: [function(e, t, n) {
            "use strict";
            var r, o = e(11), i = e(22), a = o.injection.MUST_USE_ATTRIBUTE, s = o.injection.MUST_USE_PROPERTY, u = o.injection.HAS_BOOLEAN_VALUE, l = o.injection.HAS_SIDE_EFFECTS, c = o.injection.HAS_NUMERIC_VALUE, p = o.injection.HAS_POSITIVE_NUMERIC_VALUE, d = o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;
            if (i.canUseDOM) {
                var f = document.implementation;
                r = f && f.hasFeature && f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")
            }
            var h = {
                isCustomAttribute: RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),
                Properties: {
                    accept: null,
                    acceptCharset: null,
                    accessKey: null,
                    action: null,
                    allowFullScreen: a | u,
                    allowTransparency: a,
                    alt: null,
                    async: u,
                    autoComplete: null,
                    autoPlay: u,
                    cellPadding: null,
                    cellSpacing: null,
                    charSet: a,
                    checked: s | u,
                    classID: a,
                    className: r ? a : s,
                    cols: a | p,
                    colSpan: null,
                    content: null,
                    contentEditable: null,
                    contextMenu: a,
                    controls: s | u,
                    coords: null,
                    crossOrigin: null,
                    data: null,
                    dateTime: a,
                    defer: u,
                    dir: null,
                    disabled: a | u,
                    download: d,
                    draggable: null,
                    encType: null,
                    form: a,
                    formAction: a,
                    formEncType: a,
                    formMethod: a,
                    formNoValidate: u,
                    formTarget: a,
                    frameBorder: a,
                    headers: null,
                    height: a,
                    hidden: a | u,
                    high: null,
                    href: null,
                    hrefLang: null,
                    htmlFor: null,
                    httpEquiv: null,
                    icon: null,
                    id: s,
                    label: null,
                    lang: null,
                    list: a,
                    loop: s | u,
                    low: null,
                    manifest: a,
                    marginHeight: null,
                    marginWidth: null,
                    max: null,
                    maxLength: a,
                    media: a,
                    mediaGroup: null,
                    method: null,
                    min: null,
                    multiple: s | u,
                    muted: s | u,
                    name: null,
                    noValidate: u,
                    open: u,
                    optimum: null,
                    pattern: null,
                    placeholder: null,
                    poster: null,
                    preload: null,
                    radioGroup: null,
                    readOnly: s | u,
                    rel: null,
                    required: u,
                    role: a,
                    rows: a | p,
                    rowSpan: null,
                    sandbox: null,
                    scope: null,
                    scoped: u,
                    scrolling: null,
                    seamless: a | u,
                    selected: s | u,
                    shape: null,
                    size: a | p,
                    sizes: a,
                    span: p,
                    spellCheck: null,
                    src: null,
                    srcDoc: s,
                    srcSet: a,
                    start: c,
                    step: null,
                    style: null,
                    tabIndex: null,
                    target: null,
                    title: null,
                    type: null,
                    useMap: null,
                    value: s | l,
                    width: a,
                    wmode: a,
                    autoCapitalize: null,
                    autoCorrect: null,
                    itemProp: a,
                    itemScope: a | u,
                    itemType: a,
                    itemID: a,
                    itemRef: a,
                    property: null,
                    unselectable: a
                },
                DOMAttributeNames: {
                    acceptCharset: "accept-charset",
                    className: "class",
                    htmlFor: "for",
                    httpEquiv: "http-equiv"
                },
                DOMPropertyNames: {
                    autoCapitalize: "autocapitalize",
                    autoComplete: "autocomplete",
                    autoCorrect: "autocorrect",
                    autoFocus: "autofocus",
                    autoPlay: "autoplay",
                    encType: "encoding",
                    hrefLang: "hreflang",
                    radioGroup: "radiogroup",
                    spellCheck: "spellcheck",
                    srcDoc: "srcdoc",
                    srcSet: "srcset"
                }
            };
            t.exports = h
        }
        , {
            11: 11,
            22: 22
        }],
        25: [function(e, t, n) {
            "use strict";
            var r = e(73)
              , o = e(92)
              , i = {
                linkState: function(e) {
                    return new r(this.state[e],o.createStateKeySetter(this, e))
                }
            };
            t.exports = i
        }
        , {
            73: 73,
            92: 92
        }],
        26: [function(e, t, n) {
            "use strict";
            function r(e) {
                l(null == e.props.checkedLink || null == e.props.valueLink)
            }
            function o(e) {
                r(e),
                l(null == e.props.value && null == e.props.onChange)
            }
            function i(e) {
                r(e),
                l(null == e.props.checked && null == e.props.onChange)
            }
            function a(e) {
                this.props.valueLink.requestChange(e.target.value)
            }
            function s(e) {
                this.props.checkedLink.requestChange(e.target.checked)
            }
            var u = e(84)
              , l = e(147)
              , c = {
                button: !0,
                checkbox: !0,
                image: !0,
                hidden: !0,
                radio: !0,
                reset: !0,
                submit: !0
            }
              , p = {
                Mixin: {
                    propTypes: {
                        value: function(e, t, n) {
                            return !e[t] || c[e.type] || e.onChange || e.readOnly || e.disabled ? null : new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")
                        },
                        checked: function(e, t, n) {
                            return !e[t] || e.onChange || e.readOnly || e.disabled ? null : new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")
                        },
                        onChange: u.func
                    }
                },
                getValue: function(e) {
                    return e.props.valueLink ? (o(e),
                    e.props.valueLink.value) : e.props.value
                },
                getChecked: function(e) {
                    return e.props.checkedLink ? (i(e),
                    e.props.checkedLink.value) : e.props.checked
                },
                getOnChange: function(e) {
                    return e.props.valueLink ? (o(e),
                    a) : e.props.checkedLink ? (i(e),
                    s) : e.props.onChange
                }
            };
            t.exports = p
        }
        , {
            147: 147,
            84: 84
        }],
        27: [function(e, t, n) {
            "use strict";
            function r(e) {
                e.remove()
            }
            var o = e(33)
              , i = e(115)
              , a = e(132)
              , s = e(147)
              , u = {
                trapBubbledEvent: function(e, t) {
                    s(this.isMounted());
                    var n = this.getDOMNode();
                    s(n);
                    var r = o.trapBubbledEvent(e, t, n);
                    this._localEventListeners = i(this._localEventListeners, r)
                },
                componentWillUnmount: function() {
                    this._localEventListeners && a(this._localEventListeners, r)
                }
            };
            t.exports = u
        }
        , {
            115: 115,
            132: 132,
            147: 147,
            33: 33
        }],
        28: [function(e, t, n) {
            "use strict";
            var r = e(16)
              , o = e(126)
              , i = r.topLevelTypes
              , a = {
                eventTypes: null,
                extractEvents: function(e, t, n, r) {
                    if (e === i.topTouchStart) {
                        var a = r.target;
                        a && !a.onclick && (a.onclick = o)
                    }
                }
            };
            t.exports = a
        }
        , {
            126: 126,
            16: 16
        }],
        29: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                if (null == e)
                    throw new TypeError("Object.assign target cannot be null or undefined");
                for (var n = Object(e), r = Object.prototype.hasOwnProperty, o = 1; o < arguments.length; o++) {
                    var i = arguments[o];
                    if (null != i) {
                        var a = Object(i);
                        for (var s in a)
                            r.call(a, s) && (n[s] = a[s])
                    }
                }
                return n
            }
            t.exports = r
        }
        , {}],
        30: [function(e, t, n) {
            "use strict";
            var r = e(147)
              , o = function(e) {
                var t = this;
                if (t.instancePool.length) {
                    var n = t.instancePool.pop();
                    return t.call(n, e),
                    n
                }
                return new t(e)
            }
              , i = function(e, t) {
                var n = this;
                if (n.instancePool.length) {
                    var r = n.instancePool.pop();
                    return n.call(r, e, t),
                    r
                }
                return new n(e,t)
            }
              , a = function(e, t, n) {
                var r = this;
                if (r.instancePool.length) {
                    var o = r.instancePool.pop();
                    return r.call(o, e, t, n),
                    o
                }
                return new r(e,t,n)
            }
              , s = function(e, t, n, r, o) {
                var i = this;
                if (i.instancePool.length) {
                    var a = i.instancePool.pop();
                    return i.call(a, e, t, n, r, o),
                    a
                }
                return new i(e,t,n,r,o)
            }
              , u = function(e) {
                var t = this;
                r(e instanceof t),
                e.destructor && e.destructor(),
                t.instancePool.length < t.poolSize && t.instancePool.push(e)
            }
              , l = 10
              , c = o
              , p = function(e, t) {
                var n = e;
                return n.instancePool = [],
                n.getPooled = t || c,
                n.poolSize || (n.poolSize = l),
                n.release = u,
                n
            }
              , d = {
                addPoolingTo: p,
                oneArgumentPooler: o,
                twoArgumentPooler: i,
                threeArgumentPooler: a,
                fiveArgumentPooler: s
            };
            t.exports = d
        }
        , {
            147: 147
        }],
        31: [function(e, t, n) {
            "use strict";
            var r = e(20)
              , o = e(37)
              , i = e(39)
              , a = e(38)
              , s = e(44)
              , u = e(45)
              , l = e(61)
              , c = (e(62),
            e(46))
              , p = e(57)
              , d = e(60)
              , f = e(70)
              , h = e(75)
              , m = e(80)
              , v = e(84)
              , g = e(87)
              , y = e(90)
              , C = e(29)
              , E = e(129)
              , b = e(157);
            d.inject();
            var _ = l.createElement
              , x = l.createFactory
              , D = l.cloneElement
              , M = m.measure("React", "render", h.render)
              , T = {
                Children: {
                    map: o.map,
                    forEach: o.forEach,
                    count: o.count,
                    only: b
                },
                Component: i,
                DOM: c,
                PropTypes: v,
                initializeTouchEvents: function(e) {
                    r.useTouchEvents = e
                },
                createClass: a.createClass,
                createElement: _,
                cloneElement: D,
                createFactory: x,
                createMixin: function(e) {
                    return e
                },
                constructAndRenderComponent: h.constructAndRenderComponent,
                constructAndRenderComponentByID: h.constructAndRenderComponentByID,
                findDOMNode: E,
                render: M,
                renderToString: y.renderToString,
                renderToStaticMarkup: y.renderToStaticMarkup,
                unmountComponentAtNode: h.unmountComponentAtNode,
                isValidElement: l.isValidElement,
                withContext: s.withContext,
                __spread: C
            };
            "undefined" != typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ && "function" == typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject && __REACT_DEVTOOLS_GLOBAL_HOOK__.inject({
                CurrentOwner: u,
                InstanceHandles: f,
                Mount: h,
                Reconciler: g,
                TextComponent: p
            });
            T.version = "0.13.2",
            t.exports = T
        }
        , {
            129: 129,
            157: 157,
            20: 20,
            29: 29,
            37: 37,
            38: 38,
            39: 39,
            44: 44,
            45: 45,
            46: 46,
            57: 57,
            60: 60,
            61: 61,
            62: 62,
            70: 70,
            75: 75,
            80: 80,
            84: 84,
            87: 87,
            90: 90
        }],
        32: [function(e, t, n) {
            "use strict";
            var r = e(129)
              , o = {
                getDOMNode: function() {
                    return r(this)
                }
            };
            t.exports = o
        }
        , {
            129: 129
        }],
        33: [function(e, t, n) {
            "use strict";
            function r(e) {
                return Object.prototype.hasOwnProperty.call(e, m) || (e[m] = f++,
                p[e[m]] = {}),
                p[e[m]]
            }
            var o = e(16)
              , i = e(18)
              , a = e(19)
              , s = e(65)
              , u = e(114)
              , l = e(29)
              , c = e(148)
              , p = {}
              , d = !1
              , f = 0
              , h = {
                topBlur: "blur",
                topChange: "change",
                topClick: "click",
                topCompositionEnd: "compositionend",
                topCompositionStart: "compositionstart",
                topCompositionUpdate: "compositionupdate",
                topContextMenu: "contextmenu",
                topCopy: "copy",
                topCut: "cut",
                topDoubleClick: "dblclick",
                topDrag: "drag",
                topDragEnd: "dragend",
                topDragEnter: "dragenter",
                topDragExit: "dragexit",
                topDragLeave: "dragleave",
                topDragOver: "dragover",
                topDragStart: "dragstart",
                topDrop: "drop",
                topFocus: "focus",
                topInput: "input",
                topKeyDown: "keydown",
                topKeyPress: "keypress",
                topKeyUp: "keyup",
                topMouseDown: "mousedown",
                topMouseMove: "mousemove",
                topMouseOut: "mouseout",
                topMouseOver: "mouseover",
                topMouseUp: "mouseup",
                topPaste: "paste",
                topScroll: "scroll",
                topSelectionChange: "selectionchange",
                topTextInput: "textInput",
                topTouchCancel: "touchcancel",
                topTouchEnd: "touchend",
                topTouchMove: "touchmove",
                topTouchStart: "touchstart",
                topWheel: "wheel"
            }
              , m = "_reactListenersID" + String(Math.random()).slice(2)
              , v = l({}, s, {
                ReactEventListener: null,
                injection: {
                    injectReactEventListener: function(e) {
                        e.setHandleTopLevel(v.handleTopLevel),
                        v.ReactEventListener = e;
                    }
                },
                setEnabled: function(e) {
                    v.ReactEventListener && v.ReactEventListener.setEnabled(e)
                },
                isEnabled: function() {
                    return !(!v.ReactEventListener || !v.ReactEventListener.isEnabled())
                },
                listenTo: function(e, t) {
                    for (var n = t, i = r(n), s = a.registrationNameDependencies[e], u = o.topLevelTypes, l = 0, p = s.length; p > l; l++) {
                        var d = s[l];
                        i.hasOwnProperty(d) && i[d] || (d === u.topWheel ? c("wheel") ? v.ReactEventListener.trapBubbledEvent(u.topWheel, "wheel", n) : c("mousewheel") ? v.ReactEventListener.trapBubbledEvent(u.topWheel, "mousewheel", n) : v.ReactEventListener.trapBubbledEvent(u.topWheel, "DOMMouseScroll", n) : d === u.topScroll ? c("scroll", !0) ? v.ReactEventListener.trapCapturedEvent(u.topScroll, "scroll", n) : v.ReactEventListener.trapBubbledEvent(u.topScroll, "scroll", v.ReactEventListener.WINDOW_HANDLE) : d === u.topFocus || d === u.topBlur ? (c("focus", !0) ? (v.ReactEventListener.trapCapturedEvent(u.topFocus, "focus", n),
                        v.ReactEventListener.trapCapturedEvent(u.topBlur, "blur", n)) : c("focusin") && (v.ReactEventListener.trapBubbledEvent(u.topFocus, "focusin", n),
                        v.ReactEventListener.trapBubbledEvent(u.topBlur, "focusout", n)),
                        i[u.topBlur] = !0,
                        i[u.topFocus] = !0) : h.hasOwnProperty(d) && v.ReactEventListener.trapBubbledEvent(d, h[d], n),
                        i[d] = !0)
                    }
                },
                trapBubbledEvent: function(e, t, n) {
                    return v.ReactEventListener.trapBubbledEvent(e, t, n)
                },
                trapCapturedEvent: function(e, t, n) {
                    return v.ReactEventListener.trapCapturedEvent(e, t, n)
                },
                ensureScrollValueMonitoring: function() {
                    if (!d) {
                        var e = u.refreshScrollValues;
                        v.ReactEventListener.monitorScrollValue(e),
                        d = !0
                    }
                },
                eventNameDispatchConfigs: i.eventNameDispatchConfigs,
                registrationNameModules: i.registrationNameModules,
                putListener: i.putListener,
                getListener: i.getListener,
                deleteListener: i.deleteListener,
                deleteAllListeners: i.deleteAllListeners
            });
            t.exports = v
        }
        , {
            114: 114,
            148: 148,
            16: 16,
            18: 18,
            19: 19,
            29: 29,
            65: 65
        }],
        34: [function(e, t, n) {
            "use strict";
            var r = e(31)
              , o = e(29)
              , i = r.createFactory(e(95))
              , a = r.createFactory(e(35))
              , s = r.createClass({
                displayName: "ReactCSSTransitionGroup",
                propTypes: {
                    transitionName: r.PropTypes.string.isRequired,
                    transitionAppear: r.PropTypes.bool,
                    transitionEnter: r.PropTypes.bool,
                    transitionLeave: r.PropTypes.bool
                },
                getDefaultProps: function() {
                    return {
                        transitionAppear: !1,
                        transitionEnter: !0,
                        transitionLeave: !0
                    }
                },
                _wrapChild: function(e) {
                    return a({
                        name: this.props.transitionName,
                        appear: this.props.transitionAppear,
                        enter: this.props.transitionEnter,
                        leave: this.props.transitionLeave
                    }, e)
                },
                render: function() {
                    return i(o({}, this.props, {
                        childFactory: this._wrapChild
                    }))
                }
            });
            t.exports = s
        }
        , {
            29: 29,
            31: 31,
            35: 35,
            95: 95
        }],
        35: [function(e, t, n) {
            "use strict";
            var r = e(31)
              , o = e(4)
              , i = e(94)
              , a = e(157)
              , s = (e(166),
            17)
              , u = r.createClass({
                displayName: "ReactCSSTransitionGroupChild",
                transition: function(e, t) {
                    var n = this.getDOMNode()
                      , r = this.props.name + "-" + e
                      , a = r + "-active"
                      , s = function(e) {
                        e && e.target !== n || (o.removeClass(n, r),
                        o.removeClass(n, a),
                        i.removeEndEventListener(n, s),
                        t && t())
                    };
                    i.addEndEventListener(n, s),
                    o.addClass(n, r),
                    this.queueClass(a)
                },
                queueClass: function(e) {
                    this.classNameQueue.push(e),
                    this.timeout || (this.timeout = setTimeout(this.flushClassNameQueue, s))
                },
                flushClassNameQueue: function() {
                    this.isMounted() && this.classNameQueue.forEach(o.addClass.bind(o, this.getDOMNode())),
                    this.classNameQueue.length = 0,
                    this.timeout = null
                },
                componentWillMount: function() {
                    this.classNameQueue = []
                },
                componentWillUnmount: function() {
                    this.timeout && clearTimeout(this.timeout)
                },
                componentWillAppear: function(e) {
                    this.props.appear ? this.transition("appear", e) : e()
                },
                componentWillEnter: function(e) {
                    this.props.enter ? this.transition("enter", e) : e()
                },
                componentWillLeave: function(e) {
                    this.props.leave ? this.transition("leave", e) : e()
                },
                render: function() {
                    return a(this.props.children)
                }
            });
            t.exports = u
        }
        , {
            157: 157,
            166: 166,
            31: 31,
            4: 4,
            94: 94
        }],
        36: [function(e, t, n) {
            "use strict";
            var r = e(87)
              , o = e(130)
              , i = e(146)
              , a = e(162)
              , s = {
                instantiateChildren: function(e, t, n) {
                    var r = o(e);
                    for (var a in r)
                        if (r.hasOwnProperty(a)) {
                            var s = r[a]
                              , u = i(s, null);
                            r[a] = u
                        }
                    return r
                },
                updateChildren: function(e, t, n, s) {
                    var u = o(t);
                    if (!u && !e)
                        return null;
                    var l;
                    for (l in u)
                        if (u.hasOwnProperty(l)) {
                            var c = e && e[l]
                              , p = c && c._currentElement
                              , d = u[l];
                            if (a(p, d))
                                r.receiveComponent(c, d, n, s),
                                u[l] = c;
                            else {
                                c && r.unmountComponent(c, l);
                                var f = i(d, null);
                                u[l] = f
                            }
                        }
                    for (l in e)
                        !e.hasOwnProperty(l) || u && u.hasOwnProperty(l) || r.unmountComponent(e[l]);
                    return u
                },
                unmountChildren: function(e) {
                    for (var t in e) {
                        var n = e[t];
                        r.unmountComponent(n)
                    }
                }
            };
            t.exports = s
        }
        , {
            130: 130,
            146: 146,
            162: 162,
            87: 87
        }],
        37: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                this.forEachFunction = e,
                this.forEachContext = t
            }
            function o(e, t, n, r) {
                var o = e;
                o.forEachFunction.call(o.forEachContext, t, r)
            }
            function i(e, t, n) {
                if (null == e)
                    return e;
                var i = r.getPooled(t, n);
                f(e, o, i),
                r.release(i)
            }
            function a(e, t, n) {
                this.mapResult = e,
                this.mapFunction = t,
                this.mapContext = n
            }
            function s(e, t, n, r) {
                var o = e
                  , i = o.mapResult
                  , a = !i.hasOwnProperty(n);
                if (a) {
                    var s = o.mapFunction.call(o.mapContext, t, r);
                    i[n] = s
                }
            }
            function u(e, t, n) {
                if (null == e)
                    return e;
                var r = {}
                  , o = a.getPooled(r, t, n);
                return f(e, s, o),
                a.release(o),
                d.create(r)
            }
            function l(e, t, n, r) {
                return null
            }
            function c(e, t) {
                return f(e, l, null)
            }
            var p = e(30)
              , d = e(67)
              , f = e(164)
              , h = (e(166),
            p.twoArgumentPooler)
              , m = p.threeArgumentPooler;
            p.addPoolingTo(r, h),
            p.addPoolingTo(a, m);
            var v = {
                forEach: i,
                map: u,
                count: c
            };
            t.exports = v
        }
        , {
            164: 164,
            166: 166,
            30: 30,
            67: 67
        }],
        38: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                var n = D.hasOwnProperty(t) ? D[t] : null;
                T.hasOwnProperty(t) && y(n === _.OVERRIDE_BASE),
                e.hasOwnProperty(t) && y(n === _.DEFINE_MANY || n === _.DEFINE_MANY_MERGED)
            }
            function o(e, t) {
                if (t) {
                    y("function" != typeof t),
                    y(!d.isValidElement(t));
                    var n = e.prototype;
                    t.hasOwnProperty(b) && M.mixins(e, t.mixins);
                    for (var o in t)
                        if (t.hasOwnProperty(o) && o !== b) {
                            var i = t[o];
                            if (r(n, o),
                            M.hasOwnProperty(o))
                                M[o](e, i);
                            else {
                                var a = D.hasOwnProperty(o)
                                  , l = n.hasOwnProperty(o)
                                  , c = i && i.__reactDontBind
                                  , p = "function" == typeof i
                                  , f = p && !a && !l && !c;
                                if (f)
                                    n.__reactAutoBindMap || (n.__reactAutoBindMap = {}),
                                    n.__reactAutoBindMap[o] = i,
                                    n[o] = i;
                                else if (l) {
                                    var h = D[o];
                                    y(a && (h === _.DEFINE_MANY_MERGED || h === _.DEFINE_MANY)),
                                    h === _.DEFINE_MANY_MERGED ? n[o] = s(n[o], i) : h === _.DEFINE_MANY && (n[o] = u(n[o], i))
                                } else
                                    n[o] = i
                            }
                        }
                }
            }
            function i(e, t) {
                if (t)
                    for (var n in t) {
                        var r = t[n];
                        if (t.hasOwnProperty(n)) {
                            var o = n in M;
                            y(!o);
                            var i = n in e;
                            y(!i),
                            e[n] = r
                        }
                    }
            }
            function a(e, t) {
                y(e && t && "object" == typeof e && "object" == typeof t);
                for (var n in t)
                    t.hasOwnProperty(n) && (y(void 0 === e[n]),
                    e[n] = t[n]);
                return e
            }
            function s(e, t) {
                return function() {
                    var n = e.apply(this, arguments)
                      , r = t.apply(this, arguments);
                    if (null == n)
                        return r;
                    if (null == r)
                        return n;
                    var o = {};
                    return a(o, n),
                    a(o, r),
                    o
                }
            }
            function u(e, t) {
                return function() {
                    e.apply(this, arguments),
                    t.apply(this, arguments)
                }
            }
            function l(e, t) {
                var n = t.bind(e);
                return n
            }
            function c(e) {
                for (var t in e.__reactAutoBindMap)
                    if (e.__reactAutoBindMap.hasOwnProperty(t)) {
                        var n = e.__reactAutoBindMap[t];
                        e[t] = l(e, f.guard(n, e.constructor.displayName + "." + t))
                    }
            }
            var p = e(39)
              , d = (e(45),
            e(61))
              , f = e(64)
              , h = e(71)
              , m = e(72)
              , v = (e(83),
            e(82),
            e(96))
              , g = e(29)
              , y = e(147)
              , C = e(153)
              , E = e(154)
              , b = (e(166),
            E({
                mixins: null
            }))
              , _ = C({
                DEFINE_ONCE: null,
                DEFINE_MANY: null,
                OVERRIDE_BASE: null,
                DEFINE_MANY_MERGED: null
            })
              , x = []
              , D = {
                mixins: _.DEFINE_MANY,
                statics: _.DEFINE_MANY,
                propTypes: _.DEFINE_MANY,
                contextTypes: _.DEFINE_MANY,
                childContextTypes: _.DEFINE_MANY,
                getDefaultProps: _.DEFINE_MANY_MERGED,
                getInitialState: _.DEFINE_MANY_MERGED,
                getChildContext: _.DEFINE_MANY_MERGED,
                render: _.DEFINE_ONCE,
                componentWillMount: _.DEFINE_MANY,
                componentDidMount: _.DEFINE_MANY,
                componentWillReceiveProps: _.DEFINE_MANY,
                shouldComponentUpdate: _.DEFINE_ONCE,
                componentWillUpdate: _.DEFINE_MANY,
                componentDidUpdate: _.DEFINE_MANY,
                componentWillUnmount: _.DEFINE_MANY,
                updateComponent: _.OVERRIDE_BASE
            }
              , M = {
                displayName: function(e, t) {
                    e.displayName = t
                },
                mixins: function(e, t) {
                    if (t)
                        for (var n = 0; n < t.length; n++)
                            o(e, t[n])
                },
                childContextTypes: function(e, t) {
                    e.childContextTypes = g({}, e.childContextTypes, t)
                },
                contextTypes: function(e, t) {
                    e.contextTypes = g({}, e.contextTypes, t)
                },
                getDefaultProps: function(e, t) {
                    e.getDefaultProps ? e.getDefaultProps = s(e.getDefaultProps, t) : e.getDefaultProps = t
                },
                propTypes: function(e, t) {
                    e.propTypes = g({}, e.propTypes, t)
                },
                statics: function(e, t) {
                    i(e, t)
                }
            }
              , T = {
                replaceState: function(e, t) {
                    v.enqueueReplaceState(this, e),
                    t && v.enqueueCallback(this, t)
                },
                isMounted: function() {
                    var e = h.get(this);
                    return e && e !== m.currentlyMountingInstance
                },
                setProps: function(e, t) {
                    v.enqueueSetProps(this, e),
                    t && v.enqueueCallback(this, t)
                },
                replaceProps: function(e, t) {
                    v.enqueueReplaceProps(this, e),
                    t && v.enqueueCallback(this, t)
                }
            }
              , N = function() {};
            g(N.prototype, p.prototype, T);
            var P = {
                createClass: function(e) {
                    var t = function(e, t) {
                        this.__reactAutoBindMap && c(this),
                        this.props = e,
                        this.context = t,
                        this.state = null;
                        var n = this.getInitialState ? this.getInitialState() : null;
                        y("object" == typeof n && !Array.isArray(n)),
                        this.state = n
                    };
                    t.prototype = new N,
                    t.prototype.constructor = t,
                    x.forEach(o.bind(null, t)),
                    o(t, e),
                    t.getDefaultProps && (t.defaultProps = t.getDefaultProps()),
                    y(t.prototype.render);
                    for (var n in D)
                        t.prototype[n] || (t.prototype[n] = null);
                    return t.type = t,
                    t
                },
                injection: {
                    injectMixin: function(e) {
                        x.push(e)
                    }
                }
            };
            t.exports = P
        }
        , {
            147: 147,
            153: 153,
            154: 154,
            166: 166,
            29: 29,
            39: 39,
            45: 45,
            61: 61,
            64: 64,
            71: 71,
            72: 72,
            82: 82,
            83: 83,
            96: 96
        }],
        39: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                this.props = e,
                this.context = t
            }
            {
                var o = e(96)
                  , i = e(147);
                e(166)
            }
            r.prototype.setState = function(e, t) {
                i("object" == typeof e || "function" == typeof e || null == e),
                o.enqueueSetState(this, e),
                t && o.enqueueCallback(this, t)
            }
            ,
            r.prototype.forceUpdate = function(e) {
                o.enqueueForceUpdate(this),
                e && o.enqueueCallback(this, e)
            }
            ;
            t.exports = r
        }
        , {
            147: 147,
            166: 166,
            96: 96
        }],
        40: [function(e, t, n) {
            "use strict";
            var r = e(50)
              , o = e(75)
              , i = {
                processChildrenUpdates: r.dangerouslyProcessChildrenUpdates,
                replaceNodeWithMarkupByID: r.dangerouslyReplaceNodeWithMarkupByID,
                unmountIDFromEnvironment: function(e) {
                    o.purgeID(e)
                }
            };
            t.exports = i
        }
        , {
            50: 50,
            75: 75
        }],
        41: [function(e, t, n) {
            "use strict";
            var r = e(147)
              , o = !1
              , i = {
                unmountIDFromEnvironment: null,
                replaceNodeWithMarkupByID: null,
                processChildrenUpdates: null,
                injection: {
                    injectEnvironment: function(e) {
                        r(!o),
                        i.unmountIDFromEnvironment = e.unmountIDFromEnvironment,
                        i.replaceNodeWithMarkupByID = e.replaceNodeWithMarkupByID,
                        i.processChildrenUpdates = e.processChildrenUpdates,
                        o = !0
                    }
                }
            };
            t.exports = i
        }
        , {
            147: 147
        }],
        42: [function(e, t, n) {
            "use strict";
            var r = e(161)
              , o = {
                shouldComponentUpdate: function(e, t) {
                    return !r(this.props, e) || !r(this.state, t)
                }
            };
            t.exports = o
        }
        , {
            161: 161
        }],
        43: [function(e, t, n) {
            "use strict";
            function r(e) {
                var t = e._currentElement._owner || null;
                if (t) {
                    var n = t.getName();
                    if (n)
                        return " Check the render method of `" + n + "`."
                }
                return ""
            }
            var o = e(41)
              , i = e(44)
              , a = e(45)
              , s = e(61)
              , u = (e(62),
            e(71))
              , l = e(72)
              , c = e(78)
              , p = e(80)
              , d = e(83)
              , f = (e(82),
            e(87))
              , h = e(97)
              , m = e(29)
              , v = e(127)
              , g = e(147)
              , y = e(162)
              , C = (e(166),
            1)
              , E = {
                construct: function(e) {
                    this._currentElement = e,
                    this._rootNodeID = null,
                    this._instance = null,
                    this._pendingElement = null,
                    this._pendingStateQueue = null,
                    this._pendingReplaceState = !1,
                    this._pendingForceUpdate = !1,
                    this._renderedComponent = null,
                    this._context = null,
                    this._mountOrder = 0,
                    this._isTopLevel = !1,
                    this._pendingCallbacks = null
                },
                mountComponent: function(e, t, n) {
                    this._context = n,
                    this._mountOrder = C++,
                    this._rootNodeID = e;
                    var r = this._processProps(this._currentElement.props)
                      , o = this._processContext(this._currentElement._context)
                      , i = c.getComponentClassForElement(this._currentElement)
                      , a = new i(r,o);
                    a.props = r,
                    a.context = o,
                    a.refs = v,
                    this._instance = a,
                    u.set(a, this);
                    var s = a.state;
                    void 0 === s && (a.state = s = null),
                    g("object" == typeof s && !Array.isArray(s)),
                    this._pendingStateQueue = null,
                    this._pendingReplaceState = !1,
                    this._pendingForceUpdate = !1;
                    var p, d = l.currentlyMountingInstance;
                    l.currentlyMountingInstance = this;
                    try {
                        a.componentWillMount && (a.componentWillMount(),
                        this._pendingStateQueue && (a.state = this._processPendingState(a.props, a.context))),
                        p = this._renderValidatedComponent()
                    } finally {
                        l.currentlyMountingInstance = d
                    }
                    this._renderedComponent = this._instantiateReactComponent(p, this._currentElement.type);
                    var h = f.mountComponent(this._renderedComponent, e, t, this._processChildContext(n));
                    return a.componentDidMount && t.getReactMountReady().enqueue(a.componentDidMount, a),
                    h
                },
                unmountComponent: function() {
                    var e = this._instance;
                    if (e.componentWillUnmount) {
                        var t = l.currentlyUnmountingInstance;
                        l.currentlyUnmountingInstance = this;
                        try {
                            e.componentWillUnmount()
                        } finally {
                            l.currentlyUnmountingInstance = t
                        }
                    }
                    f.unmountComponent(this._renderedComponent),
                    this._renderedComponent = null,
                    this._pendingStateQueue = null,
                    this._pendingReplaceState = !1,
                    this._pendingForceUpdate = !1,
                    this._pendingCallbacks = null,
                    this._pendingElement = null,
                    this._context = null,
                    this._rootNodeID = null,
                    u.remove(e)
                },
                _setPropsInternal: function(e, t) {
                    var n = this._pendingElement || this._currentElement;
                    this._pendingElement = s.cloneAndReplaceProps(n, m({}, n.props, e)),
                    h.enqueueUpdate(this, t)
                },
                _maskContext: function(e) {
                    var t = null;
                    if ("string" == typeof this._currentElement.type)
                        return v;
                    var n = this._currentElement.type.contextTypes;
                    if (!n)
                        return v;
                    t = {};
                    for (var r in n)
                        t[r] = e[r];
                    return t
                },
                _processContext: function(e) {
                    var t = this._maskContext(e);
                    return t
                },
                _processChildContext: function(e) {
                    var t = this._instance
                      , n = t.getChildContext && t.getChildContext();
                    if (n) {
                        g("object" == typeof t.constructor.childContextTypes);
                        for (var r in n)
                            g(r in t.constructor.childContextTypes);
                        return m({}, e, n)
                    }
                    return e
                },
                _processProps: function(e) {
                    return e
                },
                _checkPropTypes: function(e, t, n) {
                    var o = this.getName();
                    for (var i in e)
                        if (e.hasOwnProperty(i)) {
                            var a;
                            try {
                                g("function" == typeof e[i]),
                                a = e[i](t, i, o, n)
                            } catch (s) {
                                a = s
                            }
                            a instanceof Error && (r(this),
                            n === d.prop)
                        }
                },
                receiveComponent: function(e, t, n) {
                    var r = this._currentElement
                      , o = this._context;
                    this._pendingElement = null,
                    this.updateComponent(t, r, e, o, n)
                },
                performUpdateIfNecessary: function(e) {
                    null != this._pendingElement && f.receiveComponent(this, this._pendingElement || this._currentElement, e, this._context),
                    (null !== this._pendingStateQueue || this._pendingForceUpdate) && this.updateComponent(e, this._currentElement, this._currentElement, this._context, this._context)
                },
                _warnIfContextsDiffer: function(e, t) {
                    e = this._maskContext(e),
                    t = this._maskContext(t);
                    for (var n = Object.keys(t).sort(), r = (this.getName() || "ReactCompositeComponent",
                    0); r < n.length; r++)
                        n[r]
                },
                updateComponent: function(e, t, n, r, o) {
                    var i = this._instance
                      , a = i.context
                      , s = i.props;
                    t !== n && (a = this._processContext(n._context),
                    s = this._processProps(n.props),
                    i.componentWillReceiveProps && i.componentWillReceiveProps(s, a));
                    var u = this._processPendingState(s, a)
                      , l = this._pendingForceUpdate || !i.shouldComponentUpdate || i.shouldComponentUpdate(s, u, a);
                    l ? (this._pendingForceUpdate = !1,
                    this._performComponentUpdate(n, s, u, a, e, o)) : (this._currentElement = n,
                    this._context = o,
                    i.props = s,
                    i.state = u,
                    i.context = a)
                },
                _processPendingState: function(e, t) {
                    var n = this._instance
                      , r = this._pendingStateQueue
                      , o = this._pendingReplaceState;
                    if (this._pendingReplaceState = !1,
                    this._pendingStateQueue = null,
                    !r)
                        return n.state;
                    for (var i = m({}, o ? r[0] : n.state), a = o ? 1 : 0; a < r.length; a++) {
                        var s = r[a];
                        m(i, "function" == typeof s ? s.call(n, i, e, t) : s)
                    }
                    return i
                },
                _performComponentUpdate: function(e, t, n, r, o, i) {
                    var a = this._instance
                      , s = a.props
                      , u = a.state
                      , l = a.context;
                    a.componentWillUpdate && a.componentWillUpdate(t, n, r),
                    this._currentElement = e,
                    this._context = i,
                    a.props = t,
                    a.state = n,
                    a.context = r,
                    this._updateRenderedComponent(o, i),
                    a.componentDidUpdate && o.getReactMountReady().enqueue(a.componentDidUpdate.bind(a, s, u, l), a)
                },
                _updateRenderedComponent: function(e, t) {
                    var n = this._renderedComponent
                      , r = n._currentElement
                      , o = this._renderValidatedComponent();
                    if (y(r, o))
                        f.receiveComponent(n, o, e, this._processChildContext(t));
                    else {
                        var i = this._rootNodeID
                          , a = n._rootNodeID;
                        f.unmountComponent(n),
                        this._renderedComponent = this._instantiateReactComponent(o, this._currentElement.type);
                        var s = f.mountComponent(this._renderedComponent, i, e, this._processChildContext(t));
                        this._replaceNodeWithMarkupByID(a, s)
                    }
                },
                _replaceNodeWithMarkupByID: function(e, t) {
                    o.replaceNodeWithMarkupByID(e, t)
                },
                _renderValidatedComponentWithoutOwnerOrContext: function() {
                    var e = this._instance
                      , t = e.render();
                    return t
                },
                _renderValidatedComponent: function() {
                    var e, t = i.current;
                    i.current = this._processChildContext(this._currentElement._context),
                    a.current = this;
                    try {
                        e = this._renderValidatedComponentWithoutOwnerOrContext()
                    } finally {
                        i.current = t,
                        a.current = null
                    }
                    return g(null === e || e === !1 || s.isValidElement(e)),
                    e
                },
                attachRef: function(e, t) {
                    var n = this.getPublicInstance()
                      , r = n.refs === v ? n.refs = {} : n.refs;
                    r[e] = t.getPublicInstance()
                },
                detachRef: function(e) {
                    var t = this.getPublicInstance().refs;
                    delete t[e]
                },
                getName: function() {
                    var e = this._currentElement.type
                      , t = this._instance && this._instance.constructor;
                    return e.displayName || t && t.displayName || e.name || t && t.name || null
                },
                getPublicInstance: function() {
                    return this._instance
                },
                _instantiateReactComponent: null
            };
            p.measureMethods(E, "ReactCompositeComponent", {
                mountComponent: "mountComponent",
                updateComponent: "updateComponent",
                _renderValidatedComponent: "_renderValidatedComponent"
            });
            var b = {
                Mixin: E
            };
            t.exports = b
        }
        , {
            127: 127,
            147: 147,
            162: 162,
            166: 166,
            29: 29,
            41: 41,
            44: 44,
            45: 45,
            61: 61,
            62: 62,
            71: 71,
            72: 72,
            78: 78,
            80: 80,
            82: 82,
            83: 83,
            87: 87,
            97: 97
        }],
        44: [function(e, t, n) {
            "use strict";
            var r = e(29)
              , o = e(127)
              , i = (e(166),
            {
                current: o,
                withContext: function(e, t) {
                    var n, o = i.current;
                    i.current = r({}, o, e);
                    try {
                        n = t()
                    } finally {
                        i.current = o
                    }
                    return n
                }
            });
            t.exports = i
        }
        , {
            127: 127,
            166: 166,
            29: 29
        }],
        45: [function(e, t, n) {
            "use strict";
            var r = {
                current: null
            };
            t.exports = r
        }
        , {}],
        46: [function(e, t, n) {
            "use strict";
            function r(e) {
                return o.createFactory(e)
            }
            var o = e(61)
              , i = (e(62),
            e(155))
              , a = i({
                a: "a",
                abbr: "abbr",
                address: "address",
                area: "area",
                article: "article",
                aside: "aside",
                audio: "audio",
                b: "b",
                base: "base",
                bdi: "bdi",
                bdo: "bdo",
                big: "big",
                blockquote: "blockquote",
                body: "body",
                br: "br",
                button: "button",
                canvas: "canvas",
                caption: "caption",
                cite: "cite",
                code: "code",
                col: "col",
                colgroup: "colgroup",
                data: "data",
                datalist: "datalist",
                dd: "dd",
                del: "del",
                details: "details",
                dfn: "dfn",
                dialog: "dialog",
                div: "div",
                dl: "dl",
                dt: "dt",
                em: "em",
                embed: "embed",
                fieldset: "fieldset",
                figcaption: "figcaption",
                figure: "figure",
                footer: "footer",
                form: "form",
                h1: "h1",
                h2: "h2",
                h3: "h3",
                h4: "h4",
                h5: "h5",
                h6: "h6",
                head: "head",
                header: "header",
                hr: "hr",
                html: "html",
                i: "i",
                iframe: "iframe",
                img: "img",
                input: "input",
                ins: "ins",
                kbd: "kbd",
                keygen: "keygen",
                label: "label",
                legend: "legend",
                li: "li",
                link: "link",
                main: "main",
                map: "map",
                mark: "mark",
                menu: "menu",
                menuitem: "menuitem",
                meta: "meta",
                meter: "meter",
                nav: "nav",
                noscript: "noscript",
                object: "object",
                ol: "ol",
                optgroup: "optgroup",
                option: "option",
                output: "output",
                p: "p",
                param: "param",
                picture: "picture",
                pre: "pre",
                progress: "progress",
                q: "q",
                rp: "rp",
                rt: "rt",
                ruby: "ruby",
                s: "s",
                samp: "samp",
                script: "script",
                section: "section",
                select: "select",
                small: "small",
                source: "source",
                span: "span",
                strong: "strong",
                style: "style",
                sub: "sub",
                summary: "summary",
                sup: "sup",
                table: "table",
                tbody: "tbody",
                td: "td",
                textarea: "textarea",
                tfoot: "tfoot",
                th: "th",
                thead: "thead",
                time: "time",
                title: "title",
                tr: "tr",
                track: "track",
                u: "u",
                ul: "ul",
                "var": "var",
                video: "video",
                wbr: "wbr",
                circle: "circle",
                defs: "defs",
                ellipse: "ellipse",
                g: "g",
                line: "line",
                linearGradient: "linearGradient",
                mask: "mask",
                path: "path",
                pattern: "pattern",
                polygon: "polygon",
                polyline: "polyline",
                radialGradient: "radialGradient",
                rect: "rect",
                stop: "stop",
                svg: "svg",
                text: "text",
                tspan: "tspan"
            }, r);
            t.exports = a
        }
        , {
            155: 155,
            61: 61,
            62: 62
        }],
        47: [function(e, t, n) {
            "use strict";
            var r = e(2)
              , o = e(32)
              , i = e(38)
              , a = e(61)
              , s = e(153)
              , u = a.createFactory("button")
              , l = s({
                onClick: !0,
                onDoubleClick: !0,
                onMouseDown: !0,
                onMouseMove: !0,
                onMouseUp: !0,
                onClickCapture: !0,
                onDoubleClickCapture: !0,
                onMouseDownCapture: !0,
                onMouseMoveCapture: !0,
                onMouseUpCapture: !0
            })
              , c = i.createClass({
                displayName: "ReactDOMButton",
                tagName: "BUTTON",
                mixins: [r, o],
                render: function() {
                    var e = {};
                    for (var t in this.props)
                        !this.props.hasOwnProperty(t) || this.props.disabled && l[t] || (e[t] = this.props[t]);
                    return u(e, this.props.children)
                }
            });
            t.exports = c
        }
        , {
            153: 153,
            2: 2,
            32: 32,
            38: 38,
            61: 61
        }],
        48: [function(e, t, n) {
            "use strict";
            function r(e) {
                e && (null != e.dangerouslySetInnerHTML && (g(null == e.children),
                g(null != e.dangerouslySetInnerHTML.__html)),
                g(null == e.style || "object" == typeof e.style))
            }
            function o(e, t, n, r) {
                var o = d.findReactContainerForID(e);
                if (o) {
                    var i = o.nodeType === D ? o.ownerDocument : o;
                    E(t, i)
                }
                r.getPutListenerQueue().enqueuePutListener(e, t, n)
            }
            function i(e) {
                I.call(P, e) || (g(N.test(e)),
                P[e] = !0)
            }
            function a(e) {
                i(e),
                this._tag = e,
                this._renderedChildren = null,
                this._previousStyleCopy = null,
                this._rootNodeID = null
            }
            var s = e(6)
              , u = e(11)
              , l = e(12)
              , c = e(33)
              , p = e(40)
              , d = e(75)
              , f = e(76)
              , h = e(80)
              , m = e(29)
              , v = e(128)
              , g = e(147)
              , y = (e(148),
            e(154))
              , C = (e(166),
            c.deleteListener)
              , E = c.listenTo
              , b = c.registrationNameModules
              , _ = {
                string: !0,
                number: !0
            }
              , x = y({
                style: null
            })
              , D = 1
              , M = null
              , T = {
                area: !0,
                base: !0,
                br: !0,
                col: !0,
                embed: !0,
                hr: !0,
                img: !0,
                input: !0,
                keygen: !0,
                link: !0,
                meta: !0,
                param: !0,
                source: !0,
                track: !0,
                wbr: !0
            }
              , N = /^[a-zA-Z][a-zA-Z:_\.\-\d]*$/
              , P = {}
              , I = {}.hasOwnProperty;
            a.displayName = "ReactDOMComponent",
            a.Mixin = {
                construct: function(e) {
                    this._currentElement = e
                },
                mountComponent: function(e, t, n) {
                    this._rootNodeID = e,
                    r(this._currentElement.props);
                    var o = T[this._tag] ? "" : "</" + this._tag + ">";
                    return this._createOpenTagMarkupAndPutListeners(t) + this._createContentMarkup(t, n) + o
                },
                _createOpenTagMarkupAndPutListeners: function(e) {
                    var t = this._currentElement.props
                      , n = "<" + this._tag;
                    for (var r in t)
                        if (t.hasOwnProperty(r)) {
                            var i = t[r];
                            if (null != i)
                                if (b.hasOwnProperty(r))
                                    o(this._rootNodeID, r, i, e);
                                else {
                                    r === x && (i && (i = this._previousStyleCopy = m({}, t.style)),
                                    i = s.createMarkupForStyles(i));
                                    var a = l.createMarkupForProperty(r, i);
                                    a && (n += " " + a)
                                }
                        }
                    if (e.renderToStaticMarkup)
                        return n + ">";
                    var u = l.createMarkupForID(this._rootNodeID);
                    return n + " " + u + ">"
                },
                _createContentMarkup: function(e, t) {
                    var n = "";
                    ("listing" === this._tag || "pre" === this._tag || "textarea" === this._tag) && (n = "\n");
                    var r = this._currentElement.props
                      , o = r.dangerouslySetInnerHTML;
                    if (null != o) {
                        if (null != o.__html)
                            return n + o.__html
                    } else {
                        var i = _[typeof r.children] ? r.children : null
                          , a = null != i ? null : r.children;
                        if (null != i)
                            return n + v(i);
                        if (null != a) {
                            var s = this.mountChildren(a, e, t);
                            return n + s.join("")
                        }
                    }
                    return n
                },
                receiveComponent: function(e, t, n) {
                    var r = this._currentElement;
                    this._currentElement = e,
                    this.updateComponent(t, r, e, n)
                },
                updateComponent: function(e, t, n, o) {
                    r(this._currentElement.props),
                    this._updateDOMProperties(t.props, e),
                    this._updateDOMChildren(t.props, e, o)
                },
                _updateDOMProperties: function(e, t) {
                    var n, r, i, a = this._currentElement.props;
                    for (n in e)
                        if (!a.hasOwnProperty(n) && e.hasOwnProperty(n))
                            if (n === x) {
                                var s = this._previousStyleCopy;
                                for (r in s)
                                    s.hasOwnProperty(r) && (i = i || {},
                                    i[r] = "");
                                this._previousStyleCopy = null
                            } else
                                b.hasOwnProperty(n) ? C(this._rootNodeID, n) : (u.isStandardName[n] || u.isCustomAttribute(n)) && M.deletePropertyByID(this._rootNodeID, n);
                    for (n in a) {
                        var l = a[n]
                          , c = n === x ? this._previousStyleCopy : e[n];
                        if (a.hasOwnProperty(n) && l !== c)
                            if (n === x)
                                if (l ? l = this._previousStyleCopy = m({}, l) : this._previousStyleCopy = null,
                                c) {
                                    for (r in c)
                                        !c.hasOwnProperty(r) || l && l.hasOwnProperty(r) || (i = i || {},
                                        i[r] = "");
                                    for (r in l)
                                        l.hasOwnProperty(r) && c[r] !== l[r] && (i = i || {},
                                        i[r] = l[r])
                                } else
                                    i = l;
                            else
                                b.hasOwnProperty(n) ? o(this._rootNodeID, n, l, t) : (u.isStandardName[n] || u.isCustomAttribute(n)) && M.updatePropertyByID(this._rootNodeID, n, l)
                    }
                    i && M.updateStylesByID(this._rootNodeID, i)
                },
                _updateDOMChildren: function(e, t, n) {
                    var r = this._currentElement.props
                      , o = _[typeof e.children] ? e.children : null
                      , i = _[typeof r.children] ? r.children : null
                      , a = e.dangerouslySetInnerHTML && e.dangerouslySetInnerHTML.__html
                      , s = r.dangerouslySetInnerHTML && r.dangerouslySetInnerHTML.__html
                      , u = null != o ? null : e.children
                      , l = null != i ? null : r.children
                      , c = null != o || null != a
                      , p = null != i || null != s;
                    null != u && null == l ? this.updateChildren(null, t, n) : c && !p && this.updateTextContent(""),
                    null != i ? o !== i && this.updateTextContent("" + i) : null != s ? a !== s && M.updateInnerHTMLByID(this._rootNodeID, s) : null != l && this.updateChildren(l, t, n)
                },
                unmountComponent: function() {
                    this.unmountChildren(),
                    c.deleteAllListeners(this._rootNodeID),
                    p.unmountIDFromEnvironment(this._rootNodeID),
                    this._rootNodeID = null
                }
            },
            h.measureMethods(a, "ReactDOMComponent", {
                mountComponent: "mountComponent",
                updateComponent: "updateComponent"
            }),
            m(a.prototype, a.Mixin, f.Mixin),
            a.injection = {
                injectIDOperations: function(e) {
                    a.BackendIDOperations = M = e
                }
            },
            t.exports = a
        }
        , {
            11: 11,
            12: 12,
            128: 128,
            147: 147,
            148: 148,
            154: 154,
            166: 166,
            29: 29,
            33: 33,
            40: 40,
            6: 6,
            75: 75,
            76: 76,
            80: 80
        }],
        49: [function(e, t, n) {
            "use strict";
            var r = e(16)
              , o = e(27)
              , i = e(32)
              , a = e(38)
              , s = e(61)
              , u = s.createFactory("form")
              , l = a.createClass({
                displayName: "ReactDOMForm",
                tagName: "FORM",
                mixins: [i, o],
                render: function() {
                    return u(this.props)
                },
                componentDidMount: function() {
                    this.trapBubbledEvent(r.topLevelTypes.topReset, "reset"),
                    this.trapBubbledEvent(r.topLevelTypes.topSubmit, "submit")
                }
            });
            t.exports = l
        }
        , {
            16: 16,
            27: 27,
            32: 32,
            38: 38,
            61: 61
        }],
        50: [function(e, t, n) {
            "use strict";
            var r = e(6)
              , o = e(10)
              , i = e(12)
              , a = e(75)
              , s = e(80)
              , u = e(147)
              , l = e(159)
              , c = {
                dangerouslySetInnerHTML: "`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",
                style: "`style` must be set using `updateStylesByID()`."
            }
              , p = {
                updatePropertyByID: function(e, t, n) {
                    var r = a.getNode(e);
                    u(!c.hasOwnProperty(t)),
                    null != n ? i.setValueForProperty(r, t, n) : i.deleteValueForProperty(r, t)
                },
                deletePropertyByID: function(e, t, n) {
                    var r = a.getNode(e);
                    u(!c.hasOwnProperty(t)),
                    i.deleteValueForProperty(r, t, n)
                },
                updateStylesByID: function(e, t) {
                    var n = a.getNode(e);
                    r.setValueForStyles(n, t)
                },
                updateInnerHTMLByID: function(e, t) {
                    var n = a.getNode(e);
                    l(n, t)
                },
                updateTextContentByID: function(e, t) {
                    var n = a.getNode(e);
                    o.updateTextContent(n, t)
                },
                dangerouslyReplaceNodeWithMarkupByID: function(e, t) {
                    var n = a.getNode(e);
                    o.dangerouslyReplaceNodeWithMarkup(n, t)
                },
                dangerouslyProcessChildrenUpdates: function(e, t) {
                    for (var n = 0; n < e.length; n++)
                        e[n].parentNode = a.getNode(e[n].parentID);
                    o.processUpdates(e, t)
                }
            };
            s.measureMethods(p, "ReactDOMIDOperations", {
                updatePropertyByID: "updatePropertyByID",
                deletePropertyByID: "deletePropertyByID",
                updateStylesByID: "updateStylesByID",
                updateInnerHTMLByID: "updateInnerHTMLByID",
                updateTextContentByID: "updateTextContentByID",
                dangerouslyReplaceNodeWithMarkupByID: "dangerouslyReplaceNodeWithMarkupByID",
                dangerouslyProcessChildrenUpdates: "dangerouslyProcessChildrenUpdates"
            }),
            t.exports = p
        }
        , {
            10: 10,
            12: 12,
            147: 147,
            159: 159,
            6: 6,
            75: 75,
            80: 80
        }],
        51: [function(e, t, n) {
            "use strict";
            var r = e(16)
              , o = e(27)
              , i = e(32)
              , a = e(38)
              , s = e(61)
              , u = s.createFactory("iframe")
              , l = a.createClass({
                displayName: "ReactDOMIframe",
                tagName: "IFRAME",
                mixins: [i, o],
                render: function() {
                    return u(this.props)
                },
                componentDidMount: function() {
                    this.trapBubbledEvent(r.topLevelTypes.topLoad, "load")
                }
            });
            t.exports = l
        }
        , {
            16: 16,
            27: 27,
            32: 32,
            38: 38,
            61: 61
        }],
        52: [function(e, t, n) {
            "use strict";
            var r = e(16)
              , o = e(27)
              , i = e(32)
              , a = e(38)
              , s = e(61)
              , u = s.createFactory("img")
              , l = a.createClass({
                displayName: "ReactDOMImg",
                tagName: "IMG",
                mixins: [i, o],
                render: function() {
                    return u(this.props)
                },
                componentDidMount: function() {
                    this.trapBubbledEvent(r.topLevelTypes.topLoad, "load"),
                    this.trapBubbledEvent(r.topLevelTypes.topError, "error")
                }
            });
            t.exports = l
        }
        , {
            16: 16,
            27: 27,
            32: 32,
            38: 38,
            61: 61
        }],
        53: [function(e, t, n) {
            "use strict";
            function r() {
                this.isMounted() && this.forceUpdate()
            }
            var o = e(2)
              , i = e(12)
              , a = e(26)
              , s = e(32)
              , u = e(38)
              , l = e(61)
              , c = e(75)
              , p = e(97)
              , d = e(29)
              , f = e(147)
              , h = l.createFactory("input")
              , m = {}
              , v = u.createClass({
                displayName: "ReactDOMInput",
                tagName: "INPUT",
                mixins: [o, a.Mixin, s],
                getInitialState: function() {
                    var e = this.props.defaultValue;
                    return {
                        initialChecked: this.props.defaultChecked || !1,
                        initialValue: null != e ? e : null
                    }
                },
                render: function() {
                    var e = d({}, this.props);
                    e.defaultChecked = null,
                    e.defaultValue = null;
                    var t = a.getValue(this);
                    e.value = null != t ? t : this.state.initialValue;
                    var n = a.getChecked(this);
                    return e.checked = null != n ? n : this.state.initialChecked,
                    e.onChange = this._handleChange,
                    h(e, this.props.children)
                },
                componentDidMount: function() {
                    var e = c.getID(this.getDOMNode());
                    m[e] = this
                },
                componentWillUnmount: function() {
                    var e = this.getDOMNode()
                      , t = c.getID(e);
                    delete m[t]
                },
                componentDidUpdate: function(e, t, n) {
                    var r = this.getDOMNode();
                    null != this.props.checked && i.setValueForProperty(r, "checked", this.props.checked || !1);
                    var o = a.getValue(this);
                    null != o && i.setValueForProperty(r, "value", "" + o)
                },
                _handleChange: function(e) {
                    var t, n = a.getOnChange(this);
                    n && (t = n.call(this, e)),
                    p.asap(r, this);
                    var o = this.props.name;
                    if ("radio" === this.props.type && null != o) {
                        for (var i = this.getDOMNode(), s = i; s.parentNode; )
                            s = s.parentNode;
                        for (var u = s.querySelectorAll("input[name=" + JSON.stringify("" + o) + '][type="radio"]'), l = 0, d = u.length; d > l; l++) {
                            var h = u[l];
                            if (h !== i && h.form === i.form) {
                                var v = c.getID(h);
                                f(v);
                                var g = m[v];
                                f(g),
                                p.asap(r, g)
                            }
                        }
                    }
                    return t
                }
            });
            t.exports = v
        }
        , {
            12: 12,
            147: 147,
            2: 2,
            26: 26,
            29: 29,
            32: 32,
            38: 38,
            61: 61,
            75: 75,
            97: 97
        }],
        54: [function(e, t, n) {
            "use strict";
            var r = e(32)
              , o = e(38)
              , i = e(61)
              , a = (e(166),
            i.createFactory("option"))
              , s = o.createClass({
                displayName: "ReactDOMOption",
                tagName: "OPTION",
                mixins: [r],
                componentWillMount: function() {},
                render: function() {
                    return a(this.props, this.props.children)
                }
            });
            t.exports = s
        }
        , {
            166: 166,
            32: 32,
            38: 38,
            61: 61
        }],
        55: [function(e, t, n) {
            "use strict";
            function r() {
                if (this._pendingUpdate) {
                    this._pendingUpdate = !1;
                    var e = s.getValue(this);
                    null != e && this.isMounted() && i(this, e)
                }
            }
            function o(e, t, n) {
                if (null == e[t])
                    return null;
                if (e.multiple) {
                    if (!Array.isArray(e[t]))
                        return new Error("The `" + t + "` prop supplied to <select> must be an array if `multiple` is true.")
                } else if (Array.isArray(e[t]))
                    return new Error("The `" + t + "` prop supplied to <select> must be a scalar value if `multiple` is false.")
            }
            function i(e, t) {
                var n, r, o, i = e.getDOMNode().options;
                if (e.props.multiple) {
                    for (n = {},
                    r = 0,
                    o = t.length; o > r; r++)
                        n["" + t[r]] = !0;
                    for (r = 0,
                    o = i.length; o > r; r++) {
                        var a = n.hasOwnProperty(i[r].value);
                        i[r].selected !== a && (i[r].selected = a)
                    }
                } else {
                    for (n = "" + t,
                    r = 0,
                    o = i.length; o > r; r++)
                        if (i[r].value === n)
                            return void (i[r].selected = !0);
                    i.length && (i[0].selected = !0)
                }
            }
            var a = e(2)
              , s = e(26)
              , u = e(32)
              , l = e(38)
              , c = e(61)
              , p = e(97)
              , d = e(29)
              , f = c.createFactory("select")
              , h = l.createClass({
                displayName: "ReactDOMSelect",
                tagName: "SELECT",
                mixins: [a, s.Mixin, u],
                propTypes: {
                    defaultValue: o,
                    value: o
                },
                render: function() {
                    var e = d({}, this.props);
                    return e.onChange = this._handleChange,
                    e.value = null,
                    f(e, this.props.children)
                },
                componentWillMount: function() {
                    this._pendingUpdate = !1
                },
                componentDidMount: function() {
                    var e = s.getValue(this);
                    null != e ? i(this, e) : null != this.props.defaultValue && i(this, this.props.defaultValue)
                },
                componentDidUpdate: function(e) {
                    var t = s.getValue(this);
                    null != t ? (this._pendingUpdate = !1,
                    i(this, t)) : !e.multiple != !this.props.multiple && (null != this.props.defaultValue ? i(this, this.props.defaultValue) : i(this, this.props.multiple ? [] : ""))
                },
                _handleChange: function(e) {
                    var t, n = s.getOnChange(this);
                    return n && (t = n.call(this, e)),
                    this._pendingUpdate = !0,
                    p.asap(r, this),
                    t
                }
            });
            t.exports = h
        }
        , {
            2: 2,
            26: 26,
            29: 29,
            32: 32,
            38: 38,
            61: 61,
            97: 97
        }],
        56: [function(e, t, n) {
            "use strict";
            function r(e, t, n, r) {
                return e === n && t === r
            }
            function o(e) {
                var t = document.selection
                  , n = t.createRange()
                  , r = n.text.length
                  , o = n.duplicate();
                o.moveToElementText(e),
                o.setEndPoint("EndToStart", n);
                var i = o.text.length
                  , a = i + r;
                return {
                    start: i,
                    end: a
                }
            }
            function i(e) {
                var t = window.getSelection && window.getSelection();
                if (!t || 0 === t.rangeCount)
                    return null;
                var n = t.anchorNode
                  , o = t.anchorOffset
                  , i = t.focusNode
                  , a = t.focusOffset
                  , s = t.getRangeAt(0)
                  , u = r(t.anchorNode, t.anchorOffset, t.focusNode, t.focusOffset)
                  , l = u ? 0 : s.toString().length
                  , c = s.cloneRange();
                c.selectNodeContents(e),
                c.setEnd(s.startContainer, s.startOffset);
                var p = r(c.startContainer, c.startOffset, c.endContainer, c.endOffset)
                  , d = p ? 0 : c.toString().length
                  , f = d + l
                  , h = document.createRange();
                h.setStart(n, o),
                h.setEnd(i, a);
                var m = h.collapsed;
                return {
                    start: m ? f : d,
                    end: m ? d : f
                }
            }
            function a(e, t) {
                var n, r, o = document.selection.createRange().duplicate();
                "undefined" == typeof t.end ? (n = t.start,
                r = n) : t.start > t.end ? (n = t.end,
                r = t.start) : (n = t.start,
                r = t.end),
                o.moveToElementText(e),
                o.moveStart("character", n),
                o.setEndPoint("EndToStart", o),
                o.moveEnd("character", r - n),
                o.select()
            }
            function s(e, t) {
                if (window.getSelection) {
                    var n = window.getSelection()
                      , r = e[c()].length
                      , o = Math.min(t.start, r)
                      , i = "undefined" == typeof t.end ? o : Math.min(t.end, r);
                    if (!n.extend && o > i) {
                        var a = i;
                        i = o,
                        o = a
                    }
                    var s = l(e, o)
                      , u = l(e, i);
                    if (s && u) {
                        var p = document.createRange();
                        p.setStart(s.node, s.offset),
                        n.removeAllRanges(),
                        o > i ? (n.addRange(p),
                        n.extend(u.node, u.offset)) : (p.setEnd(u.node, u.offset),
                        n.addRange(p))
                    }
                }
            }
            var u = e(22)
              , l = e(140)
              , c = e(142)
              , p = u.canUseDOM && "selection"in document && !("getSelection"in window)
              , d = {
                getOffsets: p ? o : i,
                setOffsets: p ? a : s
            };
            t.exports = d
        }
        , {
            140: 140,
            142: 142,
            22: 22
        }],
        57: [function(e, t, n) {
            "use strict";
            var r = e(12)
              , o = e(40)
              , i = e(48)
              , a = e(29)
              , s = e(128)
              , u = function(e) {};
            a(u.prototype, {
                construct: function(e) {
                    this._currentElement = e,
                    this._stringText = "" + e,
                    this._rootNodeID = null,
                    this._mountIndex = 0
                },
                mountComponent: function(e, t, n) {
                    this._rootNodeID = e;
                    var o = s(this._stringText);
                    return t.renderToStaticMarkup ? o : "<span " + r.createMarkupForID(e) + ">" + o + "</span>"
                },
                receiveComponent: function(e, t) {
                    if (e !== this._currentElement) {
                        this._currentElement = e;
                        var n = "" + e;
                        n !== this._stringText && (this._stringText = n,
                        i.BackendIDOperations.updateTextContentByID(this._rootNodeID, n))
                    }
                },
                unmountComponent: function() {
                    o.unmountIDFromEnvironment(this._rootNodeID)
                }
            }),
            t.exports = u
        }
        , {
            12: 12,
            128: 128,
            29: 29,
            40: 40,
            48: 48
        }],
        58: [function(e, t, n) {
            "use strict";
            function r() {
                this.isMounted() && this.forceUpdate()
            }
            var o = e(2)
              , i = e(12)
              , a = e(26)
              , s = e(32)
              , u = e(38)
              , l = e(61)
              , c = e(97)
              , p = e(29)
              , d = e(147)
              , f = (e(166),
            l.createFactory("textarea"))
              , h = u.createClass({
                displayName: "ReactDOMTextarea",
                tagName: "TEXTAREA",
                mixins: [o, a.Mixin, s],
                getInitialState: function() {
                    var e = this.props.defaultValue
                      , t = this.props.children;
                    null != t && (d(null == e),
                    Array.isArray(t) && (d(t.length <= 1),
                    t = t[0]),
                    e = "" + t),
                    null == e && (e = "");
                    var n = a.getValue(this);
                    return {
                        initialValue: "" + (null != n ? n : e)
                    }
                },
                render: function() {
                    var e = p({}, this.props);
                    return d(null == e.dangerouslySetInnerHTML),
                    e.defaultValue = null,
                    e.value = null,
                    e.onChange = this._handleChange,
                    f(e, this.state.initialValue)
                },
                componentDidUpdate: function(e, t, n) {
                    var r = a.getValue(this);
                    if (null != r) {
                        var o = this.getDOMNode();
                        i.setValueForProperty(o, "value", "" + r)
                    }
                },
                _handleChange: function(e) {
                    var t, n = a.getOnChange(this);
                    return n && (t = n.call(this, e)),
                    c.asap(r, this),
                    t
                }
            });
            t.exports = h
        }
        , {
            12: 12,
            147: 147,
            166: 166,
            2: 2,
            26: 26,
            29: 29,
            32: 32,
            38: 38,
            61: 61,
            97: 97
        }],
        59: [function(e, t, n) {
            "use strict";
            function r() {
                this.reinitializeTransaction()
            }
            var o = e(97)
              , i = e(113)
              , a = e(29)
              , s = e(126)
              , u = {
                initialize: s,
                close: function() {
                    d.isBatchingUpdates = !1
                }
            }
              , l = {
                initialize: s,
                close: o.flushBatchedUpdates.bind(o)
            }
              , c = [l, u];
            a(r.prototype, i.Mixin, {
                getTransactionWrappers: function() {
                    return c
                }
            });
            var p = new r
              , d = {
                isBatchingUpdates: !1,
                batchedUpdates: function(e, t, n, r, o) {
                    var i = d.isBatchingUpdates;
                    d.isBatchingUpdates = !0,
                    i ? e(t, n, r, o) : p.perform(e, null, t, n, r, o)
                }
            };
            t.exports = d
        }
        , {
            113: 113,
            126: 126,
            29: 29,
            97: 97
        }],
        60: [function(e, t, n) {
            "use strict";
            function r(e) {
                return h.createClass({
                    tagName: e.toUpperCase(),
                    render: function() {
                        return new P(e,null,null,null,null,this.props)
                    }
                })
            }
            function o() {
                R.EventEmitter.injectReactEventListener(I),
                R.EventPluginHub.injectEventPluginOrder(u),
                R.EventPluginHub.injectInstanceHandle(w),
                R.EventPluginHub.injectMount(O),
                R.EventPluginHub.injectEventPluginsByName({
                    SimpleEventPlugin: L,
                    EnterLeaveEventPlugin: l,
                    ChangeEventPlugin: a,
                    MobileSafariClickEventPlugin: d,
                    SelectEventPlugin: A,
                    BeforeInputEventPlugin: i
                }),
                R.NativeComponent.injectGenericComponentClass(g),
                R.NativeComponent.injectTextComponentClass(N),
                R.NativeComponent.injectAutoWrapper(r),
                R.Class.injectMixin(f),
                R.NativeComponent.injectComponentClasses({
                    button: y,
                    form: C,
                    iframe: _,
                    img: E,
                    input: x,
                    option: D,
                    select: M,
                    textarea: T,
                    html: F("html"),
                    head: F("head"),
                    body: F("body")
                }),
                R.DOMProperty.injectDOMPropertyConfig(p),
                R.DOMProperty.injectDOMPropertyConfig(U),
                R.EmptyComponent.injectEmptyComponent("noscript"),
                R.Updates.injectReconcileTransaction(S),
                R.Updates.injectBatchingStrategy(v),
                R.RootIndex.injectCreateReactRootIndex(c.canUseDOM ? s.createReactRootIndex : k.createReactRootIndex),
                R.Component.injectEnvironment(m),
                R.DOMComponent.injectIDOperations(b)
            }
            var i = e(3)
              , a = e(8)
              , s = e(9)
              , u = e(14)
              , l = e(15)
              , c = e(22)
              , p = e(24)
              , d = e(28)
              , f = e(32)
              , h = e(38)
              , m = e(40)
              , v = e(59)
              , g = e(48)
              , y = e(47)
              , C = e(49)
              , E = e(52)
              , b = e(50)
              , _ = e(51)
              , x = e(53)
              , D = e(54)
              , M = e(55)
              , T = e(58)
              , N = e(57)
              , P = e(61)
              , I = e(66)
              , R = e(68)
              , w = e(70)
              , O = e(75)
              , S = e(86)
              , A = e(99)
              , k = e(100)
              , L = e(101)
              , U = e(98)
              , F = e(122);
            t.exports = {
                inject: o
            }
        }
        , {
            100: 100,
            101: 101,
            122: 122,
            14: 14,
            15: 15,
            22: 22,
            24: 24,
            28: 28,
            3: 3,
            32: 32,
            38: 38,
            40: 40,
            47: 47,
            48: 48,
            49: 49,
            50: 50,
            51: 51,
            52: 52,
            53: 53,
            54: 54,
            55: 55,
            57: 57,
            58: 58,
            59: 59,
            61: 61,
            66: 66,
            68: 68,
            70: 70,
            75: 75,
            8: 8,
            86: 86,
            9: 9,
            98: 98,
            99: 99
        }],
        61: [function(e, t, n) {
            "use strict";
            var r = e(44)
              , o = e(45)
              , i = e(29)
              , a = (e(166),
            {
                key: !0,
                ref: !0
            })
              , s = function(e, t, n, r, o, i) {
                this.type = e,
                this.key = t,
                this.ref = n,
                this._owner = r,
                this._context = o,
                this.props = i
            };
            s.prototype = {
                _isReactElement: !0
            },
            s.createElement = function(e, t, n) {
                var i, u = {}, l = null, c = null;
                if (null != t) {
                    c = void 0 === t.ref ? null : t.ref,
                    l = void 0 === t.key ? null : "" + t.key;
                    for (i in t)
                        t.hasOwnProperty(i) && !a.hasOwnProperty(i) && (u[i] = t[i])
                }
                var p = arguments.length - 2;
                if (1 === p)
                    u.children = n;
                else if (p > 1) {
                    for (var d = Array(p), f = 0; p > f; f++)
                        d[f] = arguments[f + 2];
                    u.children = d
                }
                if (e && e.defaultProps) {
                    var h = e.defaultProps;
                    for (i in h)
                        "undefined" == typeof u[i] && (u[i] = h[i])
                }
                return new s(e,l,c,o.current,r.current,u)
            }
            ,
            s.createFactory = function(e) {
                var t = s.createElement.bind(null, e);
                return t.type = e,
                t
            }
            ,
            s.cloneAndReplaceProps = function(e, t) {
                var n = new s(e.type,e.key,e.ref,e._owner,e._context,t);
                return n
            }
            ,
            s.cloneElement = function(e, t, n) {
                var r, u = i({}, e.props), l = e.key, c = e.ref, p = e._owner;
                if (null != t) {
                    void 0 !== t.ref && (c = t.ref,
                    p = o.current),
                    void 0 !== t.key && (l = "" + t.key);
                    for (r in t)
                        t.hasOwnProperty(r) && !a.hasOwnProperty(r) && (u[r] = t[r])
                }
                var d = arguments.length - 2;
                if (1 === d)
                    u.children = n;
                else if (d > 1) {
                    for (var f = Array(d), h = 0; d > h; h++)
                        f[h] = arguments[h + 2];
                    u.children = f
                }
                return new s(e.type,l,c,p,e._context,u)
            }
            ,
            s.isValidElement = function(e) {
                var t = !(!e || !e._isReactElement);
                return t
            }
            ,
            t.exports = s
        }
        , {
            166: 166,
            29: 29,
            44: 44,
            45: 45
        }],
        62: [function(e, t, n) {
            "use strict";
            function r() {
                if (y.current) {
                    var e = y.current.getName();
                    if (e)
                        return " Check the render method of `" + e + "`."
                }
                return ""
            }
            function o(e) {
                var t = e && e.getPublicInstance();
                if (!t)
                    return void 0;
                var n = t.constructor;
                return n ? n.displayName || n.name || void 0 : void 0
            }
            function i() {
                var e = y.current;
                return e && o(e) || void 0
            }
            function a(e, t) {
                e._store.validated || null != e.key || (e._store.validated = !0,
                u('Each child in an array or iterator should have a unique "key" prop.', e, t))
            }
            function s(e, t, n) {
                D.test(e) && u("Child objects should have non-numeric keys so ordering is preserved.", t, n)
            }
            function u(e, t, n) {
                var r = i()
                  , a = "string" == typeof n ? n : n.displayName || n.name
                  , s = r || a
                  , u = _[e] || (_[e] = {});
                if (!u.hasOwnProperty(s)) {
                    u[s] = !0;
                    var l = "";
                    if (t && t._owner && t._owner !== y.current) {
                        var c = o(t._owner);
                        l = " It was passed a child from " + c + "."
                    }
                }
            }
            function l(e, t) {
                if (Array.isArray(e))
                    for (var n = 0; n < e.length; n++) {
                        var r = e[n];
                        m.isValidElement(r) && a(r, t)
                    }
                else if (m.isValidElement(e))
                    e._store.validated = !0;
                else if (e) {
                    var o = E(e);
                    if (o) {
                        if (o !== e.entries)
                            for (var i, u = o.call(e); !(i = u.next()).done; )
                                m.isValidElement(i.value) && a(i.value, t)
                    } else if ("object" == typeof e) {
                        var l = v.extractIfFragment(e);
                        for (var c in l)
                            l.hasOwnProperty(c) && s(c, l[c], t)
                    }
                }
            }
            function c(e, t, n, o) {
                for (var i in t)
                    if (t.hasOwnProperty(i)) {
                        var a;
                        try {
                            b("function" == typeof t[i]),
                            a = t[i](n, i, e, o)
                        } catch (s) {
                            a = s
                        }
                        a instanceof Error && !(a.message in x) && (x[a.message] = !0,
                        r(this))
                    }
            }
            function p(e, t) {
                var n = t.type
                  , r = "string" == typeof n ? n : n.displayName
                  , o = t._owner ? t._owner.getPublicInstance().constructor.displayName : null
                  , i = e + "|" + r + "|" + o;
                if (!M.hasOwnProperty(i)) {
                    M[i] = !0;
                    var a = "";
                    r && (a = " <" + r + " />");
                    var s = "";
                    o && (s = " The element was created by " + o + ".")
                }
            }
            function d(e, t) {
                return e !== e ? t !== t : 0 === e && 0 === t ? 1 / e === 1 / t : e === t
            }
            function f(e) {
                if (e._store) {
                    var t = e._store.originalProps
                      , n = e.props;
                    for (var r in n)
                        n.hasOwnProperty(r) && (t.hasOwnProperty(r) && d(t[r], n[r]) || (p(r, e),
                        t[r] = n[r]))
                }
            }
            function h(e) {
                if (null != e.type) {
                    var t = C.getComponentClassForElement(e)
                      , n = t.displayName || t.name;
                    t.propTypes && c(n, t.propTypes, e.props, g.prop),
                    "function" == typeof t.getDefaultProps
                }
            }
            var m = e(61)
              , v = e(67)
              , g = e(83)
              , y = (e(82),
            e(45))
              , C = e(78)
              , E = e(138)
              , b = e(147)
              , _ = (e(166),
            {})
              , x = {}
              , D = /^\d+$/
              , M = {}
              , T = {
                checkAndWarnForMutatedProps: f,
                createElement: function(e, t, n) {
                    var r = m.createElement.apply(this, arguments);
                    if (null == r)
                        return r;
                    for (var o = 2; o < arguments.length; o++)
                        l(arguments[o], e);
                    return h(r),
                    r
                },
                createFactory: function(e) {
                    var t = T.createElement.bind(null, e);
                    return t.type = e,
                    t
                },
                cloneElement: function(e, t, n) {
                    for (var r = m.cloneElement.apply(this, arguments), o = 2; o < arguments.length; o++)
                        l(arguments[o], r.type);
                    return h(r),
                    r
                }
            };
            t.exports = T
        }
        , {
            138: 138,
            147: 147,
            166: 166,
            45: 45,
            61: 61,
            67: 67,
            78: 78,
            82: 82,
            83: 83
        }],
        63: [function(e, t, n) {
            "use strict";
            function r(e) {
                c[e] = !0
            }
            function o(e) {
                delete c[e]
            }
            function i(e) {
                return !!c[e]
            }
            var a, s = e(61), u = e(71), l = e(147), c = {}, p = {
                injectEmptyComponent: function(e) {
                    a = s.createFactory(e)
                }
            }, d = function() {};
            d.prototype.componentDidMount = function() {
                var e = u.get(this);
                e && r(e._rootNodeID)
            }
            ,
            d.prototype.componentWillUnmount = function() {
                var e = u.get(this);
                e && o(e._rootNodeID)
            }
            ,
            d.prototype.render = function() {
                return l(a),
                a()
            }
            ;
            var f = s.createElement(d)
              , h = {
                emptyElement: f,
                injection: p,
                isNullComponentID: i
            };
            t.exports = h
        }
        , {
            147: 147,
            61: 61,
            71: 71
        }],
        64: [function(e, t, n) {
            "use strict";
            var r = {
                guard: function(e, t) {
                    return e
                }
            };
            t.exports = r
        }
        , {}],
        65: [function(e, t, n) {
            "use strict";
            function r(e) {
                o.enqueueEvents(e),
                o.processEventQueue()
            }
            var o = e(18)
              , i = {
                handleTopLevel: function(e, t, n, i) {
                    var a = o.extractEvents(e, t, n, i);
                    r(a)
                }
            };
            t.exports = i
        }
        , {
            18: 18
        }],
        66: [function(e, t, n) {
            "use strict";
            function r(e) {
                var t = p.getID(e)
                  , n = c.getReactRootIDFromNodeID(t)
                  , r = p.findReactContainerForID(n)
                  , o = p.getFirstReactDOM(r);
                return o
            }
            function o(e, t) {
                this.topLevelType = e,
                this.nativeEvent = t,
                this.ancestors = []
            }
            function i(e) {
                for (var t = p.getFirstReactDOM(h(e.nativeEvent)) || window, n = t; n; )
                    e.ancestors.push(n),
                    n = r(n);
                for (var o = 0, i = e.ancestors.length; i > o; o++) {
                    t = e.ancestors[o];
                    var a = p.getID(t) || "";
                    v._handleTopLevel(e.topLevelType, t, a, e.nativeEvent)
                }
            }
            function a(e) {
                var t = m(window);
                e(t)
            }
            var s = e(17)
              , u = e(22)
              , l = e(30)
              , c = e(70)
              , p = e(75)
              , d = e(97)
              , f = e(29)
              , h = e(137)
              , m = e(143);
            f(o.prototype, {
                destructor: function() {
                    this.topLevelType = null,
                    this.nativeEvent = null,
                    this.ancestors.length = 0
                }
            }),
            l.addPoolingTo(o, l.twoArgumentPooler);
            var v = {
                _enabled: !0,
                _handleTopLevel: null,
                WINDOW_HANDLE: u.canUseDOM ? window : null,
                setHandleTopLevel: function(e) {
                    v._handleTopLevel = e
                },
                setEnabled: function(e) {
                    v._enabled = !!e
                },
                isEnabled: function() {
                    return v._enabled
                },
                trapBubbledEvent: function(e, t, n) {
                    var r = n;
                    return r ? s.listen(r, t, v.dispatchEvent.bind(null, e)) : null
                },
                trapCapturedEvent: function(e, t, n) {
                    var r = n;
                    return r ? s.capture(r, t, v.dispatchEvent.bind(null, e)) : null
                },
                monitorScrollValue: function(e) {
                    var t = a.bind(null, e);
                    s.listen(window, "scroll", t)
                },
                dispatchEvent: function(e, t) {
                    if (v._enabled) {
                        var n = o.getPooled(e, t);
                        try {
                            d.batchedUpdates(i, n)
                        } finally {
                            o.release(n)
                        }
                    }
                }
            };
            t.exports = v
        }
        , {
            137: 137,
            143: 143,
            17: 17,
            22: 22,
            29: 29,
            30: 30,
            70: 70,
            75: 75,
            97: 97
        }],
        67: [function(e, t, n) {
            "use strict";
            var r = (e(61),
            e(166),
            {
                create: function(e) {
                    return e
                },
                extract: function(e) {
                    return e
                },
                extractIfFragment: function(e) {
                    return e
                }
            });
            t.exports = r
        }
        , {
            166: 166,
            61: 61
        }],
        68: [function(e, t, n) {
            "use strict";
            var r = e(11)
              , o = e(18)
              , i = e(41)
              , a = e(38)
              , s = e(63)
              , u = e(33)
              , l = e(78)
              , c = e(48)
              , p = e(80)
              , d = e(89)
              , f = e(97)
              , h = {
                Component: i.injection,
                Class: a.injection,
                DOMComponent: c.injection,
                DOMProperty: r.injection,
                EmptyComponent: s.injection,
                EventPluginHub: o.injection,
                EventEmitter: u.injection,
                NativeComponent: l.injection,
                Perf: p.injection,
                RootIndex: d.injection,
                Updates: f.injection
            };
            t.exports = h
        }
        , {
            11: 11,
            18: 18,
            33: 33,
            38: 38,
            41: 41,
            48: 48,
            63: 63,
            78: 78,
            80: 80,
            89: 89,
            97: 97
        }],
        69: [function(e, t, n) {
            "use strict";
            function r(e) {
                return i(document.documentElement, e)
            }
            var o = e(56)
              , i = e(120)
              , a = e(131)
              , s = e(133)
              , u = {
                hasSelectionCapabilities: function(e) {
                    return e && ("INPUT" === e.nodeName && "text" === e.type || "TEXTAREA" === e.nodeName || "true" === e.contentEditable)
                },
                getSelectionInformation: function() {
                    var e = s();
                    return {
                        focusedElem: e,
                        selectionRange: u.hasSelectionCapabilities(e) ? u.getSelection(e) : null
                    }
                },
                restoreSelection: function(e) {
                    var t = s()
                      , n = e.focusedElem
                      , o = e.selectionRange;
                    t !== n && r(n) && (u.hasSelectionCapabilities(n) && u.setSelection(n, o),
                    a(n))
                },
                getSelection: function(e) {
                    var t;
                    if ("selectionStart"in e)
                        t = {
                            start: e.selectionStart,
                            end: e.selectionEnd
                        };
                    else if (document.selection && "INPUT" === e.nodeName) {
                        var n = document.selection.createRange();
                        n.parentElement() === e && (t = {
                            start: -n.moveStart("character", -e.value.length),
                            end: -n.moveEnd("character", -e.value.length)
                        })
                    } else
                        t = o.getOffsets(e);
                    return t || {
                        start: 0,
                        end: 0
                    }
                },
                setSelection: function(e, t) {
                    var n = t.start
                      , r = t.end;
                    if ("undefined" == typeof r && (r = n),
                    "selectionStart"in e)
                        e.selectionStart = n,
                        e.selectionEnd = Math.min(r, e.value.length);
                    else if (document.selection && "INPUT" === e.nodeName) {
                        var i = e.createTextRange();
                        i.collapse(!0),
                        i.moveStart("character", n),
                        i.moveEnd("character", r - n),
                        i.select()
                    } else
                        o.setOffsets(e, t)
                }
            };
            t.exports = u
        }
        , {
            120: 120,
            131: 131,
            133: 133,
            56: 56
        }],
        70: [function(e, t, n) {
            "use strict";
            function r(e) {
                return f + e.toString(36)
            }
            function o(e, t) {
                return e.charAt(t) === f || t === e.length
            }
            function i(e) {
                return "" === e || e.charAt(0) === f && e.charAt(e.length - 1) !== f
            }
            function a(e, t) {
                return 0 === t.indexOf(e) && o(t, e.length)
            }
            function s(e) {
                return e ? e.substr(0, e.lastIndexOf(f)) : ""
            }
            function u(e, t) {
                if (d(i(e) && i(t)),
                d(a(e, t)),
                e === t)
                    return e;
                var n, r = e.length + h;
                for (n = r; n < t.length && !o(t, n); n++)
                    ;
                return t.substr(0, n)
            }
            function l(e, t) {
                var n = Math.min(e.length, t.length);
                if (0 === n)
                    return "";
                for (var r = 0, a = 0; n >= a; a++)
                    if (o(e, a) && o(t, a))
                        r = a;
                    else if (e.charAt(a) !== t.charAt(a))
                        break;
                var s = e.substr(0, r);
                return d(i(s)),
                s
            }
            function c(e, t, n, r, o, i) {
                e = e || "",
                t = t || "",
                d(e !== t);
                var l = a(t, e);
                d(l || a(e, t));
                for (var c = 0, p = l ? s : u, f = e; ; f = p(f, t)) {
                    var h;
                    if (o && f === e || i && f === t || (h = n(f, l, r)),
                    h === !1 || f === t)
                        break;
                    d(c++ < m)
                }
            }
            var p = e(89)
              , d = e(147)
              , f = "."
              , h = f.length
              , m = 100
              , v = {
                createReactRootID: function() {
                    return r(p.createReactRootIndex())
                },
                createReactID: function(e, t) {
                    return e + t
                },
                getReactRootIDFromNodeID: function(e) {
                    if (e && e.charAt(0) === f && e.length > 1) {
                        var t = e.indexOf(f, 1);
                        return t > -1 ? e.substr(0, t) : e
                    }
                    return null
                },
                traverseEnterLeave: function(e, t, n, r, o) {
                    var i = l(e, t);
                    i !== e && c(e, i, n, r, !1, !0),
                    i !== t && c(i, t, n, o, !0, !1)
                },
                traverseTwoPhase: function(e, t, n) {
                    e && (c("", e, t, n, !0, !1),
                    c(e, "", t, n, !1, !0))
                },
                traverseAncestors: function(e, t, n) {
                    c("", e, t, n, !0, !1)
                },
                _getFirstCommonAncestorID: l,
                _getNextDescendantID: u,
                isAncestorIDOf: a,
                SEPARATOR: f
            };
            t.exports = v
        }
        , {
            147: 147,
            89: 89
        }],
        71: [function(e, t, n) {
            "use strict";
            var r = {
                remove: function(e) {
                    e._reactInternalInstance = void 0
                },
                get: function(e) {
                    return e._reactInternalInstance
                },
                has: function(e) {
                    return void 0 !== e._reactInternalInstance
                },
                set: function(e, t) {
                    e._reactInternalInstance = t
                }
            };
            t.exports = r
        }
        , {}],
        72: [function(e, t, n) {
            "use strict";
            var r = {
                currentlyMountingInstance: null,
                currentlyUnmountingInstance: null
            };
            t.exports = r
        }
        , {}],
        73: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                this.value = e,
                this.requestChange = t
            }
            function o(e) {
                var t = {
                    value: "undefined" == typeof e ? i.PropTypes.any.isRequired : e.isRequired,
                    requestChange: i.PropTypes.func.isRequired
                };
                return i.PropTypes.shape(t)
            }
            var i = e(31);
            r.PropTypes = {
                link: o
            },
            t.exports = r
        }
        , {
            31: 31
        }],
        74: [function(e, t, n) {
            "use strict";
            var r = e(116)
              , o = {
                CHECKSUM_ATTR_NAME: "data-react-checksum",
                addChecksumToMarkup: function(e) {
                    var t = r(e);
                    return e.replace(">", " " + o.CHECKSUM_ATTR_NAME + '="' + t + '">')
                },
                canReuseMarkup: function(e, t) {
                    var n = t.getAttribute(o.CHECKSUM_ATTR_NAME);
                    n = n && parseInt(n, 10);
                    var i = r(e);
                    return i === n
                }
            };
            t.exports = o
        }
        , {
            116: 116
        }],
        75: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                for (var n = Math.min(e.length, t.length), r = 0; n > r; r++)
                    if (e.charAt(r) !== t.charAt(r))
                        return r;
                return e.length === t.length ? -1 : n
            }
            function o(e) {
                var t = I(e);
                return t && K.getID(t)
            }
            function i(e) {
                var t = a(e);
                if (t)
                    if (L.hasOwnProperty(t)) {
                        var n = L[t];
                        n !== e && (w(!c(n, t)),
                        L[t] = e)
                    } else
                        L[t] = e;
                return t
            }
            function a(e) {
                return e && e.getAttribute && e.getAttribute(k) || ""
            }
            function s(e, t) {
                var n = a(e);
                n !== t && delete L[n],
                e.setAttribute(k, t),
                L[t] = e
            }
            function u(e) {
                return L.hasOwnProperty(e) && c(L[e], e) || (L[e] = K.findReactNodeByID(e)),
                L[e]
            }
            function l(e) {
                var t = b.get(e)._rootNodeID;
                return C.isNullComponentID(t) ? null : (L.hasOwnProperty(t) && c(L[t], t) || (L[t] = K.findReactNodeByID(t)),
                L[t])
            }
            function c(e, t) {
                if (e) {
                    w(a(e) === t);
                    var n = K.findReactContainerForID(t);
                    if (n && P(n, e))
                        return !0
                }
                return !1
            }
            function p(e) {
                delete L[e]
            }
            function d(e) {
                var t = L[e];
                return t && c(t, e) ? void (W = t) : !1
            }
            function f(e) {
                W = null,
                E.traverseAncestors(e, d);
                var t = W;
                return W = null,
                t
            }
            function h(e, t, n, r, o) {
                var i = D.mountComponent(e, t, r, N);
                e._isTopLevel = !0,
                K._mountImageIntoNode(i, n, o)
            }
            function m(e, t, n, r) {
                var o = T.ReactReconcileTransaction.getPooled();
                o.perform(h, null, e, t, n, o, r),
                T.ReactReconcileTransaction.release(o)
            }
            var v = e(11)
              , g = e(33)
              , y = (e(45),
            e(61))
              , C = (e(62),
            e(63))
              , E = e(70)
              , b = e(71)
              , _ = e(74)
              , x = e(80)
              , D = e(87)
              , M = e(96)
              , T = e(97)
              , N = e(127)
              , P = e(120)
              , I = e(141)
              , R = e(146)
              , w = e(147)
              , O = e(159)
              , S = e(162)
              , A = (e(166),
            E.SEPARATOR)
              , k = v.ID_ATTRIBUTE_NAME
              , L = {}
              , U = 1
              , F = 9
              , B = {}
              , j = {}
              , V = []
              , W = null
              , K = {
                _instancesByReactRootID: B,
                scrollMonitor: function(e, t) {
                    t()
                },
                _updateRootComponent: function(e, t, n, r) {
                    return K.scrollMonitor(n, function() {
                        M.enqueueElementInternal(e, t),
                        r && M.enqueueCallbackInternal(e, r)
                    }),
                    e
                },
                _registerComponent: function(e, t) {
                    w(t && (t.nodeType === U || t.nodeType === F)),
                    g.ensureScrollValueMonitoring();
                    var n = K.registerContainer(t);
                    return B[n] = e,
                    n
                },
                _renderNewRootComponent: function(e, t, n) {
                    var r = R(e, null)
                      , o = K._registerComponent(r, t);
                    return T.batchedUpdates(m, r, o, t, n),
                    r
                },
                render: function(e, t, n) {
                    w(y.isValidElement(e));
                    var r = B[o(t)];
                    if (r) {
                        var i = r._currentElement;
                        if (S(i, e))
                            return K._updateRootComponent(r, e, t, n).getPublicInstance();
                        K.unmountComponentAtNode(t)
                    }
                    var a = I(t)
                      , s = a && K.isRenderedByReact(a)
                      , u = s && !r
                      , l = K._renderNewRootComponent(e, t, u).getPublicInstance();
                    return n && n.call(l),
                    l
                },
                constructAndRenderComponent: function(e, t, n) {
                    var r = y.createElement(e, t);
                    return K.render(r, n)
                },
                constructAndRenderComponentByID: function(e, t, n) {
                    var r = document.getElementById(n);
                    return w(r),
                    K.constructAndRenderComponent(e, t, r)
                },
                registerContainer: function(e) {
                    var t = o(e);
                    return t && (t = E.getReactRootIDFromNodeID(t)),
                    t || (t = E.createReactRootID()),
                    j[t] = e,
                    t
                },
                unmountComponentAtNode: function(e) {
                    w(e && (e.nodeType === U || e.nodeType === F));
                    var t = o(e)
                      , n = B[t];
                    return n ? (K.unmountComponentFromNode(n, e),
                    delete B[t],
                    delete j[t],
                    !0) : !1
                },
                unmountComponentFromNode: function(e, t) {
                    for (D.unmountComponent(e),
                    t.nodeType === F && (t = t.documentElement); t.lastChild; )
                        t.removeChild(t.lastChild)
                },
                findReactContainerForID: function(e) {
                    var t = E.getReactRootIDFromNodeID(e)
                      , n = j[t];
                    return n
                },
                findReactNodeByID: function(e) {
                    var t = K.findReactContainerForID(e);
                    return K.findComponentRoot(t, e)
                },
                isRenderedByReact: function(e) {
                    if (1 !== e.nodeType)
                        return !1;
                    var t = K.getID(e);
                    return t ? t.charAt(0) === A : !1
                },
                getFirstReactDOM: function(e) {
                    for (var t = e; t && t.parentNode !== t; ) {
                        if (K.isRenderedByReact(t))
                            return t;
                        t = t.parentNode
                    }
                    return null
                },
                findComponentRoot: function(e, t) {
                    var n = V
                      , r = 0
                      , o = f(t) || e;
                    for (n[0] = o.firstChild,
                    n.length = 1; r < n.length; ) {
                        for (var i, a = n[r++]; a; ) {
                            var s = K.getID(a);
                            s ? t === s ? i = a : E.isAncestorIDOf(s, t) && (n.length = r = 0,
                            n.push(a.firstChild)) : n.push(a.firstChild),
                            a = a.nextSibling
                        }
                        if (i)
                            return n.length = 0,
                            i
                    }
                    n.length = 0,
                    w(!1)
                },
                _mountImageIntoNode: function(e, t, n) {
                    if (w(t && (t.nodeType === U || t.nodeType === F)),
                    n) {
                        var o = I(t);
                        if (_.canReuseMarkup(e, o))
                            return;
                        var i = o.getAttribute(_.CHECKSUM_ATTR_NAME);
                        o.removeAttribute(_.CHECKSUM_ATTR_NAME);
                        var a = o.outerHTML;
                        o.setAttribute(_.CHECKSUM_ATTR_NAME, i);
                        var s = r(e, a);
                        " (client) " + e.substring(s - 20, s + 20) + "\n (server) " + a.substring(s - 20, s + 20),
                        w(t.nodeType !== F)
                    }
                    w(t.nodeType !== F),
                    O(t, e)
                },
                getReactRootID: o,
                getID: i,
                setID: s,
                getNode: u,
                getNodeFromInstance: l,
                purgeID: p
            };
            x.measureMethods(K, "ReactMount", {
                _renderNewRootComponent: "_renderNewRootComponent",
                _mountImageIntoNode: "_mountImageIntoNode"
            }),
            t.exports = K
        }
        , {
            11: 11,
            120: 120,
            127: 127,
            141: 141,
            146: 146,
            147: 147,
            159: 159,
            162: 162,
            166: 166,
            33: 33,
            45: 45,
            61: 61,
            62: 62,
            63: 63,
            70: 70,
            71: 71,
            74: 74,
            80: 80,
            87: 87,
            96: 96,
            97: 97
        }],
        76: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                h.push({
                    parentID: e,
                    parentNode: null,
                    type: c.INSERT_MARKUP,
                    markupIndex: m.push(t) - 1,
                    textContent: null,
                    fromIndex: null,
                    toIndex: n
                })
            }
            function o(e, t, n) {
                h.push({
                    parentID: e,
                    parentNode: null,
                    type: c.MOVE_EXISTING,
                    markupIndex: null,
                    textContent: null,
                    fromIndex: t,
                    toIndex: n
                })
            }
            function i(e, t) {
                h.push({
                    parentID: e,
                    parentNode: null,
                    type: c.REMOVE_NODE,
                    markupIndex: null,
                    textContent: null,
                    fromIndex: t,
                    toIndex: null
                })
            }
            function a(e, t) {
                h.push({
                    parentID: e,
                    parentNode: null,
                    type: c.TEXT_CONTENT,
                    markupIndex: null,
                    textContent: t,
                    fromIndex: null,
                    toIndex: null
                })
            }
            function s() {
                h.length && (l.processChildrenUpdates(h, m),
                u())
            }
            function u() {
                h.length = 0,
                m.length = 0
            }
            var l = e(41)
              , c = e(77)
              , p = e(87)
              , d = e(36)
              , f = 0
              , h = []
              , m = []
              , v = {
                Mixin: {
                    mountChildren: function(e, t, n) {
                        var r = d.instantiateChildren(e, t, n);
                        this._renderedChildren = r;
                        var o = []
                          , i = 0;
                        for (var a in r)
                            if (r.hasOwnProperty(a)) {
                                var s = r[a]
                                  , u = this._rootNodeID + a
                                  , l = p.mountComponent(s, u, t, n);
                                s._mountIndex = i,
                                o.push(l),
                                i++
                            }
                        return o
                    },
                    updateTextContent: function(e) {
                        f++;
                        var t = !0;
                        try {
                            var n = this._renderedChildren;
                            d.unmountChildren(n);
                            for (var r in n)
                                n.hasOwnProperty(r) && this._unmountChildByName(n[r], r);
                            this.setTextContent(e),
                            t = !1
                        } finally {
                            f--,
                            f || (t ? u() : s())
                        }
                    },
                    updateChildren: function(e, t, n) {
                        f++;
                        var r = !0;
                        try {
                            this._updateChildren(e, t, n),
                            r = !1
                        } finally {
                            f--,
                            f || (r ? u() : s())
                        }
                    },
                    _updateChildren: function(e, t, n) {
                        var r = this._renderedChildren
                          , o = d.updateChildren(r, e, t, n);
                        if (this._renderedChildren = o,
                        o || r) {
                            var i, a = 0, s = 0;
                            for (i in o)
                                if (o.hasOwnProperty(i)) {
                                    var u = r && r[i]
                                      , l = o[i];
                                    u === l ? (this.moveChild(u, s, a),
                                    a = Math.max(u._mountIndex, a),
                                    u._mountIndex = s) : (u && (a = Math.max(u._mountIndex, a),
                                    this._unmountChildByName(u, i)),
                                    this._mountChildByNameAtIndex(l, i, s, t, n)),
                                    s++
                                }
                            for (i in r)
                                !r.hasOwnProperty(i) || o && o.hasOwnProperty(i) || this._unmountChildByName(r[i], i)
                        }
                    },
                    unmountChildren: function() {
                        var e = this._renderedChildren;
                        d.unmountChildren(e),
                        this._renderedChildren = null
                    },
                    moveChild: function(e, t, n) {
                        e._mountIndex < n && o(this._rootNodeID, e._mountIndex, t)
                    },
                    createChild: function(e, t) {
                        r(this._rootNodeID, t, e._mountIndex)
                    },
                    removeChild: function(e) {
                        i(this._rootNodeID, e._mountIndex)
                    },
                    setTextContent: function(e) {
                        a(this._rootNodeID, e)
                    },
                    _mountChildByNameAtIndex: function(e, t, n, r, o) {
                        var i = this._rootNodeID + t
                          , a = p.mountComponent(e, i, r, o);
                        e._mountIndex = n,
                        this.createChild(e, a)
                    },
                    _unmountChildByName: function(e, t) {
                        this.removeChild(e),
                        e._mountIndex = null
                    }
                }
            };
            t.exports = v
        }
        , {
            36: 36,
            41: 41,
            77: 77,
            87: 87
        }],
        77: [function(e, t, n) {
            "use strict";
            var r = e(153)
              , o = r({
                INSERT_MARKUP: null,
                MOVE_EXISTING: null,
                REMOVE_NODE: null,
                TEXT_CONTENT: null
            });
            t.exports = o
        }
        , {
            153: 153
        }],
        78: [function(e, t, n) {
            "use strict";
            function r(e) {
                if ("function" == typeof e.type)
                    return e.type;
                var t = e.type
                  , n = p[t];
                return null == n && (p[t] = n = l(t)),
                n
            }
            function o(e) {
                return u(c),
                new c(e.type,e.props)
            }
            function i(e) {
                return new d(e)
            }
            function a(e) {
                return e instanceof d
            }
            var s = e(29)
              , u = e(147)
              , l = null
              , c = null
              , p = {}
              , d = null
              , f = {
                injectGenericComponentClass: function(e) {
                    c = e
                },
                injectTextComponentClass: function(e) {
                    d = e
                },
                injectComponentClasses: function(e) {
                    s(p, e)
                },
                injectAutoWrapper: function(e) {
                    l = e
                }
            }
              , h = {
                getComponentClassForElement: r,
                createInternalComponent: o,
                createInstanceForText: i,
                isTextComponent: a,
                injection: f
            };
            t.exports = h
        }
        , {
            147: 147,
            29: 29
        }],
        79: [function(e, t, n) {
            "use strict";
            var r = e(147)
              , o = {
                isValidOwner: function(e) {
                    return !(!e || "function" != typeof e.attachRef || "function" != typeof e.detachRef)
                },
                addComponentAsRefTo: function(e, t, n) {
                    r(o.isValidOwner(n)),
                    n.attachRef(t, e)
                },
                removeComponentAsRefFrom: function(e, t, n) {
                    r(o.isValidOwner(n)),
                    n.getPublicInstance().refs[t] === e.getPublicInstance() && n.detachRef(t)
                }
            };
            t.exports = o
        }
        , {
            147: 147
        }],
        80: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                return n
            }
            var o = {
                enableMeasure: !1,
                storedMeasure: r,
                measureMethods: function(e, t, n) {},
                measure: function(e, t, n) {
                    return n
                },
                injection: {
                    injectMeasure: function(e) {
                        o.storedMeasure = e
                    }
                }
            };
            t.exports = o
        }
        , {}],
        81: [function(e, t, n) {
            "use strict";
            function r(e) {
                return function(t, n, r) {
                    t.hasOwnProperty(n) ? t[n] = e(t[n], r) : t[n] = r
                }
            }
            function o(e, t) {
                for (var n in t)
                    if (t.hasOwnProperty(n)) {
                        var r = l[n];
                        r && l.hasOwnProperty(n) ? r(e, n, t[n]) : e.hasOwnProperty(n) || (e[n] = t[n])
                    }
                return e
            }
            var i = e(29)
              , a = e(126)
              , s = e(152)
              , u = r(function(e, t) {
                return i({}, t, e)
            })
              , l = {
                children: a,
                className: r(s),
                style: u
            }
              , c = {
                mergeProps: function(e, t) {
                    return o(i({}, e), t)
                }
            };
            t.exports = c
        }
        , {
            126: 126,
            152: 152,
            29: 29
        }],
        82: [function(e, t, n) {
            "use strict";
            var r = {};
            t.exports = r
        }
        , {}],
        83: [function(e, t, n) {
            "use strict";
            var r = e(153)
              , o = r({
                prop: null,
                context: null,
                childContext: null
            });
            t.exports = o
        }
        , {
            153: 153
        }],
        84: [function(e, t, n) {
            "use strict";
            function r(e) {
                function t(t, n, r, o, i) {
                    if (o = o || b,
                    null == n[r]) {
                        var a = C[i];
                        return t ? new Error("Required " + a + " `" + r + "` was not specified in " + ("`" + o + "`.")) : null
                    }
                    return e(n, r, o, i)
                }
                var n = t.bind(null, !1);
                return n.isRequired = t.bind(null, !0),
                n
            }
            function o(e) {
                function t(t, n, r, o) {
                    var i = t[n]
                      , a = m(i);
                    if (a !== e) {
                        var s = C[o]
                          , u = v(i);
                        return new Error("Invalid " + s + " `" + n + "` of type `" + u + "` " + ("supplied to `" + r + "`, expected `" + e + "`."))
                    }
                    return null
                }
                return r(t)
            }
            function i() {
                return r(E.thatReturns(null))
            }
            function a(e) {
                function t(t, n, r, o) {
                    var i = t[n];
                    if (!Array.isArray(i)) {
                        var a = C[o]
                          , s = m(i);
                        return new Error("Invalid " + a + " `" + n + "` of type " + ("`" + s + "` supplied to `" + r + "`, expected an array."))
                    }
                    for (var u = 0; u < i.length; u++) {
                        var l = e(i, u, r, o);
                        if (l instanceof Error)
                            return l
                    }
                    return null
                }
                return r(t)
            }
            function s() {
                function e(e, t, n, r) {
                    if (!g.isValidElement(e[t])) {
                        var o = C[r];
                        return new Error("Invalid " + o + " `" + t + "` supplied to " + ("`" + n + "`, expected a ReactElement."))
                    }
                    return null
                }
                return r(e)
            }
            function u(e) {
                function t(t, n, r, o) {
                    if (!(t[n]instanceof e)) {
                        var i = C[o]
                          , a = e.name || b;
                        return new Error("Invalid " + i + " `" + n + "` supplied to " + ("`" + r + "`, expected instance of `" + a + "`."))
                    }
                    return null
                }
                return r(t)
            }
            function l(e) {
                function t(t, n, r, o) {
                    for (var i = t[n], a = 0; a < e.length; a++)
                        if (i === e[a])
                            return null;
                    var s = C[o]
                      , u = JSON.stringify(e);
                    return new Error("Invalid " + s + " `" + n + "` of value `" + i + "` " + ("supplied to `" + r + "`, expected one of " + u + "."))
                }
                return r(t)
            }
            function c(e) {
                function t(t, n, r, o) {
                    var i = t[n]
                      , a = m(i);
                    if ("object" !== a) {
                        var s = C[o];
                        return new Error("Invalid " + s + " `" + n + "` of type " + ("`" + a + "` supplied to `" + r + "`, expected an object."))
                    }
                    for (var u in i)
                        if (i.hasOwnProperty(u)) {
                            var l = e(i, u, r, o);
                            if (l instanceof Error)
                                return l
                        }
                    return null
                }
                return r(t)
            }
            function p(e) {
                function t(t, n, r, o) {
                    for (var i = 0; i < e.length; i++) {
                        var a = e[i];
                        if (null == a(t, n, r, o))
                            return null
                    }
                    var s = C[o];
                    return new Error("Invalid " + s + " `" + n + "` supplied to " + ("`" + r + "`."))
                }
                return r(t)
            }
            function d() {
                function e(e, t, n, r) {
                    if (!h(e[t])) {
                        var o = C[r];
                        return new Error("Invalid " + o + " `" + t + "` supplied to " + ("`" + n + "`, expected a ReactNode."))
                    }
                    return null
                }
                return r(e)
            }
            function f(e) {
                function t(t, n, r, o) {
                    var i = t[n]
                      , a = m(i);
                    if ("object" !== a) {
                        var s = C[o];
                        return new Error("Invalid " + s + " `" + n + "` of type `" + a + "` " + ("supplied to `" + r + "`, expected `object`."))
                    }
                    for (var u in e) {
                        var l = e[u];
                        if (l) {
                            var c = l(i, u, r, o);
                            if (c)
                                return c
                        }
                    }
                    return null
                }
                return r(t)
            }
            function h(e) {
                switch (typeof e) {
                case "number":
                case "string":
                case "undefined":
                    return !0;
                case "boolean":
                    return !e;
                case "object":
                    if (Array.isArray(e))
                        return e.every(h);
                    if (null === e || g.isValidElement(e))
                        return !0;
                    e = y.extractIfFragment(e);
                    for (var t in e)
                        if (!h(e[t]))
                            return !1;
                    return !0;
                default:
                    return !1
                }
            }
            function m(e) {
                var t = typeof e;
                return Array.isArray(e) ? "array" : e instanceof RegExp ? "object" : t
            }
            function v(e) {
                var t = m(e);
                if ("object" === t) {
                    if (e instanceof Date)
                        return "date";
                    if (e instanceof RegExp)
                        return "regexp"
                }
                return t
            }
            var g = e(61)
              , y = e(67)
              , C = e(82)
              , E = e(126)
              , b = "<<anonymous>>"
              , _ = s()
              , x = d()
              , D = {
                array: o("array"),
                bool: o("boolean"),
                func: o("function"),
                number: o("number"),
                object: o("object"),
                string: o("string"),
                any: i(),
                arrayOf: a,
                element: _,
                instanceOf: u,
                node: x,
                objectOf: c,
                oneOf: l,
                oneOfType: p,
                shape: f
            };
            t.exports = D
        }
        , {
            126: 126,
            61: 61,
            67: 67,
            82: 82
        }],
        85: [function(e, t, n) {
            "use strict";
            function r() {
                this.listenersToPut = []
            }
            var o = e(30)
              , i = e(33)
              , a = e(29);
            a(r.prototype, {
                enqueuePutListener: function(e, t, n) {
                    this.listenersToPut.push({
                        rootNodeID: e,
                        propKey: t,
                        propValue: n
                    })
                },
                putListeners: function() {
                    for (var e = 0; e < this.listenersToPut.length; e++) {
                        var t = this.listenersToPut[e];
                        i.putListener(t.rootNodeID, t.propKey, t.propValue)
                    }
                },
                reset: function() {
                    this.listenersToPut.length = 0
                },
                destructor: function() {
                    this.reset()
                }
            }),
            o.addPoolingTo(r),
            t.exports = r
        }
        , {
            29: 29,
            30: 30,
            33: 33
        }],
        86: [function(e, t, n) {
            "use strict";
            function r() {
                this.reinitializeTransaction(),
                this.renderToStaticMarkup = !1,
                this.reactMountReady = o.getPooled(null),
                this.putListenerQueue = u.getPooled()
            }
            var o = e(7)
              , i = e(30)
              , a = e(33)
              , s = e(69)
              , u = e(85)
              , l = e(113)
              , c = e(29)
              , p = {
                initialize: s.getSelectionInformation,
                close: s.restoreSelection
            }
              , d = {
                initialize: function() {
                    var e = a.isEnabled();
                    return a.setEnabled(!1),
                    e
                },
                close: function(e) {
                    a.setEnabled(e)
                }
            }
              , f = {
                initialize: function() {
                    this.reactMountReady.reset()
                },
                close: function() {
                    this.reactMountReady.notifyAll()
                }
            }
              , h = {
                initialize: function() {
                    this.putListenerQueue.reset()
                },
                close: function() {
                    this.putListenerQueue.putListeners()
                }
            }
              , m = [h, p, d, f]
              , v = {
                getTransactionWrappers: function() {
                    return m
                },
                getReactMountReady: function() {
                    return this.reactMountReady
                },
                getPutListenerQueue: function() {
                    return this.putListenerQueue
                },
                destructor: function() {
                    o.release(this.reactMountReady),
                    this.reactMountReady = null,
                    u.release(this.putListenerQueue),
                    this.putListenerQueue = null
                }
            };
            c(r.prototype, l.Mixin, v),
            i.addPoolingTo(r),
            t.exports = r
        }
        , {
            113: 113,
            29: 29,
            30: 30,
            33: 33,
            69: 69,
            7: 7,
            85: 85
        }],
        87: [function(e, t, n) {
            "use strict";
            function r() {
                o.attachRefs(this, this._currentElement)
            }
            var o = e(88)
              , i = (e(62),
            {
                mountComponent: function(e, t, n, o) {
                    var i = e.mountComponent(t, n, o);
                    return n.getReactMountReady().enqueue(r, e),
                    i
                },
                unmountComponent: function(e) {
                    o.detachRefs(e, e._currentElement),
                    e.unmountComponent()
                },
                receiveComponent: function(e, t, n, i) {
                    var a = e._currentElement;
                    if (t !== a || null == t._owner) {
                        var s = o.shouldUpdateRefs(a, t);
                        s && o.detachRefs(e, a),
                        e.receiveComponent(t, n, i),
                        s && n.getReactMountReady().enqueue(r, e)
                    }
                },
                performUpdateIfNecessary: function(e, t) {
                    e.performUpdateIfNecessary(t)
                }
            });
            t.exports = i
        }
        , {
            62: 62,
            88: 88
        }],
        88: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                "function" == typeof e ? e(t.getPublicInstance()) : i.addComponentAsRefTo(t, e, n)
            }
            function o(e, t, n) {
                "function" == typeof e ? e(null) : i.removeComponentAsRefFrom(t, e, n)
            }
            var i = e(79)
              , a = {};
            a.attachRefs = function(e, t) {
                var n = t.ref;
                null != n && r(n, e, t._owner)
            }
            ,
            a.shouldUpdateRefs = function(e, t) {
                return t._owner !== e._owner || t.ref !== e.ref
            }
            ,
            a.detachRefs = function(e, t) {
                var n = t.ref;
                null != n && o(n, e, t._owner)
            }
            ,
            t.exports = a
        }
        , {
            79: 79
        }],
        89: [function(e, t, n) {
            "use strict";
            var r = {
                injectCreateReactRootIndex: function(e) {
                    o.createReactRootIndex = e
                }
            }
              , o = {
                createReactRootIndex: null,
                injection: r
            };
            t.exports = o
        }
        , {}],
        90: [function(e, t, n) {
            "use strict";
            function r(e) {
                p(i.isValidElement(e));
                var t;
                try {
                    var n = a.createReactRootID();
                    return t = u.getPooled(!1),
                    t.perform(function() {
                        var r = c(e, null)
                          , o = r.mountComponent(n, t, l);
                        return s.addChecksumToMarkup(o)
                    }, null)
                } finally {
                    u.release(t)
                }
            }
            function o(e) {
                p(i.isValidElement(e));
                var t;
                try {
                    var n = a.createReactRootID();
                    return t = u.getPooled(!0),
                    t.perform(function() {
                        var r = c(e, null);
                        return r.mountComponent(n, t, l)
                    }, null)
                } finally {
                    u.release(t)
                }
            }
            var i = e(61)
              , a = e(70)
              , s = e(74)
              , u = e(91)
              , l = e(127)
              , c = e(146)
              , p = e(147);
            t.exports = {
                renderToString: r,
                renderToStaticMarkup: o
            }
        }
        , {
            127: 127,
            146: 146,
            147: 147,
            61: 61,
            70: 70,
            74: 74,
            91: 91
        }],
        91: [function(e, t, n) {
            "use strict";
            function r(e) {
                this.reinitializeTransaction(),
                this.renderToStaticMarkup = e,
                this.reactMountReady = i.getPooled(null),
                this.putListenerQueue = a.getPooled()
            }
            var o = e(30)
              , i = e(7)
              , a = e(85)
              , s = e(113)
              , u = e(29)
              , l = e(126)
              , c = {
                initialize: function() {
                    this.reactMountReady.reset()
                },
                close: l
            }
              , p = {
                initialize: function() {
                    this.putListenerQueue.reset()
                },
                close: l
            }
              , d = [p, c]
              , f = {
                getTransactionWrappers: function() {
                    return d
                },
                getReactMountReady: function() {
                    return this.reactMountReady
                },
                getPutListenerQueue: function() {
                    return this.putListenerQueue
                },
                destructor: function() {
                    i.release(this.reactMountReady),
                    this.reactMountReady = null,
                    a.release(this.putListenerQueue),
                    this.putListenerQueue = null
                }
            };
            u(r.prototype, s.Mixin, f),
            o.addPoolingTo(r),
            t.exports = r
        }
        , {
            113: 113,
            126: 126,
            29: 29,
            30: 30,
            7: 7,
            85: 85
        }],
        92: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                var n = {};
                return function(r) {
                    n[t] = r,
                    e.setState(n)
                }
            }
            var o = {
                createStateSetter: function(e, t) {
                    return function(n, r, o, i, a, s) {
                        var u = t.call(e, n, r, o, i, a, s);
                        u && e.setState(u)
                    }
                },
                createStateKeySetter: function(e, t) {
                    var n = e.__keySetters || (e.__keySetters = {});
                    return n[t] || (n[t] = r(e, t))
                }
            };
            o.Mixin = {
                createStateSetter: function(e) {
                    return o.createStateSetter(this, e)
                },
                createStateKeySetter: function(e) {
                    return o.createStateKeySetter(this, e)
                }
            },
            t.exports = o
        }
        , {}],
        93: [function(e, t, n) {
            "use strict";
            var r = e(37)
              , o = e(67)
              , i = {
                getChildMapping: function(e) {
                    return e ? o.extract(r.map(e, function(e) {
                        return e
                    })) : e
                },
                mergeChildMappings: function(e, t) {
                    function n(n) {
                        return t.hasOwnProperty(n) ? t[n] : e[n]
                    }
                    e = e || {},
                    t = t || {};
                    var r = {}
                      , o = [];
                    for (var i in e)
                        t.hasOwnProperty(i) ? o.length && (r[i] = o,
                        o = []) : o.push(i);
                    var a, s = {};
                    for (var u in t) {
                        if (r.hasOwnProperty(u))
                            for (a = 0; a < r[u].length; a++) {
                                var l = r[u][a];
                                s[r[u][a]] = n(l)
                            }
                        s[u] = n(u)
                    }
                    for (a = 0; a < o.length; a++)
                        s[o[a]] = n(o[a]);
                    return s
                }
            };
            t.exports = i
        }
        , {
            37: 37,
            67: 67
        }],
        94: [function(e, t, n) {
            "use strict";
            function r() {
                var e = document.createElement("div")
                  , t = e.style;
                "AnimationEvent"in window || delete s.animationend.animation,
                "TransitionEvent"in window || delete s.transitionend.transition;
                for (var n in s) {
                    var r = s[n];
                    for (var o in r)
                        if (o in t) {
                            u.push(r[o]);
                            break
                        }
                }
            }
            function o(e, t, n) {
                e.addEventListener(t, n, !1)
            }
            function i(e, t, n) {
                e.removeEventListener(t, n, !1)
            }
            var a = e(22)
              , s = {
                transitionend: {
                    transition: "transitionend",
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "mozTransitionEnd",
                    OTransition: "oTransitionEnd",
                    msTransition: "MSTransitionEnd"
                },
                animationend: {
                    animation: "animationend",
                    WebkitAnimation: "webkitAnimationEnd",
                    MozAnimation: "mozAnimationEnd",
                    OAnimation: "oAnimationEnd",
                    msAnimation: "MSAnimationEnd"
                }
            }
              , u = [];
            a.canUseDOM && r();
            var l = {
                addEndEventListener: function(e, t) {
                    return 0 === u.length ? void window.setTimeout(t, 0) : void u.forEach(function(n) {
                        o(e, n, t)
                    })
                },
                removeEndEventListener: function(e, t) {
                    0 !== u.length && u.forEach(function(n) {
                        i(e, n, t)
                    })
                }
            };
            t.exports = l
        }
        , {
            22: 22
        }],
        95: [function(e, t, n) {
            "use strict";
            var r = e(31)
              , o = e(93)
              , i = e(29)
              , a = e(119)
              , s = e(126)
              , u = r.createClass({
                displayName: "ReactTransitionGroup",
                propTypes: {
                    component: r.PropTypes.any,
                    childFactory: r.PropTypes.func
                },
                getDefaultProps: function() {
                    return {
                        component: "span",
                        childFactory: s.thatReturnsArgument
                    }
                },
                getInitialState: function() {
                    return {
                        children: o.getChildMapping(this.props.children)
                    }
                },
                componentWillMount: function() {
                    this.currentlyTransitioningKeys = {},
                    this.keysToEnter = [],
                    this.keysToLeave = []
                },
                componentDidMount: function() {
                    var e = this.state.children;
                    for (var t in e)
                        e[t] && this.performAppear(t)
                },
                componentWillReceiveProps: function(e) {
                    var t = o.getChildMapping(e.children)
                      , n = this.state.children;
                    this.setState({
                        children: o.mergeChildMappings(n, t)
                    });
                    var r;
                    for (r in t) {
                        var i = n && n.hasOwnProperty(r);
                        !t[r] || i || this.currentlyTransitioningKeys[r] || this.keysToEnter.push(r)
                    }
                    for (r in n) {
                        var a = t && t.hasOwnProperty(r);
                        !n[r] || a || this.currentlyTransitioningKeys[r] || this.keysToLeave.push(r)
                    }
                },
                componentDidUpdate: function() {
                    var e = this.keysToEnter;
                    this.keysToEnter = [],
                    e.forEach(this.performEnter);
                    var t = this.keysToLeave;
                    this.keysToLeave = [],
                    t.forEach(this.performLeave)
                },
                performAppear: function(e) {
                    this.currentlyTransitioningKeys[e] = !0;
                    var t = this.refs[e];
                    t.componentWillAppear ? t.componentWillAppear(this._handleDoneAppearing.bind(this, e)) : this._handleDoneAppearing(e)
                },
                _handleDoneAppearing: function(e) {
                    var t = this.refs[e];
                    t.componentDidAppear && t.componentDidAppear(),
                    delete this.currentlyTransitioningKeys[e];
                    var n = o.getChildMapping(this.props.children);
                    n && n.hasOwnProperty(e) || this.performLeave(e)
                },
                performEnter: function(e) {
                    this.currentlyTransitioningKeys[e] = !0;
                    var t = this.refs[e];
                    t.componentWillEnter ? t.componentWillEnter(this._handleDoneEntering.bind(this, e)) : this._handleDoneEntering(e)
                },
                _handleDoneEntering: function(e) {
                    var t = this.refs[e];
                    t.componentDidEnter && t.componentDidEnter(),
                    delete this.currentlyTransitioningKeys[e];
                    var n = o.getChildMapping(this.props.children);
                    n && n.hasOwnProperty(e) || this.performLeave(e)
                },
                performLeave: function(e) {
                    this.currentlyTransitioningKeys[e] = !0;
                    var t = this.refs[e];
                    t.componentWillLeave ? t.componentWillLeave(this._handleDoneLeaving.bind(this, e)) : this._handleDoneLeaving(e)
                },
                _handleDoneLeaving: function(e) {
                    var t = this.refs[e];
                    t.componentDidLeave && t.componentDidLeave(),
                    delete this.currentlyTransitioningKeys[e];
                    var n = o.getChildMapping(this.props.children);
                    if (n && n.hasOwnProperty(e))
                        this.performEnter(e);
                    else {
                        var r = i({}, this.state.children);
                        delete r[e],
                        this.setState({
                            children: r
                        })
                    }
                },
                render: function() {
                    var e = [];
                    for (var t in this.state.children) {
                        var n = this.state.children[t];
                        n && e.push(a(this.props.childFactory(n), {
                            ref: t,
                            key: t
                        }))
                    }
                    return r.createElement(this.props.component, this.props, e)
                }
            });
            t.exports = u
        }
        , {
            119: 119,
            126: 126,
            29: 29,
            31: 31,
            93: 93
        }],
        96: [function(e, t, n) {
            "use strict";
            function r(e) {
                e !== i.currentlyMountingInstance && l.enqueueUpdate(e)
            }
            function o(e, t) {
                p(null == a.current);
                var n = u.get(e);
                return n ? n === i.currentlyUnmountingInstance ? null : n : null
            }
            var i = e(72)
              , a = e(45)
              , s = e(61)
              , u = e(71)
              , l = e(97)
              , c = e(29)
              , p = e(147)
              , d = (e(166),
            {
                enqueueCallback: function(e, t) {
                    p("function" == typeof t);
                    var n = o(e);
                    return n && n !== i.currentlyMountingInstance ? (n._pendingCallbacks ? n._pendingCallbacks.push(t) : n._pendingCallbacks = [t],
                    void r(n)) : null
                },
                enqueueCallbackInternal: function(e, t) {
                    p("function" == typeof t),
                    e._pendingCallbacks ? e._pendingCallbacks.push(t) : e._pendingCallbacks = [t],
                    r(e)
                },
                enqueueForceUpdate: function(e) {
                    var t = o(e, "forceUpdate");
                    t && (t._pendingForceUpdate = !0,
                    r(t))
                },
                enqueueReplaceState: function(e, t) {
                    var n = o(e, "replaceState");
                    n && (n._pendingStateQueue = [t],
                    n._pendingReplaceState = !0,
                    r(n))
                },
                enqueueSetState: function(e, t) {
                    var n = o(e, "setState");
                    if (n) {
                        var i = n._pendingStateQueue || (n._pendingStateQueue = []);
                        i.push(t),
                        r(n)
                    }
                },
                enqueueSetProps: function(e, t) {
                    var n = o(e, "setProps");
                    if (n) {
                        p(n._isTopLevel);
                        var i = n._pendingElement || n._currentElement
                          , a = c({}, i.props, t);
                        n._pendingElement = s.cloneAndReplaceProps(i, a),
                        r(n)
                    }
                },
                enqueueReplaceProps: function(e, t) {
                    var n = o(e, "replaceProps");
                    if (n) {
                        p(n._isTopLevel);
                        var i = n._pendingElement || n._currentElement;
                        n._pendingElement = s.cloneAndReplaceProps(i, t),
                        r(n)
                    }
                },
                enqueueElementInternal: function(e, t) {
                    e._pendingElement = t,
                    r(e)
                }
            });
            t.exports = d
        }
        , {
            147: 147,
            166: 166,
            29: 29,
            45: 45,
            61: 61,
            71: 71,
            72: 72,
            97: 97
        }],
        97: [function(e, t, n) {
            "use strict";
            function r() {
                v(T.ReactReconcileTransaction && E)
            }
            function o() {
                this.reinitializeTransaction(),
                this.dirtyComponentsLength = null,
                this.callbackQueue = c.getPooled(),
                this.reconcileTransaction = T.ReactReconcileTransaction.getPooled()
            }
            function i(e, t, n, o, i) {
                r(),
                E.batchedUpdates(e, t, n, o, i)
            }
            function a(e, t) {
                return e._mountOrder - t._mountOrder
            }
            function s(e) {
                var t = e.dirtyComponentsLength;
                v(t === g.length),
                g.sort(a);
                for (var n = 0; t > n; n++) {
                    var r = g[n]
                      , o = r._pendingCallbacks;
                    if (r._pendingCallbacks = null,
                    f.performUpdateIfNecessary(r, e.reconcileTransaction),
                    o)
                        for (var i = 0; i < o.length; i++)
                            e.callbackQueue.enqueue(o[i], r.getPublicInstance())
                }
            }
            function u(e) {
                return r(),
                E.isBatchingUpdates ? void g.push(e) : void E.batchedUpdates(u, e)
            }
            function l(e, t) {
                v(E.isBatchingUpdates),
                y.enqueue(e, t),
                C = !0
            }
            var c = e(7)
              , p = e(30)
              , d = (e(45),
            e(80))
              , f = e(87)
              , h = e(113)
              , m = e(29)
              , v = e(147)
              , g = (e(166),
            [])
              , y = c.getPooled()
              , C = !1
              , E = null
              , b = {
                initialize: function() {
                    this.dirtyComponentsLength = g.length
                },
                close: function() {
                    this.dirtyComponentsLength !== g.length ? (g.splice(0, this.dirtyComponentsLength),
                    D()) : g.length = 0
                }
            }
              , _ = {
                initialize: function() {
                    this.callbackQueue.reset()
                },
                close: function() {
                    this.callbackQueue.notifyAll()
                }
            }
              , x = [b, _];
            m(o.prototype, h.Mixin, {
                getTransactionWrappers: function() {
                    return x
                },
                destructor: function() {
                    this.dirtyComponentsLength = null,
                    c.release(this.callbackQueue),
                    this.callbackQueue = null,
                    T.ReactReconcileTransaction.release(this.reconcileTransaction),
                    this.reconcileTransaction = null
                },
                perform: function(e, t, n) {
                    return h.Mixin.perform.call(this, this.reconcileTransaction.perform, this.reconcileTransaction, e, t, n)
                }
            }),
            p.addPoolingTo(o);
            var D = function() {
                for (; g.length || C; ) {
                    if (g.length) {
                        var e = o.getPooled();
                        e.perform(s, null, e),
                        o.release(e)
                    }
                    if (C) {
                        C = !1;
                        var t = y;
                        y = c.getPooled(),
                        t.notifyAll(),
                        c.release(t)
                    }
                }
            };
            D = d.measure("ReactUpdates", "flushBatchedUpdates", D);
            var M = {
                injectReconcileTransaction: function(e) {
                    v(e),
                    T.ReactReconcileTransaction = e
                },
                injectBatchingStrategy: function(e) {
                    v(e),
                    v("function" == typeof e.batchedUpdates),
                    v("boolean" == typeof e.isBatchingUpdates),
                    E = e
                }
            }
              , T = {
                ReactReconcileTransaction: null,
                batchedUpdates: i,
                enqueueUpdate: u,
                flushBatchedUpdates: D,
                injection: M,
                asap: l
            };
            t.exports = T
        }
        , {
            113: 113,
            147: 147,
            166: 166,
            29: 29,
            30: 30,
            45: 45,
            7: 7,
            80: 80,
            87: 87
        }],
        98: [function(e, t, n) {
            "use strict";
            var r = e(11)
              , o = r.injection.MUST_USE_ATTRIBUTE
              , i = {
                Properties: {
                    cx: o,
                    cy: o,
                    d: o,
                    dx: o,
                    dy: o,
                    fill: o,
                    fillOpacity: o,
                    fontFamily: o,
                    fontSize: o,
                    fx: o,
                    fy: o,
                    gradientTransform: o,
                    gradientUnits: o,
                    markerEnd: o,
                    markerMid: o,
                    markerStart: o,
                    offset: o,
                    opacity: o,
                    patternContentUnits: o,
                    patternUnits: o,
                    points: o,
                    preserveAspectRatio: o,
                    r: o,
                    rx: o,
                    ry: o,
                    spreadMethod: o,
                    stopColor: o,
                    stopOpacity: o,
                    stroke: o,
                    strokeDasharray: o,
                    strokeLinecap: o,
                    strokeOpacity: o,
                    strokeWidth: o,
                    textAnchor: o,
                    transform: o,
                    version: o,
                    viewBox: o,
                    x1: o,
                    x2: o,
                    x: o,
                    y1: o,
                    y2: o,
                    y: o
                },
                DOMAttributeNames: {
                    fillOpacity: "fill-opacity",
                    fontFamily: "font-family",
                    fontSize: "font-size",
                    gradientTransform: "gradientTransform",
                    gradientUnits: "gradientUnits",
                    markerEnd: "marker-end",
                    markerMid: "marker-mid",
                    markerStart: "marker-start",
                    patternContentUnits: "patternContentUnits",
                    patternUnits: "patternUnits",
                    preserveAspectRatio: "preserveAspectRatio",
                    spreadMethod: "spreadMethod",
                    stopColor: "stop-color",
                    stopOpacity: "stop-opacity",
                    strokeDasharray: "stroke-dasharray",
                    strokeLinecap: "stroke-linecap",
                    strokeOpacity: "stroke-opacity",
                    strokeWidth: "stroke-width",
                    textAnchor: "text-anchor",
                    viewBox: "viewBox"
                }
            };
            t.exports = i
        }
        , {
            11: 11
        }],
        99: [function(e, t, n) {
            "use strict";
            function r(e) {
                if ("selectionStart"in e && s.hasSelectionCapabilities(e))
                    return {
                        start: e.selectionStart,
                        end: e.selectionEnd
                    };
                if (window.getSelection) {
                    var t = window.getSelection();
                    return {
                        anchorNode: t.anchorNode,
                        anchorOffset: t.anchorOffset,
                        focusNode: t.focusNode,
                        focusOffset: t.focusOffset
                    }
                }
                if (document.selection) {
                    var n = document.selection.createRange();
                    return {
                        parentElement: n.parentElement(),
                        text: n.text,
                        top: n.boundingTop,
                        left: n.boundingLeft
                    }
                }
            }
            function o(e) {
                if (y || null == m || m !== l())
                    return null;
                var t = r(m);
                if (!g || !d(g, t)) {
                    g = t;
                    var n = u.getPooled(h.select, v, e);
                    return n.type = "select",
                    n.target = m,
                    a.accumulateTwoPhaseDispatches(n),
                    n
                }
            }
            var i = e(16)
              , a = e(21)
              , s = e(69)
              , u = e(105)
              , l = e(133)
              , c = e(150)
              , p = e(154)
              , d = e(161)
              , f = i.topLevelTypes
              , h = {
                select: {
                    phasedRegistrationNames: {
                        bubbled: p({
                            onSelect: null
                        }),
                        captured: p({
                            onSelectCapture: null
                        })
                    },
                    dependencies: [f.topBlur, f.topContextMenu, f.topFocus, f.topKeyDown, f.topMouseDown, f.topMouseUp, f.topSelectionChange]
                }
            }
              , m = null
              , v = null
              , g = null
              , y = !1
              , C = {
                eventTypes: h,
                extractEvents: function(e, t, n, r) {
                    switch (e) {
                    case f.topFocus:
                        (c(t) || "true" === t.contentEditable) && (m = t,
                        v = n,
                        g = null);
                        break;
                    case f.topBlur:
                        m = null,
                        v = null,
                        g = null;
                        break;
                    case f.topMouseDown:
                        y = !0;
                        break;
                    case f.topContextMenu:
                    case f.topMouseUp:
                        return y = !1,
                        o(r);
                    case f.topSelectionChange:
                    case f.topKeyDown:
                    case f.topKeyUp:
                        return o(r)
                    }
                }
            };
            t.exports = C
        }
        , {
            105: 105,
            133: 133,
            150: 150,
            154: 154,
            16: 16,
            161: 161,
            21: 21,
            69: 69
        }],
        100: [function(e, t, n) {
            "use strict";
            var r = Math.pow(2, 53)
              , o = {
                createReactRootIndex: function() {
                    return Math.ceil(Math.random() * r)
                }
            };
            t.exports = o
        }
        , {}],
        101: [function(e, t, n) {
            "use strict";
            var r = e(16)
              , o = e(20)
              , i = e(21)
              , a = e(102)
              , s = e(105)
              , u = e(106)
              , l = e(108)
              , c = e(109)
              , p = e(104)
              , d = e(110)
              , f = e(111)
              , h = e(112)
              , m = e(134)
              , v = e(147)
              , g = e(154)
              , y = (e(166),
            r.topLevelTypes)
              , C = {
                blur: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onBlur: !0
                        }),
                        captured: g({
                            onBlurCapture: !0
                        })
                    }
                },
                click: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onClick: !0
                        }),
                        captured: g({
                            onClickCapture: !0
                        })
                    }
                },
                contextMenu: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onContextMenu: !0
                        }),
                        captured: g({
                            onContextMenuCapture: !0
                        })
                    }
                },
                copy: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onCopy: !0
                        }),
                        captured: g({
                            onCopyCapture: !0
                        })
                    }
                },
                cut: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onCut: !0
                        }),
                        captured: g({
                            onCutCapture: !0
                        })
                    }
                },
                doubleClick: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onDoubleClick: !0
                        }),
                        captured: g({
                            onDoubleClickCapture: !0
                        })
                    }
                },
                drag: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onDrag: !0
                        }),
                        captured: g({
                            onDragCapture: !0
                        })
                    }
                },
                dragEnd: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onDragEnd: !0
                        }),
                        captured: g({
                            onDragEndCapture: !0
                        })
                    }
                },
                dragEnter: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onDragEnter: !0
                        }),
                        captured: g({
                            onDragEnterCapture: !0
                        })
                    }
                },
                dragExit: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onDragExit: !0
                        }),
                        captured: g({
                            onDragExitCapture: !0
                        })
                    }
                },
                dragLeave: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onDragLeave: !0
                        }),
                        captured: g({
                            onDragLeaveCapture: !0
                        })
                    }
                },
                dragOver: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onDragOver: !0
                        }),
                        captured: g({
                            onDragOverCapture: !0
                        })
                    }
                },
                dragStart: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onDragStart: !0
                        }),
                        captured: g({
                            onDragStartCapture: !0
                        })
                    }
                },
                drop: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onDrop: !0
                        }),
                        captured: g({
                            onDropCapture: !0
                        })
                    }
                },
                focus: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onFocus: !0
                        }),
                        captured: g({
                            onFocusCapture: !0
                        })
                    }
                },
                input: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onInput: !0
                        }),
                        captured: g({
                            onInputCapture: !0
                        })
                    }
                },
                keyDown: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onKeyDown: !0
                        }),
                        captured: g({
                            onKeyDownCapture: !0
                        })
                    }
                },
                keyPress: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onKeyPress: !0
                        }),
                        captured: g({
                            onKeyPressCapture: !0
                        })
                    }
                },
                keyUp: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onKeyUp: !0
                        }),
                        captured: g({
                            onKeyUpCapture: !0
                        })
                    }
                },
                load: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onLoad: !0
                        }),
                        captured: g({
                            onLoadCapture: !0
                        })
                    }
                },
                error: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onError: !0
                        }),
                        captured: g({
                            onErrorCapture: !0
                        })
                    }
                },
                mouseDown: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onMouseDown: !0
                        }),
                        captured: g({
                            onMouseDownCapture: !0
                        })
                    }
                },
                mouseMove: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onMouseMove: !0
                        }),
                        captured: g({
                            onMouseMoveCapture: !0
                        })
                    }
                },
                mouseOut: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onMouseOut: !0
                        }),
                        captured: g({
                            onMouseOutCapture: !0
                        })
                    }
                },
                mouseOver: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onMouseOver: !0
                        }),
                        captured: g({
                            onMouseOverCapture: !0
                        })
                    }
                },
                mouseUp: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onMouseUp: !0
                        }),
                        captured: g({
                            onMouseUpCapture: !0
                        })
                    }
                },
                paste: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onPaste: !0
                        }),
                        captured: g({
                            onPasteCapture: !0
                        })
                    }
                },
                reset: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onReset: !0
                        }),
                        captured: g({
                            onResetCapture: !0
                        })
                    }
                },
                scroll: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onScroll: !0
                        }),
                        captured: g({
                            onScrollCapture: !0
                        })
                    }
                },
                submit: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onSubmit: !0
                        }),
                        captured: g({
                            onSubmitCapture: !0
                        })
                    }
                },
                touchCancel: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onTouchCancel: !0
                        }),
                        captured: g({
                            onTouchCancelCapture: !0
                        })
                    }
                },
                touchEnd: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onTouchEnd: !0
                        }),
                        captured: g({
                            onTouchEndCapture: !0
                        })
                    }
                },
                touchMove: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onTouchMove: !0
                        }),
                        captured: g({
                            onTouchMoveCapture: !0
                        })
                    }
                },
                touchStart: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onTouchStart: !0
                        }),
                        captured: g({
                            onTouchStartCapture: !0
                        })
                    }
                },
                wheel: {
                    phasedRegistrationNames: {
                        bubbled: g({
                            onWheel: !0
                        }),
                        captured: g({
                            onWheelCapture: !0
                        })
                    }
                }
            }
              , E = {
                topBlur: C.blur,
                topClick: C.click,
                topContextMenu: C.contextMenu,
                topCopy: C.copy,
                topCut: C.cut,
                topDoubleClick: C.doubleClick,
                topDrag: C.drag,
                topDragEnd: C.dragEnd,
                topDragEnter: C.dragEnter,
                topDragExit: C.dragExit,
                topDragLeave: C.dragLeave,
                topDragOver: C.dragOver,
                topDragStart: C.dragStart,
                topDrop: C.drop,
                topError: C.error,
                topFocus: C.focus,
                topInput: C.input,
                topKeyDown: C.keyDown,
                topKeyPress: C.keyPress,
                topKeyUp: C.keyUp,
                topLoad: C.load,
                topMouseDown: C.mouseDown,
                topMouseMove: C.mouseMove,
                topMouseOut: C.mouseOut,
                topMouseOver: C.mouseOver,
                topMouseUp: C.mouseUp,
                topPaste: C.paste,
                topReset: C.reset,
                topScroll: C.scroll,
                topSubmit: C.submit,
                topTouchCancel: C.touchCancel,
                topTouchEnd: C.touchEnd,
                topTouchMove: C.touchMove,
                topTouchStart: C.touchStart,
                topWheel: C.wheel
            };
            for (var b in E)
                E[b].dependencies = [b];
            var _ = {
                eventTypes: C,
                executeDispatch: function(e, t, n) {
                    var r = o.executeDispatch(e, t, n);
                    r === !1 && (e.stopPropagation(),
                    e.preventDefault())
                },
                extractEvents: function(e, t, n, r) {
                    var o = E[e];
                    if (!o)
                        return null;
                    var g;
                    switch (e) {
                    case y.topInput:
                    case y.topLoad:
                    case y.topError:
                    case y.topReset:
                    case y.topSubmit:
                        g = s;
                        break;
                    case y.topKeyPress:
                        if (0 === m(r))
                            return null;
                    case y.topKeyDown:
                    case y.topKeyUp:
                        g = l;
                        break;
                    case y.topBlur:
                    case y.topFocus:
                        g = u;
                        break;
                    case y.topClick:
                        if (2 === r.button)
                            return null;
                    case y.topContextMenu:
                    case y.topDoubleClick:
                    case y.topMouseDown:
                    case y.topMouseMove:
                    case y.topMouseOut:
                    case y.topMouseOver:
                    case y.topMouseUp:
                        g = c;
                        break;
                    case y.topDrag:
                    case y.topDragEnd:
                    case y.topDragEnter:
                    case y.topDragExit:
                    case y.topDragLeave:
                    case y.topDragOver:
                    case y.topDragStart:
                    case y.topDrop:
                        g = p;
                        break;
                    case y.topTouchCancel:
                    case y.topTouchEnd:
                    case y.topTouchMove:
                    case y.topTouchStart:
                        g = d;
                        break;
                    case y.topScroll:
                        g = f;
                        break;
                    case y.topWheel:
                        g = h;
                        break;
                    case y.topCopy:
                    case y.topCut:
                    case y.topPaste:
                        g = a
                    }
                    v(g);
                    var C = g.getPooled(o, n, r);
                    return i.accumulateTwoPhaseDispatches(C),
                    C
                }
            };
            t.exports = _
        }
        , {
            102: 102,
            104: 104,
            105: 105,
            106: 106,
            108: 108,
            109: 109,
            110: 110,
            111: 111,
            112: 112,
            134: 134,
            147: 147,
            154: 154,
            16: 16,
            166: 166,
            20: 20,
            21: 21
        }],
        102: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(105)
              , i = {
                clipboardData: function(e) {
                    return "clipboardData"in e ? e.clipboardData : window.clipboardData
                }
            };
            o.augmentClass(r, i),
            t.exports = r
        }
        , {
            105: 105
        }],
        103: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(105)
              , i = {
                data: null
            };
            o.augmentClass(r, i),
            t.exports = r
        }
        , {
            105: 105
        }],
        104: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(109)
              , i = {
                dataTransfer: null
            };
            o.augmentClass(r, i),
            t.exports = r
        }
        , {
            109: 109
        }],
        105: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                this.dispatchConfig = e,
                this.dispatchMarker = t,
                this.nativeEvent = n;
                var r = this.constructor.Interface;
                for (var o in r)
                    if (r.hasOwnProperty(o)) {
                        var i = r[o];
                        i ? this[o] = i(n) : this[o] = n[o]
                    }
                var s = null != n.defaultPrevented ? n.defaultPrevented : n.returnValue === !1;
                s ? this.isDefaultPrevented = a.thatReturnsTrue : this.isDefaultPrevented = a.thatReturnsFalse,
                this.isPropagationStopped = a.thatReturnsFalse
            }
            var o = e(30)
              , i = e(29)
              , a = e(126)
              , s = e(137)
              , u = {
                type: null,
                target: s,
                currentTarget: a.thatReturnsNull,
                eventPhase: null,
                bubbles: null,
                cancelable: null,
                timeStamp: function(e) {
                    return e.timeStamp || Date.now()
                },
                defaultPrevented: null,
                isTrusted: null
            };
            i(r.prototype, {
                preventDefault: function() {
                    this.defaultPrevented = !0;
                    var e = this.nativeEvent;
                    e.preventDefault ? e.preventDefault() : e.returnValue = !1,
                    this.isDefaultPrevented = a.thatReturnsTrue
                },
                stopPropagation: function() {
                    var e = this.nativeEvent;
                    e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0,
                    this.isPropagationStopped = a.thatReturnsTrue
                },
                persist: function() {
                    this.isPersistent = a.thatReturnsTrue
                },
                isPersistent: a.thatReturnsFalse,
                destructor: function() {
                    var e = this.constructor.Interface;
                    for (var t in e)
                        this[t] = null;
                    this.dispatchConfig = null,
                    this.dispatchMarker = null,
                    this.nativeEvent = null
                }
            }),
            r.Interface = u,
            r.augmentClass = function(e, t) {
                var n = this
                  , r = Object.create(n.prototype);
                i(r, e.prototype),
                e.prototype = r,
                e.prototype.constructor = e,
                e.Interface = i({}, n.Interface, t),
                e.augmentClass = n.augmentClass,
                o.addPoolingTo(e, o.threeArgumentPooler)
            }
            ,
            o.addPoolingTo(r, o.threeArgumentPooler),
            t.exports = r
        }
        , {
            126: 126,
            137: 137,
            29: 29,
            30: 30
        }],
        106: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(111)
              , i = {
                relatedTarget: null
            };
            o.augmentClass(r, i),
            t.exports = r
        }
        , {
            111: 111
        }],
        107: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(105)
              , i = {
                data: null
            };
            o.augmentClass(r, i),
            t.exports = r
        }
        , {
            105: 105
        }],
        108: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(111)
              , i = e(134)
              , a = e(135)
              , s = e(136)
              , u = {
                key: a,
                location: null,
                ctrlKey: null,
                shiftKey: null,
                altKey: null,
                metaKey: null,
                repeat: null,
                locale: null,
                getModifierState: s,
                charCode: function(e) {
                    return "keypress" === e.type ? i(e) : 0
                },
                keyCode: function(e) {
                    return "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0
                },
                which: function(e) {
                    return "keypress" === e.type ? i(e) : "keydown" === e.type || "keyup" === e.type ? e.keyCode : 0
                }
            };
            o.augmentClass(r, u),
            t.exports = r
        }
        , {
            111: 111,
            134: 134,
            135: 135,
            136: 136
        }],
        109: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(111)
              , i = e(114)
              , a = e(136)
              , s = {
                screenX: null,
                screenY: null,
                clientX: null,
                clientY: null,
                ctrlKey: null,
                shiftKey: null,
                altKey: null,
                metaKey: null,
                getModifierState: a,
                button: function(e) {
                    var t = e.button;
                    return "which"in e ? t : 2 === t ? 2 : 4 === t ? 1 : 0
                },
                buttons: null,
                relatedTarget: function(e) {
                    return e.relatedTarget || (e.fromElement === e.srcElement ? e.toElement : e.fromElement)
                },
                pageX: function(e) {
                    return "pageX"in e ? e.pageX : e.clientX + i.currentScrollLeft
                },
                pageY: function(e) {
                    return "pageY"in e ? e.pageY : e.clientY + i.currentScrollTop
                }
            };
            o.augmentClass(r, s),
            t.exports = r
        }
        , {
            111: 111,
            114: 114,
            136: 136
        }],
        110: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(111)
              , i = e(136)
              , a = {
                touches: null,
                targetTouches: null,
                changedTouches: null,
                altKey: null,
                metaKey: null,
                ctrlKey: null,
                shiftKey: null,
                getModifierState: i
            };
            o.augmentClass(r, a),
            t.exports = r
        }
        , {
            111: 111,
            136: 136
        }],
        111: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(105)
              , i = e(137)
              , a = {
                view: function(e) {
                    if (e.view)
                        return e.view;
                    var t = i(e);
                    if (null != t && t.window === t)
                        return t;
                    var n = t.ownerDocument;
                    return n ? n.defaultView || n.parentWindow : window
                },
                detail: function(e) {
                    return e.detail || 0
                }
            };
            o.augmentClass(r, a),
            t.exports = r
        }
        , {
            105: 105,
            137: 137
        }],
        112: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                o.call(this, e, t, n)
            }
            var o = e(109)
              , i = {
                deltaX: function(e) {
                    return "deltaX"in e ? e.deltaX : "wheelDeltaX"in e ? -e.wheelDeltaX : 0
                },
                deltaY: function(e) {
                    return "deltaY"in e ? e.deltaY : "wheelDeltaY"in e ? -e.wheelDeltaY : "wheelDelta"in e ? -e.wheelDelta : 0
                },
                deltaZ: null,
                deltaMode: null
            };
            o.augmentClass(r, i),
            t.exports = r
        }
        , {
            109: 109
        }],
        113: [function(e, t, n) {
            "use strict";
            var r = e(147)
              , o = {
                reinitializeTransaction: function() {
                    this.transactionWrappers = this.getTransactionWrappers(),
                    this.wrapperInitData ? this.wrapperInitData.length = 0 : this.wrapperInitData = [],
                    this._isInTransaction = !1
                },
                _isInTransaction: !1,
                getTransactionWrappers: null,
                isInTransaction: function() {
                    return !!this._isInTransaction
                },
                perform: function(e, t, n, o, i, a, s, u) {
                    r(!this.isInTransaction());
                    var l, c;
                    try {
                        this._isInTransaction = !0,
                        l = !0,
                        this.initializeAll(0),
                        c = e.call(t, n, o, i, a, s, u),
                        l = !1
                    } finally {
                        try {
                            if (l)
                                try {
                                    this.closeAll(0)
                                } catch (p) {}
                            else
                                this.closeAll(0)
                        } finally {
                            this._isInTransaction = !1
                        }
                    }
                    return c
                },
                initializeAll: function(e) {
                    for (var t = this.transactionWrappers, n = e; n < t.length; n++) {
                        var r = t[n];
                        try {
                            this.wrapperInitData[n] = i.OBSERVED_ERROR,
                            this.wrapperInitData[n] = r.initialize ? r.initialize.call(this) : null
                        } finally {
                            if (this.wrapperInitData[n] === i.OBSERVED_ERROR)
                                try {
                                    this.initializeAll(n + 1)
                                } catch (o) {}
                        }
                    }
                },
                closeAll: function(e) {
                    r(this.isInTransaction());
                    for (var t = this.transactionWrappers, n = e; n < t.length; n++) {
                        var o, a = t[n], s = this.wrapperInitData[n];
                        try {
                            o = !0,
                            s !== i.OBSERVED_ERROR && a.close && a.close.call(this, s),
                            o = !1
                        } finally {
                            if (o)
                                try {
                                    this.closeAll(n + 1)
                                } catch (u) {}
                        }
                    }
                    this.wrapperInitData.length = 0
                }
            }
              , i = {
                Mixin: o,
                OBSERVED_ERROR: {}
            };
            t.exports = i
        }
        , {
            147: 147
        }],
        114: [function(e, t, n) {
            "use strict";
            var r = {
                currentScrollLeft: 0,
                currentScrollTop: 0,
                refreshScrollValues: function(e) {
                    r.currentScrollLeft = e.x,
                    r.currentScrollTop = e.y
                }
            };
            t.exports = r
        }
        , {}],
        115: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                if (o(null != t),
                null == e)
                    return t;
                var n = Array.isArray(e)
                  , r = Array.isArray(t);
                return n && r ? (e.push.apply(e, t),
                e) : n ? (e.push(t),
                e) : r ? [e].concat(t) : [e, t]
            }
            var o = e(147);
            t.exports = r
        }
        , {
            147: 147
        }],
        116: [function(e, t, n) {
            "use strict";
            function r(e) {
                for (var t = 1, n = 0, r = 0; r < e.length; r++)
                    t = (t + e.charCodeAt(r)) % o,
                    n = (n + t) % o;
                return t | n << 16
            }
            var o = 65521;
            t.exports = r
        }
        , {}],
        117: [function(e, t, n) {
            function r(e) {
                return e.replace(o, function(e, t) {
                    return t.toUpperCase()
                })
            }
            var o = /-(.)/g;
            t.exports = r
        }
        , {}],
        118: [function(e, t, n) {
            "use strict";
            function r(e) {
                return o(e.replace(i, "ms-"))
            }
            var o = e(117)
              , i = /^-ms-/;
            t.exports = r
        }
        , {
            117: 117
        }],
        119: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                var n = i.mergeProps(t, e.props);
                return !n.hasOwnProperty(s) && e.props.hasOwnProperty(s) && (n.children = e.props.children),
                o.createElement(e.type, n)
            }
            var o = e(61)
              , i = e(81)
              , a = e(154)
              , s = (e(166),
            a({
                children: null
            }));
            t.exports = r
        }
        , {
            154: 154,
            166: 166,
            61: 61,
            81: 81
        }],
        120: [function(e, t, n) {
            function r(e, t) {
                return e && t ? e === t ? !0 : o(e) ? !1 : o(t) ? r(e, t.parentNode) : e.contains ? e.contains(t) : e.compareDocumentPosition ? !!(16 & e.compareDocumentPosition(t)) : !1 : !1
            }
            var o = e(151);
            t.exports = r
        }
        , {
            151: 151
        }],
        121: [function(e, t, n) {
            function r(e) {
                return !!e && ("object" == typeof e || "function" == typeof e) && "length"in e && !("setInterval"in e) && "number" != typeof e.nodeType && (Array.isArray(e) || "callee"in e || "item"in e)
            }
            function o(e) {
                return r(e) ? Array.isArray(e) ? e.slice() : i(e) : [e]
            }
            var i = e(163);
            t.exports = o
        }
        , {
            163: 163
        }],
        122: [function(e, t, n) {
            "use strict";
            function r(e) {
                var t = i.createFactory(e)
                  , n = o.createClass({
                    tagName: e.toUpperCase(),
                    displayName: "ReactFullPageComponent" + e,
                    componentWillUnmount: function() {
                        a(!1)
                    },
                    render: function() {
                        return t(this.props)
                    }
                });
                return n
            }
            var o = e(38)
              , i = e(61)
              , a = e(147);
            t.exports = r
        }
        , {
            147: 147,
            38: 38,
            61: 61
        }],
        123: [function(e, t, n) {
            function r(e) {
                var t = e.match(c);
                return t && t[1].toLowerCase()
            }
            function o(e, t) {
                var n = l;
                u(!!l);
                var o = r(e)
                  , i = o && s(o);
                if (i) {
                    n.innerHTML = i[1] + e + i[2];
                    for (var c = i[0]; c--; )
                        n = n.lastChild
                } else
                    n.innerHTML = e;
                var p = n.getElementsByTagName("script");
                p.length && (u(t),
                a(p).forEach(t));
                for (var d = a(n.childNodes); n.lastChild; )
                    n.removeChild(n.lastChild);
                return d
            }
            var i = e(22)
              , a = e(121)
              , s = e(139)
              , u = e(147)
              , l = i.canUseDOM ? document.createElement("div") : null
              , c = /^\s*<(\w+)/;
            t.exports = o
        }
        , {
            121: 121,
            139: 139,
            147: 147,
            22: 22
        }],
        124: [function(e, t, n) {
            "use strict";
            function r(e) {
                return "object" == typeof e ? Object.keys(e).filter(function(t) {
                    return e[t]
                }).join(" ") : Array.prototype.join.call(arguments, " ")
            }
            e(166);
            t.exports = r
        }
        , {
            166: 166
        }],
        125: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                var n = null == t || "boolean" == typeof t || "" === t;
                if (n)
                    return "";
                var r = isNaN(t);
                return r || 0 === t || i.hasOwnProperty(e) && i[e] ? "" + t : ("string" == typeof t && (t = t.trim()),
                t + "px")
            }
            var o = e(5)
              , i = o.isUnitlessNumber;
            t.exports = r
        }
        , {
            5: 5
        }],
        126: [function(e, t, n) {
            function r(e) {
                return function() {
                    return e
                }
            }
            function o() {}
            o.thatReturns = r,
            o.thatReturnsFalse = r(!1),
            o.thatReturnsTrue = r(!0),
            o.thatReturnsNull = r(null),
            o.thatReturnsThis = function() {
                return this
            }
            ,
            o.thatReturnsArgument = function(e) {
                return e
            }
            ,
            t.exports = o
        }
        , {}],
        127: [function(e, t, n) {
            "use strict";
            var r = {};
            t.exports = r
        }
        , {}],
        128: [function(e, t, n) {
            "use strict";
            function r(e) {
                return i[e]
            }
            function o(e) {
                return ("" + e).replace(a, r)
            }
            var i = {
                "&": "&amp;",
                ">": "&gt;",
                "<": "&lt;",
                '"': "&quot;",
                "'": "&#x27;"
            }
              , a = /[&><"']/g;
            t.exports = o
        }
        , {}],
        129: [function(e, t, n) {
            "use strict";
            function r(e) {
                return null == e ? null : s(e) ? e : o.has(e) ? i.getNodeFromInstance(e) : (a(null == e.render || "function" != typeof e.render),
                void a(!1))
            }
            {
                var o = (e(45),
                e(71))
                  , i = e(75)
                  , a = e(147)
                  , s = e(149);
                e(166)
            }
            t.exports = r
        }
        , {
            147: 147,
            149: 149,
            166: 166,
            45: 45,
            71: 71,
            75: 75
        }],
        130: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                var r = e
                  , o = !r.hasOwnProperty(n);
                o && null != t && (r[n] = t)
            }
            function o(e) {
                if (null == e)
                    return e;
                var t = {};
                return i(e, r, t),
                t
            }
            {
                var i = e(164);
                e(166)
            }
            t.exports = o
        }
        , {
            164: 164,
            166: 166
        }],
        131: [function(e, t, n) {
            "use strict";
            function r(e) {
                try {
                    e.focus()
                } catch (t) {}
            }
            t.exports = r
        }
        , {}],
        132: [function(e, t, n) {
            "use strict";
            var r = function(e, t, n) {
                Array.isArray(e) ? e.forEach(t, n) : e && t.call(n, e)
            };
            t.exports = r
        }
        , {}],
        133: [function(e, t, n) {
            function r() {
                try {
                    return document.activeElement || document.body
                } catch (e) {
                    return document.body
                }
            }
            t.exports = r
        }
        , {}],
        134: [function(e, t, n) {
            "use strict";
            function r(e) {
                var t, n = e.keyCode;
                return "charCode"in e ? (t = e.charCode,
                0 === t && 13 === n && (t = 13)) : t = n,
                t >= 32 || 13 === t ? t : 0
            }
            t.exports = r
        }
        , {}],
        135: [function(e, t, n) {
            "use strict";
            function r(e) {
                if (e.key) {
                    var t = i[e.key] || e.key;
                    if ("Unidentified" !== t)
                        return t
                }
                if ("keypress" === e.type) {
                    var n = o(e);
                    return 13 === n ? "Enter" : String.fromCharCode(n)
                }
                return "keydown" === e.type || "keyup" === e.type ? a[e.keyCode] || "Unidentified" : ""
            }
            var o = e(134)
              , i = {
                Esc: "Escape",
                Spacebar: " ",
                Left: "ArrowLeft",
                Up: "ArrowUp",
                Right: "ArrowRight",
                Down: "ArrowDown",
                Del: "Delete",
                Win: "OS",
                Menu: "ContextMenu",
                Apps: "ContextMenu",
                Scroll: "ScrollLock",
                MozPrintableKey: "Unidentified"
            }
              , a = {
                8: "Backspace",
                9: "Tab",
                12: "Clear",
                13: "Enter",
                16: "Shift",
                17: "Control",
                18: "Alt",
                19: "Pause",
                20: "CapsLock",
                27: "Escape",
                32: " ",
                33: "PageUp",
                34: "PageDown",
                35: "End",
                36: "Home",
                37: "ArrowLeft",
                38: "ArrowUp",
                39: "ArrowRight",
                40: "ArrowDown",
                45: "Insert",
                46: "Delete",
                112: "F1",
                113: "F2",
                114: "F3",
                115: "F4",
                116: "F5",
                117: "F6",
                118: "F7",
                119: "F8",
                120: "F9",
                121: "F10",
                122: "F11",
                123: "F12",
                144: "NumLock",
                145: "ScrollLock",
                224: "Meta"
            };
            t.exports = r
        }
        , {
            134: 134
        }],
        136: [function(e, t, n) {
            "use strict";
            function r(e) {
                var t = this
                  , n = t.nativeEvent;
                if (n.getModifierState)
                    return n.getModifierState(e);
                var r = i[e];
                return r ? !!n[r] : !1
            }
            function o(e) {
                return r
            }
            var i = {
                Alt: "altKey",
                Control: "ctrlKey",
                Meta: "metaKey",
                Shift: "shiftKey"
            };
            t.exports = o
        }
        , {}],
        137: [function(e, t, n) {
            "use strict";
            function r(e) {
                var t = e.target || e.srcElement || window;
                return 3 === t.nodeType ? t.parentNode : t
            }
            t.exports = r
        }
        , {}],
        138: [function(e, t, n) {
            "use strict";
            function r(e) {
                var t = e && (o && e[o] || e[i]);
                return "function" == typeof t ? t : void 0
            }
            var o = "function" == typeof Symbol && Symbol.iterator
              , i = "@@iterator";
            t.exports = r
        }
        , {}],
        139: [function(e, t, n) {
            function r(e) {
                return i(!!a),
                d.hasOwnProperty(e) || (e = "*"),
                s.hasOwnProperty(e) || ("*" === e ? a.innerHTML = "<link />" : a.innerHTML = "<" + e + "></" + e + ">",
                s[e] = !a.firstChild),
                s[e] ? d[e] : null
            }
            var o = e(22)
              , i = e(147)
              , a = o.canUseDOM ? document.createElement("div") : null
              , s = {
                circle: !0,
                defs: !0,
                ellipse: !0,
                g: !0,
                line: !0,
                linearGradient: !0,
                path: !0,
                polygon: !0,
                polyline: !0,
                radialGradient: !0,
                rect: !0,
                stop: !0,
                text: !0
            }
              , u = [1, '<select multiple="true">', "</select>"]
              , l = [1, "<table>", "</table>"]
              , c = [3, "<table><tbody><tr>", "</tr></tbody></table>"]
              , p = [1, "<svg>", "</svg>"]
              , d = {
                "*": [1, "?<div>", "</div>"],
                area: [1, "<map>", "</map>"],
                col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
                legend: [1, "<fieldset>", "</fieldset>"],
                param: [1, "<object>", "</object>"],
                tr: [2, "<table><tbody>", "</tbody></table>"],
                optgroup: u,
                option: u,
                caption: l,
                colgroup: l,
                tbody: l,
                tfoot: l,
                thead: l,
                td: c,
                th: c,
                circle: p,
                defs: p,
                ellipse: p,
                g: p,
                line: p,
                linearGradient: p,
                path: p,
                polygon: p,
                polyline: p,
                radialGradient: p,
                rect: p,
                stop: p,
                text: p
            };
            t.exports = r
        }
        , {
            147: 147,
            22: 22
        }],
        140: [function(e, t, n) {
            "use strict";
            function r(e) {
                for (; e && e.firstChild; )
                    e = e.firstChild;
                return e
            }
            function o(e) {
                for (; e; ) {
                    if (e.nextSibling)
                        return e.nextSibling;
                    e = e.parentNode
                }
            }
            function i(e, t) {
                for (var n = r(e), i = 0, a = 0; n; ) {
                    if (3 === n.nodeType) {
                        if (a = i + n.textContent.length,
                        t >= i && a >= t)
                            return {
                                node: n,
                                offset: t - i
                            };
                        i = a
                    }
                    n = r(o(n))
                }
            }
            t.exports = i
        }
        , {}],
        141: [function(e, t, n) {
            "use strict";
            function r(e) {
                return e ? e.nodeType === o ? e.documentElement : e.firstChild : null
            }
            var o = 9;
            t.exports = r
        }
        , {}],
        142: [function(e, t, n) {
            "use strict";
            function r() {
                return !i && o.canUseDOM && (i = "textContent"in document.documentElement ? "textContent" : "innerText"),
                i
            }
            var o = e(22)
              , i = null;
            t.exports = r
        }
        , {
            22: 22
        }],
        143: [function(e, t, n) {
            "use strict";
            function r(e) {
                return e === window ? {
                    x: window.pageXOffset || document.documentElement.scrollLeft,
                    y: window.pageYOffset || document.documentElement.scrollTop
                } : {
                    x: e.scrollLeft,
                    y: e.scrollTop
                }
            }
            t.exports = r
        }
        , {}],
        144: [function(e, t, n) {
            function r(e) {
                return e.replace(o, "-$1").toLowerCase()
            }
            var o = /([A-Z])/g;
            t.exports = r
        }
        , {}],
        145: [function(e, t, n) {
            "use strict";
            function r(e) {
                return o(e).replace(i, "-ms-")
            }
            var o = e(144)
              , i = /^ms-/;
            t.exports = r
        }
        , {
            144: 144
        }],
        146: [function(e, t, n) {
            "use strict";
            function r(e) {
                return "function" == typeof e && "undefined" != typeof e.prototype && "function" == typeof e.prototype.mountComponent && "function" == typeof e.prototype.receiveComponent
            }
            function o(e, t) {
                var n;
                if ((null === e || e === !1) && (e = a.emptyElement),
                "object" == typeof e) {
                    var o = e;
                    n = t === o.type && "string" == typeof o.type ? s.createInternalComponent(o) : r(o.type) ? new o.type(o) : new c
                } else
                    "string" == typeof e || "number" == typeof e ? n = s.createInstanceForText(e) : l(!1);
                return n.construct(e),
                n._mountIndex = 0,
                n._mountImage = null,
                n
            }
            var i = e(43)
              , a = e(63)
              , s = e(78)
              , u = e(29)
              , l = e(147)
              , c = (e(166),
            function() {}
            );
            u(c.prototype, i.Mixin, {
                _instantiateReactComponent: o
            }),
            t.exports = o
        }
        , {
            147: 147,
            166: 166,
            29: 29,
            43: 43,
            63: 63,
            78: 78
        }],
        147: [function(e, t, n) {
            "use strict";
            var r = function(e, t, n, r, o, i, a, s) {
                if (!e) {
                    var u;
                    if (void 0 === t)
                        u = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
                    else {
                        var l = [n, r, o, i, a, s]
                          , c = 0;
                        u = new Error("Invariant Violation: " + t.replace(/%s/g, function() {
                            return l[c++]
                        }))
                    }
                    throw u.framesToPop = 1,
                    u
                }
            };
            t.exports = r
        }
        , {}],
        148: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                if (!i.canUseDOM || t && !("addEventListener"in document))
                    return !1;
                var n = "on" + e
                  , r = n in document;
                if (!r) {
                    var a = document.createElement("div");
                    a.setAttribute(n, "return;"),
                    r = "function" == typeof a[n]
                }
                return !r && o && "wheel" === e && (r = document.implementation.hasFeature("Events.wheel", "3.0")),
                r
            }
            var o, i = e(22);
            i.canUseDOM && (o = document.implementation && document.implementation.hasFeature && document.implementation.hasFeature("", "") !== !0),
            t.exports = r
        }
        , {
            22: 22
        }],
        149: [function(e, t, n) {
            function r(e) {
                return !(!e || !("function" == typeof Node ? e instanceof Node : "object" == typeof e && "number" == typeof e.nodeType && "string" == typeof e.nodeName))
            }
            t.exports = r
        }
        , {}],
        150: [function(e, t, n) {
            "use strict";
            function r(e) {
                return e && ("INPUT" === e.nodeName && o[e.type] || "TEXTAREA" === e.nodeName)
            }
            var o = {
                color: !0,
                date: !0,
                datetime: !0,
                "datetime-local": !0,
                email: !0,
                month: !0,
                number: !0,
                password: !0,
                range: !0,
                search: !0,
                tel: !0,
                text: !0,
                time: !0,
                url: !0,
                week: !0
            };
            t.exports = r
        }
        , {}],
        151: [function(e, t, n) {
            function r(e) {
                return o(e) && 3 == e.nodeType
            }
            var o = e(149);
            t.exports = r
        }
        , {
            149: 149
        }],
        152: [function(e, t, n) {
            "use strict";
            function r(e) {
                e || (e = "");
                var t, n = arguments.length;
                if (n > 1)
                    for (var r = 1; n > r; r++)
                        t = arguments[r],
                        t && (e = (e ? e + " " : "") + t);
                return e
            }
            t.exports = r
        }
        , {}],
        153: [function(e, t, n) {
            "use strict";
            var r = e(147)
              , o = function(e) {
                var t, n = {};
                r(e instanceof Object && !Array.isArray(e));
                for (t in e)
                    e.hasOwnProperty(t) && (n[t] = t);
                return n
            };
            t.exports = o
        }
        , {
            147: 147
        }],
        154: [function(e, t, n) {
            var r = function(e) {
                var t;
                for (t in e)
                    if (e.hasOwnProperty(t))
                        return t;
                return null
            };
            t.exports = r
        }
        , {}],
        155: [function(e, t, n) {
            "use strict";
            function r(e, t, n) {
                if (!e)
                    return null;
                var r = {};
                for (var i in e)
                    o.call(e, i) && (r[i] = t.call(n, e[i], i, e));
                return r
            }
            var o = Object.prototype.hasOwnProperty;
            t.exports = r
        }
        , {}],
        156: [function(e, t, n) {
            "use strict";
            function r(e) {
                var t = {};
                return function(n) {
                    return t.hasOwnProperty(n) || (t[n] = e.call(this, n)),
                    t[n]
                }
            }
            t.exports = r
        }
        , {}],
        157: [function(e, t, n) {
            "use strict";
            function r(e) {
                return i(o.isValidElement(e)),
                e
            }
            var o = e(61)
              , i = e(147);
            t.exports = r
        }
        , {
            147: 147,
            61: 61
        }],
        158: [function(e, t, n) {
            "use strict";
            function r(e) {
                return '"' + o(e) + '"'
            }
            var o = e(128);
            t.exports = r
        }
        , {
            128: 128
        }],
        159: [function(e, t, n) {
            "use strict";
            var r = e(22)
              , o = /^[ \r\n\t\f]/
              , i = /<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/
              , a = function(e, t) {
                e.innerHTML = t
            };
            if ("undefined" != typeof MSApp && MSApp.execUnsafeLocalFunction && (a = function(e, t) {
                MSApp.execUnsafeLocalFunction(function() {
                    e.innerHTML = t
                })
            }
            ),
            r.canUseDOM) {
                var s = document.createElement("div");
                s.innerHTML = " ",
                "" === s.innerHTML && (a = function(e, t) {
                    if (e.parentNode && e.parentNode.replaceChild(e, e),
                    o.test(t) || "<" === t[0] && i.test(t)) {
                        e.innerHTML = "\ufeff" + t;
                        var n = e.firstChild;
                        1 === n.data.length ? e.removeChild(n) : n.deleteData(0, 1)
                    } else
                        e.innerHTML = t
                }
                )
            }
            t.exports = a
        }
        , {
            22: 22
        }],
        160: [function(e, t, n) {
            "use strict";
            var r = e(22)
              , o = e(128)
              , i = e(159)
              , a = function(e, t) {
                e.textContent = t
            };
            r.canUseDOM && ("textContent"in document.documentElement || (a = function(e, t) {
                i(e, o(t))
            }
            )),
            t.exports = a
        }
        , {
            128: 128,
            159: 159,
            22: 22
        }],
        161: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                if (e === t)
                    return !0;
                var n;
                for (n in e)
                    if (e.hasOwnProperty(n) && (!t.hasOwnProperty(n) || e[n] !== t[n]))
                        return !1;
                for (n in t)
                    if (t.hasOwnProperty(n) && !e.hasOwnProperty(n))
                        return !1;
                return !0
            }
            t.exports = r
        }
        , {}],
        162: [function(e, t, n) {
            "use strict";
            function r(e, t) {
                if (null != e && null != t) {
                    var n = typeof e
                      , r = typeof t;
                    if ("string" === n || "number" === n)
                        return "string" === r || "number" === r;
                    if ("object" === r && e.type === t.type && e.key === t.key) {
                        var o = e._owner === t._owner;
                        return o
                    }
                }
                return !1
            }
            e(166);
            t.exports = r
        }
        , {
            166: 166
        }],
        163: [function(e, t, n) {
            function r(e) {
                var t = e.length;
                if (o(!Array.isArray(e) && ("object" == typeof e || "function" == typeof e)),
                o("number" == typeof t),
                o(0 === t || t - 1 in e),
                e.hasOwnProperty)
                    try {
                        return Array.prototype.slice.call(e)
                    } catch (n) {}
                for (var r = Array(t), i = 0; t > i; i++)
                    r[i] = e[i];
                return r
            }
            var o = e(147);
            t.exports = r
        }
        , {
            147: 147
        }],
        164: [function(e, t, n) {
            "use strict";
            function r(e) {
                return v[e]
            }
            function o(e, t) {
                return e && null != e.key ? a(e.key) : t.toString(36)
            }
            function i(e) {
                return ("" + e).replace(g, r)
            }
            function a(e) {
                return "$" + i(e)
            }
            function s(e, t, n, r, i) {
                var u = typeof e;
                if (("undefined" === u || "boolean" === u) && (e = null),
                null === e || "string" === u || "number" === u || l.isValidElement(e))
                    return r(i, e, "" === t ? h + o(e, 0) : t, n),
                    1;
                var p, v, g, y = 0;
                if (Array.isArray(e))
                    for (var C = 0; C < e.length; C++)
                        p = e[C],
                        v = ("" !== t ? t + m : h) + o(p, C),
                        g = n + y,
                        y += s(p, v, g, r, i);
                else {
                    var E = d(e);
                    if (E) {
                        var b, _ = E.call(e);
                        if (E !== e.entries)
                            for (var x = 0; !(b = _.next()).done; )
                                p = b.value,
                                v = ("" !== t ? t + m : h) + o(p, x++),
                                g = n + y,
                                y += s(p, v, g, r, i);
                        else
                            for (; !(b = _.next()).done; ) {
                                var D = b.value;
                                D && (p = D[1],
                                v = ("" !== t ? t + m : h) + a(D[0]) + m + o(p, 0),
                                g = n + y,
                                y += s(p, v, g, r, i))
                            }
                    } else if ("object" === u) {
                        f(1 !== e.nodeType);
                        var M = c.extract(e);
                        for (var T in M)
                            M.hasOwnProperty(T) && (p = M[T],
                            v = ("" !== t ? t + m : h) + a(T) + m + o(p, 0),
                            g = n + y,
                            y += s(p, v, g, r, i))
                    }
                }
                return y
            }
            function u(e, t, n) {
                return null == e ? 0 : s(e, "", 0, t, n)
            }
            var l = e(61)
              , c = e(67)
              , p = e(70)
              , d = e(138)
              , f = e(147)
              , h = (e(166),
            p.SEPARATOR)
              , m = ":"
              , v = {
                "=": "=0",
                ".": "=1",
                ":": "=2"
            }
              , g = /[=.:]/g;
            t.exports = u
        }
        , {
            138: 138,
            147: 147,
            166: 166,
            61: 61,
            67: 67,
            70: 70
        }],
        165: [function(e, t, n) {
            "use strict";
            function r(e) {
                return Array.isArray(e) ? e.concat() : e && "object" == typeof e ? a(new e.constructor, e) : e
            }
            function o(e, t, n) {
                u(Array.isArray(e));
                var r = t[n];
                u(Array.isArray(r))
            }
            function i(e, t) {
                if (u("object" == typeof t),
                l.call(t, f))
                    return u(1 === Object.keys(t).length),
                    t[f];
                var n = r(e);
                if (l.call(t, h)) {
                    var s = t[h];
                    u(s && "object" == typeof s),
                    u(n && "object" == typeof n),
                    a(n, t[h])
                }
                l.call(t, c) && (o(e, t, c),
                t[c].forEach(function(e) {
                    n.push(e)
                })),
                l.call(t, p) && (o(e, t, p),
                t[p].forEach(function(e) {
                    n.unshift(e)
                })),
                l.call(t, d) && (u(Array.isArray(e)),
                u(Array.isArray(t[d])),
                t[d].forEach(function(e) {
                    u(Array.isArray(e)),
                    n.splice.apply(n, e)
                })),
                l.call(t, m) && (u("function" == typeof t[m]),
                n = t[m](n));
                for (var v in t)
                    g.hasOwnProperty(v) && g[v] || (n[v] = i(e[v], t[v]));
                return n
            }
            var a = e(29)
              , s = e(154)
              , u = e(147)
              , l = {}.hasOwnProperty
              , c = s({
                $push: null
            })
              , p = s({
                $unshift: null
            })
              , d = s({
                $splice: null
            })
              , f = s({
                $set: null
            })
              , h = s({
                $merge: null
            })
              , m = s({
                $apply: null
            })
              , v = [c, p, d, f, h, m]
              , g = {};
            v.forEach(function(e) {
                g[e] = !0
            }),
            t.exports = i
        }
        , {
            147: 147,
            154: 154,
            29: 29
        }],
        166: [function(e, t, n) {
            "use strict";
            var r = e(126)
              , o = r;
            t.exports = o
        }
        , {
            126: 126
        }]
    }, {}, [1])(1)
});
(function() {
    function n(n) {
        function t(t, r, e, u, i, o) {
            for (; i >= 0 && o > i; i += n) {
                var a = u ? u[i] : i;
                e = r(e, t[a], a, t)
            }
            return e
        }
        return function(r, e, u, i) {
            e = b(e, i, 4);
            var o = !k(r) && m.keys(r)
              , a = (o || r).length
              , c = n > 0 ? 0 : a - 1;
            return arguments.length < 3 && (u = r[o ? o[c] : c],
            c += n),
            t(r, e, u, o, c, a)
        }
    }
    function t(n) {
        return function(t, r, e) {
            r = x(r, e);
            for (var u = O(t), i = n > 0 ? 0 : u - 1; i >= 0 && u > i; i += n)
                if (r(t[i], i, t))
                    return i;
            return -1
        }
    }
    function r(n, t, r) {
        return function(e, u, i) {
            var o = 0
              , a = O(e);
            if ("number" == typeof i)
                n > 0 ? o = i >= 0 ? i : Math.max(i + a, o) : a = i >= 0 ? Math.min(i + 1, a) : i + a + 1;
            else if (r && i && a)
                return i = r(e, u),
                e[i] === u ? i : -1;
            if (u !== u)
                return i = t(l.call(e, o, a), m.isNaN),
                i >= 0 ? i + o : -1;
            for (i = n > 0 ? o : a - 1; i >= 0 && a > i; i += n)
                if (e[i] === u)
                    return i;
            return -1
        }
    }
    function e(n, t) {
        var r = I.length
          , e = n.constructor
          , u = m.isFunction(e) && e.prototype || a
          , i = "constructor";
        for (m.has(n, i) && !m.contains(t, i) && t.push(i); r--; )
            i = I[r],
            i in n && n[i] !== u[i] && !m.contains(t, i) && t.push(i)
    }
    var u = this
      , i = u._
      , o = Array.prototype
      , a = Object.prototype
      , c = Function.prototype
      , f = o.push
      , l = o.slice
      , s = a.toString
      , p = a.hasOwnProperty
      , h = Array.isArray
      , v = Object.keys
      , g = c.bind
      , y = Object.create
      , d = function() {}
      , m = function(n) {
        return n instanceof m ? n : this instanceof m ? void (this._wrapped = n) : new m(n)
    };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = m),
    exports._ = m) : u._ = m,
    m.VERSION = "1.8.3";
    var b = function(n, t, r) {
        if (t === void 0)
            return n;
        switch (null == r ? 3 : r) {
        case 1:
            return function(r) {
                return n.call(t, r)
            }
            ;
        case 2:
            return function(r, e) {
                return n.call(t, r, e)
            }
            ;
        case 3:
            return function(r, e, u) {
                return n.call(t, r, e, u)
            }
            ;
        case 4:
            return function(r, e, u, i) {
                return n.call(t, r, e, u, i)
            }
        }
        return function() {
            return n.apply(t, arguments)
        }
    }
      , x = function(n, t, r) {
        return null == n ? m.identity : m.isFunction(n) ? b(n, t, r) : m.isObject(n) ? m.matcher(n) : m.property(n)
    };
    m.iteratee = function(n, t) {
        return x(n, t, 1 / 0)
    }
    ;
    var _ = function(n, t) {
        return function(r) {
            var e = arguments.length;
            if (2 > e || null == r)
                return r;
            for (var u = 1; e > u; u++)
                for (var i = arguments[u], o = n(i), a = o.length, c = 0; a > c; c++) {
                    var f = o[c];
                    t && r[f] !== void 0 || (r[f] = i[f])
                }
            return r
        }
    }
      , j = function(n) {
        if (!m.isObject(n))
            return {};
        if (y)
            return y(n);
        d.prototype = n;
        var t = new d;
        return d.prototype = null,
        t
    }
      , w = function(n) {
        return function(t) {
            return null == t ? void 0 : t[n]
        }
    }
      , A = Math.pow(2, 53) - 1
      , O = w("length")
      , k = function(n) {
        var t = O(n);
        return "number" == typeof t && t >= 0 && A >= t
    };
    m.each = m.forEach = function(n, t, r) {
        t = b(t, r);
        var e, u;
        if (k(n))
            for (e = 0,
            u = n.length; u > e; e++)
                t(n[e], e, n);
        else {
            var i = m.keys(n);
            for (e = 0,
            u = i.length; u > e; e++)
                t(n[i[e]], i[e], n)
        }
        return n
    }
    ,
    m.map = m.collect = function(n, t, r) {
        t = x(t, r);
        for (var e = !k(n) && m.keys(n), u = (e || n).length, i = Array(u), o = 0; u > o; o++) {
            var a = e ? e[o] : o;
            i[o] = t(n[a], a, n)
        }
        return i
    }
    ,
    m.reduce = m.foldl = m.inject = n(1),
    m.reduceRight = m.foldr = n(-1),
    m.find = m.detect = function(n, t, r) {
        var e;
        return e = k(n) ? m.findIndex(n, t, r) : m.findKey(n, t, r),
        e !== void 0 && e !== -1 ? n[e] : void 0
    }
    ,
    m.filter = m.select = function(n, t, r) {
        var e = [];
        return t = x(t, r),
        m.each(n, function(n, r, u) {
            t(n, r, u) && e.push(n)
        }),
        e
    }
    ,
    m.reject = function(n, t, r) {
        return m.filter(n, m.negate(x(t)), r)
    }
    ,
    m.every = m.all = function(n, t, r) {
        t = x(t, r);
        for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; u > i; i++) {
            var o = e ? e[i] : i;
            if (!t(n[o], o, n))
                return !1
        }
        return !0
    }
    ,
    m.some = m.any = function(n, t, r) {
        t = x(t, r);
        for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; u > i; i++) {
            var o = e ? e[i] : i;
            if (t(n[o], o, n))
                return !0
        }
        return !1
    }
    ,
    m.contains = m.includes = m.include = function(n, t, r, e) {
        return k(n) || (n = m.values(n)),
        ("number" != typeof r || e) && (r = 0),
        m.indexOf(n, t, r) >= 0
    }
    ,
    m.invoke = function(n, t) {
        var r = l.call(arguments, 2)
          , e = m.isFunction(t);
        return m.map(n, function(n) {
            var u = e ? t : n[t];
            return null == u ? u : u.apply(n, r)
        })
    }
    ,
    m.pluck = function(n, t) {
        return m.map(n, m.property(t))
    }
    ,
    m.where = function(n, t) {
        return m.filter(n, m.matcher(t))
    }
    ,
    m.findWhere = function(n, t) {
        return m.find(n, m.matcher(t))
    }
    ,
    m.max = function(n, t, r) {
        var e, u, i = -1 / 0, o = -1 / 0;
        if (null == t && null != n) {
            n = k(n) ? n : m.values(n);
            for (var a = 0, c = n.length; c > a; a++)
                e = n[a],
                e > i && (i = e)
        } else
            t = x(t, r),
            m.each(n, function(n, r, e) {
                u = t(n, r, e),
                (u > o || u === -1 / 0 && i === -1 / 0) && (i = n,
                o = u)
            });
        return i
    }
    ,
    m.min = function(n, t, r) {
        var e, u, i = 1 / 0, o = 1 / 0;
        if (null == t && null != n) {
            n = k(n) ? n : m.values(n);
            for (var a = 0, c = n.length; c > a; a++)
                e = n[a],
                i > e && (i = e)
        } else
            t = x(t, r),
            m.each(n, function(n, r, e) {
                u = t(n, r, e),
                (o > u || 1 / 0 === u && 1 / 0 === i) && (i = n,
                o = u)
            });
        return i
    }
    ,
    m.shuffle = function(n) {
        for (var t, r = k(n) ? n : m.values(n), e = r.length, u = Array(e), i = 0; e > i; i++)
            t = m.random(0, i),
            t !== i && (u[i] = u[t]),
            u[t] = r[i];
        return u
    }
    ,
    m.sample = function(n, t, r) {
        return null == t || r ? (k(n) || (n = m.values(n)),
        n[m.random(n.length - 1)]) : m.shuffle(n).slice(0, Math.max(0, t))
    }
    ,
    m.sortBy = function(n, t, r) {
        return t = x(t, r),
        m.pluck(m.map(n, function(n, r, e) {
            return {
                value: n,
                index: r,
                criteria: t(n, r, e)
            }
        }).sort(function(n, t) {
            var r = n.criteria
              , e = t.criteria;
            if (r !== e) {
                if (r > e || r === void 0)
                    return 1;
                if (e > r || e === void 0)
                    return -1
            }
            return n.index - t.index
        }), "value")
    }
    ;
    var F = function(n) {
        return function(t, r, e) {
            var u = {};
            return r = x(r, e),
            m.each(t, function(e, i) {
                var o = r(e, i, t);
                n(u, e, o)
            }),
            u
        }
    };
    m.groupBy = F(function(n, t, r) {
        m.has(n, r) ? n[r].push(t) : n[r] = [t]
    }),
    m.indexBy = F(function(n, t, r) {
        n[r] = t
    }),
    m.countBy = F(function(n, t, r) {
        m.has(n, r) ? n[r]++ : n[r] = 1
    }),
    m.toArray = function(n) {
        return n ? m.isArray(n) ? l.call(n) : k(n) ? m.map(n, m.identity) : m.values(n) : []
    }
    ,
    m.size = function(n) {
        return null == n ? 0 : k(n) ? n.length : m.keys(n).length
    }
    ,
    m.partition = function(n, t, r) {
        t = x(t, r);
        var e = []
          , u = [];
        return m.each(n, function(n, r, i) {
            (t(n, r, i) ? e : u).push(n)
        }),
        [e, u]
    }
    ,
    m.first = m.head = m.take = function(n, t, r) {
        return null == n ? void 0 : null == t || r ? n[0] : m.initial(n, n.length - t)
    }
    ,
    m.initial = function(n, t, r) {
        return l.call(n, 0, Math.max(0, n.length - (null == t || r ? 1 : t)))
    }
    ,
    m.last = function(n, t, r) {
        return null == n ? void 0 : null == t || r ? n[n.length - 1] : m.rest(n, Math.max(0, n.length - t))
    }
    ,
    m.rest = m.tail = m.drop = function(n, t, r) {
        return l.call(n, null == t || r ? 1 : t)
    }
    ,
    m.compact = function(n) {
        return m.filter(n, m.identity)
    }
    ;
    var S = function(n, t, r, e) {
        for (var u = [], i = 0, o = e || 0, a = O(n); a > o; o++) {
            var c = n[o];
            if (k(c) && (m.isArray(c) || m.isArguments(c))) {
                t || (c = S(c, t, r));
                var f = 0
                  , l = c.length;
                for (u.length += l; l > f; )
                    u[i++] = c[f++]
            } else
                r || (u[i++] = c)
        }
        return u
    };
    m.flatten = function(n, t) {
        return S(n, t, !1)
    }
    ,
    m.without = function(n) {
        return m.difference(n, l.call(arguments, 1))
    }
    ,
    m.uniq = m.unique = function(n, t, r, e) {
        m.isBoolean(t) || (e = r,
        r = t,
        t = !1),
        null != r && (r = x(r, e));
        for (var u = [], i = [], o = 0, a = O(n); a > o; o++) {
            var c = n[o]
              , f = r ? r(c, o, n) : c;
            t ? (o && i === f || u.push(c),
            i = f) : r ? m.contains(i, f) || (i.push(f),
            u.push(c)) : m.contains(u, c) || u.push(c)
        }
        return u
    }
    ,
    m.union = function() {
        return m.uniq(S(arguments, !0, !0))
    }
    ,
    m.intersection = function(n) {
        for (var t = [], r = arguments.length, e = 0, u = O(n); u > e; e++) {
            var i = n[e];
            if (!m.contains(t, i)) {
                for (var o = 1; r > o && m.contains(arguments[o], i); o++)
                    ;
                o === r && t.push(i)
            }
        }
        return t
    }
    ,
    m.difference = function(n) {
        var t = S(arguments, !0, !0, 1);
        return m.filter(n, function(n) {
            return !m.contains(t, n)
        })
    }
    ,
    m.zip = function() {
        return m.unzip(arguments)
    }
    ,
    m.unzip = function(n) {
        for (var t = n && m.max(n, O).length || 0, r = Array(t), e = 0; t > e; e++)
            r[e] = m.pluck(n, e);
        return r
    }
    ,
    m.object = function(n, t) {
        for (var r = {}, e = 0, u = O(n); u > e; e++)
            t ? r[n[e]] = t[e] : r[n[e][0]] = n[e][1];
        return r
    }
    ,
    m.findIndex = t(1),
    m.findLastIndex = t(-1),
    m.sortedIndex = function(n, t, r, e) {
        r = x(r, e, 1);
        for (var u = r(t), i = 0, o = O(n); o > i; ) {
            var a = Math.floor((i + o) / 2);
            r(n[a]) < u ? i = a + 1 : o = a
        }
        return i
    }
    ,
    m.indexOf = r(1, m.findIndex, m.sortedIndex),
    m.lastIndexOf = r(-1, m.findLastIndex),
    m.range = function(n, t, r) {
        null == t && (t = n || 0,
        n = 0),
        r = r || 1;
        for (var e = Math.max(Math.ceil((t - n) / r), 0), u = Array(e), i = 0; e > i; i++,
        n += r)
            u[i] = n;
        return u
    }
    ;
    var E = function(n, t, r, e, u) {
        if (!(e instanceof t))
            return n.apply(r, u);
        var i = j(n.prototype)
          , o = n.apply(i, u);
        return m.isObject(o) ? o : i
    };
    m.bind = function(n, t) {
        if (g && n.bind === g)
            return g.apply(n, l.call(arguments, 1));
        if (!m.isFunction(n))
            throw new TypeError("Bind must be called on a function");
        var r = l.call(arguments, 2)
          , e = function() {
            return E(n, e, t, this, r.concat(l.call(arguments)))
        };
        return e
    }
    ,
    m.partial = function(n) {
        var t = l.call(arguments, 1)
          , r = function() {
            for (var e = 0, u = t.length, i = Array(u), o = 0; u > o; o++)
                i[o] = t[o] === m ? arguments[e++] : t[o];
            for (; e < arguments.length; )
                i.push(arguments[e++]);
            return E(n, r, this, this, i)
        };
        return r
    }
    ,
    m.bindAll = function(n) {
        var t, r, e = arguments.length;
        if (1 >= e)
            throw new Error("bindAll must be passed function names");
        for (t = 1; e > t; t++)
            r = arguments[t],
            n[r] = m.bind(n[r], n);
        return n
    }
    ,
    m.memoize = function(n, t) {
        var r = function(e) {
            var u = r.cache
              , i = "" + (t ? t.apply(this, arguments) : e);
            return m.has(u, i) || (u[i] = n.apply(this, arguments)),
            u[i]
        };
        return r.cache = {},
        r
    }
    ,
    m.delay = function(n, t) {
        var r = l.call(arguments, 2);
        return setTimeout(function() {
            return n.apply(null, r)
        }, t)
    }
    ,
    m.defer = m.partial(m.delay, m, 1),
    m.throttle = function(n, t, r) {
        var e, u, i, o = null, a = 0;
        r || (r = {});
        var c = function() {
            a = r.leading === !1 ? 0 : m.now(),
            o = null,
            i = n.apply(e, u),
            o || (e = u = null)
        };
        return function() {
            var f = m.now();
            a || r.leading !== !1 || (a = f);
            var l = t - (f - a);
            return e = this,
            u = arguments,
            0 >= l || l > t ? (o && (clearTimeout(o),
            o = null),
            a = f,
            i = n.apply(e, u),
            o || (e = u = null)) : o || r.trailing === !1 || (o = setTimeout(c, l)),
            i
        }
    }
    ,
    m.debounce = function(n, t, r) {
        var e, u, i, o, a, c = function() {
            var f = m.now() - o;
            t > f && f >= 0 ? e = setTimeout(c, t - f) : (e = null,
            r || (a = n.apply(i, u),
            e || (i = u = null)))
        };
        return function() {
            i = this,
            u = arguments,
            o = m.now();
            var f = r && !e;
            return e || (e = setTimeout(c, t)),
            f && (a = n.apply(i, u),
            i = u = null),
            a
        }
    }
    ,
    m.wrap = function(n, t) {
        return m.partial(t, n)
    }
    ,
    m.negate = function(n) {
        return function() {
            return !n.apply(this, arguments)
        }
    }
    ,
    m.compose = function() {
        var n = arguments
          , t = n.length - 1;
        return function() {
            for (var r = t, e = n[t].apply(this, arguments); r--; )
                e = n[r].call(this, e);
            return e
        }
    }
    ,
    m.after = function(n, t) {
        return function() {
            return --n < 1 ? t.apply(this, arguments) : void 0
        }
    }
    ,
    m.before = function(n, t) {
        var r;
        return function() {
            return --n > 0 && (r = t.apply(this, arguments)),
            1 >= n && (t = null),
            r
        }
    }
    ,
    m.once = m.partial(m.before, 2);
    var M = !{
        toString: null
    }.propertyIsEnumerable("toString")
      , I = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];
    m.keys = function(n) {
        if (!m.isObject(n))
            return [];
        if (v)
            return v(n);
        var t = [];
        for (var r in n)
            m.has(n, r) && t.push(r);
        return M && e(n, t),
        t
    }
    ,
    m.allKeys = function(n) {
        if (!m.isObject(n))
            return [];
        var t = [];
        for (var r in n)
            t.push(r);
        return M && e(n, t),
        t
    }
    ,
    m.values = function(n) {
        for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++)
            e[u] = n[t[u]];
        return e
    }
    ,
    m.mapObject = function(n, t, r) {
        t = x(t, r);
        for (var e, u = m.keys(n), i = u.length, o = {}, a = 0; i > a; a++)
            e = u[a],
            o[e] = t(n[e], e, n);
        return o
    }
    ,
    m.pairs = function(n) {
        for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++)
            e[u] = [t[u], n[t[u]]];
        return e
    }
    ,
    m.invert = function(n) {
        for (var t = {}, r = m.keys(n), e = 0, u = r.length; u > e; e++)
            t[n[r[e]]] = r[e];
        return t
    }
    ,
    m.functions = m.methods = function(n) {
        var t = [];
        for (var r in n)
            m.isFunction(n[r]) && t.push(r);
        return t.sort()
    }
    ,
    m.extend = _(m.allKeys),
    m.extendOwn = m.assign = _(m.keys),
    m.findKey = function(n, t, r) {
        t = x(t, r);
        for (var e, u = m.keys(n), i = 0, o = u.length; o > i; i++)
            if (e = u[i],
            t(n[e], e, n))
                return e
    }
    ,
    m.pick = function(n, t, r) {
        var e, u, i = {}, o = n;
        if (null == o)
            return i;
        m.isFunction(t) ? (u = m.allKeys(o),
        e = b(t, r)) : (u = S(arguments, !1, !1, 1),
        e = function(n, t, r) {
            return t in r
        }
        ,
        o = Object(o));
        for (var a = 0, c = u.length; c > a; a++) {
            var f = u[a]
              , l = o[f];
            e(l, f, o) && (i[f] = l)
        }
        return i
    }
    ,
    m.omit = function(n, t, r) {
        if (m.isFunction(t))
            t = m.negate(t);
        else {
            var e = m.map(S(arguments, !1, !1, 1), String);
            t = function(n, t) {
                return !m.contains(e, t)
            }
        }
        return m.pick(n, t, r)
    }
    ,
    m.defaults = _(m.allKeys, !0),
    m.create = function(n, t) {
        var r = j(n);
        return t && m.extendOwn(r, t),
        r
    }
    ,
    m.clone = function(n) {
        return m.isObject(n) ? m.isArray(n) ? n.slice() : m.extend({}, n) : n
    }
    ,
    m.tap = function(n, t) {
        return t(n),
        n
    }
    ,
    m.isMatch = function(n, t) {
        var r = m.keys(t)
          , e = r.length;
        if (null == n)
            return !e;
        for (var u = Object(n), i = 0; e > i; i++) {
            var o = r[i];
            if (t[o] !== u[o] || !(o in u))
                return !1
        }
        return !0
    }
    ;
    var N = function(n, t, r, e) {
        if (n === t)
            return 0 !== n || 1 / n === 1 / t;
        if (null == n || null == t)
            return n === t;
        n instanceof m && (n = n._wrapped),
        t instanceof m && (t = t._wrapped);
        var u = s.call(n);
        if (u !== s.call(t))
            return !1;
        switch (u) {
        case "[object RegExp]":
        case "[object String]":
            return "" + n == "" + t;
        case "[object Number]":
            return +n !== +n ? +t !== +t : 0 === +n ? 1 / +n === 1 / t : +n === +t;
        case "[object Date]":
        case "[object Boolean]":
            return +n === +t
        }
        var i = "[object Array]" === u;
        if (!i) {
            if ("object" != typeof n || "object" != typeof t)
                return !1;
            var o = n.constructor
              , a = t.constructor;
            if (o !== a && !(m.isFunction(o) && o instanceof o && m.isFunction(a) && a instanceof a) && "constructor"in n && "constructor"in t)
                return !1
        }
        r = r || [],
        e = e || [];
        for (var c = r.length; c--; )
            if (r[c] === n)
                return e[c] === t;
        if (r.push(n),
        e.push(t),
        i) {
            if (c = n.length,
            c !== t.length)
                return !1;
            for (; c--; )
                if (!N(n[c], t[c], r, e))
                    return !1
        } else {
            var f, l = m.keys(n);
            if (c = l.length,
            m.keys(t).length !== c)
                return !1;
            for (; c--; )
                if (f = l[c],
                !m.has(t, f) || !N(n[f], t[f], r, e))
                    return !1
        }
        return r.pop(),
        e.pop(),
        !0
    };
    m.isEqual = function(n, t) {
        return N(n, t)
    }
    ,
    m.isEmpty = function(n) {
        return null == n ? !0 : k(n) && (m.isArray(n) || m.isString(n) || m.isArguments(n)) ? 0 === n.length : 0 === m.keys(n).length
    }
    ,
    m.isElement = function(n) {
        return !(!n || 1 !== n.nodeType)
    }
    ,
    m.isArray = h || function(n) {
        return "[object Array]" === s.call(n)
    }
    ,
    m.isObject = function(n) {
        var t = typeof n;
        return "function" === t || "object" === t && !!n
    }
    ,
    m.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function(n) {
        m["is" + n] = function(t) {
            return s.call(t) === "[object " + n + "]"
        }
    }),
    m.isArguments(arguments) || (m.isArguments = function(n) {
        return m.has(n, "callee")
    }
    ),
    "function" != typeof /./ && "object" != typeof Int8Array && (m.isFunction = function(n) {
        return "function" == typeof n || !1
    }
    ),
    m.isFinite = function(n) {
        return isFinite(n) && !isNaN(parseFloat(n))
    }
    ,
    m.isNaN = function(n) {
        return m.isNumber(n) && n !== +n
    }
    ,
    m.isBoolean = function(n) {
        return n === !0 || n === !1 || "[object Boolean]" === s.call(n)
    }
    ,
    m.isNull = function(n) {
        return null === n
    }
    ,
    m.isUndefined = function(n) {
        return n === void 0
    }
    ,
    m.has = function(n, t) {
        return null != n && p.call(n, t)
    }
    ,
    m.noConflict = function() {
        return u._ = i,
        this
    }
    ,
    m.identity = function(n) {
        return n
    }
    ,
    m.constant = function(n) {
        return function() {
            return n
        }
    }
    ,
    m.noop = function() {}
    ,
    m.property = w,
    m.propertyOf = function(n) {
        return null == n ? function() {}
        : function(t) {
            return n[t]
        }
    }
    ,
    m.matcher = m.matches = function(n) {
        return n = m.extendOwn({}, n),
        function(t) {
            return m.isMatch(t, n)
        }
    }
    ,
    m.times = function(n, t, r) {
        var e = Array(Math.max(0, n));
        t = b(t, r, 1);
        for (var u = 0; n > u; u++)
            e[u] = t(u);
        return e
    }
    ,
    m.random = function(n, t) {
        return null == t && (t = n,
        n = 0),
        n + Math.floor(Math.random() * (t - n + 1))
    }
    ,
    m.now = Date.now || function() {
        return (new Date).getTime()
    }
    ;
    var B = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;"
    }
      , T = m.invert(B)
      , R = function(n) {
        var t = function(t) {
            return n[t]
        }
          , r = "(?:" + m.keys(n).join("|") + ")"
          , e = RegExp(r)
          , u = RegExp(r, "g");
        return function(n) {
            return n = null == n ? "" : "" + n,
            e.test(n) ? n.replace(u, t) : n
        }
    };
    m.escape = R(B),
    m.unescape = R(T),
    m.result = function(n, t, r) {
        var e = null == n ? void 0 : n[t];
        return e === void 0 && (e = r),
        m.isFunction(e) ? e.call(n) : e
    }
    ;
    var q = 0;
    m.uniqueId = function(n) {
        var t = ++q + "";
        return n ? n + t : t
    }
    ,
    m.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var K = /(.)^/
      , z = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\u2028": "u2028",
        "\u2029": "u2029"
    }
      , D = /\\|'|\r|\n|\u2028|\u2029/g
      , L = function(n) {
        return "\\" + z[n]
    };
    m.template = function(n, t, r) {
        !t && r && (t = r),
        t = m.defaults({}, t, m.templateSettings);
        var e = RegExp([(t.escape || K).source, (t.interpolate || K).source, (t.evaluate || K).source].join("|") + "|$", "g")
          , u = 0
          , i = "__p+='";
        n.replace(e, function(t, r, e, o, a) {
            return i += n.slice(u, a).replace(D, L),
            u = a + t.length,
            r ? i += "'+\n((__t=(" + r + "))==null?'':_.escape(__t))+\n'" : e ? i += "'+\n((__t=(" + e + "))==null?'':__t)+\n'" : o && (i += "';\n" + o + "\n__p+='"),
            t
        }),
        i += "';\n",
        t.variable || (i = "with(obj||{}){\n" + i + "}\n"),
        i = "var __t,__p='',__j=Array.prototype.join," + "print=function(){__p+=__j.call(arguments,'');};\n" + i + "return __p;\n";
        try {
            var o = new Function(t.variable || "obj","_",i)
        } catch (a) {
            throw a.source = i,
            a
        }
        var c = function(n) {
            return o.call(this, n, m)
        }
          , f = t.variable || "obj";
        return c.source = "function(" + f + "){\n" + i + "}",
        c
    }
    ,
    m.chain = function(n) {
        var t = m(n);
        return t._chain = !0,
        t
    }
    ;
    var P = function(n, t) {
        return n._chain ? m(t).chain() : t
    };
    m.mixin = function(n) {
        m.each(m.functions(n), function(t) {
            var r = m[t] = n[t];
            m.prototype[t] = function() {
                var n = [this._wrapped];
                return f.apply(n, arguments),
                P(this, r.apply(m, n))
            }
        })
    }
    ,
    m.mixin(m),
    m.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(n) {
        var t = o[n];
        m.prototype[n] = function() {
            var r = this._wrapped;
            return t.apply(r, arguments),
            "shift" !== n && "splice" !== n || 0 !== r.length || delete r[0],
            P(this, r)
        }
    }),
    m.each(["concat", "join", "slice"], function(n) {
        var t = o[n];
        m.prototype[n] = function() {
            return P(this, t.apply(this._wrapped, arguments))
        }
    }),
    m.prototype.value = function() {
        return this._wrapped
    }
    ,
    m.prototype.valueOf = m.prototype.toJSON = m.prototype.value,
    m.prototype.toString = function() {
        return "" + this._wrapped
    }
    ,
    "function" == typeof define && define.amd && define("underscore", [], function() {
        return m
    })
}
).call(this);
(function(root, factory) {
    if (typeof define === 'function' && define.amd) {
        define(['underscore', 'jquery', 'exports'], function(_, $, exports) {
            root.Backbone = factory(root, exports, _, $);
        });
    } else if (typeof exports !== 'undefined') {
        var _ = require('underscore');
        factory(root, exports, _);
    } else {
        root.Backbone = factory(root, {}, root._, (root.jQuery || root.Zepto || root.ender || root.$));
    }
}(this, function(root, Backbone, _, $) {
    var previousBackbone = root.Backbone;
    var array = [];
    var push = array.push;
    var slice = array.slice;
    var splice = array.splice;
    Backbone.VERSION = '1.1.2';
    Backbone.$ = $;
    Backbone.noConflict = function() {
        root.Backbone = previousBackbone;
        return this;
    }
    ;
    Backbone.emulateHTTP = false;
    Backbone.emulateJSON = false;
    var Events = Backbone.Events = {
        on: function(name, callback, context) {
            if (!eventsApi(this, 'on', name, [callback, context]) || !callback)
                return this;
            this._events || (this._events = {});
            var events = this._events[name] || (this._events[name] = []);
            events.push({
                callback: callback,
                context: context,
                ctx: context || this
            });
            return this;
        },
        once: function(name, callback, context) {
            if (!eventsApi(this, 'once', name, [callback, context]) || !callback)
                return this;
            var self = this;
            var once = _.once(function() {
                self.off(name, once);
                callback.apply(this, arguments);
            });
            once._callback = callback;
            return this.on(name, once, context);
        },
        off: function(name, callback, context) {
            var retain, ev, events, names, i, l, j, k;
            if (!this._events || !eventsApi(this, 'off', name, [callback, context]))
                return this;
            if (!name && !callback && !context) {
                this._events = void 0;
                return this;
            }
            names = name ? [name] : _.keys(this._events);
            for (i = 0,
            l = names.length; i < l; i++) {
                name = names[i];
                if (events = this._events[name]) {
                    this._events[name] = retain = [];
                    if (callback || context) {
                        for (j = 0,
                        k = events.length; j < k; j++) {
                            ev = events[j];
                            if ((callback && callback !== ev.callback && callback !== ev.callback._callback) || (context && context !== ev.context)) {
                                retain.push(ev);
                            }
                        }
                    }
                    if (!retain.length)
                        delete this._events[name];
                }
            }
            return this;
        },
        trigger: function(name) {
            if (!this._events)
                return this;
            var args = slice.call(arguments, 1);
            if (!eventsApi(this, 'trigger', name, args))
                return this;
            var events = this._events[name];
            var allEvents = this._events.all;
            if (events)
                triggerEvents(events, args);
            if (allEvents)
                triggerEvents(allEvents, arguments);
            return this;
        },
        stopListening: function(obj, name, callback) {
            var listeningTo = this._listeningTo;
            if (!listeningTo)
                return this;
            var remove = !name && !callback;
            if (!callback && typeof name === 'object')
                callback = this;
            if (obj)
                (listeningTo = {})[obj._listenId] = obj;
            for (var id in listeningTo) {
                obj = listeningTo[id];
                obj.off(name, callback, this);
                if (remove || _.isEmpty(obj._events))
                    delete this._listeningTo[id];
            }
            return this;
        }
    };
    var eventSplitter = /\s+/;
    var eventsApi = function(obj, action, name, rest) {
        if (!name)
            return true;
        if (typeof name === 'object') {
            for (var key in name) {
                obj[action].apply(obj, [key, name[key]].concat(rest));
            }
            return false;
        }
        if (eventSplitter.test(name)) {
            var names = name.split(eventSplitter);
            for (var i = 0, l = names.length; i < l; i++) {
                obj[action].apply(obj, [names[i]].concat(rest));
            }
            return false;
        }
        return true;
    };
    var triggerEvents = function(events, args) {
        var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];
        switch (args.length) {
        case 0:
            while (++i < l)
                (ev = events[i]).callback.call(ev.ctx);
            return;
        case 1:
            while (++i < l)
                (ev = events[i]).callback.call(ev.ctx, a1);
            return;
        case 2:
            while (++i < l)
                (ev = events[i]).callback.call(ev.ctx, a1, a2);
            return;
        case 3:
            while (++i < l)
                (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);
            return;
        default:
            while (++i < l)
                (ev = events[i]).callback.apply(ev.ctx, args);
            return;
        }
    };
    var listenMethods = {
        listenTo: 'on',
        listenToOnce: 'once'
    };
    _.each(listenMethods, function(implementation, method) {
        Events[method] = function(obj, name, callback) {
            var listeningTo = this._listeningTo || (this._listeningTo = {});
            var id = obj._listenId || (obj._listenId = _.uniqueId('l'));
            listeningTo[id] = obj;
            if (!callback && typeof name === 'object')
                callback = this;
            obj[implementation](name, callback, this);
            return this;
        }
        ;
    });
    Events.bind = Events.on;
    Events.unbind = Events.off;
    _.extend(Backbone, Events);
    var Model = Backbone.Model = function(attributes, options) {
        var attrs = attributes || {};
        options || (options = {});
        this.cid = _.uniqueId('c');
        this.attributes = {};
        if (options.collection)
            this.collection = options.collection;
        if (options.parse)
            attrs = this.parse(attrs, options) || {};
        attrs = _.defaults({}, attrs, _.result(this, 'defaults'));
        this.set(attrs, options);
        this.changed = {};
        this.initialize.apply(this, arguments);
    }
    ;
    _.extend(Model.prototype, Events, {
        changed: null,
        validationError: null,
        idAttribute: 'id',
        initialize: function() {},
        toJSON: function(options) {
            return _.clone(this.attributes);
        },
        sync: function() {
            return Backbone.sync.apply(this, arguments);
        },
        get: function(attr) {
            return this.attributes[attr];
        },
        escape: function(attr) {
            return _.escape(this.get(attr));
        },
        has: function(attr) {
            return this.get(attr) != null;
        },
        set: function(key, val, options) {
            var attr, attrs, unset, changes, silent, changing, prev, current;
            if (key == null)
                return this;
            if (typeof key === 'object') {
                attrs = key;
                options = val;
            } else {
                (attrs = {})[key] = val;
            }
            options || (options = {});
            if (!this._validate(attrs, options))
                return false;
            unset = options.unset;
            silent = options.silent;
            changes = [];
            changing = this._changing;
            this._changing = true;
            if (!changing) {
                this._previousAttributes = _.clone(this.attributes);
                this.changed = {};
            }
            current = this.attributes,
            prev = this._previousAttributes;
            if (this.idAttribute in attrs)
                this.id = attrs[this.idAttribute];
            for (attr in attrs) {
                val = attrs[attr];
                if (!_.isEqual(current[attr], val))
                    changes.push(attr);
                if (!_.isEqual(prev[attr], val)) {
                    this.changed[attr] = val;
                } else {
                    delete this.changed[attr];
                }
                unset ? delete current[attr] : current[attr] = val;
            }
            if (!silent) {
                if (changes.length)
                    this._pending = options;
                for (var i = 0, l = changes.length; i < l; i++) {
                    this.trigger('change:' + changes[i], this, current[changes[i]], options);
                }
            }
            if (changing)
                return this;
            if (!silent) {
                while (this._pending) {
                    options = this._pending;
                    this._pending = false;
                    this.trigger('change', this, options);
                }
            }
            this._pending = false;
            this._changing = false;
            return this;
        },
        unset: function(attr, options) {
            return this.set(attr, void 0, _.extend({}, options, {
                unset: true
            }));
        },
        clear: function(options) {
            var attrs = {};
            for (var key in this.attributes)
                attrs[key] = void 0;
            return this.set(attrs, _.extend({}, options, {
                unset: true
            }));
        },
        hasChanged: function(attr) {
            if (attr == null)
                return !_.isEmpty(this.changed);
            return _.has(this.changed, attr);
        },
        changedAttributes: function(diff) {
            if (!diff)
                return this.hasChanged() ? _.clone(this.changed) : false;
            var val, changed = false;
            var old = this._changing ? this._previousAttributes : this.attributes;
            for (var attr in diff) {
                if (_.isEqual(old[attr], (val = diff[attr])))
                    continue;
                (changed || (changed = {}))[attr] = val;
            }
            return changed;
        },
        previous: function(attr) {
            if (attr == null || !this._previousAttributes)
                return null;
            return this._previousAttributes[attr];
        },
        previousAttributes: function() {
            return _.clone(this._previousAttributes);
        },
        fetch: function(options) {
            options = options ? _.clone(options) : {};
            if (options.parse === void 0)
                options.parse = true;
            var model = this;
            var success = options.success;
            options.success = function(resp) {
                if (!model.set(model.parse(resp, options), options))
                    return false;
                if (success)
                    success(model, resp, options);
                model.trigger('sync', model, resp, options);
            }
            ;
            wrapError(this, options);
            return this.sync('read', this, options);
        },
        save: function(key, val, options) {
            var attrs, method, xhr, attributes = this.attributes;
            if (key == null || typeof key === 'object') {
                attrs = key;
                options = val;
            } else {
                (attrs = {})[key] = val;
            }
            options = _.extend({
                validate: true
            }, options);
            if (attrs && !options.wait) {
                if (!this.set(attrs, options))
                    return false;
            } else {
                if (!this._validate(attrs, options))
                    return false;
            }
            if (attrs && options.wait) {
                this.attributes = _.extend({}, attributes, attrs);
            }
            if (options.parse === void 0)
                options.parse = true;
            var model = this;
            var success = options.success;
            options.success = function(resp) {
                model.attributes = attributes;
                var serverAttrs = model.parse(resp, options);
                if (options.wait)
                    serverAttrs = _.extend(attrs || {}, serverAttrs);
                if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {
                    return false;
                }
                if (success)
                    success(model, resp, options);
                model.trigger('sync', model, resp, options);
            }
            ;
            wrapError(this, options);
            method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');
            if (method === 'patch')
                options.attrs = attrs;
            xhr = this.sync(method, this, options);
            if (attrs && options.wait)
                this.attributes = attributes;
            return xhr;
        },
        destroy: function(options) {
            options = options ? _.clone(options) : {};
            var model = this;
            var success = options.success;
            var destroy = function() {
                model.trigger('destroy', model, model.collection, options);
            };
            options.success = function(resp) {
                if (options.wait || model.isNew())
                    destroy();
                if (success)
                    success(model, resp, options);
                if (!model.isNew())
                    model.trigger('sync', model, resp, options);
            }
            ;
            if (this.isNew()) {
                options.success();
                return false;
            }
            wrapError(this, options);
            var xhr = this.sync('delete', this, options);
            if (!options.wait)
                destroy();
            return xhr;
        },
        url: function() {
            var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();
            if (this.isNew())
                return base;
            return base.replace(/([^\/])$/, '$1/') + encodeURIComponent(this.id);
        },
        parse: function(resp, options) {
            return resp;
        },
        clone: function() {
            return new this.constructor(this.attributes);
        },
        isNew: function() {
            return !this.has(this.idAttribute);
        },
        isValid: function(options) {
            return this._validate({}, _.extend(options || {}, {
                validate: true
            }));
        },
        _validate: function(attrs, options) {
            if (!options.validate || !this.validate)
                return true;
            attrs = _.extend({}, this.attributes, attrs);
            var error = this.validationError = this.validate(attrs, options) || null;
            if (!error)
                return true;
            this.trigger('invalid', this, error, _.extend(options, {
                validationError: error
            }));
            return false;
        }
    });
    var modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit'];
    _.each(modelMethods, function(method) {
        Model.prototype[method] = function() {
            var args = slice.call(arguments);
            args.unshift(this.attributes);
            return _[method].apply(_, args);
        }
        ;
    });
    var Collection = Backbone.Collection = function(models, options) {
        options || (options = {});
        if (options.model)
            this.model = options.model;
        if (options.comparator !== void 0)
            this.comparator = options.comparator;
        this._reset();
        this.initialize.apply(this, arguments);
        if (models)
            this.reset(models, _.extend({
                silent: true
            }, options));
    }
    ;
    var setOptions = {
        add: true,
        remove: true,
        merge: true
    };
    var addOptions = {
        add: true,
        remove: false
    };
    _.extend(Collection.prototype, Events, {
        model: Model,
        initialize: function() {},
        toJSON: function(options) {
            return this.map(function(model) {
                return model.toJSON(options);
            });
        },
        sync: function() {
            return Backbone.sync.apply(this, arguments);
        },
        add: function(models, options) {
            return this.set(models, _.extend({
                merge: false
            }, options, addOptions));
        },
        remove: function(models, options) {
            var singular = !_.isArray(models);
            models = singular ? [models] : _.clone(models);
            options || (options = {});
            var i, l, index, model;
            for (i = 0,
            l = models.length; i < l; i++) {
                model = models[i] = this.get(models[i]);
                if (!model)
                    continue;
                delete this._byId[model.id];
                delete this._byId[model.cid];
                index = this.indexOf(model);
                this.models.splice(index, 1);
                this.length--;
                if (!options.silent) {
                    options.index = index;
                    model.trigger('remove', model, this, options);
                }
                this._removeReference(model, options);
            }
            return singular ? models[0] : models;
        },
        set: function(models, options) {
            options = _.defaults({}, options, setOptions);
            if (options.parse)
                models = this.parse(models, options);
            var singular = !_.isArray(models);
            models = singular ? (models ? [models] : []) : _.clone(models);
            var i, l, id, model, attrs, existing, sort;
            var at = options.at;
            var targetModel = this.model;
            var sortable = this.comparator && (at == null) && options.sort !== false;
            var sortAttr = _.isString(this.comparator) ? this.comparator : null;
            var toAdd = []
              , toRemove = []
              , modelMap = {};
            var add = options.add
              , merge = options.merge
              , remove = options.remove;
            var order = !sortable && add && remove ? [] : false;
            for (i = 0,
            l = models.length; i < l; i++) {
                attrs = models[i] || {};
                if (attrs instanceof Model) {
                    id = model = attrs;
                } else {
                    id = attrs[targetModel.prototype.idAttribute || 'id'];
                }
                if (existing = this.get(id)) {
                    if (remove)
                        modelMap[existing.cid] = true;
                    if (merge) {
                        attrs = attrs === model ? model.attributes : attrs;
                        if (options.parse)
                            attrs = existing.parse(attrs, options);
                        existing.set(attrs, options);
                        if (sortable && !sort && existing.hasChanged(sortAttr))
                            sort = true;
                    }
                    models[i] = existing;
                } else if (add) {
                    model = models[i] = this._prepareModel(attrs, options);
                    if (!model)
                        continue;
                    toAdd.push(model);
                    this._addReference(model, options);
                }
                model = existing || model;
                if (order && (model.isNew() || !modelMap[model.id]))
                    order.push(model);
                modelMap[model.id] = true;
            }
            if (remove) {
                for (i = 0,
                l = this.length; i < l; ++i) {
                    if (!modelMap[(model = this.models[i]).cid])
                        toRemove.push(model);
                }
                if (toRemove.length)
                    this.remove(toRemove, options);
            }
            if (toAdd.length || (order && order.length)) {
                if (sortable)
                    sort = true;
                this.length += toAdd.length;
                if (at != null) {
                    for (i = 0,
                    l = toAdd.length; i < l; i++) {
                        this.models.splice(at + i, 0, toAdd[i]);
                    }
                } else {
                    if (order)
                        this.models.length = 0;
                    var orderedModels = order || toAdd;
                    for (i = 0,
                    l = orderedModels.length; i < l; i++) {
                        this.models.push(orderedModels[i]);
                    }
                }
            }
            if (sort)
                this.sort({
                    silent: true
                });
            if (!options.silent) {
                for (i = 0,
                l = toAdd.length; i < l; i++) {
                    (model = toAdd[i]).trigger('add', model, this, options);
                }
                if (sort || (order && order.length))
                    this.trigger('sort', this, options);
            }
            return singular ? models[0] : models;
        },
        reset: function(models, options) {
            options || (options = {});
            for (var i = 0, l = this.models.length; i < l; i++) {
                this._removeReference(this.models[i], options);
            }
            options.previousModels = this.models;
            this._reset();
            models = this.add(models, _.extend({
                silent: true
            }, options));
            if (!options.silent)
                this.trigger('reset', this, options);
            return models;
        },
        push: function(model, options) {
            return this.add(model, _.extend({
                at: this.length
            }, options));
        },
        pop: function(options) {
            var model = this.at(this.length - 1);
            this.remove(model, options);
            return model;
        },
        unshift: function(model, options) {
            return this.add(model, _.extend({
                at: 0
            }, options));
        },
        shift: function(options) {
            var model = this.at(0);
            this.remove(model, options);
            return model;
        },
        slice: function() {
            return slice.apply(this.models, arguments);
        },
        get: function(obj) {
            if (obj == null)
                return void 0;
            return this._byId[obj] || this._byId[obj.id] || this._byId[obj.cid];
        },
        at: function(index) {
            return this.models[index];
        },
        where: function(attrs, first) {
            if (_.isEmpty(attrs))
                return first ? void 0 : [];
            return this[first ? 'find' : 'filter'](function(model) {
                for (var key in attrs) {
                    if (attrs[key] !== model.get(key))
                        return false;
                }
                return true;
            });
        },
        findWhere: function(attrs) {
            return this.where(attrs, true);
        },
        sort: function(options) {
            if (!this.comparator)
                throw new Error('Cannot sort a set without a comparator');
            options || (options = {});
            if (_.isString(this.comparator) || this.comparator.length === 1) {
                this.models = this.sortBy(this.comparator, this);
            } else {
                this.models.sort(_.bind(this.comparator, this));
            }
            if (!options.silent)
                this.trigger('sort', this, options);
            return this;
        },
        pluck: function(attr) {
            return _.invoke(this.models, 'get', attr);
        },
        fetch: function(options) {
            options = options ? _.clone(options) : {};
            if (options.parse === void 0)
                options.parse = true;
            var success = options.success;
            var collection = this;
            options.success = function(resp) {
                var method = options.reset ? 'reset' : 'set';
                collection[method](resp, options);
                if (success)
                    success(collection, resp, options);
                collection.trigger('sync', collection, resp, options);
            }
            ;
            wrapError(this, options);
            return this.sync('read', this, options);
        },
        create: function(model, options) {
            options = options ? _.clone(options) : {};
            if (!(model = this._prepareModel(model, options)))
                return false;
            if (!options.wait)
                this.add(model, options);
            var collection = this;
            var success = options.success;
            options.success = function(model, resp) {
                if (options.wait)
                    collection.add(model, options);
                if (success)
                    success(model, resp, options);
            }
            ;
            model.save(null, options);
            return model;
        },
        parse: function(resp, options) {
            return resp;
        },
        clone: function() {
            return new this.constructor(this.models);
        },
        _reset: function() {
            this.length = 0;
            this.models = [];
            this._byId = {};
        },
        _prepareModel: function(attrs, options) {
            if (attrs instanceof Model)
                return attrs;
            options = options ? _.clone(options) : {};
            options.collection = this;
            var model = new this.model(attrs,options);
            if (!model.validationError)
                return model;
            this.trigger('invalid', this, model.validationError, options);
            return false;
        },
        _addReference: function(model, options) {
            this._byId[model.cid] = model;
            if (model.id != null)
                this._byId[model.id] = model;
            if (!model.collection)
                model.collection = this;
            model.on('all', this._onModelEvent, this);
        },
        _removeReference: function(model, options) {
            if (this === model.collection)
                delete model.collection;
            model.off('all', this._onModelEvent, this);
        },
        _onModelEvent: function(event, model, collection, options) {
            if ((event === 'add' || event === 'remove') && collection !== this)
                return;
            if (event === 'destroy')
                this.remove(model, options);
            if (model && event === 'change:' + model.idAttribute) {
                delete this._byId[model.previous(model.idAttribute)];
                if (model.id != null)
                    this._byId[model.id] = model;
            }
            this.trigger.apply(this, arguments);
        }
    });
    var methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl', 'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select', 'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke', 'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest', 'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle', 'lastIndexOf', 'isEmpty', 'chain', 'sample'];
    _.each(methods, function(method) {
        Collection.prototype[method] = function() {
            var args = slice.call(arguments);
            args.unshift(this.models);
            return _[method].apply(_, args);
        }
        ;
    });
    var attributeMethods = ['groupBy', 'countBy', 'sortBy', 'indexBy'];
    _.each(attributeMethods, function(method) {
        Collection.prototype[method] = function(value, context) {
            var iterator = _.isFunction(value) ? value : function(model) {
                return model.get(value);
            }
            ;
            return _[method](this.models, iterator, context);
        }
        ;
    });
    var View = Backbone.View = function(options) {
        this.cid = _.uniqueId('view');
        options || (options = {});
        _.extend(this, _.pick(options, viewOptions));
        this._ensureElement();
        this.initialize.apply(this, arguments);
        this.delegateEvents();
    }
    ;
    var delegateEventSplitter = /^(\S+)\s*(.*)$/;
    var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];
    _.extend(View.prototype, Events, {
        tagName: 'div',
        $: function(selector) {
            return this.$el.find(selector);
        },
        initialize: function() {},
        render: function() {
            return this;
        },
        remove: function() {
            this.$el.remove();
            this.stopListening();
            return this;
        },
        setElement: function(element, delegate) {
            if (this.$el)
                this.undelegateEvents();
            this.$el = element instanceof Backbone.$ ? element : Backbone.$(element);
            this.el = this.$el[0];
            if (delegate !== false)
                this.delegateEvents();
            return this;
        },
        delegateEvents: function(events) {
            if (!(events || (events = _.result(this, 'events'))))
                return this;
            this.undelegateEvents();
            for (var key in events) {
                var method = events[key];
                if (!_.isFunction(method))
                    method = this[events[key]];
                if (!method)
                    continue;
                var match = key.match(delegateEventSplitter);
                var eventName = match[1]
                  , selector = match[2];
                method = _.bind(method, this);
                eventName += '.delegateEvents' + this.cid;
                if (selector === '') {
                    this.$el.on(eventName, method);
                } else {
                    this.$el.on(eventName, selector, method);
                }
            }
            return this;
        },
        undelegateEvents: function() {
            this.$el.off('.delegateEvents' + this.cid);
            return this;
        },
        _ensureElement: function() {
            if (!this.el) {
                var attrs = _.extend({}, _.result(this, 'attributes'));
                if (this.id)
                    attrs.id = _.result(this, 'id');
                if (this.className)
                    attrs['class'] = _.result(this, 'className');
                var $el = Backbone.$('<' + _.result(this, 'tagName') + '>').attr(attrs);
                this.setElement($el, false);
            } else {
                this.setElement(_.result(this, 'el'), false);
            }
        }
    });
    Backbone.sync = function(method, model, options) {
        var type = methodMap[method];
        _.defaults(options || (options = {}), {
            emulateHTTP: Backbone.emulateHTTP,
            emulateJSON: Backbone.emulateJSON
        });
        var params = {
            type: type,
            dataType: 'json'
        };
        if (!options.url) {
            params.url = _.result(model, 'url') || urlError();
        }
        if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {
            params.contentType = 'application/json';
            params.data = JSON.stringify(options.attrs || model.toJSON(options));
        }
        if (options.emulateJSON) {
            params.contentType = 'application/x-www-form-urlencoded';
            params.data = params.data ? {
                model: params.data
            } : {};
        }
        if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {
            params.type = 'POST';
            if (options.emulateJSON)
                params.data._method = type;
            var beforeSend = options.beforeSend;
            options.beforeSend = function(xhr) {
                xhr.setRequestHeader('X-HTTP-Method-Override', type);
                if (beforeSend)
                    return beforeSend.apply(this, arguments);
            }
            ;
        }
        if (params.type !== 'GET' && !options.emulateJSON) {
            params.processData = false;
        }
        if (params.type === 'PATCH' && noXhrPatch) {
            params.xhr = function() {
                return new ActiveXObject("Microsoft.XMLHTTP");
            }
            ;
        }
        var xhr = options.xhr = Backbone.ajax(_.extend(params, options));
        model.trigger('request', model, xhr, options);
        return xhr;
    }
    ;
    var noXhrPatch = typeof window !== 'undefined' && !!window.ActiveXObject && !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);
    var methodMap = {
        'create': 'POST',
        'update': 'PUT',
        'patch': 'PATCH',
        'delete': 'DELETE',
        'read': 'GET'
    };
    Backbone.ajax = function() {
        return Backbone.$.ajax.apply(Backbone.$, arguments);
    }
    ;
    var Router = Backbone.Router = function(options) {
        options || (options = {});
        if (options.routes)
            this.routes = options.routes;
        this._bindRoutes();
        this.initialize.apply(this, arguments);
    }
    ;
    var optionalParam = /\((.*?)\)/g;
    var namedParam = /(\(\?)?:\w+/g;
    var splatParam = /\*\w+/g;
    var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;
    _.extend(Router.prototype, Events, {
        initialize: function() {},
        route: function(route, name, callback) {
            if (!_.isRegExp(route))
                route = this._routeToRegExp(route);
            if (_.isFunction(name)) {
                callback = name;
                name = '';
            }
            if (!callback)
                callback = this[name];
            var router = this;
            Backbone.history.route(route, function(fragment) {
                var args = router._extractParameters(route, fragment);
                router.execute(callback, args);
                router.trigger.apply(router, ['route:' + name].concat(args));
                router.trigger('route', name, args);
                Backbone.history.trigger('route', router, name, args);
            });
            return this;
        },
        execute: function(callback, args) {
            if (callback)
                callback.apply(this, args);
        },
        navigate: function(fragment, options) {
            Backbone.history.navigate(fragment, options);
            return this;
        },
        _bindRoutes: function() {
            if (!this.routes)
                return;
            this.routes = _.result(this, 'routes');
            var route, routes = _.keys(this.routes);
            while ((route = routes.pop()) != null) {
                this.route(route, this.routes[route]);
            }
        },
        _routeToRegExp: function(route) {
            route = route.replace(escapeRegExp, '\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function(match, optional) {
                return optional ? match : '([^/?]+)';
            }).replace(splatParam, '([^?]*?)');
            return new RegExp('^' + route + '(?:\\?([\\s\\S]*))?$');
        },
        _extractParameters: function(route, fragment) {
            var params = route.exec(fragment).slice(1);
            return _.map(params, function(param, i) {
                if (i === params.length - 1)
                    return param || null;
                return param ? decodeURIComponent(param) : null;
            });
        }
    });
    var History = Backbone.History = function() {
        this.handlers = [];
        _.bindAll(this, 'checkUrl');
        if (typeof window !== 'undefined') {
            this.location = window.location;
            this.history = window.history;
        }
    }
    ;
    var routeStripper = /^[#\/]|\s+$/g;
    var rootStripper = /^\/+|\/+$/g;
    var isExplorer = /msie [\w.]+/;
    var trailingSlash = /\/$/;
    var pathStripper = /#.*$/;
    History.started = false;
    _.extend(History.prototype, Events, {
        interval: 50,
        atRoot: function() {
            return this.location.pathname.replace(/[^\/]$/, '$&/') === this.root;
        },
        getHash: function(window) {
            var match = (window || this).location.href.match(/#(.*)$/);
            return match ? match[1] : '';
        },
        getFragment: function(fragment, forcePushState) {
            if (fragment == null) {
                if (this._hasPushState || !this._wantsHashChange || forcePushState) {
                    fragment = decodeURI(this.location.pathname + this.location.search);
                    var root = this.root.replace(trailingSlash, '');
                    if (!fragment.indexOf(root))
                        fragment = fragment.slice(root.length);
                } else {
                    fragment = this.getHash();
                }
            }
            return fragment.replace(routeStripper, '');
        },
        start: function(options) {
            if (History.started)
                throw new Error("Backbone.history has already been started");
            History.started = true;
            this.options = _.extend({
                root: '/'
            }, this.options, options);
            this.root = this.options.root;
            this._wantsHashChange = this.options.hashChange !== false;
            this._wantsPushState = !!this.options.pushState;
            this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);
            var fragment = this.getFragment();
            var docMode = document.documentMode;
            var oldIE = (isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= 7));
            this.root = ('/' + this.root + '/').replace(rootStripper, '/');
            if (oldIE && this._wantsHashChange) {
                var frame = Backbone.$('<iframe src="javascript:0" tabindex="-1">');
                this.iframe = frame.hide().appendTo('body')[0].contentWindow;
                this.navigate(fragment);
            }
            if (this._hasPushState) {
                Backbone.$(window).on('popstate', this.checkUrl);
            } else if (this._wantsHashChange && ('onhashchange'in window) && !oldIE) {
                Backbone.$(window).on('hashchange', this.checkUrl);
            } else if (this._wantsHashChange) {
                this._checkUrlInterval = setInterval(this.checkUrl, this.interval);
            }
            this.fragment = fragment;
            var loc = this.location;
            if (this._wantsHashChange && this._wantsPushState) {
                if (!this._hasPushState && !this.atRoot()) {
                    this.fragment = this.getFragment(null, true);
                    this.location.replace(this.root + '#' + this.fragment);
                    return true;
                } else if (this._hasPushState && this.atRoot() && loc.hash) {
                    this.fragment = this.getHash().replace(routeStripper, '');
                    this.history.replaceState({}, document.title, this.root + this.fragment);
                }
            }
            if (!this.options.silent)
                return this.loadUrl();
        },
        stop: function() {
            Backbone.$(window).off('popstate', this.checkUrl).off('hashchange', this.checkUrl);
            if (this._checkUrlInterval)
                clearInterval(this._checkUrlInterval);
            History.started = false;
        },
        route: function(route, callback) {
            this.handlers.unshift({
                route: route,
                callback: callback
            });
        },
        checkUrl: function(e) {
            var current = this.getFragment();
            if (current === this.fragment && this.iframe) {
                current = this.getFragment(this.getHash(this.iframe));
            }
            if (current === this.fragment)
                return false;
            if (this.iframe)
                this.navigate(current);
            this.loadUrl();
        },
        loadUrl: function(fragment) {
            fragment = this.fragment = this.getFragment(fragment);
            return _.any(this.handlers, function(handler) {
                if (handler.route.test(fragment)) {
                    handler.callback(fragment);
                    return true;
                }
            });
        },
        navigate: function(fragment, options) {
            if (!History.started)
                return false;
            if (!options || options === true)
                options = {
                    trigger: !!options
                };
            var url = this.root + (fragment = this.getFragment(fragment || ''));
            fragment = fragment.replace(pathStripper, '');
            if (this.fragment === fragment)
                return;
            this.fragment = fragment;
            if (fragment === '' && url !== '/')
                url = url.slice(0, -1);
            if (this._hasPushState) {
                this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);
            } else if (this._wantsHashChange) {
                this._updateHash(this.location, fragment, options.replace);
                if (this.iframe && (fragment !== this.getFragment(this.getHash(this.iframe)))) {
                    if (!options.replace)
                        this.iframe.document.open().close();
                    this._updateHash(this.iframe.location, fragment, options.replace);
                }
            } else {
                return this.location.assign(url);
            }
            if (options.trigger)
                return this.loadUrl(fragment);
        },
        _updateHash: function(location, fragment, replace) {
            if (replace) {
                var href = location.href.replace(/(javascript:|#).*$/, '');
                location.replace(href + '#' + fragment);
            } else {
                location.hash = '#' + fragment;
            }
        }
    });
    Backbone.history = new History;
    var extend = function(protoProps, staticProps) {
        var parent = this;
        var child;
        if (protoProps && _.has(protoProps, 'constructor')) {
            child = protoProps.constructor;
        } else {
            child = function() {
                return parent.apply(this, arguments);
            }
            ;
        }
        _.extend(child, parent, staticProps);
        var Surrogate = function() {
            this.constructor = child;
        };
        Surrogate.prototype = parent.prototype;
        child.prototype = new Surrogate;
        if (protoProps)
            _.extend(child.prototype, protoProps);
        child.__super__ = parent.prototype;
        return child;
    };
    Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;
    var urlError = function() {
        throw new Error('A "url" property or function must be specified');
    };
    var wrapError = function(model, options) {
        var error = options.error;
        options.error = function(resp) {
            if (error)
                error(model, resp, options);
            model.trigger('error', model, resp, options);
        }
        ;
    };
    return Backbone;
}));
(function(a, b) {
    var c = [].slice
      , d = {}
      , e = a.amplify = {
        publish: function(a) {
            var b = c.call(arguments, 1), e, f, g, h = 0, i;
            if (!d[a])
                return !0;
            e = d[a].slice();
            for (g = e.length; h < g; h++) {
                f = e[h],
                i = f.callback.apply(f.context, b);
                if (i === !1)
                    break
            }
            return i !== !1
        },
        subscribe: function(a, b, c, e) {
            arguments.length === 3 && typeof c == "number" && (e = c,
            c = b,
            b = null),
            arguments.length === 2 && (c = b,
            b = null),
            e = e || 10;
            var f = 0, g = a.split(/\s/), h = g.length, i;
            for (; f < h; f++) {
                a = g[f],
                i = !1,
                d[a] || (d[a] = []);
                var j = d[a].length - 1
                  , k = {
                    callback: c,
                    context: b,
                    priority: e
                };
                for (; j >= 0; j--)
                    if (d[a][j].priority <= e) {
                        d[a].splice(j + 1, 0, k),
                        i = !0;
                        break
                    }
                i || d[a].unshift(k)
            }
            return c
        },
        unsubscribe: function(a, b) {
            if (!!d[a]) {
                var c = d[a].length
                  , e = 0;
                for (; e < c; e++)
                    if (d[a][e].callback === b) {
                        d[a].splice(e, 1);
                        break
                    }
            }
        }
    }
}
)(this),
function(a, b) {
    function e(a, e) {
        c.addType(a, function(f, g, h) {
            var i, j, k, l, m = g, n = (new Date).getTime();
            if (!f) {
                m = {},
                l = [],
                k = 0;
                try {
                    f = e.length;
                    while (f = e.key(k++))
                        d.test(f) && (j = JSON.parse(e.getItem(f)),
                        j.expires && j.expires <= n ? l.push(f) : m[f.replace(d, "")] = j.data);
                    while (f = l.pop())
                        e.removeItem(f)
                } catch (o) {}
                return m
            }
            f = "__amplify__" + f;
            if (g === b) {
                i = e.getItem(f),
                j = i ? JSON.parse(i) : {
                    expires: -1
                };
                if (j.expires && j.expires <= n)
                    e.removeItem(f);
                else
                    return j.data
            } else if (g === null)
                e.removeItem(f);
            else {
                j = JSON.stringify({
                    data: g,
                    expires: h.expires ? n + h.expires : null
                });
                try {
                    e.setItem(f, j)
                } catch (o) {
                    c[a]();
                    try {
                        e.setItem(f, j)
                    } catch (o) {
                        throw c.error()
                    }
                }
            }
            return m
        })
    }
    var c = a.store = function(a, b, d, e) {
        var e = c.type;
        d && d.type && d.type in c.types && (e = d.type);
        return c.types[e](a, b, d || {})
    }
    ;
    c.types = {},
    c.type = null,
    c.addType = function(a, b) {
        c.type || (c.type = a),
        c.types[a] = b,
        c[a] = function(b, d, e) {
            e = e || {},
            e.type = a;
            return c(b, d, e)
        }
    }
    ,
    c.error = function() {
        return "amplify.store quota exceeded"
    }
    ;
    var d = /^__amplify__/;
    for (var f in {
        localStorage: 1,
        sessionStorage: 1
    })
        try {
            window[f].getItem && e(f, window[f])
        } catch (g) {}
    if (window.globalStorage)
        try {
            e("globalStorage", window.globalStorage[window.location.hostname]),
            c.type === "sessionStorage" && (c.type = "globalStorage")
        } catch (g) {}
    (function() {
        if (!c.types.localStorage) {
            var a = document.createElement("div")
              , d = "amplify";
            a.style.display = "none",
            document.getElementsByTagName("head")[0].appendChild(a);
            try {
                a.addBehavior("#default#userdata"),
                a.load(d)
            } catch (e) {
                a.parentNode.removeChild(a);
                return
            }
            c.addType("userData", function(e, f, g) {
                a.load(d);
                var h, i, j, k, l, m = f, n = (new Date).getTime();
                if (!e) {
                    m = {},
                    l = [],
                    k = 0;
                    while (h = a.XMLDocument.documentElement.attributes[k++])
                        i = JSON.parse(h.value),
                        i.expires && i.expires <= n ? l.push(h.name) : m[h.name] = i.data;
                    while (e = l.pop())
                        a.removeAttribute(e);
                    a.save(d);
                    return m
                }
                e = e.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g, "-");
                if (f === b) {
                    h = a.getAttribute(e),
                    i = h ? JSON.parse(h) : {
                        expires: -1
                    };
                    if (i.expires && i.expires <= n)
                        a.removeAttribute(e);
                    else
                        return i.data
                } else
                    f === null ? a.removeAttribute(e) : (j = a.getAttribute(e),
                    i = JSON.stringify({
                        data: f,
                        expires: g.expires ? n + g.expires : null
                    }),
                    a.setAttribute(e, i));
                try {
                    a.save(d)
                } catch (o) {
                    j === null ? a.removeAttribute(e) : a.setAttribute(e, j),
                    c.userData();
                    try {
                        a.setAttribute(e, i),
                        a.save(d)
                    } catch (o) {
                        j === null ? a.removeAttribute(e) : a.setAttribute(e, j);
                        throw c.error()
                    }
                }
                return m
            })
        }
    }
    )(),
    function() {
        function e(a) {
            return a === b ? b : JSON.parse(JSON.stringify(a))
        }
        var a = {}
          , d = {};
        c.addType("memory", function(c, f, g) {
            if (!c)
                return e(a);
            if (f === b)
                return e(a[c]);
            d[c] && (clearTimeout(d[c]),
            delete d[c]);
            if (f === null) {
                delete a[c];
                return null
            }
            a[c] = f,
            g.expires && (d[c] = setTimeout(function() {
                delete a[c],
                delete d[c]
            }, g.expires));
            return f
        })
    }()
}(this.amplify = this.amplify || {}),
function(a, b) {
    function e(a) {
        var b = !1;
        setTimeout(function() {
            b = !0
        }, 1);
        return function() {
            var c = this
              , d = arguments;
            b ? a.apply(c, d) : setTimeout(function() {
                a.apply(c, d)
            }, 1)
        }
    }
    function d(a) {
        return {}.toString.call(a) === "[object Function]"
    }
    function c() {}
    a.request = function(b, f, g) {
        var h = b || {};
        typeof h == "string" && (d(f) && (g = f,
        f = {}),
        h = {
            resourceId: b,
            data: f || {},
            success: g
        });
        var i = {
            abort: c
        }
          , j = a.request.resources[h.resourceId]
          , k = h.success || c
          , l = h.error || c;
        h.success = e(function(b, c) {
            c = c || "success",
            a.publish("request.success", h, b, c),
            a.publish("request.complete", h, b, c),
            k(b, c)
        }),
        h.error = e(function(b, c) {
            c = c || "error",
            a.publish("request.error", h, b, c),
            a.publish("request.complete", h, b, c),
            l(b, c)
        });
        if (!j) {
            if (!h.resourceId)
                throw "amplify.request: no resourceId provided";
            throw "amplify.request: unknown resourceId: " + h.resourceId
        }
        if (!a.publish("request.before", h))
            h.error(null, "abort");
        else {
            a.request.resources[h.resourceId](h, i);
            return i
        }
    }
    ,
    a.request.types = {},
    a.request.resources = {},
    a.request.define = function(b, c, d) {
        if (typeof c == "string") {
            if (!(c in a.request.types))
                throw "amplify.request.define: unknown type: " + c;
            d.resourceId = b,
            a.request.resources[b] = a.request.types[c](d)
        } else
            a.request.resources[b] = c
    }
}(amplify),
function(a, b, c) {
    var d = ["status", "statusText", "responseText", "responseXML", "readyState"]
      , e = /\{([^\}]+)\}/g;
    a.request.types.ajax = function(e) {
        e = b.extend({
            type: "GET"
        }, e);
        return function(f, g) {
            function n(a, e) {
                b.each(d, function(a, b) {
                    try {
                        m[b] = h[b]
                    } catch (c) {}
                }),
                /OK$/.test(m.statusText) && (m.statusText = "success"),
                a === c && (a = null),
                l && (e = "abort"),
                /timeout|error|abort/.test(e) ? m.error(a, e) : m.success(a, e),
                n = b.noop
            }
            var h, i = e.url, j = g.abort, k = b.extend(!0, {}, e, {
                data: f.data
            }), l = !1, m = {
                readyState: 0,
                setRequestHeader: function(a, b) {
                    return h.setRequestHeader(a, b)
                },
                getAllResponseHeaders: function() {
                    return h.getAllResponseHeaders()
                },
                getResponseHeader: function(a) {
                    return h.getResponseHeader(a)
                },
                overrideMimeType: function(a) {
                    return h.overrideMideType(a)
                },
                abort: function() {
                    l = !0;
                    try {
                        h.abort()
                    } catch (a) {}
                    n(null, "abort")
                },
                success: function(a, b) {
                    f.success(a, b)
                },
                error: function(a, b) {
                    f.error(a, b)
                }
            };
            a.publish("request.ajax.preprocess", e, f, k, m),
            b.extend(k, {
                success: function(a, b) {
                    n(a, b)
                },
                error: function(a, b) {
                    n(null, b)
                },
                beforeSend: function(b, c) {
                    h = b,
                    k = c;
                    var d = e.beforeSend ? e.beforeSend.call(this, m, k) : !0;
                    return d && a.publish("request.before.ajax", e, f, k, m)
                }
            }),
            b.ajax(k),
            g.abort = function() {
                m.abort(),
                j.call(this)
            }
        }
    }
    ,
    a.subscribe("request.ajax.preprocess", function(a, c, d) {
        var f = []
          , g = d.data;
        typeof g != "string" && (g = b.extend(!0, {}, a.data, g),
        d.url = d.url.replace(e, function(a, b) {
            if (b in g) {
                f.push(b);
                return g[b]
            }
        }),
        b.each(f, function(a, b) {
            delete g[b]
        }),
        d.data = g)
    }),
    a.subscribe("request.ajax.preprocess", function(a, c, d) {
        var e = d.data
          , f = a.dataMap;
        !!f && typeof e != "string" && (b.isFunction(f) ? d.data = f(e) : (b.each(a.dataMap, function(a, b) {
            a in e && (e[b] = e[a],
            delete e[a])
        }),
        d.data = e))
    });
    var f = a.request.cache = {
        _key: function(a, b, c) {
            function g() {
                return c.charCodeAt(e++) << 24 | c.charCodeAt(e++) << 16 | c.charCodeAt(e++) << 8 | c.charCodeAt(e++) << 0
            }
            c = b + c;
            var d = c.length
              , e = 0
              , f = g();
            while (e < d)
                f ^= g();
            return "request-" + a + "-" + f
        },
        _default: function() {
            var a = {};
            return function(b, c, d, e) {
                var g = f._key(c.resourceId, d.url, d.data)
                  , h = b.cache;
                if (g in a) {
                    e.success(a[g]);
                    return !1
                }
                var i = e.success;
                e.success = function(b) {
                    a[g] = b,
                    typeof h == "number" && setTimeout(function() {
                        delete a[g]
                    }, h),
                    i.apply(this, arguments)
                }
            }
        }()
    };
    a.store && (b.each(a.store.types, function(b) {
        f[b] = function(c, d, e, g) {
            var h = f._key(d.resourceId, e.url, e.data)
              , i = a.store[b](h);
            if (i) {
                e.success(i);
                return !1
            }
            var j = g.success;
            g.success = function(d) {
                a.store[b](h, d, {
                    expires: c.cache.expires
                }),
                j.apply(this, arguments)
            }
        }
    }),
    f.persist = f[a.store.type]),
    a.subscribe("request.before.ajax", function(a) {
        var b = a.cache;
        if (b) {
            b = b.type || b;
            return f[b in f ? b : "_default"].apply(this, arguments)
        }
    }),
    a.request.decoders = {
        jsend: function(a, b, c, d, e) {
            a.status === "success" ? d(a.data) : a.status === "fail" ? e(a.data, "fail") : a.status === "error" && (delete a.status,
            e(a, "error"))
        }
    },
    a.subscribe("request.before.ajax", function(c, d, e, f) {
        function k(a, b) {
            h(a, b)
        }
        function j(a, b) {
            g(a, b)
        }
        var g = f.success
          , h = f.error
          , i = b.isFunction(c.decoder) ? c.decoder : c.decoder in a.request.decoders ? a.request.decoders[c.decoder] : a.request.decoders._default;
        !i || (f.success = function(a, b) {
            i(a, b, f, j, k)
        }
        ,
        f.error = function(a, b) {
            i(a, b, f, j, k)
        }
        )
    })
}(amplify, jQuery)
function trackTransforms(ctx) {
    var svg = document.createElementNS("http://www.w3.org/2000/svg", 'svg');
    var xform = svg.createSVGMatrix();
    ctx.getTransform = function() {
        return xform;
    }
    ;
    var savedTransforms = [];
    var save = ctx.save;
    ctx.save = function() {
        savedTransforms.push(xform.translate(0, 0));
        return save.call(ctx);
    }
    ;
    var restore = ctx.restore;
    ctx.restore = function() {
        xform = savedTransforms.pop();
        return restore.call(ctx);
    }
    ;
    var scale = ctx.scale;
    ctx.scale = function(sx, sy) {
        xform = xform.scaleNonUniform(sx, sy);
        return scale.call(ctx, sx, sy);
    }
    ;
    var rotate = ctx.rotate;
    ctx.rotate = function(radians) {
        xform = xform.rotate(radians * 180 / Math.PI);
        return rotate.call(ctx, radians);
    }
    ;
    var translate = ctx.translate;
    ctx.translate = function(dx, dy) {
        xform = xform.translate(dx, dy);
        return translate.call(ctx, dx, dy);
    }
    ;
    var transform = ctx.transform;
    ctx.transform = function(a, b, c, d, e, f) {
        var m2 = svg.createSVGMatrix();
        m2.a = a;
        m2.b = b;
        m2.c = c;
        m2.d = d;
        m2.e = e;
        m2.f = f;
        xform = xform.multiply(m2);
        return transform.call(ctx, a, b, c, d, e, f);
    }
    ;
    var setTransform = ctx.setTransform;
    ctx.setTransform = function(a, b, c, d, e, f) {
        xform.a = a;
        xform.b = b;
        xform.c = c;
        xform.d = d;
        xform.e = e;
        xform.f = f;
        return setTransform.call(ctx, a, b, c, d, e, f);
    }
    ;
    ctx.setTransformFromArray = function(xform) {
        return ctx.setTransform(xform.a, xform.b, xform.c, xform.d, xform.e, xform.f);
        return true;
    }
    ctx.reset = function() {
        ctx.setTransform(1, 0, 0, 1, 0, 0);
    }
    var pt = svg.createSVGPoint();
    ctx.transformedPoint = function(x, y) {
        pt.x = x;
        pt.y = y;
        return pt.matrixTransform(xform.inverse());
    }
}
function Rainbow() {
    var gradients = null;
    var minNum = 0;
    var maxNum = 100;
    var colours = ['ff0000', 'ffff00', '00ff00', '0000ff'];
    setColours(colours);
    function setColours(spectrum) {
        if (spectrum.length < 2) {
            throw new Error('Rainbow must have two or more colours.');
        } else {
            var increment = (maxNum - minNum) / (spectrum.length - 1);
            var firstGradient = new ColourGradient();
            firstGradient.setGradient(spectrum[0], spectrum[1]);
            firstGradient.setNumberRange(minNum, minNum + increment);
            gradients = [firstGradient];
            for (var i = 1; i < spectrum.length - 1; i++) {
                var colourGradient = new ColourGradient();
                colourGradient.setGradient(spectrum[i], spectrum[i + 1]);
                colourGradient.setNumberRange(minNum + increment * i, minNum + increment * (i + 1));
                gradients[i] = colourGradient;
            }
            colours = spectrum;
        }
    }
    this.setColors = this.setColours;
    this.setSpectrum = function() {
        setColours(arguments);
    }
    this.setSpectrumByArray = function(array) {
        setColours(array);
    }
    this.colourAt = function(number) {
        if (isNaN(number)) {
            throw new TypeError(number + ' is not a number');
        } else if (gradients.length === 1) {
            return gradients[0].colourAt(number);
        } else {
            var segment = (maxNum - minNum) / (gradients.length);
            var index = Math.min(Math.floor((Math.max(number, minNum) - minNum) / segment), gradients.length - 1);
            return gradients[index].colourAt(number);
        }
    }
    this.colorAt = this.colourAt;
    this.setNumberRange = function(minNumber, maxNumber) {
        if (maxNumber > minNumber) {
            minNum = minNumber;
            maxNum = maxNumber;
            setColours(colours);
        } else {
            throw new RangeError('maxNumber (' + maxNumber + ') is not greater than minNumber (' + minNumber + ')');
        }
    }
}
function ColourGradient() {
    var startColour = 'ff0000';
    var endColour = '0000ff';
    var minNum = 0;
    var maxNum = 100;
    this.setGradient = function(colourStart, colourEnd) {
        startColour = getHexColour(colourStart);
        endColour = getHexColour(colourEnd);
    }
    this.setNumberRange = function(minNumber, maxNumber) {
        if (maxNumber > minNumber) {
            minNum = minNumber;
            maxNum = maxNumber;
        } else {
            throw new RangeError('maxNumber (' + maxNumber + ') is not greater than minNumber (' + minNumber + ')');
        }
    }
    this.colourAt = function(number) {
        return calcHex(number, startColour.substring(0, 2), endColour.substring(0, 2)) + calcHex(number, startColour.substring(2, 4), endColour.substring(2, 4)) + calcHex(number, startColour.substring(4, 6), endColour.substring(4, 6));
    }
    function calcHex(number, channelStart_Base16, channelEnd_Base16) {
        var num = number;
        if (num < minNum) {
            num = minNum;
        }
        if (num > maxNum) {
            num = maxNum;
        }
        var numRange = maxNum - minNum;
        var cStart_Base10 = parseInt(channelStart_Base16, 16);
        var cEnd_Base10 = parseInt(channelEnd_Base16, 16);
        var cPerUnit = (cEnd_Base10 - cStart_Base10) / numRange;
        var c_Base10 = Math.round(cPerUnit * (num - minNum) + cStart_Base10);
        return formatHex(c_Base10.toString(16));
    }
    formatHex = function(hex) {
        if (hex.length === 1) {
            return '0' + hex;
        } else {
            return hex;
        }
    }
    function isHexColour(string) {
        var regex = /^#?[0-9a-fA-F]{6}$/i;
        return regex.test(string);
    }
    function getHexColour(string) {
        if (isHexColour(string)) {
            return string.substring(string.length - 6, string.length);
        } else {
            var colourNames = [['red', 'ff0000'], ['lime', '00ff00'], ['blue', '0000ff'], ['yellow', 'ffff00'], ['orange', 'ff8000'], ['aqua', '00ffff'], ['fuchsia', 'ff00ff'], ['white', 'ffffff'], ['black', '000000'], ['gray', '808080'], ['grey', '808080'], ['silver', 'c0c0c0'], ['maroon', '800000'], ['olive', '808000'], ['green', '008000'], ['teal', '008080'], ['navy', '000080'], ['purple', '800080']];
            for (var i = 0; i < colourNames.length; i++) {
                if (string.toLowerCase() === colourNames[i][0]) {
                    return colourNames[i][1];
                }
            }
            throw new Error(string + ' is not a valid colour.');
        }
    }
}
eval(function(p, a, c, k, e, r) {
    e = function(c) {
        return (c < a ? '' : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36))
    }
    ;
    if (!''.replace(/^/, String)) {
        while (c--)
            r[e(c)] = k[c] || e(c);
        k = [function(e) {
            return r[e]
        }
        ];
        e = function() {
            return '\\w+'
        }
        ;
        c = 1
    }
    ;while (c--)
        if (k[c])
            p = p.replace(new RegExp('\\b' + e(c) + '\\b','g'), k[c]);
    return p
}('9 17={3i:\'0.1.3\',16:1e-6};l v(){}v.23={e:l(i){8(i<1||i>7.4.q)?w:7.4[i-1]},2R:l(){8 7.4.q},1u:l(){8 F.1x(7.2u(7))},24:l(a){9 n=7.4.q;9 V=a.4||a;o(n!=V.q){8 1L}J{o(F.13(7.4[n-1]-V[n-1])>17.16){8 1L}}H(--n);8 2x},1q:l(){8 v.u(7.4)},1b:l(a){9 b=[];7.28(l(x,i){b.19(a(x,i))});8 v.u(b)},28:l(a){9 n=7.4.q,k=n,i;J{i=k-n;a(7.4[i],i+1)}H(--n)},2q:l(){9 r=7.1u();o(r===0){8 7.1q()}8 7.1b(l(x){8 x/r})},1C:l(a){9 V=a.4||a;9 n=7.4.q,k=n,i;o(n!=V.q){8 w}9 b=0,1D=0,1F=0;7.28(l(x,i){b+=x*V[i-1];1D+=x*x;1F+=V[i-1]*V[i-1]});1D=F.1x(1D);1F=F.1x(1F);o(1D*1F===0){8 w}9 c=b/(1D*1F);o(c<-1){c=-1}o(c>1){c=1}8 F.37(c)},1m:l(a){9 b=7.1C(a);8(b===w)?w:(b<=17.16)},34:l(a){9 b=7.1C(a);8(b===w)?w:(F.13(b-F.1A)<=17.16)},2k:l(a){9 b=7.2u(a);8(b===w)?w:(F.13(b)<=17.16)},2j:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x+V[i-1]})},2C:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x-V[i-1]})},22:l(k){8 7.1b(l(x){8 x*k})},x:l(k){8 7.22(k)},2u:l(a){9 V=a.4||a;9 i,2g=0,n=7.4.q;o(n!=V.q){8 w}J{2g+=7.4[n-1]*V[n-1]}H(--n);8 2g},2f:l(a){9 B=a.4||a;o(7.4.q!=3||B.q!=3){8 w}9 A=7.4;8 v.u([(A[1]*B[2])-(A[2]*B[1]),(A[2]*B[0])-(A[0]*B[2]),(A[0]*B[1])-(A[1]*B[0])])},2A:l(){9 m=0,n=7.4.q,k=n,i;J{i=k-n;o(F.13(7.4[i])>F.13(m)){m=7.4[i]}}H(--n);8 m},2Z:l(x){9 a=w,n=7.4.q,k=n,i;J{i=k-n;o(a===w&&7.4[i]==x){a=i+1}}H(--n);8 a},3g:l(){8 S.2X(7.4)},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(y){8(F.13(y-x)<=17.16)?x:y})},1o:l(a){o(a.K){8 a.1o(7)}9 V=a.4||a;o(V.q!=7.4.q){8 w}9 b=0,2b;7.28(l(x,i){2b=x-V[i-1];b+=2b*2b});8 F.1x(b)},3a:l(a){8 a.1h(7)},2T:l(a){8 a.1h(7)},1V:l(t,a){9 V,R,x,y,z;2S(7.4.q){27 2:V=a.4||a;o(V.q!=2){8 w}R=S.1R(t).4;x=7.4[0]-V[0];y=7.4[1]-V[1];8 v.u([V[0]+R[0][0]*x+R[0][1]*y,V[1]+R[1][0]*x+R[1][1]*y]);1I;27 3:o(!a.U){8 w}9 C=a.1r(7).4;R=S.1R(t,a.U).4;x=7.4[0]-C[0];y=7.4[1]-C[1];z=7.4[2]-C[2];8 v.u([C[0]+R[0][0]*x+R[0][1]*y+R[0][2]*z,C[1]+R[1][0]*x+R[1][1]*y+R[1][2]*z,C[2]+R[2][0]*x+R[2][1]*y+R[2][2]*z]);1I;2P:8 w}},1t:l(a){o(a.K){9 P=7.4.2O();9 C=a.1r(P).4;8 v.u([C[0]+(C[0]-P[0]),C[1]+(C[1]-P[1]),C[2]+(C[2]-(P[2]||0))])}1d{9 Q=a.4||a;o(7.4.q!=Q.q){8 w}8 7.1b(l(x,i){8 Q[i-1]+(Q[i-1]-x)})}},1N:l(){9 V=7.1q();2S(V.4.q){27 3:1I;27 2:V.4.19(0);1I;2P:8 w}8 V},2n:l(){8\'[\'+7.4.2K(\', \')+\']\'},26:l(a){7.4=(a.4||a).2O();8 7}};v.u=l(a){9 V=25 v();8 V.26(a)};v.i=v.u([1,0,0]);v.j=v.u([0,1,0]);v.k=v.u([0,0,1]);v.2J=l(n){9 a=[];J{a.19(F.2F())}H(--n);8 v.u(a)};v.1j=l(n){9 a=[];J{a.19(0)}H(--n);8 v.u(a)};l S(){}S.23={e:l(i,j){o(i<1||i>7.4.q||j<1||j>7.4[0].q){8 w}8 7.4[i-1][j-1]},33:l(i){o(i>7.4.q){8 w}8 v.u(7.4[i-1])},2E:l(j){o(j>7.4[0].q){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][j-1])}H(--n);8 v.u(a)},2R:l(){8{2D:7.4.q,1p:7.4[0].q}},2D:l(){8 7.4.q},1p:l(){8 7.4[0].q},24:l(a){9 M=a.4||a;o(1g(M[0][0])==\'1f\'){M=S.u(M).4}o(7.4.q!=M.q||7.4[0].q!=M[0].q){8 1L}9 b=7.4.q,15=b,i,G,10=7.4[0].q,j;J{i=15-b;G=10;J{j=10-G;o(F.13(7.4[i][j]-M[i][j])>17.16){8 1L}}H(--G)}H(--b);8 2x},1q:l(){8 S.u(7.4)},1b:l(a){9 b=[],12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;b[i]=[];J{j=10-G;b[i][j]=a(7.4[i][j],i+1,j+1)}H(--G)}H(--12);8 S.u(b)},2i:l(a){9 M=a.4||a;o(1g(M[0][0])==\'1f\'){M=S.u(M).4}8(7.4.q==M.q&&7.4[0].q==M[0].q)},2j:l(a){9 M=a.4||a;o(1g(M[0][0])==\'1f\'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x+M[i-1][j-1]})},2C:l(a){9 M=a.4||a;o(1g(M[0][0])==\'1f\'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x-M[i-1][j-1]})},2B:l(a){9 M=a.4||a;o(1g(M[0][0])==\'1f\'){M=S.u(M).4}8(7.4[0].q==M.q)},22:l(a){o(!a.4){8 7.1b(l(x){8 x*a})}9 b=a.1u?2x:1L;9 M=a.4||a;o(1g(M[0][0])==\'1f\'){M=S.u(M).4}o(!7.2B(M)){8 w}9 d=7.4.q,15=d,i,G,10=M[0].q,j;9 e=7.4[0].q,4=[],21,20,c;J{i=15-d;4[i]=[];G=10;J{j=10-G;21=0;20=e;J{c=e-20;21+=7.4[i][c]*M[c][j]}H(--20);4[i][j]=21}H(--G)}H(--d);9 M=S.u(4);8 b?M.2E(1):M},x:l(a){8 7.22(a)},32:l(a,b,c,d){9 e=[],12=c,i,G,j;9 f=7.4.q,1p=7.4[0].q;J{i=c-12;e[i]=[];G=d;J{j=d-G;e[i][j]=7.4[(a+i-1)%f][(b+j-1)%1p]}H(--G)}H(--12);8 S.u(e)},31:l(){9 a=7.4.q,1p=7.4[0].q;9 b=[],12=1p,i,G,j;J{i=1p-12;b[i]=[];G=a;J{j=a-G;b[i][j]=7.4[j][i]}H(--G)}H(--12);8 S.u(b)},1y:l(){8(7.4.q==7.4[0].q)},2A:l(){9 m=0,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(F.13(7.4[i][j])>F.13(m)){m=7.4[i][j]}}H(--G)}H(--12);8 m},2Z:l(x){9 a=w,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(7.4[i][j]==x){8{i:i+1,j:j+1}}}H(--G)}H(--12);8 w},30:l(){o(!7.1y){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][i])}H(--n);8 v.u(a)},1K:l(){9 M=7.1q(),1c;9 n=7.4.q,k=n,i,1s,1n=7.4[0].q,p;J{i=k-n;o(M.4[i][i]==0){2e(j=i+1;j<k;j++){o(M.4[j][i]!=0){1c=[];1s=1n;J{p=1n-1s;1c.19(M.4[i][p]+M.4[j][p])}H(--1s);M.4[i]=1c;1I}}}o(M.4[i][i]!=0){2e(j=i+1;j<k;j++){9 a=M.4[j][i]/M.4[i][i];1c=[];1s=1n;J{p=1n-1s;1c.19(p<=i?0:M.4[j][p]-M.4[i][p]*a)}H(--1s);M.4[j]=1c}}}H(--n);8 M},3h:l(){8 7.1K()},2z:l(){o(!7.1y()){8 w}9 M=7.1K();9 a=M.4[0][0],n=M.4.q-1,k=n,i;J{i=k-n+1;a=a*M.4[i][i]}H(--n);8 a},3f:l(){8 7.2z()},2y:l(){8(7.1y()&&7.2z()===0)},2Y:l(){o(!7.1y()){8 w}9 a=7.4[0][0],n=7.4.q-1,k=n,i;J{i=k-n+1;a+=7.4[i][i]}H(--n);8 a},3e:l(){8 7.2Y()},1Y:l(){9 M=7.1K(),1Y=0;9 a=7.4.q,15=a,i,G,10=7.4[0].q,j;J{i=15-a;G=10;J{j=10-G;o(F.13(M.4[i][j])>17.16){1Y++;1I}}H(--G)}H(--a);8 1Y},3d:l(){8 7.1Y()},2W:l(a){9 M=a.4||a;o(1g(M[0][0])==\'1f\'){M=S.u(M).4}9 T=7.1q(),1p=T.4[0].q;9 b=T.4.q,15=b,i,G,10=M[0].q,j;o(b!=M.q){8 w}J{i=15-b;G=10;J{j=10-G;T.4[i][1p+j]=M[i][j]}H(--G)}H(--b);8 T},2w:l(){o(!7.1y()||7.2y()){8 w}9 a=7.4.q,15=a,i,j;9 M=7.2W(S.I(a)).1K();9 b,1n=M.4[0].q,p,1c,2v;9 c=[],2c;J{i=a-1;1c=[];b=1n;c[i]=[];2v=M.4[i][i];J{p=1n-b;2c=M.4[i][p]/2v;1c.19(2c);o(p>=15){c[i].19(2c)}}H(--b);M.4[i]=1c;2e(j=0;j<i;j++){1c=[];b=1n;J{p=1n-b;1c.19(M.4[j][p]-M.4[i][p]*M.4[j][i])}H(--b);M.4[j]=1c}}H(--a);8 S.u(c)},3c:l(){8 7.2w()},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(p){8(F.13(p-x)<=17.16)?x:p})},2n:l(){9 a=[];9 n=7.4.q,k=n,i;J{i=k-n;a.19(v.u(7.4[i]).2n())}H(--n);8 a.2K(\'\\n\')},26:l(a){9 i,4=a.4||a;o(1g(4[0][0])!=\'1f\'){9 b=4.q,15=b,G,10,j;7.4=[];J{i=15-b;G=4[i].q;10=G;7.4[i]=[];J{j=10-G;7.4[i][j]=4[i][j]}H(--G)}H(--b);8 7}9 n=4.q,k=n;7.4=[];J{i=k-n;7.4.19([4[i]])}H(--n);8 7}};S.u=l(a){9 M=25 S();8 M.26(a)};S.I=l(n){9 a=[],k=n,i,G,j;J{i=k-n;a[i]=[];G=k;J{j=k-G;a[i][j]=(i==j)?1:0}H(--G)}H(--n);8 S.u(a)};S.2X=l(a){9 n=a.q,k=n,i;9 M=S.I(n);J{i=k-n;M.4[i][i]=a[i]}H(--n);8 M};S.1R=l(b,a){o(!a){8 S.u([[F.1H(b),-F.1G(b)],[F.1G(b),F.1H(b)]])}9 d=a.1q();o(d.4.q!=3){8 w}9 e=d.1u();9 x=d.4[0]/e,y=d.4[1]/e,z=d.4[2]/e;9 s=F.1G(b),c=F.1H(b),t=1-c;8 S.u([[t*x*x+c,t*x*y-s*z,t*x*z+s*y],[t*x*y+s*z,t*y*y+c,t*y*z-s*x],[t*x*z-s*y,t*y*z+s*x,t*z*z+c]])};S.3b=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[1,0,0],[0,c,-s],[0,s,c]])};S.39=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,0,s],[0,1,0],[-s,0,c]])};S.38=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,-s,0],[s,c,0],[0,0,1]])};S.2J=l(n,m){8 S.1j(n,m).1b(l(){8 F.2F()})};S.1j=l(n,m){9 a=[],12=n,i,G,j;J{i=n-12;a[i]=[];G=m;J{j=m-G;a[i][j]=0}H(--G)}H(--12);8 S.u(a)};l 14(){}14.23={24:l(a){8(7.1m(a)&&7.1h(a.K))},1q:l(){8 14.u(7.K,7.U)},2U:l(a){9 V=a.4||a;8 14.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.U)},1m:l(a){o(a.W){8 a.1m(7)}9 b=7.U.1C(a.U);8(F.13(b)<=17.16||F.13(b-F.1A)<=17.16)},1o:l(a){o(a.W){8 a.1o(7)}o(a.U){o(7.1m(a)){8 7.1o(a.K)}9 N=7.U.2f(a.U).2q().4;9 A=7.K.4,B=a.K.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,D=7.U.4;9 b=P[0]-A[0],2a=P[1]-A[1],29=(P[2]||0)-A[2];9 c=F.1x(b*b+2a*2a+29*29);o(c===0)8 0;9 d=(b*D[0]+2a*D[1]+29*D[2])/c;9 e=1-d*d;8 F.13(c*F.1x(e<0?0:e))}},1h:l(a){9 b=7.1o(a);8(b!==w&&b<=17.16)},2T:l(a){8 a.1h(7)},1v:l(a){o(a.W){8 a.1v(7)}8(!7.1m(a)&&7.1o(a)<=17.16)},1U:l(a){o(a.W){8 a.1U(7)}o(!7.1v(a)){8 w}9 P=7.K.4,X=7.U.4,Q=a.K.4,Y=a.U.4;9 b=X[0],1z=X[1],1B=X[2],1T=Y[0],1S=Y[1],1M=Y[2];9 c=P[0]-Q[0],2s=P[1]-Q[1],2r=P[2]-Q[2];9 d=-b*c-1z*2s-1B*2r;9 e=1T*c+1S*2s+1M*2r;9 f=b*b+1z*1z+1B*1B;9 g=1T*1T+1S*1S+1M*1M;9 h=b*1T+1z*1S+1B*1M;9 k=(d*g/f+h*e)/(g-h*h);8 v.u([P[0]+k*b,P[1]+k*1z,P[2]+k*1B])},1r:l(a){o(a.U){o(7.1v(a)){8 7.1U(a)}o(7.1m(a)){8 w}9 D=7.U.4,E=a.U.4;9 b=D[0],1l=D[1],1k=D[2],1P=E[0],1O=E[1],1Q=E[2];9 x=(1k*1P-b*1Q),y=(b*1O-1l*1P),z=(1l*1Q-1k*1O);9 N=v.u([x*1Q-y*1O,y*1P-z*1Q,z*1O-x*1P]);9 P=11.u(a.K,N);8 P.1U(7)}1d{9 P=a.4||a;o(7.1h(P)){8 v.u(P)}9 A=7.K.4,D=7.U.4;9 b=D[0],1l=D[1],1k=D[2],1w=A[0],18=A[1],1a=A[2];9 x=b*(P[1]-18)-1l*(P[0]-1w),y=1l*((P[2]||0)-1a)-1k*(P[1]-18),z=1k*(P[0]-1w)-b*((P[2]||0)-1a);9 V=v.u([1l*x-1k*z,1k*y-b*x,b*z-1l*y]);9 k=7.1o(P)/V.1u();8 v.u([P[0]+V.4[0]*k,P[1]+V.4[1]*k,(P[2]||0)+V.4[2]*k])}},1V:l(t,a){o(1g(a.U)==\'1f\'){a=14.u(a.1N(),v.k)}9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,D=7.U.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 14.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*D[0]+R[0][1]*D[1]+R[0][2]*D[2],R[1][0]*D[0]+R[1][1]*D[1]+R[1][2]*D[2],R[2][0]*D[0]+R[2][1]*D[1]+R[2][2]*D[2]])},1t:l(a){o(a.W){9 A=7.K.4,D=7.U.4;9 b=A[0],18=A[1],1a=A[2],2N=D[0],1l=D[1],1k=D[2];9 c=7.K.1t(a).4;9 d=b+2N,2h=18+1l,2o=1a+1k;9 Q=a.1r([d,2h,2o]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2h)-c[1],Q[2]+(Q[2]-2o)-c[2]];8 14.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 14.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.U)}},1Z:l(a,b){a=v.u(a);b=v.u(b);o(a.4.q==2){a.4.19(0)}o(b.4.q==2){b.4.19(0)}o(a.4.q>3||b.4.q>3){8 w}9 c=b.1u();o(c===0){8 w}7.K=a;7.U=v.u([b.4[0]/c,b.4[1]/c,b.4[2]/c]);8 7}};14.u=l(a,b){9 L=25 14();8 L.1Z(a,b)};14.X=14.u(v.1j(3),v.i);14.Y=14.u(v.1j(3),v.j);14.Z=14.u(v.1j(3),v.k);l 11(){}11.23={24:l(a){8(7.1h(a.K)&&7.1m(a))},1q:l(){8 11.u(7.K,7.W)},2U:l(a){9 V=a.4||a;8 11.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.W)},1m:l(a){9 b;o(a.W){b=7.W.1C(a.W);8(F.13(b)<=17.16||F.13(F.1A-b)<=17.16)}1d o(a.U){8 7.W.2k(a.U)}8 w},2k:l(a){9 b=7.W.1C(a.W);8(F.13(F.1A/2-b)<=17.16)},1o:l(a){o(7.1v(a)||7.1h(a)){8 0}o(a.K){9 A=7.K.4,B=a.K.4,N=7.W.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;8 F.13((A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2])}},1h:l(a){o(a.W){8 w}o(a.U){8(7.1h(a.K)&&7.1h(a.K.2j(a.U)))}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=F.13(N[0]*(A[0]-P[0])+N[1]*(A[1]-P[1])+N[2]*(A[2]-(P[2]||0)));8(b<=17.16)}},1v:l(a){o(1g(a.U)==\'1f\'&&1g(a.W)==\'1f\'){8 w}8!7.1m(a)},1U:l(a){o(!7.1v(a)){8 w}o(a.U){9 A=a.K.4,D=a.U.4,P=7.K.4,N=7.W.4;9 b=(N[0]*(P[0]-A[0])+N[1]*(P[1]-A[1])+N[2]*(P[2]-A[2]))/(N[0]*D[0]+N[1]*D[1]+N[2]*D[2]);8 v.u([A[0]+D[0]*b,A[1]+D[1]*b,A[2]+D[2]*b])}1d o(a.W){9 c=7.W.2f(a.W).2q();9 N=7.W.4,A=7.K.4,O=a.W.4,B=a.K.4;9 d=S.1j(2,2),i=0;H(d.2y()){i++;d=S.u([[N[i%3],N[(i+1)%3]],[O[i%3],O[(i+1)%3]]])}9 e=d.2w().4;9 x=N[0]*A[0]+N[1]*A[1]+N[2]*A[2];9 y=O[0]*B[0]+O[1]*B[1]+O[2]*B[2];9 f=[e[0][0]*x+e[0][1]*y,e[1][0]*x+e[1][1]*y];9 g=[];2e(9 j=1;j<=3;j++){g.19((i==j)?0:f[(j+(5-i)%3)%3])}8 14.u(g,c)}},1r:l(a){9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=(A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2];8 v.u([P[0]+N[0]*b,P[1]+N[1]*b,(P[2]||0)+N[2]*b])},1V:l(t,a){9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,N=7.W.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 11.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*N[0]+R[0][1]*N[1]+R[0][2]*N[2],R[1][0]*N[0]+R[1][1]*N[1]+R[1][2]*N[2],R[2][0]*N[0]+R[2][1]*N[1]+R[2][2]*N[2]])},1t:l(a){o(a.W){9 A=7.K.4,N=7.W.4;9 b=A[0],18=A[1],1a=A[2],2M=N[0],2L=N[1],2Q=N[2];9 c=7.K.1t(a).4;9 d=b+2M,2p=18+2L,2m=1a+2Q;9 Q=a.1r([d,2p,2m]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2p)-c[1],Q[2]+(Q[2]-2m)-c[2]];8 11.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 11.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.W)}},1Z:l(a,b,c){a=v.u(a);a=a.1N();o(a===w){8 w}b=v.u(b);b=b.1N();o(b===w){8 w}o(1g(c)==\'1f\'){c=w}1d{c=v.u(c);c=c.1N();o(c===w){8 w}}9 d=a.4[0],18=a.4[1],1a=a.4[2];9 e=b.4[0],1W=b.4[1],1X=b.4[2];9 f,1i;o(c!==w){9 g=c.4[0],2l=c.4[1],2t=c.4[2];f=v.u([(1W-18)*(2t-1a)-(1X-1a)*(2l-18),(1X-1a)*(g-d)-(e-d)*(2t-1a),(e-d)*(2l-18)-(1W-18)*(g-d)]);1i=f.1u();o(1i===0){8 w}f=v.u([f.4[0]/1i,f.4[1]/1i,f.4[2]/1i])}1d{1i=F.1x(e*e+1W*1W+1X*1X);o(1i===0){8 w}f=v.u([b.4[0]/1i,b.4[1]/1i,b.4[2]/1i])}7.K=a;7.W=f;8 7}};11.u=l(a,b,c){9 P=25 11();8 P.1Z(a,b,c)};11.2I=11.u(v.1j(3),v.k);11.2H=11.u(v.1j(3),v.i);11.2G=11.u(v.1j(3),v.j);11.36=11.2I;11.35=11.2H;11.3j=11.2G;9 $V=v.u;9 $M=S.u;9 $L=14.u;9 $P=11.u;', 62, 206, '||||elements|||this|return|var||||||||||||function|||if||length||||create|Vector|null|||||||||Math|nj|while||do|anchor||||||||Matrix||direction||normal||||kj|Plane|ni|abs|Line|ki|precision|Sylvester|A2|push|A3|map|els|else||undefined|typeof|contains|mod|Zero|D3|D2|isParallelTo|kp|distanceFrom|cols|dup|pointClosestTo|np|reflectionIn|modulus|intersects|A1|sqrt|isSquare|X2|PI|X3|angleFrom|mod1|C2|mod2|sin|cos|break|C3|toRightTriangular|false|Y3|to3D|E2|E1|E3|Rotation|Y2|Y1|intersectionWith|rotate|v12|v13|rank|setVectors|nc|sum|multiply|prototype|eql|new|setElements|case|each|PA3|PA2|part|new_element|round|for|cross|product|AD2|isSameSizeAs|add|isPerpendicularTo|v22|AN3|inspect|AD3|AN2|toUnitVector|PsubQ3|PsubQ2|v23|dot|divisor|inverse|true|isSingular|determinant|max|canMultiplyFromLeft|subtract|rows|col|random|ZX|YZ|XY|Random|join|N2|N1|D1|slice|default|N3|dimensions|switch|liesIn|translate|snapTo|augment|Diagonal|trace|indexOf|diagonal|transpose|minor|row|isAntiparallelTo|ZY|YX|acos|RotationZ|RotationY|liesOn|RotationX|inv|rk|tr|det|toDiagonalMatrix|toUpperTriangular|version|XZ'.split('|'), 0, {}))
function m(a) {
    throw a;
}
var p = void 0
  , q = !0
  , t = null
  , u = !1;
function aa() {
    return function() {}
}
function fa(a) {
    return function(b) {
        this[a] = b
    }
}
function v(a) {
    return function() {
        return this[a]
    }
}
var w, ga = this;
function ha() {}
function ia(a) {
    var b = typeof a;
    if ("object" == b)
        if (a) {
            if (a instanceof Array)
                return "array";
            if (a instanceof Object)
                return b;
            var c = Object.prototype.toString.call(a);
            if ("[object Window]" == c)
                return "object";
            if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice"))
                return "array";
            if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call"))
                return "function"
        } else
            return "null";
    else if ("function" == b && "undefined" == typeof a.call)
        return "object";
    return b
}
function ja(a) {
    return a !== p
}
function la(a) {
    return "array" == ia(a)
}
function ma(a) {
    var b = ia(a);
    return "array" == b || "object" == b && "number" == typeof a.length
}
function na(a) {
    return "string" == typeof a
}
function x(a) {
    return "number" == typeof a
}
function oa(a) {
    return "function" == ia(a)
}
function pa(a) {
    var b = typeof a;
    return "object" == b && a != t || "function" == b
}
function qa(a) {
    return a[ra] || (a[ra] = ++sa)
}
var ra = "closure_uid_" + (1E9 * Math.random() >>> 0)
  , sa = 0;
function ta(a, b, c) {
    return a.call.apply(a.bind, arguments)
}
function ua(a, b, c) {
    a || m(Error());
    if (2 < arguments.length) {
        var e = Array.prototype.slice.call(arguments, 2);
        return function() {
            var c = Array.prototype.slice.call(arguments);
            Array.prototype.unshift.apply(c, e);
            return a.apply(b, c)
        }
    }
    return function() {
        return a.apply(b, arguments)
    }
}
function va(a, b, c) {
    va = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? ta : ua;
    return va.apply(t, arguments)
}
function wa(a, b) {
    var c = Array.prototype.slice.call(arguments, 1);
    return function() {
        var b = Array.prototype.slice.call(arguments);
        b.unshift.apply(b, c);
        return a.apply(this, b)
    }
}
var xa = Date.now || function() {
    return +new Date
}
;
function B(a, b) {
    var c = a.split(".")
      , e = ga;
    !(c[0]in e) && e.execScript && e.execScript("var " + c[0]);
    for (var d; c.length && (d = c.shift()); )
        !c.length && ja(b) ? e[d] = b : e = e[d] ? e[d] : e[d] = {}
}
function C(a, b) {
    function c() {}
    c.prototype = b.prototype;
    a.A = b.prototype;
    a.prototype = new c;
    a.prototype.constructor = a
}
;function ya(a, b, c) {
    this.Wa = this.Va = this.Ua = 0;
    3 == arguments.length ? (this.Ua = Number(a),
    this.Va = Number(b),
    this.Wa = Number(c)) : a instanceof ya ? (this.Ua = Number(a.x()),
    this.Va = Number(a.y()),
    this.Wa = Number(a.d())) : (this.Ua = Number(a[0]),
    this.Va = Number(a[1]),
    this.Wa = Number(a[2]))
}
ya.prototype = {
    l: function() {
        return new ya(this.Ua,this.Va,this.Wa)
    },
    $b: function(a) {
        return this.Ua * a.x() + this.Va * a.y() + this.Wa * a.d()
    },
    qe: function(a, b) {
        return za(this, Ba(Ca(a, this), b))
    },
    length: function() {
        return Math.sqrt(this.$b(this))
    },
    lc: function(a) {
        return new ya(this.Va * a.d() - this.Wa * a.y(),this.Wa * a.x() - this.Ua * a.d(),this.Ua * a.y() - this.Va * a.x())
    },
    x: v("Ua"),
    y: v("Va"),
    d: v("Wa")
};
function Da(a) {
    var b = a.length();
    return new ya(a.Ua / b,a.Va / b,a.Wa / b)
}
function Ba(a, b) {
    return new ya(a.Ua * b,a.Va * b,a.Wa * b)
}
function Ca(a, b) {
    return new ya(a.Ua - b.x(),a.Va - b.y(),a.Wa - b.d())
}
function za(a, b) {
    return new ya(a.Ua + b.x(),a.Va + b.y(),a.Wa + b.d())
}
function Ea(a) {
    return new ya(-a.Ua,-a.Va,-a.Wa)
}
;var D = D || {};
D.vk = q;
D.Ga = function(a) {
    eval("X.DEV === undefined") || window.console.time(a)
}
;
D.za = function(a) {
    eval("X.DEV === undefined") || window.console.timeEnd(a)
}
;
window["X.counter"] = new function() {
    this.Sh = 0;
    this.mk = function() {
        return this.Sh++
    }
}
;
function Ga(a, b) {
    for (var c in b) {
        var e = b.__lookupGetter__(c)
          , d = b.__lookupSetter__(c);
        c in a || (e || d ? (e && a.__defineGetter__(c, e),
        d && a.__defineSetter__(c, d)) : a[c] = b[c])
    }
}
var Ha = window.Hh;
Function.prototype.bind || (Function.prototype.bind = function(a) {
    function b() {
        return f.apply(this instanceof c ? this : a || window, d.concat(e.call(arguments)))
    }
    function c() {}
    "function" !== typeof this && m(new TypeError("Function.prototype.bind - what is trying to be bound is not callable"));
    var e = Array.prototype.slice
      , d = e.call(arguments, 1)
      , f = this;
    c.prototype = this.prototype;
    b.prototype = new c;
    return b
}
);
for (var Ia = 0, Ja = ["ms", "moz", "webkit", "o"], Ka = 0; Ka < Ja.length && !window.requestAnimationFrame; ++Ka)
    window.requestAnimationFrame = window[Ja[Ka] + "RequestAnimationFrame"],
    window.cancelAnimationFrame = window[Ja[Ka] + "CancelAnimationFrame"] || window[Ja[Ka] + "CancelRequestAnimationFrame"];
window.requestAnimationFrame || (window.requestAnimationFrame = function(a) {
    var b = Date.now()
      , c = Math.max(0, 16 - (b - Ia))
      , e = window.setTimeout(function() {
        a(b + c)
    }, c);
    Ia = b + c;
    return e
}
);
window.cancelAnimationFrame || (window.cancelAnimationFrame = function(a) {
    clearTimeout(a)
}
);
"slice"in ArrayBuffer.prototype || (ArrayBuffer.prototype.slice = function(a, b) {
    a === p && m(Error("Not enough arguments."));
    var c = b || this.byteLength;
    0 > a && (a = this.byteLength + a);
    0 > c && (c = this.byteLength + c);
    c < a && (c = a = 0);
    0 > a && (a = 0);
    0 > c && (c = 0);
    a > this.byteLength && (a = this.byteLength);
    c > this.byteLength && (c = this.byteLength);
    for (var e = new ArrayBuffer(c - a), d = new Uint8Array(this), f = new Uint8Array(e), g = a, h = 0; g < c; ++g,
    ++h)
        f[h] = d[g];
    return e
}
);
B("$", Ha);
B("Function.prototype.bind", Function.prototype.bind);
B("window.requestAnimationFrame", window.requestAnimationFrame);
B("window.cancelAnimationFrame", window.cancelAnimationFrame);
var La = 0;
function Ma() {}
w = Ma.prototype;
w.key = 0;
w.qc = u;
w.ee = u;
w.ya = function(a, b, c, e, d, f) {
    oa(a) ? this.Qg = q : a && a.handleEvent && oa(a.handleEvent) ? this.Qg = u : m(Error("Invalid listener argument"));
    this.ac = a;
    this.kh = b;
    this.src = c;
    this.type = e;
    this.capture = !!d;
    this.pf = f;
    this.ee = u;
    this.key = ++La;
    this.qc = u
}
;
w.handleEvent = function(a) {
    return this.Qg ? this.ac.call(this.pf || this.src, a) : this.ac.handleEvent.call(this.ac, a)
}
;
function Na(a, b) {
    for (var c in a)
        b.call(p, a[c], c, a)
}
function Oa(a) {
    var b = [], c = 0, e;
    for (e in a)
        b[c++] = a[e];
    return b
}
var Pa = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ra(a, b) {
    for (var c, e, d = 1; d < arguments.length; d++) {
        e = arguments[d];
        for (c in e)
            a[c] = e[c];
        for (var f = 0; f < Pa.length; f++)
            c = Pa[f],
            Object.prototype.hasOwnProperty.call(e, c) && (a[c] = e[c])
    }
}
;function Sa(a) {
    if (!Ta.test(a))
        return a;
    -1 != a.indexOf("&") && (a = a.replace(Ua, "&amp;"));
    -1 != a.indexOf("<") && (a = a.replace(Va, "&lt;"));
    -1 != a.indexOf(">") && (a = a.replace(Wa, "&gt;"));
    -1 != a.indexOf('"') && (a = a.replace(Xa, "&quot;"));
    return a
}
var Ua = /&/g
  , Va = /</g
  , Wa = />/g
  , Xa = /\"/g
  , Ta = /[&<>\"]/;
var Ya, Za, $a, ab, bb, cb, eb;
function fb() {
    return ga.navigator ? ga.navigator.userAgent : t
}
function gb() {
    return ga.navigator
}
ab = $a = Za = Ya = u;
var hb;
if (hb = fb()) {
    var ib = gb();
    Ya = 0 == hb.indexOf("Opera");
    Za = !Ya && -1 != hb.indexOf("MSIE");
    $a = !Ya && -1 != hb.indexOf("WebKit");
    ab = !Ya && !$a && "Gecko" == ib.product
}
var jb = Ya, J = Za, kb = ab, mb = $a, nb, pb = gb();
nb = pb && pb.platform || "";
bb = -1 != nb.indexOf("Mac");
cb = -1 != nb.indexOf("Win");
eb = -1 != nb.indexOf("Linux");
var qb = !!gb() && -1 != (gb().appVersion || "").indexOf("X11");
function rb() {
    var a = ga.document;
    return a ? a.documentMode : p
}
var sb;
a: {
    var wb = "", xb;
    if (jb && ga.opera)
        var yb = ga.opera.version
          , wb = "function" == typeof yb ? yb() : yb;
    else if (kb ? xb = /rv\:([^\);]+)(\)|;)/ : J ? xb = /MSIE\s+([^\);]+)(\)|;)/ : mb && (xb = /WebKit\/(\S+)/),
    xb)
        var zb = xb.exec(fb())
          , wb = zb ? zb[1] : "";
    if (J) {
        var Ab = rb();
        if (Ab > parseFloat(wb)) {
            sb = String(Ab);
            break a
        }
    }
    sb = wb
}
var Bb = {};
function Cb(a) {
    var b;
    if (!(b = Bb[a])) {
        b = 0;
        for (var c = String(sb).replace(/^[\s\xa0]+|[\s\xa0]+$/g, "").split("."), e = String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g, "").split("."), d = Math.max(c.length, e.length), f = 0; 0 == b && f < d; f++) {
            var g = c[f] || ""
              , h = e[f] || ""
              , l = RegExp("(\\d*)(\\D*)", "g")
              , j = RegExp("(\\d*)(\\D*)", "g");
            do {
                var k = l.exec(g) || ["", "", ""]
                  , n = j.exec(h) || ["", "", ""];
                if (0 == k[0].length && 0 == n[0].length)
                    break;
                b = ((0 == k[1].length ? 0 : parseInt(k[1], 10)) < (0 == n[1].length ? 0 : parseInt(n[1], 10)) ? -1 : (0 == k[1].length ? 0 : parseInt(k[1], 10)) > (0 == n[1].length ? 0 : parseInt(n[1], 10)) ? 1 : 0) || ((0 == k[2].length) < (0 == n[2].length) ? -1 : (0 == k[2].length) > (0 == n[2].length) ? 1 : 0) || (k[2] < n[2] ? -1 : k[2] > n[2] ? 1 : 0)
            } while (0 == b)
        }
        b = Bb[a] = 0 <= b
    }
    return b
}
var Db = ga.document
  , Eb = !Db || !J ? p : rb() || ("CSS1Compat" == Db.compatMode ? parseInt(sb, 10) : 5);
var Fb = !J || J && 9 <= Eb
  , Gb = J && !Cb("9");
!mb || Cb("528");
kb && Cb("1.9b") || J && Cb("8") || jb && Cb("9.5") || mb && Cb("528");
kb && !Cb("8") || J && Cb("9");
var Hb = Array.prototype
  , Ib = Hb.indexOf ? function(a, b, c) {
    return Hb.indexOf.call(a, b, c)
}
: function(a, b, c) {
    c = c == t ? 0 : 0 > c ? Math.max(0, a.length + c) : c;
    if (na(a))
        return !na(b) || 1 != b.length ? -1 : a.indexOf(b, c);
    for (; c < a.length; c++)
        if (c in a && a[c] === b)
            return c;
    return -1
}
  , Jb = Hb.forEach ? function(a, b, c) {
    Hb.forEach.call(a, b, c)
}
: function(a, b, c) {
    for (var e = a.length, d = na(a) ? a.split("") : a, f = 0; f < e; f++)
        f in d && b.call(c, d[f], f, a)
}
  , Lb = Hb.map ? function(a, b, c) {
    return Hb.map.call(a, b, c)
}
: function(a, b, c) {
    for (var e = a.length, d = Array(e), f = na(a) ? a.split("") : a, g = 0; g < e; g++)
        g in f && (d[g] = b.call(c, f[g], g, a));
    return d
}
  , Mb = Hb.some ? function(a, b, c) {
    return Hb.some.call(a, b, c)
}
: function(a, b, c) {
    for (var e = a.length, d = na(a) ? a.split("") : a, f = 0; f < e; f++)
        if (f in d && b.call(c, d[f], f, a))
            return q;
    return u
}
;
function Nb(a, b) {
    var c = Ib(a, b);
    0 <= c && Hb.splice.call(a, c, 1)
}
function Ob(a, b, c) {
    return 2 >= arguments.length ? Hb.slice.call(a, b) : Hb.slice.call(a, b, c)
}
;function Pb() {
    0 != Qb && (this.ul = Error().stack,
    qa(this))
}
var Qb = 0;
function Rb(a, b) {
    this.type = a;
    this.currentTarget = this.target = b
}
w = Rb.prototype;
w.pc = u;
w.defaultPrevented = u;
w.ue = q;
w.stopPropagation = function() {
    this.pc = q
}
;
w.preventDefault = function() {
    this.defaultPrevented = q;
    this.ue = u
}
;
function Sb(a) {
    Sb[" "](a);
    return a
}
Sb[" "] = ha;
function Tb(a, b) {
    a && this.ya(a, b)
}
C(Tb, Rb);
w = Tb.prototype;
w.target = t;
w.relatedTarget = t;
w.offsetX = 0;
w.offsetY = 0;
w.clientX = 0;
w.clientY = 0;
w.screenX = 0;
w.screenY = 0;
w.button = 0;
w.keyCode = 0;
w.charCode = 0;
w.ctrlKey = u;
w.altKey = u;
w.shiftKey = u;
w.metaKey = u;
w.Sj = u;
w.lb = t;
w.ya = function(a, b) {
    var c = this.type = a.type;
    Rb.call(this, c);
    this.target = a.target || a.srcElement;
    this.currentTarget = b;
    var e = a.relatedTarget;
    if (e) {
        if (kb) {
            var d;
            a: {
                try {
                    Sb(e.nodeName);
                    d = q;
                    break a
                } catch (f) {}
                d = u
            }
            d || (e = t)
        }
    } else
        "mouseover" == c ? e = a.fromElement : "mouseout" == c && (e = a.toElement);
    this.relatedTarget = e;
    this.offsetX = mb || a.offsetX !== p ? a.offsetX : a.layerX;
    this.offsetY = mb || a.offsetY !== p ? a.offsetY : a.layerY;
    this.clientX = a.clientX !== p ? a.clientX : a.pageX;
    this.clientY = a.clientY !== p ? a.clientY : a.pageY;
    this.screenX = a.screenX || 0;
    this.screenY = a.screenY || 0;
    this.button = a.button;
    this.keyCode = a.keyCode || 0;
    this.charCode = a.charCode || ("keypress" == c ? a.keyCode : 0);
    this.ctrlKey = a.ctrlKey;
    this.altKey = a.altKey;
    this.shiftKey = a.shiftKey;
    this.metaKey = a.metaKey;
    this.Sj = bb ? a.metaKey : a.ctrlKey;
    this.state = a.state;
    this.lb = a;
    a.defaultPrevented && this.preventDefault();
    delete this.pc
}
;
w.stopPropagation = function() {
    Tb.A.stopPropagation.call(this);
    this.lb.stopPropagation ? this.lb.stopPropagation() : this.lb.cancelBubble = q
}
;
w.preventDefault = function() {
    Tb.A.preventDefault.call(this);
    var a = this.lb;
    if (a.preventDefault)
        a.preventDefault();
    else if (a.returnValue = u,
    Gb)
        try {
            if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode)
                a.keyCode = -1
        } catch (b) {}
}
;
w.Ci = v("lb");
var Ub = {}
  , Vb = {}
  , Wb = {}
  , Xb = {};
function L(a, b, c, e, d) {
    if (la(b)) {
        for (var f = 0; f < b.length; f++)
            L(a, b[f], c, e, d);
        return t
    }
    a = Yb(a, b, c, u, e, d);
    b = a.key;
    Ub[b] = a;
    return b
}
function Yb(a, b, c, e, d, f) {
    b || m(Error("Invalid event type"));
    d = !!d;
    var g = Vb;
    b in g || (g[b] = {
        ma: 0,
        Ka: 0
    });
    g = g[b];
    d in g || (g[d] = {
        ma: 0,
        Ka: 0
    },
    g.ma++);
    var g = g[d], h = qa(a), l;
    g.Ka++;
    if (g[h]) {
        l = g[h];
        for (var j = 0; j < l.length; j++)
            if (g = l[j],
            g.ac == c && g.pf == f) {
                if (g.qc)
                    break;
                e || (l[j].ee = u);
                return l[j]
            }
    } else
        l = g[h] = [],
        g.ma++;
    var k = Zb
      , n = Fb ? function(a) {
        return k.call(n.src, n.ac, a)
    }
    : function(a) {
        a = k.call(n.src, n.ac, a);
        if (!a)
            return a
    }
      , j = n
      , g = new Ma;
    g.ya(c, j, a, b, d, f);
    g.ee = e;
    j.src = a;
    j.ac = g;
    l.push(g);
    Wb[h] || (Wb[h] = []);
    Wb[h].push(g);
    a.addEventListener ? (a == ga || !a.customEvent_) && a.addEventListener(b, j, d) : a.attachEvent(b in Xb ? Xb[b] : Xb[b] = "on" + b, j);
    return g
}
function $b(a, b, c, e, d) {
    if (la(b))
        for (var f = 0; f < b.length; f++)
            $b(a, b[f], c, e, d);
    else
        a = Yb(a, b, c, q, e, d),
        Ub[a.key] = a
}
function ac(a, b, c, e, d) {
    if (la(b))
        for (var f = 0; f < b.length; f++)
            ac(a, b[f], c, e, d);
    else {
        e = !!e;
        a: {
            f = Vb;
            if (b in f && (f = f[b],
            e in f && (f = f[e],
            a = qa(a),
            f[a]))) {
                a = f[a];
                break a
            }
            a = t
        }
        if (a)
            for (f = 0; f < a.length; f++)
                if (a[f].ac == c && a[f].capture == e && a[f].pf == d) {
                    bc(a[f].key);
                    break
                }
    }
}
function bc(a) {
    var b = Ub[a];
    if (!b || b.qc)
        return u;
    var c = b.src
      , e = b.type
      , d = b.kh
      , f = b.capture;
    c.removeEventListener ? (c == ga || !c.customEvent_) && c.removeEventListener(e, d, f) : c.detachEvent && c.detachEvent(e in Xb ? Xb[e] : Xb[e] = "on" + e, d);
    c = qa(c);
    Wb[c] && (d = Wb[c],
    Nb(d, b),
    0 == d.length && delete Wb[c]);
    b.qc = q;
    if (b = Vb[e][f][c])
        b.ah = q,
        cc(e, f, c, b);
    delete Ub[a];
    return q
}
function cc(a, b, c, e) {
    if (!e.re && e.ah) {
        for (var d = 0, f = 0; d < e.length; d++)
            e[d].qc ? e[d].kh.src = t : (d != f && (e[f] = e[d]),
            f++);
        e.length = f;
        e.ah = u;
        0 == f && (delete Vb[a][b][c],
        Vb[a][b].ma--,
        0 == Vb[a][b].ma && (delete Vb[a][b],
        Vb[a].ma--),
        0 == Vb[a].ma && delete Vb[a])
    }
}
function dc(a, b) {
    var c = qa(a)
      , e = Wb[c];
    if (e) {
        var d = ja(b)
          , f = ja(p);
        return d && f ? (e = Vb[b],
        !!e && !!e[p] && c in e[p]) : !d && !f ? q : Mb(e, function(a) {
            return d && a.type == b || f && a.capture == p
        })
    }
    return u
}
function ec(a, b, c, e, d) {
    var f = 1;
    b = qa(b);
    if (a[b]) {
        var g = --a.Ka
          , h = a[b];
        h.re ? h.re++ : h.re = 1;
        try {
            for (var l = h.length, j = 0; j < l; j++) {
                var k = h[j];
                k && !k.qc && (f &= fc(k, d) !== u)
            }
        } finally {
            a.Ka = Math.max(g, a.Ka),
            h.re--,
            cc(c, e, b, h)
        }
    }
    return Boolean(f)
}
function fc(a, b) {
    a.ee && bc(a.key);
    return a.handleEvent(b)
}
function Zb(a, b) {
    if (a.qc)
        return q;
    var c = a.type
      , e = Vb;
    if (!(c in e))
        return q;
    var e = e[c], d, f;
    if (!Fb) {
        var g;
        if (!(g = b))
            a: {
                g = ["window", "event"];
                for (var h = ga; d = g.shift(); )
                    if (h[d] != t)
                        h = h[d];
                    else {
                        g = t;
                        break a
                    }
                g = h
            }
        d = g;
        g = q in e;
        h = u in e;
        if (g) {
            if (0 > d.keyCode || d.returnValue != p)
                return q;
            a: {
                var l = u;
                if (0 == d.keyCode)
                    try {
                        d.keyCode = -1;
                        break a
                    } catch (j) {
                        l = q
                    }
                if (l || d.returnValue == p)
                    d.returnValue = q
            }
        }
        l = new Tb;
        l.ya(d, this);
        d = q;
        try {
            if (g) {
                for (var k = [], n = l.currentTarget; n; n = n.parentNode)
                    k.push(n);
                f = e[q];
                f.Ka = f.ma;
                for (var r = k.length - 1; !l.pc && 0 <= r && f.Ka; r--)
                    l.currentTarget = k[r],
                    d &= ec(f, k[r], c, q, l);
                if (h) {
                    f = e[u];
                    f.Ka = f.ma;
                    for (r = 0; !l.pc && r < k.length && f.Ka; r++)
                        l.currentTarget = k[r],
                        d &= ec(f, k[r], c, u, l)
                }
            } else
                d = fc(a, l)
        } finally {
            k && (k.length = 0)
        }
        return d
    }
    c = new Tb(b,this);
    return d = fc(a, c)
}
var gc = 0;
function hc(a) {
    return a + "_" + gc++
}
;function ic() {
    Pb.call(this);
    this.yl = {};
    this.rl = this
}
C(ic, Pb);
ic.prototype.customEvent_ = q;
w = ic.prototype;
w.If = t;
w.Nf = fa("If");
w.addEventListener = function(a, b, c, e) {
    L(this, a, b, c, e)
}
;
w.removeEventListener = function(a, b, c, e) {
    ac(this, a, b, c, e)
}
;
w.dispatchEvent = function(a) {
    var b = a.type || a
      , c = Vb;
    if (b in c) {
        if (na(a))
            a = new Rb(a,this);
        else if (a instanceof Rb)
            a.target = a.target || this;
        else {
            var e = a;
            a = new Rb(b,this);
            Ra(a, e)
        }
        var e = 1, d, c = c[b], b = q in c, f;
        if (b) {
            d = [];
            for (f = this; f; f = f.If)
                d.push(f);
            f = c[q];
            f.Ka = f.ma;
            for (var g = d.length - 1; !a.pc && 0 <= g && f.Ka; g--)
                a.currentTarget = d[g],
                e &= ec(f, d[g], a.type, q, a) && a.ue != u
        }
        if (u in c)
            if (f = c[u],
            f.Ka = f.ma,
            b)
                for (g = 0; !a.pc && g < d.length && f.Ka; g++)
                    a.currentTarget = d[g],
                    e &= ec(f, d[g], a.type, u, a) && a.ue != u;
            else
                for (d = this; !a.pc && d && f.Ka; d = d.If)
                    a.currentTarget = d,
                    e &= ec(f, d, a.type, u, a) && a.ue != u;
        a = Boolean(e)
    } else
        a = q;
    return a
}
;
function O() {
    ic.call(this);
    this.f = "base";
    this.va = window["X.counter"].mk();
    this.j = u
}
C(O, ic);
O.prototype.__defineGetter__("classname", v("f"));
O.prototype.__defineGetter__("id", v("va"));
B("X.base", O);
function jc(a, b) {
    this.Ta = new ya(a);
    this.sa = new ya(b)
}
jc.prototype = {
    l: function() {
        return new jc(this.Ta.l(),this.sa.l())
    },
    nc: function() {
        this.sa = Ea(this.sa)
    }
};
function kc(a, b) {
    this.sa = a;
    this.Jd = b
}
kc.prototype = {
    l: function() {
        return new kc(this.sa.l(),this.Jd)
    },
    nc: function() {
        this.sa = Ea(this.sa);
        this.Jd = -this.Jd
    }
};
function lc(a, b) {
    this.Ib = a;
    this.Ae = b;
    var c = a[0].Ta
      , e = a[2].Ta
      , e = Da(Ca(a[1].Ta, c).lc(Ca(e, c)));
    this.Sa = new kc(e,e.$b(c))
}
lc.prototype = {
    l: function() {
        var a = this.Ib.map(function(a) {
            return a.l()
        });
        return new lc(a,this.Ae)
    },
    nc: function() {
        this.Ib.reverse().map(function(a) {
            a.nc()
        });
        this.Sa.nc()
    }
};
function mc(a, b, c, e, d, f) {
    for (var g = 0, h = [], l = 0; l < a.Ib.length; l++) {
        var j = b.sa.$b(a.Ib[l].Ta) - b.Jd
          , j = -1E-5 > j ? 2 : 1E-5 < j ? 1 : 0
          , g = g | j;
        h.push(j)
    }
    switch (g) {
    case 0:
        (0 < b.sa.$b(a.Sa.sa) ? c : e).push(a);
        break;
    case 1:
        d.push(a);
        break;
    case 2:
        f.push(a);
        break;
    case 3:
        c = [];
        e = [];
        for (l = 0; l < a.Ib.length; l++) {
            var k = (l + 1) % a.Ib.length
              , j = h[l]
              , n = h[k]
              , g = a.Ib[l]
              , k = a.Ib[k];
            2 != j && c.push(g);
            1 != j && e.push(2 != j ? g.l() : g);
            3 == (j | n) && (j = (b.Jd - b.sa.$b(g.Ta)) / b.sa.$b(Ca(k.Ta, g.Ta)),
            j = new jc(g.Ta.qe(k.Ta, j),g.sa.qe(k.sa, j)),
            c.push(j),
            e.push(j.l()))
        }
        3 <= c.length && d.push(new lc(c,a.Ae));
        3 <= e.length && f.push(new lc(e,a.Ae))
    }
}
;function nc(a) {
    this.wa = this.xa = this.Sa = t;
    this.Y = [];
    a && oc(this, a)
}
nc.prototype = {
    l: function() {
        var a = new nc
          , b = this.Sa && this.Sa.l();
        a.Sa = b;
        b = this.xa && this.xa.l();
        a.xa = b;
        b = this.wa && this.wa.l();
        a.wa = b;
        a.ze(this.Y.map(function(a) {
            return a.l()
        }));
        return a
    },
    X: function() {
        for (var a = 0; a < this.Y.length; a++)
            this.Y[a].nc();
        this.Sa.nc();
        this.xa && this.xa.X();
        this.wa && this.wa.X();
        a = this.xa;
        this.xa = this.wa;
        this.wa = a
    },
    ze: fa("Y")
};
function oc(a, b) {
    if (b.length) {
        a.Sa || (a.Sa = b[0].Sa.l());
        for (var c = [], e = [], d = 0; d < b.length; d++)
            mc(b[d], a.Sa, a.Y, a.Y, c, e);
        c.length && (a.xa || (a.xa = new nc),
        oc(a.xa, c));
        e.length && (a.wa || (a.wa = new nc),
        oc(a.wa, e))
    }
}
function pc(a) {
    var b = a.Y.slice();
    a.xa && (b = b.concat(pc(a.xa)));
    a.wa && (b = b.concat(pc(a.wa)));
    return b
}
function qc(a, b) {
    a.Y = rc(b, a.Y);
    a.xa && qc(a.xa, b);
    a.wa && qc(a.wa, b)
}
function rc(a, b) {
    if (!a.Sa)
        return b.slice();
    for (var c = [], e = [], d = 0; d < b.length; d++)
        mc(b[d], a.Sa, c, e, c, e);
    a.xa && (c = rc(a.xa, c));
    e = a.wa ? rc(a.wa, e) : [];
    return c.concat(e)
}
;function sc() {
    this.Y = []
}
function tc(a) {
    var b = new sc;
    b.ze(a);
    return b
}
sc.prototype = {
    l: function() {
        var a = new sc;
        a.ze(this.Y.map(function(a) {
            return a.l()
        }));
        return a
    },
    Uf: function(a) {
        var b = new nc(this.l().Y);
        a = new nc(a.l().Y);
        qc(b, a);
        qc(a, b);
        a.X();
        qc(a, b);
        a.X();
        oc(b, pc(a));
        return tc(pc(b))
    },
    ta: function(a) {
        var b = new nc(this.l().Y);
        a = new nc(a.l().Y);
        b.X();
        qc(b, a);
        qc(a, b);
        a.X();
        qc(a, b);
        a.X();
        oc(b, pc(a));
        b.X();
        return tc(pc(b))
    },
    rf: function(a) {
        var b = new nc(this.l().Y);
        a = new nc(a.l().Y);
        b.X();
        qc(a, b);
        a.X();
        qc(b, a);
        qc(a, b);
        oc(b, pc(a));
        b.X();
        return tc(pc(b))
    },
    inverse: function() {
        var a = this.l();
        a.Y.map(function(a) {
            a.nc()
        });
        return a
    },
    ze: fa("Y")
};
function uc() {
    O.call(this);
    this.f = "indexer";
    this.Ze = [];
    this.ml = [];
    this.Ha = {}
}
C(uc, O);
uc.prototype.add = function(a) {
    a == t && m(Error("Invalid object."));
    var b = window.JSON.stringify(a);
    b in this.Ha || (this.Ha[b] = this.Ze.length,
    this.Ze.push(a));
    return this.Ha[b]
}
;
uc.prototype.unique = v("Ze");
function vc(a) {
    O.call(this);
    this.f = "file";
    this.Wd = a;
    this.j = q
}
C(vc, O);
function wc() {
    this.ob = this.r = t
}
wc.prototype.__defineSetter__("file", function(a) {
    if (a == t || la(a) && 0 == a.length)
        this.r = t;
    else {
        if (la(a)) {
            if (1 == a.length) {
                this.r = new vc(a[0]);
                return
            }
            this.r = Lb(a, function(a) {
                var c = new Q;
                c.r = new vc(a);
                return c
            })
        } else
            this.r = new vc(a);
        this.ob = t
    }
});
wc.prototype.__defineGetter__("file", function() {
    return !this.r ? "" : la(this.r) ? this.r.map(function(a) {
        return a.r.Wd
    }) : this.r.Wd
});
wc.prototype.__defineGetter__("filedata", function() {
    return la(this.r) ? this.r.map(function(a) {
        return a.ob
    }) : this.ob
});
wc.prototype.__defineSetter__("filedata", function(a) {
    if (a == t || la(a) && 0 == a.length)
        this.ob = t;
    if (la(a))
        if (1 == a.length)
            this.ob = a[0];
        else {
            var b = this.r.length, c;
            for (c = 0; c < b; c++)
                this.r[c].ob = a[c]
        }
    else
        this.ob = a
});
function xc(a) {
    if ("function" == typeof a.xd)
        return a.xd();
    if (na(a))
        return a.split("");
    if (ma(a)) {
        for (var b = [], c = a.length, e = 0; e < c; e++)
            b.push(a[e]);
        return b
    }
    return Oa(a)
}
;function yc(a, b) {
    this.fa = {};
    this.S = [];
    var c = arguments.length;
    if (1 < c) {
        c % 2 && m(Error("Uneven number of arguments"));
        for (var e = 0; e < c; e += 2)
            this.set(arguments[e], arguments[e + 1])
    } else
        a && this.af(a)
}
w = yc.prototype;
w.ma = 0;
w.Wf = 0;
w.ke = v("ma");
w.xd = function() {
    zc(this);
    for (var a = [], b = 0; b < this.S.length; b++)
        a.push(this.fa[this.S[b]]);
    return a
}
;
function Ac(a) {
    for (var b = 0; b < a.S.length; b++) {
        var c = a.S[b];
        if (Bc(a.fa, c) && a.fa[c] == u)
            return q
    }
    return u
}
w.clear = function() {
    this.fa = {};
    this.Wf = this.ma = this.S.length = 0
}
;
w.remove = function(a) {
    return Bc(this.fa, a) ? (delete this.fa[a],
    this.ma--,
    this.Wf++,
    this.S.length > 2 * this.ma && zc(this),
    q) : u
}
;
function zc(a) {
    if (a.ma != a.S.length) {
        for (var b = 0, c = 0; b < a.S.length; ) {
            var e = a.S[b];
            Bc(a.fa, e) && (a.S[c++] = e);
            b++
        }
        a.S.length = c
    }
    if (a.ma != a.S.length) {
        for (var d = {}, c = b = 0; b < a.S.length; )
            e = a.S[b],
            Bc(d, e) || (a.S[c++] = e,
            d[e] = 1),
            b++;
        a.S.length = c
    }
}
w.get = function(a, b) {
    return Bc(this.fa, a) ? this.fa[a] : b
}
;
w.set = function(a, b) {
    Bc(this.fa, a) || (this.ma++,
    this.S.push(a),
    this.Wf++);
    this.fa[a] = b
}
;
w.af = function(a) {
    var b;
    if (a instanceof yc)
        zc(a),
        b = a.S.concat(),
        a = a.xd();
    else {
        b = [];
        var c = 0, e;
        for (e in a)
            b[c++] = e;
        a = Oa(a)
    }
    for (c = 0; c < b.length; c++)
        this.set(b[c], a[c])
}
;
w.l = function() {
    return new yc(this)
}
;
w.Tf = function() {
    for (var a = new yc, b = 0; b < this.S.length; b++) {
        var c = this.S[b];
        a.set(this.fa[c], c)
    }
    return a
}
;
function Bc(a, b) {
    return Object.prototype.hasOwnProperty.call(a, b)
}
;function Cc() {
    O.call(this);
    this.f = "colortable";
    this.Ha = new yc;
    Ga(this, new wc)
}
C(Cc, O);
Cc.prototype.add = function(a, b, c, e, d, f) {
    (!x(a) || !x(c) || !x(e) || !x(d) || !x(f)) && m(Error("Invalid color table entry."));
    this.Ha.set(a, [b, c, e, d, f]);
    this.j = q
}
;
Cc.prototype.get = function(a) {
    return this.Ha.get(a)
}
;
B("X.colortable.prototype.get", Cc.prototype.get);
function Dc(a, b, c) {
    this.x = ja(a) ? a : 0;
    this.y = ja(b) ? b : 0;
    this.d = ja(c) ? c : 0
}
Dc.prototype.l = function() {
    return new Dc(this.x,this.y,this.d)
}
;
function S(a, b, c) {
    this.x = a;
    this.y = b;
    this.d = c
}
C(S, Dc);
w = S.prototype;
w.l = function() {
    return new S(this.x,this.y,this.d)
}
;
w.Fb = function() {
    return Math.sqrt(this.x * this.x + this.y * this.y + this.d * this.d)
}
;
w.scale = function(a) {
    this.x *= a;
    this.y *= a;
    this.d *= a;
    return this
}
;
w.X = function() {
    this.x = -this.x;
    this.y = -this.y;
    this.d = -this.d;
    return this
}
;
w.normalize = function() {
    return this.scale(1 / this.Fb())
}
;
w.add = function(a) {
    this.x += a.x;
    this.y += a.y;
    this.d += a.d;
    return this
}
;
w.ta = function(a) {
    this.x -= a.x;
    this.y -= a.y;
    this.d -= a.d;
    return this
}
;
function Ec(a, b) {
    var c = a.x - b.x
      , e = a.y - b.y
      , d = a.d - b.d;
    return Math.sqrt(c * c + e * e + d * d)
}
function Fc(a, b) {
    var c = a.x - b.x
      , e = a.y - b.y
      , d = a.d - b.d;
    return c * c + e * e + d * d
}
function Gc(a, b) {
    return new S(a.x + b.x,a.y + b.y,a.d + b.d)
}
function Hc(a, b) {
    return new S(a.y * b.d - a.d * b.y,a.d * b.x - a.x * b.d,a.x * b.y - a.y * b.x)
}
;D.m = S;
w = D.m.prototype;
w.l = S.prototype.l;
w.Fb = S.prototype.Fb;
w.scale = S.prototype.scale;
w.X = S.prototype.X;
w.add = S.prototype.add;
w.ta = S.prototype.ta;
w.normalize = function() {
    var a = this.Fb();
    return 0 == a ? this.scale(0) : this.scale(1 / a)
}
;
D.m.$b = function(a, b) {
    return a.x * b.x + a.y * b.y + a.d * b.d
}
;
D.m.lc = Hc;
D.m.of = Ec;
D.m.qe = function(a, b, c) {
    return new S(a.x + c * (b.x - a.x),a.y + c * (b.y - a.y),a.d + c * (b.d - a.d))
}
;
D.m.prototype.__defineGetter__("xx", v("x"));
D.m.prototype.__defineGetter__("yy", v("y"));
D.m.prototype.__defineGetter__("zz", v("d"));
B("X.vector", D.m);
B("X.vector.prototype.clone", D.m.prototype.l);
B("X.vector.prototype.magnitude", D.m.prototype.Fb);
B("X.vector.prototype.scale", D.m.prototype.scale);
B("X.vector.prototype.invert", D.m.prototype.X);
B("X.vector.prototype.normalize", D.m.prototype.normalize);
B("X.vector.prototype.add", D.m.prototype.add);
B("X.vector.prototype.subtract", D.m.prototype.ta);
B("X.vector.dot", D.m.$b);
B("X.vector.cross", D.m.lc);
B("X.vector.distance", D.m.of);
B("X.vector.lerp", D.m.qe);
function Ic(a) {
    this.length = a.length || a;
    for (var b = 0; b < this.length; b++)
        this[b] = a[b] || 0
}
Ic.prototype.BYTES_PER_ELEMENT = 8;
Ic.prototype.set = function(a, b) {
    b = b || 0;
    for (var c = 0; c < a.length && b + c < this.length; c++)
        this[b + c] = a[c]
}
;
Ic.prototype.toString = Array.prototype.join;
if ("undefined" == typeof Float64Array) {
    try {
        Ic.BYTES_PER_ELEMENT = 8
    } catch (Jc) {}
    Ic.prototype.BYTES_PER_ELEMENT = Ic.prototype.BYTES_PER_ELEMENT;
    Ic.prototype.set = Ic.prototype.set;
    Ic.prototype.toString = Ic.prototype.toString;
    B("Float64Array", Ic)
}
;function Kc(a) {
    this.length = a.length || a;
    for (var b = 0; b < this.length; b++)
        this[b] = a[b] || 0
}
Kc.prototype.BYTES_PER_ELEMENT = 4;
Kc.prototype.set = function(a, b) {
    b = b || 0;
    for (var c = 0; c < a.length && b + c < this.length; c++)
        this[b + c] = a[c]
}
;
Kc.prototype.toString = Array.prototype.join;
"undefined" == typeof Float32Array && (Kc.BYTES_PER_ELEMENT = 4,
Kc.prototype.BYTES_PER_ELEMENT = Kc.prototype.BYTES_PER_ELEMENT,
Kc.prototype.set = Kc.prototype.set,
Kc.prototype.toString = Kc.prototype.toString,
B("Float32Array", Kc));
function Lc() {
    return new Float32Array(3)
}
function Mc(a, b, c) {
    var e = Lc();
    e[0] = a;
    e[1] = b;
    e[2] = c;
    return e
}
function Nc(a, b) {
    var c = a[0]
      , e = a[1]
      , d = a[2]
      , c = 1 / Math.sqrt(c * c + e * e + d * d);
    b[0] = a[0] * c;
    b[1] = a[1] * c;
    b[2] = a[2] * c
}
;function Oc() {
    return new Float32Array(4)
}
function Pc(a, b, c, e) {
    var d = Oc();
    d[0] = a;
    d[1] = b;
    d[2] = c;
    d[3] = e;
    return d
}
;function Qc() {
    return new Float32Array(16)
}
function Rc() {
    var a = Qc();
    a[0] = a[5] = a[10] = a[15] = 1;
    return a
}
function Sc(a, b, c, e, d, f, g, h, l, j, k, n, r, s, z, y, E) {
    a[0] = b;
    a[1] = c;
    a[2] = e;
    a[3] = d;
    a[4] = f;
    a[5] = g;
    a[6] = h;
    a[7] = l;
    a[8] = j;
    a[9] = k;
    a[10] = n;
    a[11] = r;
    a[12] = s;
    a[13] = z;
    a[14] = y;
    a[15] = E;
    return a
}
function Tc(a, b, c) {
    b *= 4;
    a[b] = c[0];
    a[b + 1] = c[1];
    a[b + 2] = c[2];
    a[b + 3] = c[3]
}
function Uc(a, b, c) {
    b *= 4;
    c[0] = a[b];
    c[1] = a[b + 1];
    c[2] = a[b + 2];
    c[3] = a[b + 3]
}
function V(a, b, c, e, d, f) {
    a[b] = c;
    a[b + 4] = e;
    a[b + 8] = d;
    a[b + 12] = f
}
function Vc(a, b, c) {
    a[b] = c[0];
    a[b + 4] = c[1];
    a[b + 8] = c[2];
    a[b + 12] = c[3]
}
function Wc(a, b, c) {
    c[0] = a[b];
    c[1] = a[b + 4];
    c[2] = a[b + 8];
    c[3] = a[b + 12]
}
function Xc(a, b, c) {
    var e = a[0]
      , d = a[1]
      , f = a[2]
      , g = a[3]
      , h = a[4]
      , l = a[5]
      , j = a[6]
      , k = a[7]
      , n = a[8]
      , r = a[9]
      , s = a[10]
      , z = a[11]
      , y = a[12]
      , E = a[13]
      , F = a[14];
    a = a[15];
    var K = b[0]
      , A = b[1]
      , G = b[2]
      , I = b[3]
      , H = b[4]
      , R = b[5]
      , N = b[6]
      , T = b[7]
      , ca = b[8]
      , ba = b[9]
      , da = b[10]
      , M = b[11]
      , U = b[12]
      , P = b[13]
      , Fa = b[14];
    b = b[15];
    c[0] = e * K + h * A + n * G + y * I;
    c[1] = d * K + l * A + r * G + E * I;
    c[2] = f * K + j * A + s * G + F * I;
    c[3] = g * K + k * A + z * G + a * I;
    c[4] = e * H + h * R + n * N + y * T;
    c[5] = d * H + l * R + r * N + E * T;
    c[6] = f * H + j * R + s * N + F * T;
    c[7] = g * H + k * R + z * N + a * T;
    c[8] = e * ca + h * ba + n * da + y * M;
    c[9] = d * ca + l * ba + r * da + E * M;
    c[10] = f * ca + j * ba + s * da + F * M;
    c[11] = g * ca + k * ba + z * da + a * M;
    c[12] = e * U + h * P + n * Fa + y * b;
    c[13] = d * U + l * P + r * Fa + E * b;
    c[14] = f * U + j * P + s * Fa + F * b;
    c[15] = g * U + k * P + z * Fa + a * b;
    return c
}
function Yc(a, b) {
    var c = a[0]
      , e = a[1]
      , d = a[2]
      , f = a[3]
      , g = a[4]
      , h = a[5]
      , l = a[6]
      , j = a[7]
      , k = a[8]
      , n = a[9]
      , r = a[10]
      , s = a[11]
      , z = a[12]
      , y = a[13]
      , E = a[14]
      , F = a[15]
      , K = c * h - e * g
      , A = c * l - d * g
      , G = c * j - f * g
      , I = e * l - d * h
      , H = e * j - f * h
      , R = d * j - f * l
      , N = k * y - n * z
      , T = k * E - r * z
      , ca = k * F - s * z
      , ba = n * E - r * y
      , da = n * F - s * y
      , M = r * F - s * E
      , U = K * M - A * da + G * ba + I * ca - H * T + R * N;
    if (0 == U)
        return u;
    U = 1 / U;
    b[0] = (h * M - l * da + j * ba) * U;
    b[1] = (-e * M + d * da - f * ba) * U;
    b[2] = (y * R - E * H + F * I) * U;
    b[3] = (-n * R + r * H - s * I) * U;
    b[4] = (-g * M + l * ca - j * T) * U;
    b[5] = (c * M - d * ca + f * T) * U;
    b[6] = (-z * R + E * G - F * A) * U;
    b[7] = (k * R - r * G + s * A) * U;
    b[8] = (g * da - h * ca + j * N) * U;
    b[9] = (-c * da + e * ca - f * N) * U;
    b[10] = (z * H - y * G + F * K) * U;
    b[11] = (-k * H + n * G - s * K) * U;
    b[12] = (-g * ba + h * T - l * N) * U;
    b[13] = (c * ba - e * T + d * N) * U;
    b[14] = (-z * I + y * A - E * K) * U;
    b[15] = (k * I - n * A + r * K) * U;
    return q
}
function $c(a, b, c) {
    var e = b[0]
      , d = b[1];
    b = b[2];
    c[0] = e * a[0] + d * a[4] + b * a[8] + a[12];
    c[1] = e * a[1] + d * a[5] + b * a[9] + a[13];
    c[2] = e * a[2] + d * a[6] + b * a[10] + a[14]
}
function ad(a, b, c) {
    var e = b[0]
      , d = b[1]
      , f = b[2];
    b = b[3];
    c[0] = e * a[0] + d * a[4] + f * a[8] + b * a[12];
    c[1] = e * a[1] + d * a[5] + f * a[9] + b * a[13];
    c[2] = e * a[2] + d * a[6] + f * a[10] + b * a[14];
    c[3] = e * a[3] + d * a[7] + f * a[11] + b * a[15];
    return c
}
function bd(a, b, c, e) {
    var d = a[1] * b + a[5] * c + a[9] * e + a[13]
      , f = a[2] * b + a[6] * c + a[10] * e + a[14]
      , g = a[3] * b + a[7] * c + a[11] * e + a[15];
    a[12] = a[0] * b + a[4] * c + a[8] * e + a[12];
    a[13] = d;
    a[14] = f;
    a[15] = g;
    return a
}
new Float64Array(3);
new Float64Array(3);
new Float64Array(4);
new Float64Array(4);
new Float64Array(4);
new Float64Array(16);
D.g = {};
D.g.Tg = function(a, b, c, e) {
    c = c.ta(b);
    c.normalize();
    e = D.m.lc(c, e);
    e.normalize();
    var d = D.m.lc(e, c);
    d.normalize();
    c.X();
    V(a, 0, e.x, e.y, e.d, 0);
    V(a, 1, d.x, d.y, d.d, 0);
    V(a, 2, c.x, c.y, c.d, 0);
    bd(a, -b.x, -b.y, -b.d);
    return a
}
;
D.g.$ = function(a, b, c, e) {
    var d = 1 / (b * a[3] + c * a[7] + e * a[11] + a[15]);
    return new D.m((b * a[0] + c * a[4] + e * a[8] + a[12]) * d,(b * a[1] + c * a[5] + e * a[9] + a[13]) * d,(b * a[2] + c * a[6] + e * a[10] + a[14]) * d)
}
;
D.g.jk = function(a, b, c) {
    var e = new Float32Array(4)
      , d = new Float32Array(4);
    Wc(a, b, e);
    Wc(a, c, d);
    Vc(a, b, d);
    Vc(a, c, e);
    return a
}
;
D.g.ik = function(a, b, c) {
    var e = new Float32Array(4)
      , d = new Float32Array(4);
    Uc(a, b, e);
    Uc(a, c, d);
    Tc(a, b, d);
    Tc(a, c, e);
    return a
}
;
D.g.yd = Rc;
D.g.l = function(a) {
    var b = Qc();
    b[0] = a[0];
    b[1] = a[1];
    b[2] = a[2];
    b[3] = a[3];
    b[4] = a[4];
    b[5] = a[5];
    b[6] = a[6];
    b[7] = a[7];
    b[8] = a[8];
    b[9] = a[9];
    b[10] = a[10];
    b[11] = a[11];
    b[12] = a[12];
    b[13] = a[13];
    b[14] = a[14];
    b[15] = a[15];
    return b
}
;
D.g.Tf = function(a, b) {
    if (b == a) {
        var c = a[1]
          , e = a[2]
          , d = a[3]
          , f = a[6]
          , g = a[7]
          , h = a[11];
        b[1] = a[4];
        b[2] = a[8];
        b[3] = a[12];
        b[4] = c;
        b[6] = a[9];
        b[7] = a[13];
        b[8] = e;
        b[9] = f;
        b[11] = a[14];
        b[12] = d;
        b[13] = g;
        b[14] = h
    } else
        b[0] = a[0],
        b[1] = a[4],
        b[2] = a[8],
        b[3] = a[12],
        b[4] = a[1],
        b[5] = a[5],
        b[6] = a[9],
        b[7] = a[13],
        b[8] = a[2],
        b[9] = a[6],
        b[10] = a[10],
        b[11] = a[14],
        b[12] = a[3],
        b[13] = a[7],
        b[14] = a[11],
        b[15] = a[15];
    return b
}
;
D.g.pi = function(a) {
    var b = a[0]
      , c = a[1]
      , e = a[2]
      , d = a[3]
      , f = a[4]
      , g = a[5]
      , h = a[6]
      , l = a[7]
      , j = a[8]
      , k = a[9]
      , n = a[10]
      , r = a[11]
      , s = a[12]
      , z = a[13]
      , y = a[14];
    a = a[15];
    return (b * g - c * f) * (n * a - r * y) - (b * h - e * f) * (k * a - r * z) + (b * l - d * f) * (k * y - n * z) + (c * h - e * g) * (j * a - r * s) - (c * l - d * g) * (j * y - n * s) + (e * l - d * h) * (j * z - k * s)
}
;
D.g.X = Yc;
D.g.uf = function(a, b, c, e, d) {
    var f = b / 2;
    b = d - e;
    var g = Math.sin(f);
    if (0 == b || 0 == g || 0 == c)
        return a;
    f = Math.cos(f) / g;
    return Sc(a, f / c, 0, 0, 0, 0, f, 0, 0, 0, 0, -(d + e) / b, -1, 0, 0, -(2 * e * d) / b, 0)
}
;
D.g.$i = function(a, b, c, e, d, f, g) {
    return Sc(a, 2 * f / (c - b), 0, 0, 0, 0, 2 * f / (d - e), 0, 0, (c + b) / (c - b), (d + e) / (d - e), -(g + f) / (g - f), -1, 0, 0, -(2 * g * f) / (g - f), 0)
}
;
D.g.aj = function(a, b, c, e, d, f, g) {
    return Sc(a, 2 / (c - b), 0, 0, 0, 0, 2 / (d - e), 0, 0, 0, 0, -2 / (g - f), 0, -(c + b) / (c - b), -(d + e) / (d - e), -(g + f) / (g - f), 1)
}
;
D.g.multiply = Xc;
D.g.Xg = ad;
D.g.translate = bd;
D.g.scale = function(a, b, c, e) {
    return Sc(a, a[0] * b, a[1] * b, a[2] * b, a[3] * b, a[4] * c, a[5] * c, a[6] * c, a[7] * c, a[8] * e, a[9] * e, a[10] * e, a[11] * e, a[12], a[13], a[14], a[15])
}
;
D.g.rotate = function(a, b, c, e, d) {
    var f = a[0]
      , g = a[1]
      , h = a[2]
      , l = a[3]
      , j = a[4]
      , k = a[5]
      , n = a[6]
      , r = a[7]
      , s = a[8]
      , z = a[9]
      , y = a[10]
      , E = a[11]
      , F = Math.cos(b)
      , K = Math.sin(b)
      , A = 1 - F;
    b = c * c * A + F;
    var G = c * e * A + d * K
      , I = c * d * A - e * K
      , H = c * e * A - d * K
      , R = e * e * A + F
      , N = e * d * A + c * K
      , T = c * d * A + e * K;
    c = e * d * A - c * K;
    d = d * d * A + F;
    return Sc(a, f * b + j * G + s * I, g * b + k * G + z * I, h * b + n * G + y * I, l * b + r * G + E * I, f * H + j * R + s * N, g * H + k * R + z * N, h * H + n * R + y * N, l * H + r * R + E * N, f * T + j * c + s * d, g * T + k * c + z * d, h * T + n * c + y * d, l * T + r * c + E * d, a[12], a[13], a[14], a[15])
}
;
D.g.ve = function(a, b) {
    var c = a[4]
      , e = a[5]
      , d = a[6]
      , f = a[7]
      , g = a[8]
      , h = a[9]
      , l = a[10]
      , j = a[11]
      , k = Math.cos(b)
      , n = Math.sin(b);
    a[4] = c * k + g * n;
    a[5] = e * k + h * n;
    a[6] = d * k + l * n;
    a[7] = f * k + j * n;
    a[8] = c * -n + g * k;
    a[9] = e * -n + h * k;
    a[10] = d * -n + l * k;
    a[11] = f * -n + j * k;
    return a
}
;
D.g.we = function(a, b) {
    var c = a[0]
      , e = a[1]
      , d = a[2]
      , f = a[3]
      , g = a[8]
      , h = a[9]
      , l = a[10]
      , j = a[11]
      , k = Math.cos(b)
      , n = Math.sin(b);
    a[0] = c * k + g * -n;
    a[1] = e * k + h * -n;
    a[2] = d * k + l * -n;
    a[3] = f * k + j * -n;
    a[8] = c * n + g * k;
    a[9] = e * n + h * k;
    a[10] = d * n + l * k;
    a[11] = f * n + j * k;
    return a
}
;
D.g.xe = function(a, b) {
    var c = a[0]
      , e = a[1]
      , d = a[2]
      , f = a[3]
      , g = a[4]
      , h = a[5]
      , l = a[6]
      , j = a[7]
      , k = Math.cos(b)
      , n = Math.sin(b);
    a[0] = c * k + g * n;
    a[1] = e * k + h * n;
    a[2] = d * k + l * n;
    a[3] = f * k + j * n;
    a[4] = c * -n + g * k;
    a[5] = e * -n + h * k;
    a[6] = d * -n + l * k;
    a[7] = f * -n + j * k;
    return a
}
;
B("X.matrix.identity", D.g.yd);
B("X.matrix.clone", D.g.l);
B("X.matrix.transpose", D.g.Tf);
B("X.matrix.determinant", D.g.pi);
B("X.matrix.invert", D.g.X);
B("X.matrix.multiply", D.g.multiply);
B("X.matrix.multiplyByVector", D.g.$);
B("X.matrix.multiplyByVec4", D.g.Xg);
B("X.matrix.makePerspective", D.g.uf);
B("X.matrix.makeFrustum", D.g.$i);
B("X.matrix.makeOrtho", D.g.aj);
B("X.matrix.makeLookAt", D.g.Tg);
B("X.matrix.translate", D.g.translate);
B("X.matrix.scale", D.g.scale);
B("X.matrix.rotate", D.g.rotate);
B("X.matrix.rotateX", D.g.ve);
B("X.matrix.rotateY", D.g.we);
B("X.matrix.rotateZ", D.g.xe);
B("X.matrix.swapRows", D.g.jk);
B("X.matrix.swapCols", D.g.ik);
function cd() {
    O.call(this);
    this.f = "transform";
    this.Q = D.g.yd()
}
C(cd, O);
cd.prototype.__defineGetter__("matrix", v("Q"));
cd.prototype.__defineSetter__("matrix", function(a) {
    (a == t || !(a instanceof Float32Array)) && m(Error("Invalid matrix."));
    this.Q = a;
    this.q()
});
w = cd.prototype;
w.ve = function(a) {
    (!x(a) || -360 > a || 360 < a) && m(Error("Invalid angle."));
    D.g.ve(this.Q, a * Math.PI / 180);
    this.q()
}
;
w.we = function(a) {
    (!x(a) || -360 > a || 360 < a) && m(Error("Invalid angle."));
    D.g.we(this.Q, a * Math.PI / 180);
    this.q()
}
;
w.xe = function(a) {
    (!x(a) || -360 > a || 360 < a) && m(Error("Invalid angle."));
    D.g.xe(this.Q, a * Math.PI / 180);
    this.q()
}
;
w.zh = function(a) {
    x(a) || m(Error("Invalid distance."));
    D.g.translate(this.Q, a, 0, 0);
    this.q()
}
;
w.Ah = function(a) {
    x(a) || m(Error("Invalid distance."));
    D.g.translate(this.Q, 0, a, 0);
    this.q()
}
;
w.Bh = function(a) {
    x(a) || m(Error("Invalid distance."));
    D.g.translate(this.Q, 0, 0, a);
    this.q()
}
;
function dd(a, b, c) {
    a.Q[b + 4 * c] *= -1;
    a.q()
}
w.xi = function() {
    dd(this, 0, 0)
}
;
w.yi = function() {
    dd(this, 1, 1)
}
;
w.zi = function() {
    dd(this, 2, 2)
}
;
w.q = function() {
    this.j = q
}
;
B("X.transform", cd);
B("X.transform.prototype.rotateX", cd.prototype.ve);
B("X.transform.prototype.rotateY", cd.prototype.we);
B("X.transform.prototype.rotateZ", cd.prototype.xe);
B("X.transform.prototype.translateX", cd.prototype.zh);
B("X.transform.prototype.translateY", cd.prototype.Ah);
B("X.transform.prototype.translateZ", cd.prototype.Bh);
B("X.transform.prototype.flipX", cd.prototype.xi);
B("X.transform.prototype.flipY", cd.prototype.yi);
B("X.transform.prototype.flipZ", cd.prototype.zi);
B("X.transform.prototype.modified", cd.prototype.q);
function ed() {
    O.call(this);
    this.f = "texture";
    this.Ub = this.pb = this.r = t;
    this.Te = this.Ue = 0;
    this.eg = u;
    Ga(this, new wc)
}
C(ed, O);
ed.prototype.__defineSetter__("rawData", function(a) {
    this.Ub = a;
    this.j = q
});
ed.prototype.__defineSetter__("rawDataHeight", function(a) {
    this.Te = a;
    this.j = q
});
ed.prototype.__defineSetter__("rawDataWidth", function(a) {
    this.Ue = a;
    this.j = q
});
ed.prototype.__defineSetter__("grayscale", function(a) {
    this.eg = a;
    this.j = q
});
B("X.texture", ed);
function W(a, b) {
    O.call(this);
    this.f = "triplets";
    this.gb = Infinity;
    this.cb = -Infinity;
    this.hb = Infinity;
    this.eb = -Infinity;
    this.ib = Infinity;
    this.fb = -Infinity;
    this.Ld = [0, 0, 0];
    this.dg = q;
    this.C = 0;
    this.ba = new Float32Array(a);
    b != t && (this.ba = b.ba.subarray(0, b.ba.length),
    this.C = this.ba.length,
    this.gb = b.gb,
    this.cb = b.cb,
    this.hb = b.hb,
    this.eb = b.eb,
    this.ib = b.ib,
    this.fb = b.fb,
    this.Ld = b.Ld.slice(),
    this.dg = u)
}
C(W, O);
w = W.prototype;
w.add = function(a, b, c) {
    this.gb = Math.min(this.gb, a);
    this.cb = Math.max(this.cb, a);
    this.hb = Math.min(this.hb, b);
    this.eb = Math.max(this.eb, b);
    this.ib = Math.min(this.ib, c);
    this.fb = Math.max(this.fb, c);
    this.Ld = [(this.gb + this.cb) / 2, (this.hb + this.eb) / 2, (this.ib + this.fb) / 2];
    this.dg = u;
    this.j = q;
    this.ba[this.C++] = a;
    this.ba[this.C++] = b;
    this.ba[this.C++] = c;
    return this.C / 3
}
;
w.Gb = function() {
    if (this.C != this.ba.length) {
        var a = new Float32Array(this.C);
        a.set(this.ba.subarray(0, this.C));
        this.ba = a
    }
}
;
w.get = function(a) {
    a *= 3;
    return [this.ba[a], this.ba[a + 1], this.ba[a + 2]]
}
;
w.remove = function() {
    m(Error("Not implemented."))
}
;
w.clear = function() {
    this.ba = new Float32Array(this.ba.length);
    this.j = q
}
;
W.prototype.__defineGetter__("count", function() {
    this.Gb();
    return this.ba.length / 3
});
W.prototype.__defineGetter__("length", function() {
    this.Gb();
    return this.ba.length
});
B("X.triplets", W);
B("X.triplets.prototype.add", W.prototype.add);
B("X.triplets.prototype.resize", W.prototype.Gb);
B("X.triplets.prototype.get", W.prototype.get);
B("X.triplets.prototype.remove", W.prototype.remove);
B("X.triplets.prototype.clear", W.prototype.clear);
function fd() {
    this.Fa = gd;
    this.ja = new cd;
    this.v = [1, 1, 1];
    this.Mc = this.F = this.oa = this.n = this.h = t;
    this.Hc = [];
    this.O = q;
    this.Gc = this.hd = 1;
    this.xc = t;
    this.Zc = u;
    this.ra = 1;
    this.ua = 0;
    this.gd = q
}
var gd = "TRIANGLES";
fd.prototype.__defineSetter__("type", function(a) {
    return this.Fa = a
});
fd.prototype.__defineGetter__("type", v("Fa"));
fd.prototype.__defineGetter__("texture", function() {
    this.F || (this.F = new ed);
    return this.F
});
fd.prototype.__defineGetter__("transform", v("ja"));
fd.prototype.__defineGetter__("points", v("h"));
fd.prototype.__defineSetter__("points", fa("h"));
fd.prototype.__defineGetter__("normals", v("n"));
fd.prototype.__defineSetter__("normals", fa("n"));
fd.prototype.__defineGetter__("colors", v("oa"));
fd.prototype.__defineSetter__("colors", fa("oa"));
fd.prototype.__defineGetter__("color", v("v"));
fd.prototype.__defineSetter__("color", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid color."));
    for (var b = this.c, c = b.length, e = 0, e = 0; e < c; e++)
        b[e].color = a;
    this.v = a;
    this.j = q
});
fd.prototype.__defineGetter__("opacity", v("ra"));
fd.prototype.__defineSetter__("opacity", function(a) {
    (!x(a) || 1 < a || 0 > a) && m(Error("Invalid opacity."));
    for (var b = this.c, c = b.length, e = 0, e = 0; e < c; e++)
        b[e] != t && (b[e].opacity = a);
    this.ra = a;
    this.j = q
});
fd.prototype.__defineGetter__("caption", v("xc"));
fd.prototype.__defineSetter__("caption", function(a) {
    this.xc = a;
    this.j = q
});
fd.prototype.__defineGetter__("visible", v("O"));
fd.prototype.__defineSetter__("visible", function(a) {
    for (var b = this.c, c = b.length, e = 0, e = 0; e < c; e++)
        b[e] != t && (b[e].visible = a);
    this.O = a;
    this.j = q
});
fd.prototype.__defineGetter__("pointsize", v("hd"));
fd.prototype.__defineSetter__("pointsize", function(a) {
    x(a) || m(Error("Invalid point size."));
    this.hd = a;
    this.j = q
});
fd.prototype.__defineGetter__("magicmode", v("Zc"));
fd.prototype.__defineSetter__("magicmode", function(a) {
    "boolean" != typeof a && m(Error("Invalid magic mode setting."));
    this.Zc = a;
    this.j = q
});
fd.prototype.__defineGetter__("linewidth", v("Gc"));
fd.prototype.__defineSetter__("linewidth", function(a) {
    x(a) || m(Error("Invalid line width."));
    this.Gc = a;
    this.j = q
});
fd.prototype.__defineGetter__("pickable", v("gd"));
fd.prototype.__defineSetter__("pickable", function(a) {
    "boolean" != typeof a && m(Error("Invalid pickable setting."));
    this.gd = a;
    this.j = q
});
fd.prototype.__defineGetter__("textureCoordinateMap", v("Mc"));
fd.prototype.__defineSetter__("textureCoordinateMap", fa("pl"));
function hd() {
    this.Ma = Infinity;
    this.U = this.ia = -Infinity;
    this.V = Infinity;
    this.Pb = [0, 0, 0];
    this.Nb = [1, 1, 1]
}
hd.prototype.__defineGetter__("lowerThreshold", v("U"));
hd.prototype.__defineSetter__("lowerThreshold", fa("U"));
hd.prototype.__defineGetter__("upperThreshold", v("V"));
hd.prototype.__defineSetter__("upperThreshold", fa("V"));
hd.prototype.__defineGetter__("min", v("Ma"));
hd.prototype.__defineGetter__("max", v("ia"));
hd.prototype.__defineGetter__("minColor", v("Pb"));
hd.prototype.__defineSetter__("minColor", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid min. color."));
    this.Pb = a
});
hd.prototype.__defineGetter__("maxColor", v("Nb"));
hd.prototype.__defineSetter__("maxColor", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid max. color."));
    this.Nb = a
});
function id() {
    O.call(this);
    this.f = "scalars";
    this.Wc = this.H = t;
    this.rg = q;
    this.Ie = 0;
    Ga(this, new wc);
    Ga(this, new hd);
    this.Pb = [0, 1, 0];
    this.Nb = [1, 0, 0]
}
C(id, O);
id.prototype.__defineGetter__("array", v("H"));
id.prototype.__defineSetter__("array", function(a) {
    this.Wc = this.H = a;
    this.j = q
});
id.prototype.__defineGetter__("interpolation", v("Ie"));
id.prototype.__defineSetter__("interpolation", fa("Ie"));
B("X.scalars", id);
function Y(a) {
    O.call(this);
    this.f = "object";
    this.c = [];
    this.I = this.Ca = t;
    Ga(this, new fd);
    a != t && this.kc(a)
}
C(Y, O);
Y.prototype.kc = function(a) {
    this.Fa = a.Fa;
    this.ja = new cd;
    this.ja.Q = new Float32Array(a.ja.Q);
    this.v = a.v.slice();
    a.h && (this.h = new W(a.h.length,a.h));
    a.n && (this.n = new W(a.n.length,a.n));
    a.oa && (this.oa = new W(a.oa.length,a.oa));
    this.F = a.F;
    this.Mc = a.Mc;
    a.r && (this.r = new vc((new String(a.r.Wd)).toString()));
    this.ra = a.ra;
    this.c.length = 0;
    var b = a.c;
    if (b)
        for (var c = b.length, e = 0, e = 0; e < c; e++)
            this.c.push(new D[b[e].f](b[e]));
    this.O = a.O;
    this.hd = a.hd;
    this.Gc = a.Gc;
    a.xc && (this.xc = (new String(a.xc)).toString());
    this.Zc = a.Zc;
    this.gd = a.gd;
    this.Hc = a.Hc.slice();
    this.j = q
}
;
Y.prototype.__defineGetter__("colortable", function() {
    this.Ca || (this.Ca = new Cc);
    return this.Ca
});
Y.prototype.__defineGetter__("scalars", function() {
    this.I || (this.I = new id);
    return this.I
});
Y.prototype.__defineGetter__("children", v("c"));
Y.prototype.q = function() {
    var a = new jd;
    a.D = this;
    this.dispatchEvent(a)
}
;
Y.prototype.remove = function() {
    var a = new kd;
    a.D = this;
    this.dispatchEvent(a)
}
;
function ld(a, b) {
    (a == t || b == t || !(a instanceof Y) || !(b instanceof Y)) && m(Error("Fatal: Two valid X.objects are required for comparison."));
    return 1 == a.ra ? -1 : 1 == b.ra ? 1 : a.ua != t && b.ua != t && a.ua > b.ua ? -1 : 1
}
B("X.object", Y);
B("X.object.prototype.modified", Y.prototype.q);
B("X.object.prototype.remove", Y.prototype.remove);
function md() {}
function nd(a) {
    for (var b = a.h.count, c = [], e = 0, e = 0; e < b; e += 3) {
        var d = a.h.get(e)
          , f = a.h.get(e + 1)
          , g = a.h.get(e + 2)
          , h = a.n.get(e)
          , l = a.n.get(e + 1)
          , j = a.n.get(e + 2)
          , k = a.v;
        a.oa && 0 < a.oa.length && (k = a.oa.get(e));
        var n = [];
        n.push(new jc(d,h));
        n.push(new jc(f,l));
        n.push(new jc(g,j));
        c.push(new lc(n,k))
    }
    return tc(c)
}
function od(a, b) {
    (b == t || !(b instanceof sc)) && m(Error("Invalid CSG object."));
    var c = new uc
      , e = [];
    Lb(b.Y, function(a) {
        var b = []
          , g = a.Ae
          , b = Lb(a.Ib, function(a) {
            a.color = g;
            return c.add(a)
        });
        for (a = a = 2; a < b.length; a++)
            e.push([b[0], b[a - 1], b[a]])
    }
    .bind(a));
    a.Rh = Lb(c.unique(), function(a) {
        return [a.Ta.x(), a.Ta.y(), a.Ta.d()]
    });
    a.Qh = Lb(c.unique(), function(a) {
        return [a.sa.x(), a.sa.y(), a.sa.d()]
    });
    a.Ph = Lb(c.unique(), function(a) {
        return !a.color ? t : [a.color[0], a.color[1], a.color[2]]
    });
    a.h = new W(9 * e.length);
    a.n = new W(9 * e.length);
    a.oa = new W(9 * e.length);
    Lb(e, function(a) {
        var b = a[0]
          , c = a[1];
        a = a[2];
        var e = this.Rh
          , l = this.Qh
          , j = this.Ph;
        this.h.add(e[b][0], e[b][1], e[b][2]);
        this.h.add(e[c][0], e[c][1], e[c][2]);
        this.h.add(e[a][0], e[a][1], e[a][2]);
        this.n.add(l[b][0], l[b][1], l[b][2]);
        this.n.add(l[c][0], l[c][1], l[c][2]);
        this.n.add(l[a][0], l[a][1], l[a][2]);
        j[b] && this.oa.add(j[b][0], j[b][1], j[b][2]);
        j[c] && this.oa.add(j[c][0], j[c][1], j[c][2]);
        j[a] && this.oa.add(j[a][0], j[a][1], j[a][2])
    }
    .bind(a));
    0 == a.oa.C && (a.oa = t);
    a.Fa = gd
}
md.prototype.Uf = function(a) {
    (a == t || !(a instanceof sc) && !(a instanceof Y)) && m(Error("Invalid object."));
    var b = a;
    a instanceof Y && (b = nd(b));
    a = new Y;
    Ga(a, new md);
    od(a, nd(this).Uf(b));
    return a
}
;
md.prototype.ta = function(a) {
    (a == t || !(a instanceof sc) && !(a instanceof Y)) && m(Error("Invalid object."));
    var b = a;
    a instanceof Y && (b = nd(b));
    a = new Y;
    Ga(a, new md);
    od(a, nd(this).ta(b));
    return a
}
;
md.prototype.rf = function(a) {
    (a == t || !(a instanceof sc) && !(a instanceof Y)) && m(Error("Invalid object."));
    var b = a;
    a instanceof Y && (b = nd(b));
    a = new Y;
    Ga(a, new md);
    od(a, nd(this).rf(b));
    return a
}
;
md.prototype.inverse = function() {
    var a = new Y;
    Ga(a, new md);
    od(a, nd(this).inverse());
    return a
}
;
B("X.constructable", md);
B("X.constructable.prototype.intersect", md.prototype.rf);
B("X.constructable.prototype.inverse", md.prototype.inverse);
B("X.constructable.prototype.subtract", md.prototype.ta);
B("X.constructable.prototype.union", md.prototype.Uf);
function pd(a) {
    Rb.call(this, a);
    this.f = "event"
}
C(pd, Rb);
var qd = hc("pan")
  , rd = hc("rotate")
  , sd = hc("zoom")
  , td = hc("scroll");
hc("render");
var ud = hc("resetview")
  , vd = hc("windowlevel")
  , wd = hc("modified")
  , xd = hc("remove")
  , yd = hc("progress")
  , zd = hc("hover")
  , Ad = hc("hover_end")
  , Bd = hc("computing")
  , Cd = hc("computing_end")
  , Dd = hc("computing_progress");
function Ed() {
    pd.call(this, vd);
    this.Ne = this.$e = 0
}
C(Ed, pd);
function Fd() {
    pd.call(this, qd);
    this.ua = new D.m(0,0,0)
}
C(Fd, pd);
function Gd() {
    pd.call(this, rd);
    this.ua = new D.m(0,0,0)
}
C(Gd, pd);
function Hd() {
    pd.call(this, sd);
    this.bb = this.qb = u
}
C(Hd, pd);
function Id() {
    pd.call(this, td);
    this.ca = u
}
C(Id, pd);
function Jd() {
    pd.call(this, zd);
    this.ce = this.be = 0
}
C(Jd, pd);
function Kd() {
    pd.call(this, Ad)
}
C(Kd, pd);
function Ld() {
    pd.call(this, ud)
}
C(Ld, pd);
function jd() {
    pd.call(this, wd);
    this.u = this.D = t
}
C(jd, pd);
function kd() {
    pd.call(this, xd);
    this.u = this.D = t
}
C(kd, pd);
function Md() {
    pd.call(this, yd);
    this.ud = 0
}
C(Md, pd);
function Nd() {
    pd.call(this, Bd);
    this.D = t
}
C(Nd, pd);
function Od() {
    pd.call(this, Dd);
    this.ud = 0
}
C(Od, pd);
function Pd() {
    pd.call(this, Cd);
    this.D = t
}
C(Pd, pd);
B("X.event.events.PAN", qd);
B("X.event.events.ROTATE", rd);
B("X.event.events.ZOOM", sd);
B("X.event.events.SCROLL", td);
function Qd(a, b, c) {
    a == t && m(Error("Invalid GL Buffer."));
    b == t && m(Error("Invalid number of items."));
    c == t && m(Error("Invalid item size."));
    O.call(this);
    this.f = "buffer";
    this.P = a;
    this.Lb = b;
    this.Mb = c
}
C(Qd, O);
var Rd;
function Sd(a, b) {
    var c;
    c = a.className;
    c = na(c) && c.match(/\S+/g) || [];
    for (var e = Ob(arguments, 1), d = c.length + e.length, f = c, g = 0; g < e.length; g++)
        0 <= Ib(f, e[g]) || f.push(e[g]);
    a.className = c.join(" ");
    return c.length == d
}
;function Td(a, b) {
    this.width = a;
    this.height = b
}
w = Td.prototype;
w.l = function() {
    return new Td(this.width,this.height)
}
;
w.ceil = function() {
    this.width = Math.ceil(this.width);
    this.height = Math.ceil(this.height);
    return this
}
;
w.floor = function() {
    this.width = Math.floor(this.width);
    this.height = Math.floor(this.height);
    return this
}
;
w.round = function() {
    this.width = Math.round(this.width);
    this.height = Math.round(this.height);
    return this
}
;
w.scale = function(a, b) {
    var c = x(b) ? b : a;
    this.width *= a;
    this.height *= c;
    return this
}
;
var Ud = !J || J && 9 <= Eb;
!kb && !J || J && J && 9 <= Eb || kb && Cb("1.9.1");
J && Cb("9");
function Vd(a, b) {
    this.x = ja(a) ? a : 0;
    this.y = ja(b) ? b : 0
}
w = Vd.prototype;
w.l = function() {
    return new Vd(this.x,this.y)
}
;
function Wd(a, b) {
    return new Vd(a.x - b.x,a.y - b.y)
}
w.ceil = function() {
    this.x = Math.ceil(this.x);
    this.y = Math.ceil(this.y);
    return this
}
;
w.floor = function() {
    this.x = Math.floor(this.x);
    this.y = Math.floor(this.y);
    return this
}
;
w.round = function() {
    this.x = Math.round(this.x);
    this.y = Math.round(this.y);
    return this
}
;
w.translate = function(a, b) {
    a instanceof Vd ? (this.x += a.x,
    this.y += a.y) : (this.x += a,
    x(b) && (this.y += b));
    return this
}
;
w.scale = function(a, b) {
    var c = x(b) ? b : a;
    this.x *= a;
    this.y *= c;
    return this
}
;
function Xd(a) {
    return a ? new Yd(Zd(a)) : Rd || (Rd = new Yd)
}
function $d(a) {
    return na(a) ? document.getElementById(a) : a
}
var ae = {
    cellpadding: "cellPadding",
    cellspacing: "cellSpacing",
    colspan: "colSpan",
    frameborder: "frameBorder",
    height: "height",
    maxlength: "maxLength",
    role: "role",
    rowspan: "rowSpan",
    type: "type",
    usemap: "useMap",
    valign: "vAlign",
    width: "width"
};
function be(a, b, c) {
    return ce(document, arguments)
}
function ce(a, b) {
    var c = b[0]
      , e = b[1];
    if (!Ud && e && (e.name || e.type)) {
        c = ["<", c];
        e.name && c.push(' name="', Sa(e.name), '"');
        if (e.type) {
            c.push(' type="', Sa(e.type), '"');
            var d = {};
            Ra(d, e);
            delete d.type;
            e = d
        }
        c.push(">");
        c = c.join("")
    }
    var f = a.createElement(c);
    e && (na(e) ? f.className = e : la(e) ? Sd.apply(t, [f].concat(e)) : Na(e, function(a, b) {
        "style" == b ? f.style.cssText = a : "class" == b ? f.className = a : "for" == b ? f.htmlFor = a : b in ae ? f.setAttribute(ae[b], a) : 0 == b.lastIndexOf("aria-", 0) || 0 == b.lastIndexOf("data-", 0) ? f.setAttribute(b, a) : f[b] = a
    }));
    if (2 < b.length) {
        e = function(b) {
            b && f.appendChild(na(b) ? a.createTextNode(b) : b)
        }
        ;
        for (c = 2; c < b.length; c++) {
            var g = b[c];
            if (ma(g) && !(pa(g) && 0 < g.nodeType)) {
                var d = Jb, h;
                a: {
                    if ((h = g) && "number" == typeof h.length) {
                        if (pa(h)) {
                            h = "function" == typeof h.item || "string" == typeof h.item;
                            break a
                        }
                        if (oa(h)) {
                            h = "function" == typeof h.item;
                            break a
                        }
                    }
                    h = u
                }
                if (h)
                    if (h = g.length,
                    0 < h) {
                        for (var l = Array(h), j = 0; j < h; j++)
                            l[j] = g[j];
                        g = l
                    } else
                        g = [];
                d(g, e)
            } else
                e(g)
        }
    }
    return f
}
function de(a) {
    a && a.parentNode && a.parentNode.removeChild(a)
}
function ee(a) {
    for (; a && 1 != a.nodeType; )
        a = a.nextSibling;
    return a
}
function fe(a, b) {
    if (a.contains && 1 == b.nodeType)
        return a == b || a.contains(b);
    if ("undefined" != typeof a.compareDocumentPosition)
        return a == b || Boolean(a.compareDocumentPosition(b) & 16);
    for (; b && a != b; )
        b = b.parentNode;
    return b == a
}
function Zd(a) {
    return 9 == a.nodeType ? a : a.ownerDocument || a.document
}
function Yd(a) {
    this.ka = a || ga.document || document
}
w = Yd.prototype;
w.le = Xd;
w.s = function(a) {
    return na(a) ? this.ka.getElementById(a) : a
}
;
w.Hh = Yd.prototype.s;
w.Pc = function(a, b, c) {
    return ce(this.ka, arguments)
}
;
w.createElement = function(a) {
    return this.ka.createElement(a)
}
;
w.createTextNode = function(a) {
    return this.ka.createTextNode(String(a))
}
;
function ge(a) {
    return "CSS1Compat" == a.ka.compatMode
}
function he(a) {
    var b = a.ka;
    a = !mb && "CSS1Compat" == b.compatMode ? b.documentElement : b.body;
    b = b.parentWindow || b.defaultView;
    return J && Cb("10") && b.pageYOffset != a.scrollTop ? new Vd(a.scrollLeft,a.scrollTop) : new Vd(b.pageXOffset || a.scrollLeft,b.pageYOffset || a.scrollTop)
}
w.appendChild = function(a, b) {
    a.appendChild(b)
}
;
w.contains = fe;
function ie(a, b, c, e) {
    this.top = a;
    this.right = b;
    this.bottom = c;
    this.left = e
}
w = ie.prototype;
w.l = function() {
    return new ie(this.top,this.right,this.bottom,this.left)
}
;
w.contains = function(a) {
    return !this || !a ? u : a instanceof ie ? a.left >= this.left && a.right <= this.right && a.top >= this.top && a.bottom <= this.bottom : a.x >= this.left && a.x <= this.right && a.y >= this.top && a.y <= this.bottom
}
;
w.ceil = function() {
    this.top = Math.ceil(this.top);
    this.right = Math.ceil(this.right);
    this.bottom = Math.ceil(this.bottom);
    this.left = Math.ceil(this.left);
    return this
}
;
w.floor = function() {
    this.top = Math.floor(this.top);
    this.right = Math.floor(this.right);
    this.bottom = Math.floor(this.bottom);
    this.left = Math.floor(this.left);
    return this
}
;
w.round = function() {
    this.top = Math.round(this.top);
    this.right = Math.round(this.right);
    this.bottom = Math.round(this.bottom);
    this.left = Math.round(this.left);
    return this
}
;
w.translate = function(a, b) {
    a instanceof Vd ? (this.left += a.x,
    this.right += a.x,
    this.top += a.y,
    this.bottom += a.y) : (this.left += a,
    this.right += a,
    x(b) && (this.top += b,
    this.bottom += b));
    return this
}
;
w.scale = function(a, b) {
    var c = x(b) ? b : a;
    this.left *= a;
    this.right *= a;
    this.top *= c;
    this.bottom *= c;
    return this
}
;
function je(a, b, c, e) {
    this.left = a;
    this.top = b;
    this.width = c;
    this.height = e
}
w = je.prototype;
w.l = function() {
    return new je(this.left,this.top,this.width,this.height)
}
;
w.Pg = function(a) {
    var b = Math.max(this.left, a.left)
      , c = Math.min(this.left + this.width, a.left + a.width);
    if (b <= c) {
        var e = Math.max(this.top, a.top);
        a = Math.min(this.top + this.height, a.top + a.height);
        if (e <= a)
            return this.left = b,
            this.top = e,
            this.width = c - b,
            this.height = a - e,
            q
    }
    return u
}
;
w.contains = function(a) {
    return a instanceof je ? this.left <= a.left && this.left + this.width >= a.left + a.width && this.top <= a.top && this.top + this.height >= a.top + a.height : a.x >= this.left && a.x <= this.left + this.width && a.y >= this.top && a.y <= this.top + this.height
}
;
function ke(a, b) {
    var c = b.x < a.left ? a.left - b.x : Math.max(b.x - (a.left + a.width), 0)
      , e = b.y < a.top ? a.top - b.y : Math.max(b.y - (a.top + a.height), 0);
    return c * c + e * e
}
w.of = function(a) {
    return Math.sqrt(ke(this, a))
}
;
w.ceil = function() {
    this.left = Math.ceil(this.left);
    this.top = Math.ceil(this.top);
    this.width = Math.ceil(this.width);
    this.height = Math.ceil(this.height);
    return this
}
;
w.floor = function() {
    this.left = Math.floor(this.left);
    this.top = Math.floor(this.top);
    this.width = Math.floor(this.width);
    this.height = Math.floor(this.height);
    return this
}
;
w.round = function() {
    this.left = Math.round(this.left);
    this.top = Math.round(this.top);
    this.width = Math.round(this.width);
    this.height = Math.round(this.height);
    return this
}
;
w.translate = function(a, b) {
    a instanceof Vd ? (this.left += a.x,
    this.top += a.y) : (this.left += a,
    x(b) && (this.top += b));
    return this
}
;
w.scale = function(a, b) {
    var c = x(b) ? b : a;
    this.left *= a;
    this.width *= a;
    this.top *= c;
    this.height *= c;
    return this
}
;
function le(a, b) {
    var c = Zd(a);
    return c.defaultView && c.defaultView.getComputedStyle && (c = c.defaultView.getComputedStyle(a, t)) ? c[b] || c.getPropertyValue(b) || "" : ""
}
function me(a, b) {
    return le(a, b) || (a.currentStyle ? a.currentStyle[b] : t) || a.style && a.style[b]
}
function ne(a) {
    a = a ? Zd(a) : document;
    return J && !(J && 9 <= Eb) && !ge(Xd(a)) ? a.body : a.documentElement
}
function oe(a) {
    var b = a.getBoundingClientRect();
    J && (a = a.ownerDocument,
    b.left -= a.documentElement.clientLeft + a.body.clientLeft,
    b.top -= a.documentElement.clientTop + a.body.clientTop);
    return b
}
function pe(a) {
    if (J && !(J && 8 <= Eb))
        return a.offsetParent;
    var b = Zd(a)
      , c = me(a, "position")
      , e = "fixed" == c || "absolute" == c;
    for (a = a.parentNode; a && a != b; a = a.parentNode)
        if (c = me(a, "position"),
        e = e && "static" == c && a != b.documentElement && a != b.body,
        !e && (a.scrollWidth > a.clientWidth || a.scrollHeight > a.clientHeight || "fixed" == c || "absolute" == c || "relative" == c))
            return a;
    return t
}
function qe(a) {
    for (var b = new ie(0,Infinity,Infinity,0), c = Xd(a), e = c.ka.body, d = c.ka.documentElement, f = !mb && "CSS1Compat" == c.ka.compatMode ? c.ka.documentElement : c.ka.body; a = pe(a); )
        if ((!J || 0 != a.clientWidth) && (!mb || 0 != a.clientHeight || a != e) && a != e && a != d && "visible" != me(a, "overflow")) {
            var g = re(a), h;
            h = a;
            if (kb && !Cb("1.9")) {
                var l = parseFloat(le(h, "borderLeftWidth"));
                if (se(h))
                    var j = h.offsetWidth - h.clientWidth - l - parseFloat(le(h, "borderRightWidth"))
                      , l = l + j;
                h = new Vd(l,parseFloat(le(h, "borderTopWidth")))
            } else
                h = new Vd(h.clientLeft,h.clientTop);
            g.x += h.x;
            g.y += h.y;
            b.top = Math.max(b.top, g.y);
            b.right = Math.min(b.right, g.x + a.clientWidth);
            b.bottom = Math.min(b.bottom, g.y + a.clientHeight);
            b.left = Math.max(b.left, g.x)
        }
    e = f.scrollLeft;
    f = f.scrollTop;
    b.left = Math.max(b.left, e);
    b.top = Math.max(b.top, f);
    c = (c.ka.parentWindow || c.ka.defaultView || window).document;
    c = "CSS1Compat" == c.compatMode ? c.documentElement : c.body;
    c = new Td(c.clientWidth,c.clientHeight);
    b.right = Math.min(b.right, e + c.width);
    b.bottom = Math.min(b.bottom, f + c.height);
    return 0 <= b.top && 0 <= b.left && b.bottom > b.top && b.right > b.left ? b : t
}
function re(a) {
    var b, c = Zd(a), e = me(a, "position"), d = kb && c.getBoxObjectFor && !a.getBoundingClientRect && "absolute" == e && (b = c.getBoxObjectFor(a)) && (0 > b.screenX || 0 > b.screenY), f = new Vd(0,0), g = ne(c);
    if (a == g)
        return f;
    if (a.getBoundingClientRect)
        b = oe(a),
        a = he(Xd(c)),
        f.x = b.left + a.x,
        f.y = b.top + a.y;
    else if (c.getBoxObjectFor && !d)
        b = c.getBoxObjectFor(a),
        a = c.getBoxObjectFor(g),
        f.x = b.screenX - a.screenX,
        f.y = b.screenY - a.screenY;
    else {
        b = a;
        do {
            f.x += b.offsetLeft;
            f.y += b.offsetTop;
            b != a && (f.x += b.clientLeft || 0,
            f.y += b.clientTop || 0);
            if (mb && "fixed" == me(b, "position")) {
                f.x += c.body.scrollLeft;
                f.y += c.body.scrollTop;
                break
            }
            b = b.offsetParent
        } while (b && b != a);if (jb || mb && "absolute" == e)
            f.y -= c.body.offsetTop;
        for (b = a; (b = pe(b)) && b != c.body && b != g; )
            if (f.x -= b.scrollLeft,
            !jb || "TR" != b.tagName)
                f.y -= b.scrollTop
    }
    return f
}
function te(a) {
    var b = new Vd;
    if (1 == a.nodeType) {
        if (a.getBoundingClientRect) {
            var c = oe(a);
            b.x = c.left;
            b.y = c.top
        } else {
            var c = he(Xd(a))
              , e = re(a);
            b.x = e.x - c.x;
            b.y = e.y - c.y
        }
        if (kb && !Cb(12)) {
            var d;
            J ? d = "-ms-transform" : mb ? d = "-webkit-transform" : jb ? d = "-o-transform" : kb && (d = "-moz-transform");
            var f;
            d && (f = me(a, d));
            f || (f = me(a, "transform"));
            f ? (a = f.match(ue),
            a = !a ? new Vd(0,0) : new Vd(parseFloat(a[1]),parseFloat(a[2]))) : a = new Vd(0,0);
            b = new Vd(b.x + a.x,b.y + a.y)
        }
    } else
        d = oa(a.Ci),
        f = a,
        a.targetTouches ? f = a.targetTouches[0] : d && a.lb.targetTouches && (f = a.lb.targetTouches[0]),
        b.x = f.clientX,
        b.y = f.clientY;
    return b
}
function ve(a, b) {
    "number" == typeof a && (a = (b ? Math.round(a) : a) + "px");
    return a
}
function we(a) {
    if ("none" != me(a, "display"))
        return xe(a);
    var b = a.style
      , c = b.display
      , e = b.visibility
      , d = b.position;
    b.visibility = "hidden";
    b.position = "absolute";
    b.display = "inline";
    a = xe(a);
    b.display = c;
    b.position = d;
    b.visibility = e;
    return a
}
function xe(a) {
    var b = a.offsetWidth
      , c = a.offsetHeight
      , e = mb && !b && !c;
    return (!ja(b) || e) && a.getBoundingClientRect ? (a = oe(a),
    new Td(a.right - a.left,a.bottom - a.top)) : new Td(b,c)
}
function ye(a, b) {
    a.style.display = b ? "" : "none"
}
function se(a) {
    return "rtl" == me(a, "direction")
}
function ze(a, b) {
    if (/^\d+px?$/.test(b))
        return parseInt(b, 10);
    var c = a.style.left
      , e = a.runtimeStyle.left;
    a.runtimeStyle.left = a.currentStyle.left;
    a.style.left = b;
    var d = a.style.pixelLeft;
    a.style.left = c;
    a.runtimeStyle.left = e;
    return d
}
function Ae(a, b) {
    var c = a.currentStyle ? a.currentStyle[b] : t;
    return c ? ze(a, c) : 0
}
var Be = {
    thin: 2,
    medium: 4,
    thick: 6
};
function Ce(a, b) {
    if ("none" == (a.currentStyle ? a.currentStyle[b + "Style"] : t))
        return 0;
    var c = a.currentStyle ? a.currentStyle[b + "Width"] : t;
    return c in Be ? Be[c] : ze(a, c)
}
var ue = /matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;
function De(a, b) {
    ic.call(this);
    this.G = a;
    var c = pa(this.G) && 1 == this.G.nodeType ? this.G : this.G ? this.G.body : t;
    this.Xi = !!c && se(c);
    this.Fl = L(this.G, kb ? "DOMMouseScroll" : "mousewheel", this, b)
}
C(De, ic);
De.prototype.handleEvent = function(a) {
    var b = 0
      , c = 0
      , e = 0;
    a = a.lb;
    if ("mousewheel" == a.type) {
        c = 1;
        if (J || mb && (cb || Cb("532.0")))
            c = 40;
        e = Ee(-a.wheelDelta, c);
        ja(a.wheelDeltaX) ? (b = Ee(-a.wheelDeltaX, c),
        c = Ee(-a.wheelDeltaY, c)) : c = e
    } else
        e = a.detail,
        100 < e ? e = 3 : -100 > e && (e = -3),
        ja(a.axis) && a.axis === a.HORIZONTAL_AXIS ? b = e : c = e;
    x(this.Ug) && (b = Math.min(Math.max(b, -this.Ug), this.Ug));
    x(this.Vg) && (c = Math.min(Math.max(c, -this.Vg), this.Vg));
    this.Xi && (b = -b);
    b = new Fe(e,a,b,c);
    this.dispatchEvent(b)
}
;
function Ee(a, b) {
    return mb && (bb || eb) && 0 != a % b ? a : a / b
}
function Fe(a, b, c, e) {
    b && this.ya(b, p);
    this.type = "mousewheel";
    this.detail = a;
    this.vl = c;
    this.Qc = e
}
C(Fe, Tb);
J || mb && Cb("525");
function Ge(a) {
    O.call(this);
    this.f = "interactor";
    this.La = a;
    this.Oe = this.lg = this.kg = this.mg = this.jg = this.ng = t;
    this.Ud = q;
    this.Vb = this.Ob = this.rb = u;
    this.qa = [0, 0];
    this.Je = new D.m(0,0,0);
    this.Xc = new D.m(0,0,0);
    this.Rg = 0;
    this.ug = this.Qd = t;
    this.tg = u;
    this.R = {
        MOUSEWHEEL_ENABLED: q,
        MOUSECLICKS_ENABLED: q,
        KEYBOARD_ENABLED: q,
        HOVERING_ENABLED: q,
        CONTEXTMENU_ENABLED: u,
        TOUCH_ENABLED: q,
        TOUCH_BOUNCING_ENABLED: u
    }
}
C(Ge, O);
Ge.prototype.__defineGetter__("config", v("R"));
Ge.prototype.__defineGetter__("leftButtonDown", v("rb"));
Ge.prototype.__defineGetter__("middleButtonDown", v("Ob"));
Ge.prototype.__defineGetter__("rightButtonDown", v("Vb"));
Ge.prototype.ya = function() {
    this.R.MOUSEWHEEL_ENABLED ? (this.Oe = new De(this.La),
    this.ng = L(this.Oe, "mousewheel", this.Ed.bind(this))) : (bc(this.ng),
    this.Oe = t);
    this.R.MOUSECLICKS_ENABLED ? (this.jg = L(this.La, "mousedown", this.rj.bind(this)),
    this.mg = L(this.La, "mouseup", this.wj.bind(this))) : (bc(this.jg),
    bc(this.mg));
    this.La.oncontextmenu = this.R.CONTEXTMENU_ENABLED ? t : function() {
        return u
    }
    ;
    window.onkeydown = this.R.KEYBOARD_ENABLED ? this.eh.bind(this) : t;
    this.R.TOUCH_ENABLED ? (this.R.TOUCH_BOUNCING_ENABLED || document.body.addEventListener("touchmove", function(a) {
        a.preventDefault()
    }, u),
    this.Zh = L(this.La, "touchstart", this.Lj.bind(this)),
    this.Yh = L(this.La, "touchmove", this.Jj.bind(this)),
    this.Xh = L(this.La, "touchend", this.Fj.bind(this))) : (bc(this.Zh),
    bc(this.Yh),
    bc(this.Xh));
    bc(this.kg);
    bc(this.lg);
    this.kg = L(this.La, "mousemove", this.tj.bind(this));
    this.lg = L(this.La, "mouseout", this.uj.bind(this))
}
;
Ge.prototype.rj = function(a) {
    0 == a.button ? this.rb = q : 1 == a.button ? this.Ob = q : 2 == a.button && (this.Vb = q);
    eval("this.onMouseDown(" + this.rb + "," + this.Ob + "," + this.Vb + ")");
    He(this);
    a.preventDefault()
}
;
Ge.prototype.qj = aa();
Ge.prototype.wj = function(a) {
    0 == a.button ? this.rb = u : 1 == a.button ? this.Ob = u : 2 == a.button && (this.Vb = u);
    eval("this.onMouseUp(" + this.rb + "," + this.Ob + "," + this.Vb + ")");
    He(this);
    a.preventDefault()
}
;
Ge.prototype.__defineGetter__("mousePosition", v("qa"));
w = Ge.prototype;
w.vj = aa();
w.uj = function(a) {
    this.Ud = u;
    this.R.KEYBOARD_ENABLED && (window.onkeydown = t);
    this.Vb = this.Ob = this.rb = u;
    He(this);
    this.Je = new D.m(0,0,0);
    a.preventDefault()
}
;
w.sj = aa();
w.Lj = function(a) {
    a.preventDefault();
    a.ya(a.lb.targetTouches[0], a.currentTarget);
    eval("this.onTouchStart(" + a.clientX + "," + a.clientY + ")");
    this.Xc = new D.m(a.clientX,a.clientY,0);
    this.ug = setTimeout(this.Hj.bind(this, a), 500)
}
;
w.Kj = aa();
w.Hj = function(a) {
    eval("this.onTouchHover(" + a.clientX + "," + a.clientY + ")");
    a = new Hd;
    a.qb = q;
    a.bb = this instanceof Ie;
    this.dispatchEvent(a);
    this.Yd = q
}
;
w.Gj = aa();
function Je(a) {
    clearTimeout(a.ug);
    if (a.Yd) {
        var b = new Hd;
        b.qb = u;
        b.bb = a instanceof Ie;
        a.dispatchEvent(b)
    }
    a.Yd = u
}
w.Fj = function(a) {
    a.preventDefault();
    eval("this.onTouchEnd()");
    Je(this)
}
;
w.Ej = aa();
w.Jj = function(a) {
    a.preventDefault();
    this.Yd || Je(this);
    this.touchmoveEvent = a = a.lb;
    eval("this.onTouchMove(this['touchmoveEvent'])");
    var b = a.targetTouches;
    if (1 == b.length) {
        a = b[0];
        var c = [a.clientX, a.clientY];
        a = new D.m(c[0],c[1],0);
        var b = c[0] > 3 * this.La.clientWidth / 4
          , e = c[0] < this.La.clientWidth / 4
          , d = c[1] < this.La.clientHeight / 4
          , c = c[1] > 3 * this.La.clientHeight / 4
          , c = !b && !e && !d && !c
          , d = this.Xc.ta(a);
        this.Xc = a.l();
        if (this.Yd)
            a = new Fd,
            5 < d.x ? d.x = 1 : -5 > d.x && (d.x = -1),
            5 < d.y ? d.y = 1 : -5 > d.y && (d.y = -1),
            a.ua = d,
            this.dispatchEvent(a);
        else if (this instanceof Ke && (b || e))
            a = new Id,
            a.ca = 0 > d.y,
            this.dispatchEvent(a);
        else if (this instanceof Ie || c)
            d.scale(3),
            a = new Gd,
            a.ua = d,
            this.dispatchEvent(a)
    } else
        2 == b.length && (a = b[0],
        b = b[1],
        a = [a.clientX, a.clientY],
        b = [b.clientX, b.clientY],
        a = new D.m(a[0],a[1],0),
        b = new D.m(b[0],b[1],0),
        d = Fc(a, b),
        b = d - this.Rg,
        this.Rg = d,
        this.Xc.ta(a),
        this.Xc = a.l(),
        10 < Math.abs(b) && (a = new Hd,
        a.qb = 0 < b,
        a.bb = this instanceof Ie,
        this.dispatchEvent(a)))
}
;
w.Ij = aa();
w.tj = function(a) {
    this.mousemoveEvent = a;
    eval("this.onMouseMove(this['mousemoveEvent'])");
    this.Ud = q;
    this.R.KEYBOARD_ENABLED && window.onkeydown == t && (window.onkeydown = this.eh.bind(this));
    a.preventDefault();
    var b = a.shiftKey;
    this.tg = b;
    this.qa = [a.offsetX, a.offsetY];
    var c = new D.m(this.qa[0],this.qa[1],0);
    a = this.Je.ta(c);
    this.Je = c.l();
    this.R.HOVERING_ENABLED && ((0 < Math.abs(a.x) || 0 < Math.abs(a.y) || this.Ob || this.rb || this.Vb) && He(this),
    this.Qd = setTimeout(function() {
        He(this);
        var a = new Jd;
        a.be = c.x;
        a.ce = c.y;
        this.dispatchEvent(a);
        this.Qd = t
    }
    .bind(this), 300));
    0 != a.Fb() && (this.rb && !b ? (b = new Gd,
    a.scale(3),
    b.ua = a,
    this.dispatchEvent(b)) : this.Ob || this.rb && b ? (b = new Fd,
    b.ua = a,
    this.dispatchEvent(b)) : this.Vb && (b = new Hd,
    b.qb = 0 < a.y,
    b.bb = u,
    this.dispatchEvent(b)))
}
;
function He(a) {
    a.Qd && clearTimeout(a.Qd);
    a.dispatchEvent(new Kd)
}
w.xj = aa();
w.Ed = function(a) {
    this.mouseWheelEvent = a;
    eval("this.onMouseWheel(this['mouseWheelEvent'])");
    He(this);
    a.preventDefault()
}
;
w.oj = aa();
w.eh = function(a) {
    if (this.Ud) {
        this.keyEvent = a;
        eval("this.onKey(this['keyEvent'])");
        He(this);
        var b = a.altKey
          , c = a.ctrlKey
          , e = a.metaKey
          , d = a.shiftKey
          , f = a.keyCode;
        82 == f && !b && !c && !e && !d ? (a.preventDefault(),
        a = new Ld,
        this.dispatchEvent(a)) : 37 <= f && 40 >= f && (a.preventDefault(),
        d ? a = new Fd : b ? a = new Hd : (a = new Gd,
        this instanceof Ke && (a = new Id)),
        a && (c = new D.m(0,0,0),
        37 == f ? (c.x = 5,
        a.ca = u,
        b && (a.ca = q,
        a.qb = q,
        a.bb = u)) : 39 == f ? (c.x = -5,
        a.ca = q,
        b && (a.qb = u,
        a.bb = u)) : 38 == f ? (c.y = 5,
        a.ca = q,
        b && (a.qb = q,
        a.bb = q)) : 40 == f && (c.y = -5,
        a.ca = u,
        b && (a.qb = u,
        a.bb = q)),
        a.ua = c,
        this.dispatchEvent(a)))
    }
}
;
B("X.interactor", Ge);
B("X.interactor.prototype.init", Ge.prototype.ya);
B("X.interactor.prototype.onMouseDown", Ge.prototype.qj);
B("X.interactor.prototype.onMouseUp", Ge.prototype.vj);
B("X.interactor.prototype.onMouseMove", Ge.prototype.sj);
B("X.interactor.prototype.onMouseWheel", Ge.prototype.xj);
B("X.interactor.prototype.onKey", Ge.prototype.oj);
B("X.interactor.prototype.onTouchStart", Ge.prototype.Kj);
B("X.interactor.prototype.onTouchMove", Ge.prototype.Ij);
B("X.interactor.prototype.onTouchEnd", Ge.prototype.Ej);
B("X.interactor.prototype.onTouchHover", Ge.prototype.Gj);
function Ke(a) {
    Ge.call(this, a);
    this.f = "interactor2D"
}
C(Ke, Ge);
Ke.prototype.Ed = function(a) {
    Ke.A.Ed.call(this, a);
    var b = new Id;
    a.Qc == t && (a.Qc = 0);
    b.ca = 0 > a.Qc;
    this.dispatchEvent(b)
}
;
function Le(a, b) {
    (!x(a) || !x(b)) && m(Error("A camera needs valid width and height values."));
    O.call(this);
    this.f = "camera";
    this.fc = new D.m(0,100,0);
    this.zc = new D.m(0,0,0);
    this.ca = new D.m(0,0,1);
    this.J = a;
    this.w = b;
    this.o = this.se(this.fc, this.zc)
}
C(Le, O);
Le.prototype.observe = function(a) {
    (a == t || !(a instanceof Ge)) && m(Error("Could not observe the interactor."));
    L(a, rd, this.Bj.bind(this));
    L(a, qd, this.yj.bind(this));
    L(a, sd, this.Oj.bind(this))
}
;
Le.prototype.Bj = function(a) {
    a instanceof Gd || m(Error("Received no valid rotate event."));
    this.rotate(a.ua)
}
;
Le.prototype.Oj = function(a) {
    a instanceof Hd || m(Error("Received no valid zoom event."));
    a.qb ? this.Xf(a.bb) : this.Yf(a.bb)
}
;
Le.prototype.yj = function(a) {
    a instanceof Fd || m(Error("Received no valid pan event."));
    this.Hf(a.ua)
}
;
Le.prototype.__defineGetter__("view", v("o"));
Le.prototype.__defineSetter__("view", function(a) {
    (a == t || !(a instanceof Float32Array)) && m(Error("Invalid view matrix."));
    this.o = a
});
Le.prototype.__defineGetter__("position", function() {
    return [this.fc.x, this.fc.y, this.fc.d]
});
Le.prototype.__defineSetter__("position", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid position."));
    this.fc = new D.m(a[0],a[1],a[2]);
    this.reset()
});
Le.prototype.__defineGetter__("focus", function() {
    return [this.zc.x, this.zc.y, this.zc.d]
});
Le.prototype.__defineSetter__("focus", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid focus"));
    this.zc = new D.m(a[0],a[1],a[2]);
    this.reset()
});
Le.prototype.__defineGetter__("up", function() {
    return [this.ca.x, this.ca.y, this.ca.d]
});
Le.prototype.__defineSetter__("up", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid up vector."));
    this.ca = new D.m(a[0],a[1],a[2]);
    this.reset()
});
w = Le.prototype;
w.reset = function() {
    this.o = this.se(this.fc, this.zc)
}
;
w.rotate = function(a) {
    la(a) && 2 == a.length ? a = new D.m(a[0],a[1],0) : a instanceof D.m || m(Error("Invalid distance vector for rotate operation."));
    return a
}
;
w.Hf = function(a) {
    la(a) && 2 == a.length ? a = new D.m(a[0],a[1],0) : a instanceof D.m || m(Error("Invalid distance vector for pan operation."));
    this.o[12] -= a.x;
    this.o[13] += a.y
}
;
w.Xf = function(a) {
    var b = 20;
    a != t && !a && (b = 1);
    this.o[14] += b
}
;
w.Yf = function(a) {
    var b = 20;
    a != t && !a && (b = 1);
    this.o[14] -= b
}
;
w.se = function(a, b) {
    (!(a instanceof D.m) || !(b instanceof D.m)) && m(Error("3D vectors required for calculating the view."));
    return D.g.yd()
}
;
B("X.camera", Le);
B("X.camera.prototype.pan", Le.prototype.Hf);
B("X.camera.prototype.rotate", Le.prototype.rotate);
B("X.camera.prototype.zoomIn", Le.prototype.Xf);
B("X.camera.prototype.zoomOut", Le.prototype.Yf);
function Me(a, b) {
    Le.call(this, a, b);
    this.f = "camera3D";
    this.bg = 45;
    this.Se = D.g.uf(D.g.yd(), this.bg, a / b, 1, 1E4)
}
C(Me, Le);
Me.prototype.rotate = function(a) {
    a = Me.A.rotate.call(this, a);
    var b = -a.x / 5 * Math.PI / 180;
    a = -a.y / 5 * Math.PI / 180;
    var c = new D.m(this.o[1],this.o[5],this.o[9])
      , e = new D.m(this.o[0],this.o[4],this.o[8]);
    c.normalize();
    e.normalize();
    D.g.rotate(this.o, b, c.x, c.y, c.d);
    D.g.rotate(this.o, a, e.x, e.y, e.d)
}
;
Me.prototype.se = function(a, b) {
    var c = Me.A.se.call(this, a, b);
    D.g.Tg(c, a, b, this.ca);
    return c
}
;
function Ne(a, b, c, e) {
    var d = new Float32Array(4)
      , f = new Float32Array(4)
      , g = new Float32Array(16)
      , h = new Float32Array(16);
    new Float32Array(16);
    D.g.multiply(a.Se, a.o, h);
    D.g.X(h, g);
    d[0] = b;
    d[1] = c;
    d[2] = 2 * e - 1;
    d[3] = 1;
    D.g.Xg(g, d, f);
    f[3] = 1 / f[3];
    f[0] *= f[3];
    f[1] *= f[3];
    f[2] *= f[3];
    return f
}
B("X.camera3D", Me);
function Oe() {
    O.call(this);
    this.f = "parser";
    this.N = t;
    this.C = 0;
    this.Vh = 0 < (new Int8Array((new Int16Array([1])).buffer))[0];
    this.Sd = q;
    this.ol = -Infinity;
    this.nl = Infinity
}
C(Oe, O);
Oe.prototype.parse = function() {
    m(Error("The function parse() should be overloaded."))
}
;
function Pe(a) {
    for (var b = Infinity, c = -Infinity, e = a.length, d = 0, d = 0; d < e; d++)
        if (!isNaN(a[d]))
            var f = a[d]
              , b = Math.min(b, f)
              , c = Math.max(c, f);
    return [b, c]
}
function Qe(a, b, c) {
    b === p && (b = 0);
    c === p && (c = a.length);
    for (var e = "", d = 0, d = b; d < c; ++d)
        e += String.fromCharCode(a[d]);
    return e
}
function Z(a, b, c) {
    c != t || (c = 1);
    var e = 1
      , d = Uint8Array;
    switch (b) {
    case "schar":
        d = Int8Array;
        break;
    case "ushort":
        d = Uint16Array;
        e = 2;
        break;
    case "sshort":
        d = Int16Array;
        e = 2;
        break;
    case "uint":
        d = Uint32Array;
        e = 4;
        break;
    case "sint":
        d = Int32Array;
        e = 4;
        break;
    case "float":
        d = Float32Array;
        e = 4;
        break;
    case "complex":
        d = Float64Array;
        e = 8;
        break;
    case "double":
        d = Float64Array,
        e = 8
    }
    b = new d(a.N.slice(a.C, a.C += c * e));
    if (a.Vh != a.Sd) {
        a = b;
        b = new Uint8Array(a.buffer,a.byteOffset,a.byteLength);
        for (d = 0; d < a.byteLength; d += e)
            for (var f = d + e - 1, g = d; f > g; f--,
            g++) {
                var h = b[g];
                b[g] = b[f];
                b[f] = h
            }
        b = a
    }
    return 1 == c ? b[0] : b
}
function Re(a, b) {
    var c = [Number.MAX_VALUE, -Number.MAX_VALUE, Number.MAX_VALUE, -Number.MAX_VALUE, Number.MAX_VALUE, -Number.MAX_VALUE]
      , e = Pc(0, 0, 0, 1)
      , d = Oc();
    ad(a, e, d);
    c[0] = d[0] < c[0] ? d[0] : c[0];
    c[1] = d[0] > c[1] ? d[0] : c[1];
    c[2] = d[1] < c[2] ? d[1] : c[2];
    c[3] = d[1] > c[3] ? d[1] : c[3];
    c[4] = d[2] < c[4] ? d[2] : c[4];
    c[5] = d[2] > c[5] ? d[2] : c[5];
    e = Pc(0, 0, b[2] - 1, 1);
    ad(a, e, d);
    c[0] = d[0] < c[0] ? d[0] : c[0];
    c[1] = d[0] > c[1] ? d[0] : c[1];
    c[2] = d[1] < c[2] ? d[1] : c[2];
    c[3] = d[1] > c[3] ? d[1] : c[3];
    c[4] = d[2] < c[4] ? d[2] : c[4];
    c[5] = d[2] > c[5] ? d[2] : c[5];
    e = Pc(0, b[1] - 1, 0, 1);
    ad(a, e, d);
    c[0] = d[0] < c[0] ? d[0] : c[0];
    c[1] = d[0] > c[1] ? d[0] : c[1];
    c[2] = d[1] < c[2] ? d[1] : c[2];
    c[3] = d[1] > c[3] ? d[1] : c[3];
    c[4] = d[2] < c[4] ? d[2] : c[4];
    c[5] = d[2] > c[5] ? d[2] : c[5];
    e = Pc(b[0] - 1, 0, 0, 1);
    ad(a, e, d);
    c[0] = d[0] < c[0] ? d[0] : c[0];
    c[1] = d[0] > c[1] ? d[0] : c[1];
    c[2] = d[1] < c[2] ? d[1] : c[2];
    c[3] = d[1] > c[3] ? d[1] : c[3];
    c[4] = d[2] < c[4] ? d[2] : c[4];
    c[5] = d[2] > c[5] ? d[2] : c[5];
    e = Pc(b[0] - 1, b[1] - 1, 0, 1);
    ad(a, e, d);
    c[0] = d[0] < c[0] ? d[0] : c[0];
    c[1] = d[0] > c[1] ? d[0] : c[1];
    c[2] = d[1] < c[2] ? d[1] : c[2];
    c[3] = d[1] > c[3] ? d[1] : c[3];
    c[4] = d[2] < c[4] ? d[2] : c[4];
    c[5] = d[2] > c[5] ? d[2] : c[5];
    e = Pc(b[0] - 1, 0, b[2] - 1, 1);
    ad(a, e, d);
    c[0] = d[0] < c[0] ? d[0] : c[0];
    c[1] = d[0] > c[1] ? d[0] : c[1];
    c[2] = d[1] < c[2] ? d[1] : c[2];
    c[3] = d[1] > c[3] ? d[1] : c[3];
    c[4] = d[2] < c[4] ? d[2] : c[4];
    c[5] = d[2] > c[5] ? d[2] : c[5];
    e = Pc(0, b[1] - 1, b[2] - 1, 1);
    ad(a, e, d);
    c[0] = d[0] < c[0] ? d[0] : c[0];
    c[1] = d[0] > c[1] ? d[0] : c[1];
    c[2] = d[1] < c[2] ? d[1] : c[2];
    c[3] = d[1] > c[3] ? d[1] : c[3];
    c[4] = d[2] < c[4] ? d[2] : c[4];
    c[5] = d[2] > c[5] ? d[2] : c[5];
    e = Pc(b[0] - 1, b[1] - 1, b[2] - 1, 1);
    ad(a, e, d);
    c[0] = d[0] < c[0] ? d[0] : c[0];
    c[1] = d[0] > c[1] ? d[0] : c[1];
    c[2] = d[1] < c[2] ? d[1] : c[2];
    c[3] = d[1] > c[3] ? d[1] : c[3];
    c[4] = d[2] < c[4] ? d[2] : c[4];
    c[5] = d[2] > c[5] ? d[2] : c[5];
    return c
}
function Se(a, b) {
    var c = Rc();
    if (!(a.length == b.length && a[0] == b[0] && a[1] == b[1] && a[2] == b[2])) {
        var e = Math.acos(a[2])
          , d = Lc()
          , f = a[0]
          , g = a[1]
          , h = a[2]
          , l = b[0]
          , j = b[1]
          , k = b[2];
        d[0] = g * k - h * j;
        d[1] = h * l - f * k;
        d[2] = f * j - g * l;
        Nc(d, d);
        f = Math.cos(e / 2);
        g = Math.sin(e / 2) * d[0];
        h = Math.sin(e / 2) * d[1];
        e = Math.sin(e / 2) * d[2];
        V(c, 0, f * f + g * g - h * h - e * e, 2 * (g * h - f * e), 2 * (g * e + f * h), 0);
        V(c, 1, 2 * (g * h + f * e), f * f + h * h - g * g - e * e, 2 * (h * e - f * g), 0);
        V(c, 2, 2 * (g * e - f * h), 2 * (h * e + f * g), f * f + e * e - h * h - g * g, 0)
    }
    e = Qc();
    Yc(c, e);
    return [c, e]
}
function Te(a, b, c, e, d, f, g, h, l) {
    var j = new Ue;
    Nc(c, c);
    for (var k = [], n = [], r = 0; 6 > r; r++)
        for (var s = Math.floor(r / 2), z = (s + 1) % 3, y = (s + 2) % 3, E = (4 + 2 * s) % 6, F = 0; 2 > F; F++) {
            var K = (2 + F + 2 * s) % 6
              , A = -(c[s] * (d[r] - a[s]) + c[z] * (d[K] - a[z])) / c[y] + a[y];
            if (A >= d[E] && A <= d[E + 1] || A <= d[E] && A >= d[E + 1]) {
                var G = [];
                G[s] = d[r];
                G[z] = d[K];
                G[y] = A;
                k.push(G)
            } else
                G = [],
                G[s] = d[r],
                G[z] = d[K],
                G[y] = A,
                n.push(G)
        }
    a = Mc(0, 0, 1);
    a = Se(c, a);
    d = a[0];
    a = a[1];
    s = [];
    for (n = 0; n < k.length; ++n)
        r = Pc(k[n][0], k[n][1], k[n][2], 1),
        z = Oc(),
        ad(d, r, z),
        s.push([z[0], z[1], z[2]]);
    d = Mc(1, 0, 0);
    k = Lc();
    $c(a, d, k);
    n = Mc(0, 1, 0);
    d = Lc();
    $c(a, n, d);
    r = [Number.MAX_VALUE, -Number.MAX_VALUE, Number.MAX_VALUE, -Number.MAX_VALUE, Number.MAX_VALUE, -Number.MAX_VALUE];
    for (n = n = 0; n < s.length; ++n)
        s[n][0] < r[0] && (r[0] = s[n][0]),
        s[n][0] > r[1] && (r[1] = s[n][0]),
        s[n][1] < r[2] && (r[2] = s[n][1]),
        s[n][1] > r[3] && (r[3] = s[n][1]),
        s[n][2] < r[4] && (r[4] = s[n][2]),
        s[n][2] > r[5] && (r[5] = s[n][2]);
    n = Pc(r[0] + (r[1] - r[0]) / 2, r[2] + (r[3] - r[2]) / 2, r[4] + (r[5] - r[4]) / 2, 0);
    s = Oc();
    Xc(a, n, s);
    z = Math.floor(r[0]);
    y = Math.ceil(r[1]);
    z == y && y++;
    E = y - z;
    F = Math.floor(r[2]);
    K = Math.ceil(r[3]);
    A = K - F;
    G = b[0];
    b = b[1];
    var n = Math.ceil(E / G)
      , I = Math.ceil(A / b)
      , H = new Uint8Array(4 * n * I)
      , R = new ed;
    R.Ue = n;
    R.Te = I;
    var I = Oc()
      , N = Pc(0, 0, r[4], 1)
      , T = Qc();
    Xc(g.Mh, a, T);
    for (var ca = K - 1E-7, ba = y - 1E-7, da = 0, M = 0, U = 0, P = F, P = F; P <= ca; P += b) {
        U++;
        M = 0;
        N[1] = P;
        for (n = z; n <= ba; n += G) {
            M++;
            N[0] = n;
            ad(T, N, I);
            var Fa = 4 * da
              , tb = Math.floor(I[2])
              , ub = Math.floor(I[1])
              , vb = Math.floor(I[0]);
            if (0 <= vb && vb < g.aa[0] && 0 <= ub && ub < g.aa[1] && 0 <= tb && tb < g.aa[2]) {
                var lb = f[tb][ub][vb]
                  , Zc = vb = ub = tb = 0;
                l ? ((lb = l.get(lb)) || (lb = [0, 0.61, 0, 0, 1]),
                tb = 255 * lb[1],
                ub = 255 * lb[2],
                vb = 255 * lb[3],
                Zc = 255 * lb[4]) : (tb = ub = vb = 255 * (lb / g.ia),
                Zc = 255);
                H[Fa] = tb;
                H[++Fa] = ub;
                H[++Fa] = vb;
                H[++Fa] = Zc
            } else
                H[Fa] = 0,
                H[++Fa] = 0,
                H[++Fa] = 0,
                H[++Fa] = 0;
            da++
        }
    }
    R.Ub = H;
    j.F = R;
    j.ai = r;
    j.Oh = a;
    j.Nh = T;
    j.Uh = F;
    j.ll = K;
    j.$h = z;
    j.ql = y;
    j.gg = M;
    j.fg = U;
    j.Oc = G;
    j.J = E;
    j.Bc = b;
    j.w = A;
    j.B = [s[0], s[1], s[2]];
    j.Ac = [c[0], c[1], c[2]];
    j.Xd = [k[0], k[1], k[2]];
    j.ca = [d[0], d[1], d[2]];
    j.O = u;
    j.Cb = g;
    j.xb = g.Cb != t && !h ? u : q;
    j.wc = e;
    j.Db();
    j.O = u;
    return j
}
function Ve(a, b, c, e) {
    var d;
    d = e.na;
    for (var f = [], g = [], h = 0; 6 > h; h++) {
        var l = Math.floor(h / 2)
          , j = (l + 1) % 3
          , k = (l + 2) % 3
          , n = (2 + 2 * l) % 6
          , r = (4 + 2 * l) % 6
          , s = (d[h] - b[l]) * (1 / c[l]);
        if (Infinity != s && -Infinity != s) {
            var z = b[j] + c[j] * s
              , s = b[k] + c[k] * s;
            z >= d[n] && z <= d[n + 1] && s >= d[r] && s <= d[r + 1] ? (n = [],
            n[l] = d[h],
            n[j] = z,
            n[k] = s,
            f.push(n)) : (n = [],
            n[l] = d[h],
            n[j] = z,
            n[k] = s,
            g.push(n))
        }
    }
    d = [f, g];
    b = d[0];
    e.b[a].k = d;
    d = Ec(new S(b[0][0],b[0][1],b[0][2]), new S(b[1][0],b[1][1],b[1][2]));
    e.b[a].kl = d;
    f = Mc(0, 0, 1);
    g = Se(c, f)[0];
    h = Pc(e.Fe[0], e.Fe[1], e.Fe[2], 0);
    f = Oc();
    ad(g, h, f);
    g = Oc();
    h = f[2];
    g[0] = c[0] * h;
    g[1] = c[1] * h;
    g[2] = c[2] * h;
    g[3] = c[3] * h;
    0.5 > Math.abs(f[0]) && (f[0] = 0.5);
    0.5 > Math.abs(f[1]) && (f[1] = 0.5);
    e.b[a].Ea = [Math.abs(f[0]), Math.abs(f[1])];
    e.b[a].Kc = f[2];
    e.b[a].z = g;
    d = Math.floor(Math.abs(d / f[2]));
    e.kd[a] = d + 1;
    e.b[a].p = d + 1;
    e.b[a].k[0][0][0] > e.b[a].k[0][1][0] ? 0 < g[0] && (d = e.b[a].k[0][0],
    e.b[a].k[0][0] = e.b[a].k[0][1],
    e.b[a].k[0][1] = d) : e.b[a].k[0][0][0] < e.b[a].k[0][1][0] ? 0 > g[0] && (d = e.b[a].k[0][0],
    e.b[a].k[0][0] = e.b[a].k[0][1],
    e.b[a].k[0][1] = d) : e.b[a].k[0][0][1] > e.b[a].k[0][1][1] ? 0 < g[1] && (d = e.b[a].k[0][0],
    e.b[a].k[0][0] = e.b[a].k[0][1],
    e.b[a].k[0][1] = d) : e.b[a].k[0][0][1] < e.b[a].k[0][1][1] ? 0 > g[1] && (d = e.b[a].k[0][0],
    e.b[a].k[0][0] = e.b[a].k[0][1],
    e.b[a].k[0][1] = d) : e.b[a].k[0][0][2] > e.b[a].k[0][1][2] ? 0 < g[2] && (d = e.b[a].k[0][0],
    e.b[a].k[0][0] = e.b[a].k[0][1],
    e.b[a].k[0][1] = d) : e.b[a].k[0][0][2] < e.b[a].k[0][1][2] && 0 > g[2] && (d = e.b[a].k[0][0],
    e.b[a].k[0][0] = e.b[a].k[0][1],
    e.b[a].k[0][1] = d);
    e.b[a].Qe = -(c[0] * b[0][0] + c[1] * b[0][1] + c[2] * b[0][2])
}
function Ye(a, b) {
    var c;
    c = b.N;
    for (var e = b.aa, d = b.ia, f = Array(e[2]), g = Array(e[2]), h = e[1] * e[0], l = 0, j = 0, k = 0, n = 0, r = 0, n = 0; n < e[2]; n++) {
        var s = c.subarray(n * h, (n + 1) * h)
          , r = 0;
        g[n] = Array(e[1]);
        f[n] = Array(e[1]);
        for (k = 0; k < e[1]; k++) {
            g[n][k] = new c.constructor(e[0]);
            f[n][k] = new c.constructor(e[0]);
            for (j = 0; j < e[0]; j++)
                l = s[r],
                g[n][k][j] = 255 * (l / d),
                f[n][k][j] = l,
                r++
        }
    }
    c = [f, g];
    b.ha = c[0];
    b.il = c[1];
    D.Ga(a.f + ".reslice");
    b.K = b.e != t;
    b.Ca && (b.Vc = b.Ca.Ha);
    b.Ol = [0, 0, 0];
    b.t = [b.Aa[0] + (b.wb[0] - 1) / 2, b.Aa[1] + (b.wb[1] - 1) / 2, b.Aa[2] + (b.wb[2] - 1) / 2];
    b.na = [Math.min(b.Aa[0], b.Aa[0] + b.wb[0] - 1), Math.max(b.Aa[0], b.Aa[0] + b.wb[0] - 1), Math.min(b.Aa[1], b.Aa[1] + b.wb[1] - 1), Math.max(b.Aa[1], b.Aa[1] + b.wb[1] - 1), Math.min(b.Aa[2], b.Aa[2] + b.wb[2] - 1), Math.max(b.Aa[2], b.Aa[2] + b.wb[2] - 1)];
    b.b = [{}, {}, {}];
    c = Mc(b.t[0], b.t[1], b.t[2]);
    b.b[0].md = c;
    e = Mc(1, 0, 0);
    Nc(e, e);
    b.b[0].i = e;
    d = [1, 0, 0];
    b.b[0].v = d;
    Ve(0, c, e, b);
    b.c[0].c = Array(b.b[0].p);
    c[0] = b.b[0].k[0][0][0] + b.b[0].z[0] * Math.floor(b.b[0].p / 2);
    c[1] = b.b[0].k[0][0][1] + b.b[0].z[1] * Math.floor(b.b[0].p / 2);
    c[2] = b.b[0].k[0][0][2] + b.b[0].z[2] * Math.floor(b.b[0].p / 2);
    c = Te(c, b.b[0].Ea, b.b[0].i, b.b[0].v, b.na, b.ha, b, b.K, b.Vc);
    b.K && (c.e = b.e.c[0].c[Math.floor(b.b[0].p / 2)].F);
    b.c[0].c[Math.floor(b.b[0].p / 2)] = c;
    b.yb = Math.floor(b.b[0].p / 2);
    b.Cc = Math.floor(b.b[0].p / 2);
    c = Mc(b.t[0], b.t[1], b.t[2]);
    b.b[1].md = c;
    e = Mc(0, 1, 0);
    Nc(e, e);
    b.b[1].i = e;
    d = [0, 1, 0];
    b.b[1].v = d;
    Ve(1, c, e, b);
    b.c[1].c = Array(b.b[1].p);
    c[0] = b.b[1].k[0][0][0] + b.b[1].z[0] * Math.floor(b.b[1].p / 2);
    c[1] = b.b[1].k[0][0][1] + b.b[1].z[1] * Math.floor(b.b[1].p / 2);
    c[2] = b.b[1].k[0][0][2] + b.b[1].z[2] * Math.floor(b.b[1].p / 2);
    c = Te(c, b.b[1].Ea, b.b[1].i, b.b[1].v, b.na, b.ha, b, b.K, b.Vc);
    b.K && (c.e = b.e.c[1].c[Math.floor(b.b[1].p / 2)].F);
    b.c[1].c[Math.floor(b.b[1].p / 2)] = c;
    b.zb = Math.floor(b.b[1].p / 2);
    b.Dc = Math.floor(b.b[1].p / 2);
    c = Mc(b.t[0], b.t[1], b.t[2]);
    b.b[2].md = c;
    e = Mc(0, 0, 1);
    Nc(e, e);
    b.b[2].i = e;
    d = [0, 0.392, 0.804];
    b.b[2].v = d;
    Ve(2, c, e, b);
    b.c[2].c = Array(b.b[2].p);
    c[0] = b.b[2].k[0][0][0] + b.b[2].z[0] * Math.floor(b.b[2].p / 2);
    c[1] = b.b[2].k[0][0][1] + b.b[2].z[1] * Math.floor(b.b[2].p / 2);
    c[2] = b.b[2].k[0][0][2] + b.b[2].z[2] * Math.floor(b.b[2].p / 2);
    c = Te(c, b.b[2].Ea, b.b[2].i, b.b[2].v, b.na, b.ha, b, b.K, b.Vc);
    b.K && (c.e = b.e.c[2].c[Math.floor(b.b[2].p / 2)].F);
    b.c[2].c[Math.floor(b.b[2].p / 2)] = c;
    b.Ab = Math.floor(b.b[2].p / 2);
    b.Ec = Math.floor(b.b[2].p / 2);
    D.za(a.f + ".reslice");
    return b.ha
}
;function Ze() {
    Oe.call(this);
    this.f = "parserIMAGE"
}
C(Ze, Oe);
Ze.prototype.parse = function(a, b, c, e) {
    c instanceof ArrayBuffer || m(Error());
    for (var d = new Uint8Array(c), f = d.length, g = Array(f); f--; )
        g[f] = String.fromCharCode(d[f]);
    d = window.btoa(g.join(""));
    f = new Image;
    $b(f, "load", this.Qj.bind(this, f, a, b, c, e));
    f.src = "data:image/" + e + ";base64," + d
}
;
Ze.prototype.Qj = function(a, b, c) {
    b.pb = a;
    b.Ub = t;
    a = new jd;
    a.D = c;
    a.u = b;
    this.dispatchEvent(a)
}
;
B("X.parserIMAGE", Ze);
B("X.parserIMAGE.prototype.parse", Ze.prototype.parse);
function $e(a, b) {
    Le.call(this, a, b);
    this.f = "camera2D"
}
C($e, Le);
$e.prototype.rotate = function(a) {
    a = $e.A.rotate.call(this, a);
    var b = new Ed;
    0 < a.x ? b.$e-- : 0 > a.x && b.$e++;
    0 < a.y ? b.Ne++ : 0 > a.y && b.Ne--;
    this.dispatchEvent(b)
}
;
$e.prototype.Xf = function(a) {
    var b = 20;
    a != t && !a && (b = 0.02);
    this.o[14] += b
}
;
$e.prototype.Yf = function(a) {
    var b = 20;
    a != t && !a && (b = 0.02);
    this.o[14] -= b
}
;
$e.prototype.Hf = function(a) {
    la(a) && 2 == a.length ? a = new D.m(a[0],a[1],0) : a instanceof D.m || m(Error("Invalid distance vector for pan operation."));
    this.o[12] -= a.x / this.o[14];
    this.o[13] += a.y / this.o[14]
}
;
function af() {
    O.call(this);
    this.f = "shaders";
    this.Zd = "";
    var a;
    a = "precision mediump float;\n\n";
    a += "attribute vec3 vertexPosition;\n";
    a += "attribute vec3 vertexNormal;\n";
    a += "attribute vec3 vertexColor;\n";
    a += "attribute vec2 vertexTexturePos;\n";
    a += "attribute float vertexScalar;\n";
    a += "\n";
    a += "uniform mat4 view;\n";
    a += "uniform mat4 perspective;\n";
    a += "uniform vec3 center;\n";
    a += "uniform mat4 objectTransform;\n";
    a += "uniform bool useObjectColor;\n";
    a += "uniform bool useScalars;\n";
    a += "uniform bool scalarsReplaceMode;\n";
    a += "uniform float scalarsMin;\n";
    a += "uniform float scalarsMax;\n";
    a += "uniform vec3 scalarsMinColor;\n";
    a += "uniform vec3 scalarsMaxColor;\n";
    a += "uniform float scalarsMinThreshold;\n";
    a += "uniform float scalarsMaxThreshold;\n";
    a += "uniform int scalarsInterpolation;\n";
    a += "uniform vec3 objectColor;\n";
    a += "uniform float pointSize;\n";
    a += "\n";
    a += "varying float fDiscardNow;\n";
    a += "varying vec4 fVertexPosition;\n";
    a += "varying vec3 fragmentColor;\n";
    a += "varying vec2 fragmentTexturePos;\n";
    a += "varying vec3 fVertexNormal;\n";
    a += "varying vec3 fTransformedVertexNormal;\n";
    a += "\n";
    a += "void main(void) {\n";
    a += "  fTransformedVertexNormal = mat3(view[0].xyz,view[1].xyz,view[2].xyz) * ";
    a += "mat3(objectTransform[0].xyz,objectTransform[1].xyz,objectTransform[2].xyz) * ";
    a += "vertexNormal;\n";
    a += "  fVertexNormal = vertexNormal;\n";
    a += "  fDiscardNow = 0.0;\n";
    a += "  vec3 vertexPosition2 = vertexPosition - center;\n";
    a += "  fVertexPosition = view * objectTransform * vec4(vertexPosition2, 1.0);\n";
    a += "  fragmentTexturePos = vertexTexturePos;\n";
    a += "  if (useScalars) {\n";
    a += "    float scalarValue = vertexScalar;\n";
    a += "    if (scalarValue < scalarsMinThreshold || scalarValue > scalarsMaxThreshold) {\n";
    a += "      if (scalarsReplaceMode) {\n";
    a += "        fragmentColor = objectColor;\n";
    a += "      } else {\n";
    a += "        fDiscardNow = 1.0;\n";
    a += "      }\n";
    a += "    } else {\n";
    a += "      if (scalarsReplaceMode) {\n";
    a += "        if (scalarsInterpolation == 1) {\n";
    a += "            vec3 zeroMaxColor;\n";
    a += "            vec3 zeroMinColor;\n";
    a += "            zeroMaxColor[0] = scalarsMaxColor[0]*0.33;\n";
    a += "            zeroMaxColor[1] = scalarsMaxColor[1]*0.33;\n";
    a += "            zeroMaxColor[2] = scalarsMaxColor[2]*0.33;\n";
    a += "            zeroMinColor[0] = scalarsMinColor[0]*0.33;\n";
    a += "            zeroMinColor[1] = scalarsMinColor[1]*0.33;\n";
    a += "            zeroMinColor[2] = scalarsMinColor[2]*0.33;\n";
    a += "            if(scalarValue < 0.0) {fragmentColor = scalarValue/(scalarsMin) * scalarsMinColor + (1.0 - scalarValue/(scalarsMin)) * (zeroMinColor);}\n";
    a += "            else {fragmentColor = scalarValue/(scalarsMax) * scalarsMaxColor + (1.0 - scalarValue/(scalarsMax)) * (zeroMaxColor);}\n";
    a += "        } else {\n";
    a += "            fragmentColor = scalarValue * scalarsMaxColor + (1.0 - scalarValue) * scalarsMinColor;\n";
    a += "          }\n";
    a += "      } else {\n";
    a += "        fragmentColor = vertexColor;\n";
    a += "      }\n";
    a += "    }\n";
    a += "  } else if (useObjectColor) {\n";
    a += "    fragmentColor = objectColor;\n";
    a += "  } else {\n";
    a += "    fragmentColor = vertexColor;\n";
    a += "  }\n";
    a += "  gl_PointSize = pointSize;\n";
    a += "  gl_Position = perspective * fVertexPosition;\n";
    this.Zd = a += "}\n";
    this.Od = "";
    a = "precision mediump float;\n\n";
    a += "uniform bool usePicking;\n";
    a += "uniform bool useTexture;\n";
    a += "uniform bool volumeTexture;\n";
    a += "uniform bool useLabelMapTexture;\n";
    a += "uniform sampler2D textureSampler;\n";
    a += "uniform sampler2D textureSampler2;\n";
    a += "uniform float objectOpacity;\n";
    a += "uniform float labelmapOpacity;\n";
    a += "uniform vec4 labelmapColor;\n";
    a += "uniform float volumeLowerThreshold;\n";
    a += "uniform float volumeUpperThreshold;\n";
    a += "uniform float volumeScalarMin;\n";
    a += "uniform float volumeScalarMax;\n";
    a += "uniform vec3 volumeScalarMinColor;\n";
    a += "uniform vec3 volumeScalarMaxColor;\n";
    a += "uniform float volumeWindowLow;\n";
    a += "uniform float volumeWindowHigh;\n";
    a += "\n";
    a += "varying float fDiscardNow;\n";
    a += "varying vec4 fVertexPosition;\n";
    a += "varying vec3 fragmentColor;\n";
    a += "varying vec2 fragmentTexturePos;\n";
    a += "varying vec3 fVertexNormal;\n";
    a += "varying vec3 fTransformedVertexNormal;\n";
    a += "\n";
    a += "void main(void) {\n";
    a += " if (fDiscardNow > 0.0) {\n";
    a += "   discard;\n";
    a += " }\n";
    a += " if (usePicking) {\n";
    a += "   gl_FragColor = vec4(fragmentColor, 1.0);\n";
    a += " } else if (useTexture) {\n";
    a += "   vec4 texture1 = texture2D(textureSampler,fragmentTexturePos);\n";
    a += "   vec4 textureSum = texture1;\n";
    a += "   if (volumeTexture) {\n";
    a += "     float _windowLow = (volumeWindowLow / volumeScalarMax);\n";
    a += "     float _windowHigh = (volumeWindowHigh / volumeScalarMax);\n";
    a += "     vec3 _minrange = vec3(_windowLow,_windowLow,_windowLow);\n";
    a += "     vec3 _maxrange = vec3(_windowHigh,_windowHigh,_windowHigh);\n";
    a += "     vec3 fac = _maxrange - _minrange;\n";
    a += "     textureSum = vec4((textureSum.r - _minrange)/fac,1);\n";
    a += "     textureSum = textureSum.r * vec4(volumeScalarMaxColor,1) + (1.0 - textureSum.r) * vec4(volumeScalarMinColor,1);\n";
    a += "   }\n";
    a += "   if (useLabelMapTexture) {\n";
    a += "     vec4 texture2 = texture2D(textureSampler2,fragmentTexturePos);\n";
    a += "     if (texture2.a > 0.0) {\n";
    a += "         if (labelmapColor.a != -255.0) {\n";
    a += "           if (all(equal(floor(texture2 * vec4(255)), labelmapColor))) {\n";
    a += "             if (labelmapOpacity < 1.0) {\n";
    a += "               textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";
    a += "             } else {\n";
    a += "               textureSum = texture2;\n";
    a += "             }\n";
    a += "           }\n";
    a += "         } else {\n";
    a += "           if (labelmapOpacity < 1.0) {\n";
    a += "             textureSum = mix(texture2, textureSum, 1.0 - labelmapOpacity);\n";
    a += "           } else {\n";
    a += "             textureSum = texture2;\n";
    a += "           }\n";
    a += "         }\n";
    a += "     }\n";
    a += "   }\n";
    a += "   if (volumeTexture) {\n";
    a += "     float _volumeLowerThreshold = (volumeLowerThreshold / volumeScalarMax);\n";
    a += "     float _volumeUpperThreshold = (volumeUpperThreshold / volumeScalarMax);\n";
    a += "     if (texture1.r < _volumeLowerThreshold ||\n";
    a += "         texture1.r > _volumeUpperThreshold ||\n";
    a += "         texture1.a == 0.0 ) {\n";
    a += "       discard;\n";
    a += "     };\n";
    a += "   };\n";
    a += "   gl_FragColor = textureSum;\n";
    a += "   gl_FragColor.a = objectOpacity;\n";
    a += " } else {\n";
    a += "   vec3 nNormal = normalize(fTransformedVertexNormal);\n";
    a += "   if (fVertexNormal == vec3(0.0,0.0,0.0)) {\n";
    a += "     gl_FragColor = vec4(fragmentColor,1.0);\n";
    a += "     return;\n";
    a += "   }\n";
    a += "   vec3 light = vec3(0.0, 0.0, 1.0);\n";
    a += "   vec3 lightDirection = vec3(0,0,-10);\n";
    a += "   lightDirection = normalize(lightDirection);\n";
    a += "   vec3 eyeDirection = normalize(-fVertexPosition.xyz);\n";
    a += "   vec3 reflectionDirection = reflect(-lightDirection, nNormal);\n";
    a += "   float specular = pow(max(dot(reflectionDirection, eyeDirection), 0.0), 10.0);\n";
    a += "   float diffuse = 0.8 * max(dot(nNormal, light), 0.0);\n";
    a += "   float ambient = 0.3;\n";
    a += "   gl_FragColor = vec4(fragmentColor * ambient +\n";
    a += "                       fragmentColor * diffuse +\n";
    a += "                       vec3(0.2, 0.2, 0.2) * specular,\n";
    a += "                       objectOpacity);\n";
    a += " }\n";
    this.Od = a += "}\n"
}
C(af, O);
var bf = {
    Wk: "vertexPosition",
    Vk: "vertexNormal",
    Uk: "vertexColor",
    Yk: "vertexTexturePos",
    Xk: "vertexScalar"
}
  , cf = {
    Zk: "view",
    Dk: "perspective",
    uk: "center",
    Ck: "objectTransform",
    Qk: "useObjectColor",
    Ak: "objectColor",
    Sk: "useScalars",
    Mk: "scalarsReplaceMode",
    Jk: "scalarsMin",
    Gk: "scalarsMax",
    Kk: "scalarsMinColor",
    Hk: "scalarsMaxColor",
    Lk: "scalarsMinThreshold",
    Ik: "scalarsMaxThreshold",
    Fk: "scalarsInterpolation",
    Ek: "pointSize",
    Bk: "objectOpacity",
    zk: "normal",
    Rk: "usePicking",
    Tk: "useTexture",
    Pk: "useLabelMapTexture",
    xk: "labelmapOpacity",
    wk: "labelmapColor",
    Nk: "textureSampler",
    Ok: "textureSampler2",
    $k: "volumeLowerThreshold",
    fl: "volumeUpperThreshold",
    cl: "volumeScalarMin",
    al: "volumeScalarMax",
    dl: "volumeScalarMinColor",
    bl: "volumeScalarMaxColor",
    hl: "volumeWindowLow",
    gl: "volumeWindowHigh",
    el: "volumeTexture"
};
function Ue(a) {
    Y.call(this);
    this.f = "slice";
    this.B = [0, 0, 0];
    this.Ac = [0, 0, 1];
    this.ca = [0, 1, 0];
    this.Xd = [1, 0, 0];
    this.w = this.J = 10;
    this.Mc = [0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0];
    this.e = this.Cb = t;
    this.xb = q;
    this.wc = [1, 1, 1];
    a != t && this.kc(a)
}
C(Ue, Y);
Ue.prototype.kc = function(a) {
    this.B = a.B.slice();
    this.Ac = a.Ac.slice();
    this.ca = a.ca.slice();
    this.J = a.J;
    this.w = a.w;
    this.Cb = a.Cb;
    this.e = a.e;
    this.xb = a.xb;
    this.wc = a.wc;
    this.Th = a.Th;
    Ue.A.kc.call(this, a)
}
;
Ue.prototype.__defineSetter__("height", fa("w"));
Ue.prototype.__defineSetter__("width", fa("J"));
Ue.prototype.create = function() {
    this.Db()
}
;
Ue.prototype.Db = function() {
    var a = (new S(this.Ac[0],this.Ac[1],this.Ac[2])).normalize()
      , b = new S(this.ca[0],this.ca[1],this.ca[2])
      , c = new S(this.Xd[0],this.Xd[1],this.Xd[2])
      , e = new S(this.B[0],this.B[1],this.B[2])
      , d = Gc(c.l().X().scale(this.J / 2), b.l().X().scale(this.w / 2))
      , f = new S(d.x + e.x,d.y + e.y,d.d + e.d)
      , d = Gc(c.l().X().scale(this.J / 2), b.l().scale(this.w / 2))
      , g = new S(d.x + e.x,d.y + e.y,d.d + e.d)
      , d = Gc(c.l().scale(this.J / 2), b.l().X().scale(this.w / 2))
      , h = new S(d.x + e.x,d.y + e.y,d.d + e.d)
      , d = Gc(c.l().scale(this.J / 2), b.l().scale(this.w / 2))
      , b = new S(d.x + e.x,d.y + e.y,d.d + e.d);
    this.h = new W(18);
    this.n = new W(18);
    this.h.add(f.x, f.y, f.d);
    this.h.add(g.x, g.y, g.d);
    this.h.add(h.x, h.y, h.d);
    this.h.add(h.x, h.y, h.d);
    this.h.add(b.x, b.y, b.d);
    this.h.add(g.x, g.y, g.d);
    this.n.add(a.x, a.y, a.d);
    this.n.add(a.x, a.y, a.d);
    this.n.add(a.x, a.y, a.d);
    this.n.add(a.x, a.y, a.d);
    this.n.add(a.x, a.y, a.d);
    this.n.add(a.x, a.y, a.d);
    this.xb && (a = new Y,
    a.h = new W(24),
    a.n = new W(24),
    a.h.add(f.x, f.y, f.d),
    a.h.add(g.x, g.y, g.d),
    a.h.add(g.x, g.y, g.d),
    a.h.add(b.x, b.y, b.d),
    a.h.add(b.x, b.y, b.d),
    a.h.add(h.x, h.y, h.d),
    a.h.add(h.x, h.y, h.d),
    a.h.add(f.x, f.y, f.d),
    a.n.add(0, 0, 0),
    a.n.add(0, 0, 0),
    a.n.add(0, 0, 0),
    a.n.add(0, 0, 0),
    a.n.add(0, 0, 0),
    a.n.add(0, 0, 0),
    a.n.add(0, 0, 0),
    a.n.add(0, 0, 0),
    a.v = [this.wc[0], this.wc[1], this.wc[2]],
    a.Fa = "LINES",
    a.Gc = 2,
    this.c.push(a))
}
;
B("X.slice", Ue);
B("X.slice.prototype.create", Ue.prototype.create);
function Q(a) {
    Y.call(this);
    this.f = "volume";
    this.B = [0, 0, 0];
    this.aa = [10, 10, 10];
    this.na = [1, 1, 1];
    this.kd = [10, 10, 10];
    this.Wb = [1, 1, 1];
    this.pb = [];
    this.Ec = this.Ab = this.Dc = this.zb = this.Cc = this.yb = 0;
    this.od = new Y;
    this.pd = new Y;
    this.qd = new Y;
    this.ae = this.Pa = u;
    this.W = -1;
    this.$d = [];
    this.e = t;
    this.xb = q;
    this.ea = Infinity;
    this.da = -Infinity;
    this.sg = q;
    this.ia = 0;
    this.N = t;
    Ga(this, new wc);
    Ga(this, new hd);
    a != t && this.kc(a)
}
C(Q, Y);
Q.prototype.kc = function(a) {
    this.B = a.B.slice();
    this.aa = a.aa.slice();
    this.Wb = a.Wb.slice();
    this.yb = a.yb;
    this.Cc = a.Cc;
    this.zb = a.zb;
    this.Dc = a.Dc;
    this.Ab = a.Ab;
    this.Ec = a.Ec;
    this.ag = a.ag.slice();
    this.od = new Y(a.od);
    this.pd = new Y(a.pd);
    this.qd = new Y(a.qd);
    this.ia = a.ia;
    this.N = a.N;
    this.Pa = a.Pa;
    this.ae = a.ae;
    this.W = a.W;
    this.e = a.e;
    this.xb = a.xb;
    Q.A.kc.call(this, a)
}
;
Q.prototype.Db = function(a) {
    this.c.length = 0;
    this.od.c.length = 0;
    this.pd.c.length = 0;
    this.qd.c.length = 0;
    this.c.push(this.od);
    this.c.push(this.pd);
    this.c.push(this.qd);
    this.Aa = a.tc;
    this.Fe = a.uc;
    this.wb = a.sc;
    this.vc = a.Za;
    this.Mh = a.ab;
    this.ia = a.max;
    this.N = a.data;
    this.j = q
}
;
Q.prototype.q = function(a) {
    a = "undefined" !== typeof a ? a : q;
    if (0 < this.c.length) {
        this.Pa != this.ae && (!this.Pa && -1 != this.W && (this.c[this.W].visible = u),
        this.j = q,
        this.ae = this.Pa);
        if (!this.O)
            return;
        for (var b = 0, b = 0; 3 > b; b++) {
            var c = this.c[b]
              , e = 0
              , d = 0;
            0 == b ? (e = this.yb,
            d = this.Cc,
            this.Cc = this.yb) : 1 == b ? (e = this.zb,
            d = this.Dc,
            this.Dc = this.zb) : 2 == b && (e = this.Ab,
            d = this.Ec,
            this.Ec = this.Ab);
            if (this.c[b].c[parseInt(e, 10)] == t) {
                var f = Lc();
                f[0] = this.b[b].k[0][0][0] + this.b[b].z[0] * parseInt(e, 10);
                f[1] = this.b[b].k[0][0][1] + this.b[b].z[1] * parseInt(e, 10);
                f[2] = this.b[b].k[0][0][2] + this.b[b].z[2] * parseInt(e, 10);
                if (this.K) {
                    var g = Te(f, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.e.ha, this.e, this.e.K, this.e.Ca.Ha);
                    this.e.c[b].c[parseInt(e, 10)] = g;
                    this.e.c[b].q(q)
                }
                f = Te(f, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.ha, this, q, t);
                this.K && (f.e = f.F,
                f.e = this.e.c[b].c[parseInt(e, 10)].F);
                c.c[parseInt(e, 10)] = f;
                this.c[b].q(q)
            }
            d = c.c[parseInt(d, 10)];
            this.Pa || (d.visible = u);
            c = c.c[parseInt(e, 10)];
            c.visible = q;
            c.ra = 1;
            this.Pa && (c.c[0].O = u,
            b != this.W && (c.visible = u,
            c.ra = 0))
        }
        this.Pa && -1 != this.W && df(this, this.W)
    }
    a && Q.A.q.call(this)
}
;
Q.prototype.__defineGetter__("dimensions", v("aa"));
Q.prototype.__defineSetter__("dimensions", fa("aa"));
Q.prototype.__defineGetter__("spacing", v("Wb"));
Q.prototype.__defineSetter__("spacing", fa("Wb"));
Q.prototype.__defineGetter__("bbox", v("na"));
Q.prototype.__defineGetter__("range", v("kd"));
Q.prototype.__defineGetter__("dimensionsRAS", v("ag"));
Q.prototype.__defineGetter__("volumeRendering", v("Pa"));
Q.prototype.__defineSetter__("volumeRendering", function(a) {
    this.Pa = a;
    this.q(u)
});
Q.prototype.__defineGetter__("visible", v("O"));
Q.prototype.__defineSetter__("visible", function(a) {
    if (a)
        this.O = a,
        this.q(u);
    else {
        for (var b = this.c, c = b.length, e = 0, e = 0; e < c; e++)
            b[e].visible = a;
        this.O = a;
        this.j = q
    }
});
Q.prototype.__defineGetter__("center", v("B"));
Q.prototype.__defineSetter__("center", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid center."));
    this.B = a
});
Q.prototype.__defineGetter__("volumeRenderingCache", v("$d"));
Q.prototype.__defineSetter__("volumeRenderingCache", function(a) {
    (a == t || !la(a) || !(3 >= a.length)) && m(Error("Invalid volumeRederingCache."));
    this.$d = a
});
Q.prototype.__defineGetter__("image", v("pb"));
Q.prototype.__defineGetter__("labelmap", function() {
    this.e || (this.e = new ef(this));
    return this.e
});
Q.prototype.__defineGetter__("indexX", v("yb"));
Q.prototype.__defineSetter__("indexX", function(a) {
    x(a) && (0 <= a && a < this.od.c.length) && (this.yb = a,
    this.q(u))
});
Q.prototype.__defineGetter__("indexY", v("zb"));
Q.prototype.__defineSetter__("indexY", function(a) {
    x(a) && (0 <= a && a < this.pd.c.length) && (this.zb = a,
    this.q(u))
});
Q.prototype.__defineGetter__("indexZ", v("Ab"));
Q.prototype.__defineSetter__("indexZ", function(a) {
    x(a) && (0 <= a && a < this.qd.c.length) && (this.Ab = a,
    this.q(u))
});
Q.prototype.__defineGetter__("windowLow", v("ea"));
Q.prototype.__defineSetter__("windowLow", fa("ea"));
Q.prototype.__defineGetter__("windowHigh", v("da"));
Q.prototype.__defineSetter__("windowHigh", fa("da"));
Q.prototype.__defineGetter__("borders", v("xb"));
Q.prototype.__defineSetter__("borders", fa("xb"));
Q.prototype.__defineGetter__("reslicing", v("sg"));
Q.prototype.__defineSetter__("reslicing", fa("sg"));
Q.prototype.__defineSetter__("xNormX", function(a) {
    this.b[0].i[0] = a
});
Q.prototype.__defineGetter__("xNormX", function() {
    return this.b[0].i[0]
});
Q.prototype.__defineSetter__("xNormY", function(a) {
    this.b[0].i[1] = a
});
Q.prototype.__defineGetter__("xNormY", function() {
    return this.b[0].i[1]
});
Q.prototype.__defineSetter__("xNormZ", function(a) {
    this.b[0].i[2] = a
});
Q.prototype.__defineGetter__("xNormZ", function() {
    return this.b[0].i[2]
});
Q.prototype.__defineSetter__("xColor", function(a) {
    this.b[0].v = a
});
Q.prototype.__defineGetter__("xColor", function() {
    return this.b[0].v
});
Q.prototype.__defineSetter__("yNormX", function(a) {
    this.b[1].i[0] = a
});
Q.prototype.__defineGetter__("yNormX", function() {
    return this.b[1].i[0]
});
Q.prototype.__defineSetter__("yNormY", function(a) {
    this.b[1].i[1] = a
});
Q.prototype.__defineGetter__("yNormY", function() {
    return this.b[1].i[1]
});
Q.prototype.__defineSetter__("yNormZ", function(a) {
    this.b[1].i[2] = a
});
Q.prototype.__defineGetter__("yNormZ", function() {
    return this.b[1].i[2]
});
Q.prototype.__defineSetter__("yColor", function(a) {
    this.b[1].v = a
});
Q.prototype.__defineGetter__("yColor", function() {
    return this.b[1].v
});
Q.prototype.__defineSetter__("zNormX", function(a) {
    this.b[2].i[0] = a
});
Q.prototype.__defineGetter__("zNormX", function() {
    return this.b[2].i[0]
});
Q.prototype.__defineSetter__("zNormY", function(a) {
    this.b[2].i[1] = a
});
Q.prototype.__defineGetter__("zNormY", function() {
    return this.b[2].i[1]
});
Q.prototype.__defineSetter__("zNormZ", function(a) {
    this.b[2].i[2] = a
});
Q.prototype.__defineGetter__("zNormZ", function() {
    return this.b[2].i[2]
});
Q.prototype.__defineSetter__("zColor", function(a) {
    this.b[2].v = a
});
Q.prototype.__defineGetter__("zColor", function() {
    return this.b[2].v
});
Q.prototype.ck = function(a) {
    this.c[a].visible = u;
    for (var b = 0; b < this.c[a].c.length; b++)
        "undefined" != typeof this.c[a].c[b] && (this.K && (this.e.c[a].c[b].remove(),
        this.e.c[a].c[b] = t),
        this.c[a].c[b].remove(),
        this.c[a].c[b] = t);
    Nc(this.b[a].i, this.b[a].i);
    Ve(a, this.b[a].md, this.b[a].i, this);
    this.c[a].c = [];
    this.c[a].c = Array(this.b[a].p);
    this.K && (b = Te(this.b[a].md, this.b[a].Ea, this.b[a].i, this.b[a].v, this.na, this.e.ha, this.e, this.e.K, this.e.Ca.Ha),
    this.e.c[a].c = [],
    this.e.c[a].c = Array(this.b[a].p),
    this.e.c[a].c[Math.floor(this.b[a].p / 2)] = b,
    this.e.c[a].q());
    b = Te(this.b[a].md, this.b[a].Ea, this.b[a].i, this.b[a].v, this.na, this.ha, this, q, t);
    this.K && (b.e = b.F,
    b.e = this.e.c[a].c[Math.floor(this.b[a].p / 2)].F);
    this.c[a].c[Math.floor(this.b[a].p / 2)] = b;
    0 == a ? (this.yb = Math.floor(this.b[a].p / 2),
    this.Cc = Math.floor(this.b[a].p / 2)) : 1 == a ? (this.zb = Math.floor(this.b[a].p / 2),
    this.Dc = Math.floor(this.b[a].p / 2)) : (this.Ab = Math.floor(this.b[a].p / 2),
    this.Ec = Math.floor(this.b[a].p / 2));
    this.c[a].q();
    this.c[a].c[Math.floor(this.b[a].p / 2)].O = q
}
;
function df(a, b) {
    if (!a.Md)
        if (!a.Pa || !a.j && b == a.W)
            a.W = b;
        else if (-1 == a.$d.indexOf(b)) {
            a.$d.push(b);
            a.Md = q;
            var c = new Nd;
            c.D = a;
            a.dispatchEvent(c);
            a.onComputing(b);
            setTimeout(function() {
                var a = t;
                0 <= this.W && (a = this.c[this.W],
                a.visible = u);
                var a = this.c[b], c = a.c.length, d = Math.floor(c / 4), e;
                for (e = 0; e < 1 * d; e++) {
                    if (a.c[e] == t) {
                        var j = Lc();
                        j[0] = this.b[b].k[0][0][0] + this.b[b].z[0] * e;
                        j[1] = this.b[b].k[0][0][1] + this.b[b].z[1] * e;
                        j[2] = this.b[b].k[0][0][2] + this.b[b].z[2] * e;
                        if (this.K) {
                            var k = Te(j, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.e.ha, this.e, this.e.K, this.e.Ca.Ha);
                            this.e.c[b].c[e] = k;
                            this.e.c[b].q(q)
                        }
                        j = Te(j, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.ha, this, q, t);
                        j.c[0].O = u;
                        this.K && (j.e = j.F,
                        j.e = this.e.c[b].c[e].F);
                        a.c[e] = j
                    }
                    a.c[e].O = q
                }
                ff(this, 0.25);
                setTimeout(function() {
                    for (; e < 2 * d; e++) {
                        if (a.c[e] == t) {
                            var j = Lc();
                            j[0] = this.b[b].k[0][0][0] + this.b[b].z[0] * e;
                            j[1] = this.b[b].k[0][0][1] + this.b[b].z[1] * e;
                            j[2] = this.b[b].k[0][0][2] + this.b[b].z[2] * e;
                            if (this.K) {
                                var k = Te(j, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.e.ha, this.e, this.e.K, this.e.Ca.Ha);
                                this.e.c[b].c[e] = k;
                                this.e.c[b].q(q)
                            }
                            j = Te(j, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.ha, this, q, t);
                            j.c[0].O = u;
                            this.K && (j.e = j.F,
                            j.e = this.e.c[b].c[e].F);
                            a.c[e] = j
                        }
                        a.c[e].O = q
                    }
                    ff(this, 0.5);
                    setTimeout(function() {
                        for (; e < 3 * d; e++) {
                            if (a.c[e] == t) {
                                var j = Lc();
                                j[0] = this.b[b].k[0][0][0] + this.b[b].z[0] * e;
                                j[1] = this.b[b].k[0][0][1] + this.b[b].z[1] * e;
                                j[2] = this.b[b].k[0][0][2] + this.b[b].z[2] * e;
                                if (this.K) {
                                    var k = Te(j, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.e.ha, this.e, this.e.K, this.e.Ca.Ha);
                                    this.e.c[b].c[e] = k;
                                    this.e.c[b].q(q)
                                }
                                j = Te(j, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.ha, this, q, t);
                                j.c[0].O = u;
                                this.K && (j.e = j.F,
                                j.e = this.e.c[b].c[e].F);
                                a.c[e] = j
                            }
                            a.c[e].O = q
                        }
                        ff(this, 0.75);
                        setTimeout(function() {
                            for (e = 3 * d; e < c; e++) {
                                if (a.c[e] == t) {
                                    var j = Lc();
                                    j[0] = this.b[b].k[0][0][0] + this.b[b].z[0] * e;
                                    j[1] = this.b[b].k[0][0][1] + this.b[b].z[1] * e;
                                    j[2] = this.b[b].k[0][0][2] + this.b[b].z[2] * e;
                                    if (this.K) {
                                        var k = Te(j, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.e.ha, this.e, this.e.K, this.e.Ca.Ha);
                                        this.e.c[b].c[e] = k;
                                        this.e.c[b].q(q)
                                    }
                                    j = Te(j, this.b[b].Ea, this.b[b].i, this.b[b].v, this.na, this.ha, this, q, t);
                                    j.c[0].O = u;
                                    this.K && (j.e = j.F,
                                    j.e = this.e.c[b].c[e].F);
                                    a.c[e] = j
                                }
                                a.c[e].O = q
                            }
                            ff(this, 1);
                            setTimeout(function() {
                                this.Md && this.c[b].q(q);
                                this.W = b;
                                this.j = u;
                                if (this.Md) {
                                    var a = new Pd;
                                    a.D = this;
                                    this.dispatchEvent(a);
                                    this.onComputingEnd(b)
                                }
                                this.Md = u
                            }
                            .bind(this), 10)
                        }
                        .bind(this), 10)
                    }
                    .bind(this), 10)
                }
                .bind(this), 10)
            }
            .bind(a), 10)
        } else {
            c = a.c[a.W];
            c.visible = u;
            var c = a.c[b], e = c.c.length, d;
            for (d = 0; d < e; d++)
                c.c[d].O = q;
            a.W = b;
            a.j = u
        }
}
function ff(a, b) {
    var c = new Od;
    c.ud = b;
    a.dispatchEvent(c);
    a.onComputingProgress(100 * b)
}
Q.prototype.Af = aa();
Q.prototype.Cf = aa();
Q.prototype.Bf = aa();
B("X.volume", Q);
B("X.volume.prototype.modified", Q.prototype.q);
B("X.volume.prototype.sliceInfoChanged", Q.prototype.ck);
B("X.volume.prototype.onComputing", Q.prototype.Af);
B("X.volume.prototype.onComputingProgress", Q.prototype.Cf);
B("X.volume.prototype.onComputingEnd", Q.prototype.Bf);
function gf() {
    Oe.call(this);
    this.f = "parserOFF"
}
C(gf, Oe);
gf.prototype.parse = function(a, b, c) {
    function e() {
        l === d && m(Error("End of file reached unexpectedly."));
        for (var a = l; a < d; ++a)
            if (10 === f[a]) {
                var b = Qe(f, l, a);
                l = a + 1;
                return b
            }
        l = d;
        return Qe(f, l, d - 1)
    }
    D.Ga(this.f + ".parse");
    this.N = c;
    var d = c.byteLength
      , f = Z(this, "uchar", d);
    c = [];
    b.h = new W(d);
    b.n = new W(d);
    for (var g = b.h, h = b.n, l = 0, j = e(), j = ("OFF" === j ? e() : j).split(" "), k = j[0], j = j[1]; k--; ) {
        var n = e()
          , n = n.split(" ");
        c.push([parseFloat(n[0]), parseFloat(n[1]), parseFloat(n[2])])
    }
    for (; j--; ) {
        var n = e()
          , n = n.split(" ")
          , r = c[parseInt(n[1], 10)]
          , k = c[parseInt(n[2], 10)]
          , n = c[parseInt(n[3], 10)];
        g.add(r[0], r[1], r[2]);
        g.add(k[0], k[1], k[2]);
        g.add(n[0], n[1], n[2]);
        r = new S(r[0],r[1],r[2]);
        n = new S(n[0],n[1],n[2]);
        k = Hc((new S(k[0],k[1],k[2])).ta(r), n.ta(r));
        k.normalize();
        h.add(k.x, k.y, k.d);
        h.add(k.x, k.y, k.d);
        h.add(k.x, k.y, k.d)
    }
    D.za(this.f + ".parse");
    c = new jd;
    c.D = b;
    c.u = a;
    this.dispatchEvent(c)
}
;
B("X.parserOFF", gf);
B("X.parserOFF.prototype.parse", gf.prototype.parse);
function hf() {
    Oe.call(this);
    this.f = "parserDCM"
}
C(hf, Oe);
hf.prototype.parse = function(a, b, c) {
    b.rc = {};
    b.rc.tf = 0;
    this.oc(c, b);
    if (b.r.length == t || b.pa.length == b.r.length) {
        b.rc.tf = b.r.length;
        var e = {};
        c = {};
        for (var d = 0; d < b.pa.length; d++)
            e.hasOwnProperty(b.pa[d].series_instance_uid) || (e[b.pa[d].series_instance_uid] = [],
            c[b.pa[d].series_instance_uid] = {}),
            c[b.pa[d].series_instance_uid].hasOwnProperty(b.pa[d].sop_instance_uid) || (c[b.pa[d].series_instance_uid][b.pa[d].sop_instance_uid] = q,
            e[b.pa[d].series_instance_uid].push(b.pa[d]));
        var f = Object.keys(e)[0]
          , d = e[f]
          , g = d.length;
        c = {};
        var h = "image_position_patient";
        1 == g ? (h = "image_position_patient",
        e[f][0].dist = 0) : d[0].image_position_patient[0] != d[1].image_position_patient[0] || d[0].image_position_patient[1] != d[1].image_position_patient[1] || d[0].image_position_patient[2] != d[1].image_position_patient[2] ? (h = "image_position_patient",
        e = new S(d[0].image_orientation_patient[0],d[0].image_orientation_patient[1],d[0].image_orientation_patient[2]),
        f = new S(d[0].image_orientation_patient[3],d[0].image_orientation_patient[4],d[0].image_orientation_patient[5]),
        e = Hc(e, f),
        d.map(function(a, b) {
            b.dist = b.image_position_patient[0] * a.x + b.image_position_patient[1] * a.y + b.image_position_patient[2] * a.d;
            return b
        }
        .bind(t, e)),
        d.sort(function(a, b) {
            return a.dist - b.dist
        })) : d[0].instance_number != d[1].instance_number ? (h = "instance_number",
        d.sort(function(a, b) {
            return a.instance_number - b.instance_number
        })) : window.console.log("Could not resolve the ordering mode");
        isNaN(d[0].pixel_spacing[0]) && (d[0].pixel_spacing[0] = 1);
        isNaN(d[0].pixel_spacing[1]) && (d[0].pixel_spacing[1] = 1);
        if (1 < g)
            switch (h) {
            case "image_position_patient":
                var l = d[0].image_position_patient
                  , e = d[1].image_position_patient
                  , f = e[0] - l[0]
                  , j = e[1] - l[1]
                  , k = e[2] - l[2];
                d[0].pixel_spacing[2] = Math.sqrt(f * f + j * j + k * k);
                break;
            case "instance_number":
                d[0].pixel_spacing[2] = 1;
                break;
            default:
                window.console.log("Unkown ordering mode - returning: " + h)
            }
        else
            d[0].pixel_spacing[2] = 1;
        e = 1;
        switch (h) {
        case "image_position_patient":
            var l = d[0].image_position_patient
              , n = d[g - 1].image_position_patient
              , f = n[0] - l[0]
              , j = n[1] - l[1]
              , k = n[2] - l[2]
              , f = Math.sqrt(f * f + j * j + k * k)
              , e = e + Math.round(f / d[0].pixel_spacing[2]);
            break;
        case "instance_number":
            e += Math.abs(d[g - 1].instance_number - d[0].instance_number);
            break;
        default:
            window.console.log("Unkown ordering mode - returning: " + h)
        }
        l = d[0].columns * d[0].rows;
        f = l * e;
        n = t;
        switch (d[0].cf) {
        case 8:
            n = new Uint8Array(f);
            break;
        case 16:
            n = new Uint16Array(f);
            break;
        case 32:
            n = new Uint32Array(f);
        default:
            window.console.log("Unknown number of bits allocated - using default: 32 bits")
        }
        b.Wb = d[0].pixel_spacing;
        for (var r = 0; r < g; r++) {
            var s = d[r].data
              , f = 0;
            switch (h) {
            case "image_position_patient":
                f = d[r].image_position_patient[0] - d[0].image_position_patient[0];
                j = d[r].image_position_patient[1] - d[0].image_position_patient[1];
                k = d[r].image_position_patient[2] - d[0].image_position_patient[2];
                f = Math.sqrt(f * f + j * j + k * k) / d[0].pixel_spacing[2];
                break;
            case "instance_number":
                f = d[r].instance_number - d[0].instance_number;
                break;
            default:
                window.console.log("Unkown ordering mode - returning: " + h)
            }
            n.set(s, f * l)
        }
        c.data = n;
        b.N = n;
        b.aa = [d[0].columns, d[0].rows, e];
        c.wl = b.aa;
        e = Pe(n);
        g = e[0];
        e = e[1];
        c.min = b.Ma = b.ea = g;
        c.max = b.ia = b.da = e;
        -Infinity == b.U && (b.U = g);
        Infinity == b.V && (b.V = e);
        j = d[0].image_position_patient;
        g = Qc();
        switch (h) {
        case "image_position_patient":
            e = new S(d[0].image_orientation_patient[0],d[0].image_orientation_patient[1],d[0].image_orientation_patient[2]);
            f = new S(d[0].image_orientation_patient[3],d[0].image_orientation_patient[4],d[0].image_orientation_patient[5]);
            e = Hc(e, f);
            V(g, 0, -d[0].image_orientation_patient[0] * d[0].pixel_spacing[0], -d[0].image_orientation_patient[3] * d[0].pixel_spacing[1], -e.x * d[0].pixel_spacing[2], -j[0]);
            V(g, 1, -d[0].image_orientation_patient[1] * d[0].pixel_spacing[0], -d[0].image_orientation_patient[4] * d[0].pixel_spacing[1], -e.y * d[0].pixel_spacing[2], -j[1]);
            V(g, 2, d[0].image_orientation_patient[2] * d[0].pixel_spacing[0], d[0].image_orientation_patient[5] * d[0].pixel_spacing[1], e.d * d[0].pixel_spacing[2], j[2]);
            V(g, 3, 0, 0, 0, 1);
            break;
        case "instance_number":
            V(g, 0, -1, 0, 0, -j[0]);
            V(g, 1, -0, -1, -0, -j[1]);
            V(g, 2, 0, 0, 1, j[2]);
            V(g, 3, 0, 0, 0, 1);
            break;
        default:
            window.console.log("Unkown ordering mode - returning: " + h)
        }
        c.Za = g;
        c.ab = Qc();
        Yc(c.Za, c.ab);
        h = Pc(0, 0, 0, 1);
        d = Oc();
        ad(g, h, d);
        h = Pc(1, 1, 1, 1);
        e = Oc();
        ad(g, h, e);
        c.uc = [e[0] - d[0], e[1] - d[1], e[2] - d[2]];
        d = Re(g, [b.aa[0], b.aa[1], b.aa[2]]);
        c.sc = [d[1] - d[0] + 1, d[3] - d[2] + 1, d[5] - d[4] + 1];
        c.tc = [d[0], d[2], d[4]];
        b.Db(c);
        b.pb = Ye(this, b)
    }
    c = new jd;
    c.D = b;
    c.u = a;
    this.dispatchEvent(c)
}
;
function jf(a, b, c, e) {
    switch (c) {
    case 16975:
    case 20819:
    case 20053:
    case 22351:
        c = function(a) {
            for (var b = "", c = 128; 1 <= c; c /= 2)
                b += a & c ? "1" : "0";
            return b
        }
        ;
        e = a[b++];
        a = a[b++];
        e = parseInt(c((a & 65280) >> 8) + c(a & 255) + (c((e & 65280) >> 8) + c(e & 255)), 2);
        4294967295 == e && (e = 0);
        b += e / 2;
        break;
    default:
        b += e / 2
    }
    return b
}
hf.prototype.oc = function(a, b) {
    this.N = a;
    if ("undefined" == typeof b.pa || b.pa == t)
        b.pa = [];
    for (var c = {
        pixel_spacing: [0.1, 0.1, Infinity],
        image_orientation_patient: [1, 0, 0, 0, 1, 0],
        image_position_patient: [0, 0, 0],
        transfer_syntax_uid: "no_transfer_syntax_uid"
    }, e = Z(this, "ushort", this.N.byteLength), d = 66, f = t, g = t, h = t, l = t; d < e.length; )
        switch (f = e[d++],
        g = e[d++],
        h = e[d++],
        l = e[d++],
        "1.2.840.10008.1.2" == c.transfer_syntax_uid && 0 == l && (l = h),
        f) {
        case 2:
            switch (g) {
            case 16:
                for (var j = "", f = f = 0; f < l / 2; f++)
                    h = e[d++],
                    g = h & 255,
                    h = (h & 65280) >> 8,
                    j += String.fromCharCode(g),
                    j += String.fromCharCode(h);
                c.transfer_syntax_uid = j.replace(/\0/g, "");
                break;
            default:
                d = jf(e, d, h, l)
            }
            break;
        case 40:
            switch (g) {
            case 16:
                c.rows = e[d];
                d += l / 2;
                break;
            case 17:
                c.columns = e[d];
                d += l / 2;
                break;
            case 256:
                c.cf = e[d];
                d += l / 2;
                break;
            case 257:
                c.bits_stored = e[d];
                d += l / 2;
                break;
            case 2:
                c.number_of_images = e[d];
                d += l / 2;
                break;
            case 48:
                j = "";
                for (f = 0; f < l / 2; f++)
                    h = e[d++],
                    g = h & 255,
                    h = (h & 65280) >> 8,
                    j += String.fromCharCode(g),
                    j += String.fromCharCode(h);
                j = j.split("\\");
                c.pixel_spacing = [parseFloat(j[0]), parseFloat(j[1]), Infinity];
                break;
            default:
                d = jf(e, d, h, l)
            }
            break;
        case 32:
            switch (g) {
            case 14:
                c.series_instance_uid = "";
                for (f = 0; f < l / 2; f++)
                    h = e[d++],
                    g = h & 255,
                    h = (h & 65280) >> 8,
                    c.series_instance_uid += String.fromCharCode(g),
                    c.series_instance_uid += String.fromCharCode(h);
                break;
            case 19:
                j = "";
                for (f = 0; f < l / 2; f++)
                    h = e[d++],
                    g = h & 255,
                    h = (h & 65280) >> 8,
                    j += String.fromCharCode(g),
                    j += String.fromCharCode(h);
                c.instance_number = parseInt(j, 10);
                break;
            case 50:
                j = "";
                for (f = 0; f < l / 2; f++)
                    h = e[d++],
                    g = h & 255,
                    h = (h & 65280) >> 8,
                    j += String.fromCharCode(g),
                    j += String.fromCharCode(h);
                j = j.split("\\");
                c.image_position_patient = [parseFloat(j[0]), parseFloat(j[1]), parseFloat(j[2])];
                break;
            case 55:
                j = "";
                for (f = 0; f < l / 2; f++)
                    h = e[d++],
                    g = h & 255,
                    h = (h & 65280) >> 8,
                    j += String.fromCharCode(g),
                    j += String.fromCharCode(h);
                j = j.split("\\");
                c.image_orientation_patient = [parseFloat(j[0]), parseFloat(j[1]), parseFloat(j[2]), parseFloat(j[3]), parseFloat(j[4]), parseFloat(j[5])];
                break;
            default:
                d = jf(e, d, h, l)
            }
            break;
        case 65534:
            switch (g) {
            default:
                l = 0,
                d += l / 2
            }
            break;
        case 8:
            switch (g) {
            case 24:
                c.sop_instance_uid = "";
                for (f = 0; f < l / 2; f++)
                    h = e[d++],
                    g = h & 255,
                    h = (h & 65280) >> 8,
                    c.sop_instance_uid += String.fromCharCode(g),
                    c.sop_instance_uid += String.fromCharCode(h);
                break;
            default:
                d = jf(e, d, h, l)
            }
            break;
        case 16:
            switch (g) {
            case 8720:
                for (f = 0; f < l / 2; f++)
                    d++;
                break;
            default:
                d = jf(e, d, h, l)
            }
            break;
        default:
            d = jf(e, d, h, l)
        }
    switch (c.cf) {
    case 8:
        c.data = new Uint8Array(c.columns * c.rows);
        break;
    case 16:
        c.data = new Uint16Array(c.columns * c.rows);
        break;
    case 32:
        c.data = new Uint32Array(c.columns * c.rows)
    }
    this.C = this.N.byteLength - 2 * c.columns * c.rows;
    e = t;
    switch (c.cf) {
    case 8:
        e = Z(this, "uchar", c.columns * c.rows);
        break;
    case 16:
        e = Z(this, "ushort", c.columns * c.rows);
        break;
    case 32:
        e = Z(this, "uint", c.columns * c.rows)
    }
    c.data = e;
    b.pa.push(c);
    return b
}
;
B("X.parserDCM", hf);
B("X.parserDCM.prototype.parse", hf.prototype.parse);
function kf() {
    Oe.call(this);
    this.f = "parserVTK"
}
C(kf, Oe);
kf.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    var e = b.h
      , d = b.n
      , f = new Uint8Array(c)
      , g = "";
    b.h = e = new W(c.byteLength);
    b.n = d = new W(c.byteLength);
    c = 0;
    for (var h = f.length; c < h; c += 32768)
        g += Qe(f, c, Math.min(c + 32768, h));
    f = g.split("\n");
    g = f.length;
    this.sd = this.td = t;
    this.ec = [];
    this.Na = gd;
    this.Pe = this.Rb = this.Kb = this.Sb = u;
    c = 0;
    for (h = g % 8; h--; )
        lf(this, f[c]),
        c++;
    for (h = 0.125 * g ^ 0; h--; )
        lf(this, f[c]),
        c++,
        lf(this, f[c]),
        c++,
        lf(this, f[c]),
        c++,
        lf(this, f[c]),
        c++,
        lf(this, f[c]),
        c++,
        lf(this, f[c]),
        c++,
        lf(this, f[c]),
        c++,
        lf(this, f[c]),
        c++;
    c = this.td;
    var f = this.sd
      , g = f.length
      , l = h = this.ec.length;
    do {
        var j = this.ec[h - l], k = j.length, n;
        for (n = 0; n < k && !("LINES" == this.Na && n + 1 >= k); n++) {
            var r = parseInt(j[n], 10)
              , s = c.get(r);
            e.add(s[0], s[1], s[2]);
            var z = r
              , y = s;
            "LINES" == this.Na ? (z = parseInt(j[n + 1], 10),
            y = c.get(z),
            e.add(y[0], y[1], y[2])) : "TRIANGLE_STRIPS" == this.Na && (0 == n || n == k - 1) && e.add(s[0], s[1], s[2]);
            r < g ? (y = f.get(r),
            d.add(y[0], y[1], y[2]),
            "LINES" == this.Na ? (z = f.get(z),
            d.add(z[0], z[1], z[2])) : "TRIANGLE_STRIPS" == this.Na && (0 == n || n == k - 1) && d.add(y[0], y[1], y[2])) : (z = new S(s[0],s[1],s[2]),
            z.normalize(),
            d.add(z.x, z.y, z.d),
            "LINES" == this.Na ? (z = new S(y[0],y[1],y[2]),
            z.normalize(),
            d.add(z.x, z.y, z.d)) : "TRIANGLE_STRIPS" == this.Na && (0 == n || n == k - 1) && d.add(z.x, z.y, z.d))
        }
        l--
    } while (0 < l);b.Fa = this.Na;
    D.za(this.f + ".parse");
    e = new jd;
    e.D = b;
    e.u = a;
    this.dispatchEvent(e)
}
;
function lf(a, b) {
    b = b.replace(/^\s+|\s+$/g, "");
    var c = b.split(" ")
      , e = c.length
      , d = c[0];
    switch (d) {
    case "POINTS":
        a.Sb = q;
        a.Kb = u;
        a.Rb = u;
        c = parseInt(c[1], 10);
        a.td = new W(3 * c);
        a.sd = new W(3 * c);
        return;
    case "VERTICES":
        a.Kb = q;
        a.Sb = u;
        a.Rb = u;
        c = parseInt(c[1], 10);
        3 <= c ? a.Na = gd : 1 == c ? a.Na = "POINTS" : m(Error("This VTK file is not supported!"));
        a.ec = [];
        return;
    case "TRIANGLE_STRIPS":
        a.Kb = q;
        a.Sb = u;
        a.Rb = u;
        a.Na = "TRIANGLE_STRIPS";
        a.ec = [];
        return;
    case "LINES":
        a.Kb = q;
        a.Sb = u;
        a.Rb = u;
        a.Na = "LINES";
        a.ec = [];
        return;
    case "POLYGONS":
        a.Kb = q;
        a.Sb = u;
        a.Rb = u;
        a.Na = "POLYGONS";
        a.ec = [];
        return;
    case "POINT_DATA":
        a.Rb = q;
        a.Sb = u;
        a.Kb = u;
        return
    }
    if (a.Sb)
        if (1 == e || isNaN(parseFloat(d)))
            a.Sb = u;
        else {
            if (3 <= e) {
                var d = parseFloat(c[0])
                  , f = parseFloat(c[1])
                  , g = parseFloat(c[2]);
                a.td.add(d, f, g)
            }
            6 <= e && (d = parseFloat(c[3]),
            f = parseFloat(c[4]),
            g = parseFloat(c[5]),
            a.td.add(d, f, g));
            9 <= e && (e = parseFloat(c[6]),
            d = parseFloat(c[7]),
            c = parseFloat(c[8]),
            a.td.add(e, d, c))
        }
    else
        a.Kb ? 1 == e || isNaN(parseFloat(d)) ? a.Kb = u : (c = c.slice(1),
        a.ec.push(c)) : a.Rb && ("NORMALS" == d ? a.Pe = q : 1 == e || isNaN(parseFloat(d)) ? (a.Rb = u,
        a.Pe = u) : a.Pe && (3 <= e && (d = parseFloat(c[0]),
        f = parseFloat(c[1]),
        g = parseFloat(c[2]),
        a.sd.add(d, f, g)),
        6 <= e && (d = parseFloat(c[3]),
        f = parseFloat(c[4]),
        g = parseFloat(c[5]),
        a.sd.add(d, f, g)),
        9 <= e && (e = parseFloat(c[6]),
        d = parseFloat(c[7]),
        c = parseFloat(c[8]),
        a.sd.add(e, d, c))))
}
B("X.parserVTK", kf);
B("X.parserVTK.prototype.parse", kf.prototype.parse);
function mf() {
    Oe.call(this);
    this.f = "parserFSM";
    this.Sd = u
}
C(mf, Oe);
mf.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    this.N = c;
    var e = b.h
      , d = b.n;
    b.Hc = [];
    var f = b.Hc;
    c = 0;
    var g;
    do
        g = Z(this, "uchar"),
        c++;
    while (200 > c && 10 != g);Z(this, "uchar");
    d = Z(this, "uint");
    c = Z(this, "uint");
    var h = Z(this, "float", 3 * d);
    g = Z(this, "uint", 3 * c);
    var l = new Uint32Array(d)
      , j = new Float32Array(9 * c);
    b.h = e = new W(9 * c);
    b.n = d = new W(9 * c);
    var k;
    for (k = 0; k < c; k++) {
        var n = 3 * k
          , r = g[n]
          , s = g[n + 1]
          , z = g[n + 2];
        f.push(r);
        f.push(s);
        f.push(z);
        l[r] += 1;
        l[s] += 1;
        l[z] += 1;
        var n = 3 * r
          , y = 3 * s
          , E = 3 * z
          , F = h[n]
          , K = h[n + 1]
          , A = h[n + 2]
          , s = h[y]
          , z = h[y + 1]
          , r = h[y + 2]
          , G = h[E]
          , I = h[E + 1]
          , H = h[E + 2];
        e.add(F, K, A);
        e.add(s, z, r);
        e.add(G, I, H);
        F = new S(F,K,A);
        G = new S(G,I,H);
        s = (new S(s,z,r)).l().ta(F);
        z = G.l().ta(F);
        s = Hc(s, z).normalize();
        j[n] += s.x;
        j[n + 1] += s.y;
        j[n + 2] += s.d;
        j[y] += s.x;
        j[y + 1] += s.y;
        j[y + 2] += s.d;
        j[E] += s.x;
        j[E + 1] += s.y;
        j[E + 2] += s.d
    }
    for (k = 0; k < c; k++)
        n = 3 * k,
        r = g[n],
        s = g[n + 1],
        z = g[n + 2],
        n = 3 * r,
        y = 3 * s,
        E = 3 * z,
        f = new S(j[y],j[y + 1],j[y + 2]),
        h = new S(j[E],j[E + 1],j[E + 2]),
        n = (new S(j[n],j[n + 1],j[n + 2])).scale(1 / l[r]).normalize(),
        f = f.scale(1 / l[s]).normalize(),
        h = h.scale(1 / l[z]).normalize(),
        d.add(n.x, n.y, n.d),
        d.add(f.x, f.y, f.d),
        d.add(h.x, h.y, h.d);
    c = Z(this, "uchar", this.N.byteLength - this.C);
    g = t;
    for (n = 0; n < c.length; n++)
        if (99 == c[n] && 114 == c[n + 1] && 97 == c[n + 2] && 115 == c[n + 3]) {
            for (d = g = n + 9; 10 != c[n] && n < c.length; )
                d++,
                n++;
            g = Qe(c.subarray(g, d)).split(" ");
            break
        }
    g && (b.ja.zh(parseFloat(g[0])),
    b.ja.Ah(parseFloat(g[1])),
    b.ja.Bh(parseFloat(g[2])));
    b.Fa = gd;
    D.za(this.f + ".parse");
    c = new jd;
    c.D = b;
    c.u = a;
    this.dispatchEvent(c)
}
;
B("X.parserFSM", mf);
B("X.parserFSM.prototype.parse", mf.prototype.parse);
var nf = {
    gf: function(a, b, c) {
        return nf.update(a, 0, b, c)
    },
    update: function(a, b, c, e) {
        var d = nf.Ih
          , f = "number" === typeof c ? c : c = 0;
        e = "number" === typeof e ? e : a.length;
        b ^= 4294967295;
        for (f = e & 7; f--; ++c)
            b = b >>> 8 ^ d[(b ^ a[c]) & 255];
        for (f = e >> 3; f--; c += 8)
            b = b >>> 8 ^ d[(b ^ a[c]) & 255],
            b = b >>> 8 ^ d[(b ^ a[c + 1]) & 255],
            b = b >>> 8 ^ d[(b ^ a[c + 2]) & 255],
            b = b >>> 8 ^ d[(b ^ a[c + 3]) & 255],
            b = b >>> 8 ^ d[(b ^ a[c + 4]) & 255],
            b = b >>> 8 ^ d[(b ^ a[c + 5]) & 255],
            b = b >>> 8 ^ d[(b ^ a[c + 6]) & 255],
            b = b >>> 8 ^ d[(b ^ a[c + 7]) & 255];
        return (b ^ 4294967295) >>> 0
    }
};
nf.Ih = new Uint32Array([0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918E3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117]);
function of(a) {
    var b = a.length, c = 0, e = Number.POSITIVE_INFINITY, d, f, g, h, l, j, k, n, r;
    for (n = 0; n < b; ++n)
        a[n] > c && (c = a[n]),
        a[n] < e && (e = a[n]);
    d = 1 << c;
    f = new Uint32Array(d);
    g = 1;
    h = 0;
    for (l = 2; g <= c; ) {
        for (n = 0; n < b; ++n)
            if (a[n] === g) {
                j = 0;
                k = h;
                for (r = 0; r < g; ++r)
                    j = j << 1 | k & 1,
                    k >>= 1;
                for (r = j; r < d; r += l)
                    f[r] = g << 16 | n;
                ++h
            }
        ++g;
        h <<= 1;
        l <<= 1
    }
    return [f, c, e]
}
;function pf(a, b) {
    this.df = [];
    this.ef = 32768;
    this.kb = this.vd = this.L = this.Sf = 0;
    this.input = new Uint8Array(a);
    this.wg = u;
    this.ff = qf;
    this.Gb = u;
    if (b || !(b = {}))
        b.index && (this.L = b.index),
        b.bufferSize && (this.ef = b.bufferSize),
        b.bufferType && (this.ff = b.bufferType),
        b.resize && (this.Gb = b.resize);
    switch (this.ff) {
    case rf:
        this.la = 32768;
        this.Ra = new Uint8Array(32768 + this.ef + 258);
        break;
    case qf:
        this.la = 0;
        this.Ra = new Uint8Array(this.ef);
        this.mc = this.ti;
        this.zg = this.ii;
        this.nf = this.ni;
        break;
    default:
        m(Error("invalid inflate mode"))
    }
}
var rf = 0
  , qf = 1;
pf.prototype.Xb = function() {
    for (; !this.wg; ) {
        var a = sf(this, 3);
        a & 1 && (this.wg = q);
        a >>>= 1;
        switch (a) {
        case 0:
            var a = this.input
              , b = this.L
              , c = this.Ra
              , e = this.la
              , d = p
              , f = p
              , g = p
              , h = c.length
              , d = p;
            this.kb = this.vd = 0;
            d = a[b++];
            d === p && m(Error("invalid uncompressed block header: LEN (first byte)"));
            f = d;
            d = a[b++];
            d === p && m(Error("invalid uncompressed block header: LEN (second byte)"));
            f |= d << 8;
            d = a[b++];
            d === p && m(Error("invalid uncompressed block header: NLEN (first byte)"));
            g = d;
            d = a[b++];
            d === p && m(Error("invalid uncompressed block header: NLEN (second byte)"));
            g |= d << 8;
            f === ~g && m(Error("invalid uncompressed block header: length verify"));
            b + f > a.length && m(Error("input buffer is broken"));
            switch (this.ff) {
            case rf:
                for (; e + f > c.length; )
                    d = h - e,
                    f -= d,
                    c.set(a.subarray(b, b + d), e),
                    e += d,
                    b += d,
                    this.la = e,
                    c = this.mc(),
                    e = this.la;
                break;
            case qf:
                for (; e + f > c.length; )
                    c = this.mc({
                        Fg: 2
                    });
                break;
            default:
                m(Error("invalid inflate mode"))
            }
            c.set(a.subarray(b, b + f), e);
            e += f;
            this.L = b += f;
            this.la = e;
            this.Ra = c;
            break;
        case 1:
            this.nf(tf, uf);
            break;
        case 2:
            vf(this);
            break;
        default:
            m(Error("unknown BTYPE: " + a))
        }
    }
    return this.zg()
}
;
var wf = new Uint16Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), xf = new Uint16Array([3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 258, 258]), yf = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0]), zf = new Uint16Array([1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577]), Af = new Uint8Array([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]), Bf = new Uint8Array(288), Cf, Df;
Cf = 0;
for (Df = Bf.length; Cf < Df; ++Cf)
    Bf[Cf] = 143 >= Cf ? 8 : 255 >= Cf ? 9 : 279 >= Cf ? 7 : 8;
var tf = of(Bf), Ef = new Uint8Array(30), Ff, Gf;
Ff = 0;
for (Gf = Ef.length; Ff < Gf; ++Ff)
    Ef[Ff] = 5;
var uf = of(Ef);
function sf(a, b) {
    for (var c = a.vd, e = a.kb, d = a.input, f = a.L, g; e < b; )
        g = d[f++],
        g === p && m(Error("input buffer is broken")),
        c |= g << e,
        e += 8;
    g = c & (1 << b) - 1;
    a.vd = c >>> b;
    a.kb = e - b;
    a.L = f;
    return g
}
function Hf(a, b) {
    for (var c = a.vd, e = a.kb, d = a.input, f = a.L, g = b[0], h = b[1], l; e < h; )
        l = d[f++],
        l === p && m(Error("input buffer is broken")),
        c |= l << e,
        e += 8;
    d = g[c & (1 << h) - 1];
    g = d >>> 16;
    a.vd = c >> g;
    a.kb = e - g;
    a.L = f;
    return d & 65535
}
function vf(a) {
    function b(a, b, c) {
        var d, e, f;
        for (f = 0; f < a; )
            switch (d = Hf(this, b),
            d) {
            case 16:
                for (d = 3 + sf(this, 2); d--; )
                    c[f++] = e;
                break;
            case 17:
                for (d = 3 + sf(this, 3); d--; )
                    c[f++] = 0;
                e = 0;
                break;
            case 18:
                for (d = 11 + sf(this, 7); d--; )
                    c[f++] = 0;
                e = 0;
                break;
            default:
                e = c[f++] = d
            }
        return c
    }
    var c = sf(a, 5) + 257, e = sf(a, 5) + 1, d = sf(a, 4) + 4, f = new Uint8Array(wf.length), g;
    for (g = 0; g < d; ++g)
        f[wf[g]] = sf(a, 3);
    d = of(f);
    f = new Uint8Array(c);
    g = new Uint8Array(e);
    a.nf(of(b.call(a, c, d, f)), of(b.call(a, e, d, g)))
}
w = pf.prototype;
w.nf = function(a, b) {
    var c = this.Ra
      , e = this.la;
    this.Cg = a;
    for (var d = c.length - 258, f, g, h; 256 !== (f = Hf(this, a)); )
        if (256 > f)
            e >= d && (this.la = e,
            c = this.mc(),
            e = this.la),
            c[e++] = f;
        else {
            f -= 257;
            h = xf[f];
            0 < yf[f] && (h += sf(this, yf[f]));
            f = Hf(this, b);
            g = zf[f];
            0 < Af[f] && (g += sf(this, Af[f]));
            e >= d && (this.la = e,
            c = this.mc(),
            e = this.la);
            for (; h--; )
                c[e] = c[e++ - g]
        }
    for (; 8 <= this.kb; )
        this.kb -= 8,
        this.L--;
    this.la = e
}
;
w.ni = function(a, b) {
    var c = this.Ra
      , e = this.la;
    this.Cg = a;
    for (var d = c.length, f, g, h; 256 !== (f = Hf(this, a)); )
        if (256 > f)
            e >= d && (c = this.mc(),
            d = c.length),
            c[e++] = f;
        else {
            f -= 257;
            h = xf[f];
            0 < yf[f] && (h += sf(this, yf[f]));
            f = Hf(this, b);
            g = zf[f];
            0 < Af[f] && (g += sf(this, Af[f]));
            e + h > d && (c = this.mc(),
            d = c.length);
            for (; h--; )
                c[e] = c[e++ - g]
        }
    for (; 8 <= this.kb; )
        this.kb -= 8,
        this.L--;
    this.la = e
}
;
w.mc = function() {
    var a = new Uint8Array(this.la - 32768)
      , b = this.la - 32768
      , c = this.Ra;
    a.set(c.subarray(32768, a.length));
    this.df.push(a);
    this.Sf += a.length;
    c.set(c.subarray(b, b + 32768));
    this.la = 32768;
    return c
}
;
w.ti = function(a) {
    var b = this.input.length / this.L + 1 | 0
      , c = this.input
      , e = this.Ra;
    a && ("number" === typeof a.Fg && (b = a.Fg),
    "number" === typeof a.bi && (b += a.bi));
    2 > b ? (a = (c.length - this.L) / this.Cg[2],
    a = 258 * (a / 2) | 0,
    a = a < e.length ? e.length + a : e.length << 1) : a = e.length * b;
    a = new Uint8Array(a);
    a.set(e);
    return this.Ra = a
}
;
w.zg = function() {
    var a = 0, b = this.Ra, c = this.df, e, d = new Uint8Array(this.Sf + (this.la - 32768)), f, g, h, l;
    if (0 === c.length)
        return this.Ra.subarray(32768, this.la);
    f = 0;
    for (g = c.length; f < g; ++f) {
        e = c[f];
        h = 0;
        for (l = e.length; h < l; ++h)
            d[a++] = e[h]
    }
    f = 32768;
    for (g = this.la; f < g; ++f)
        d[a++] = b[f];
    this.df = [];
    return this.buffer = d
}
;
w.ii = function() {
    var a, b = this.la;
    this.Gb ? (a = new Uint8Array(b),
    a.set(this.Ra.subarray(0, b))) : a = this.Ra.subarray(0, b);
    return this.buffer = a
}
;
new Uint8Array(256);
var If;
for (If = 0; 256 > If; ++If)
    for (var Jf = If, Kf = 7, Jf = Jf >>> 1; Jf; Jf >>>= 1)
        --Kf;
var Lf = [], Mf;
for (Mf = 0; 288 > Mf; Mf++)
    switch (q) {
    case 143 >= Mf:
        Lf.push([Mf + 48, 8]);
        break;
    case 255 >= Mf:
        Lf.push([Mf - 144 + 400, 9]);
        break;
    case 279 >= Mf:
        Lf.push([Mf - 256 + 0, 7]);
        break;
    case 287 >= Mf:
        Lf.push([Mf - 280 + 192, 8]);
        break;
    default:
        m("invalid literal: " + Mf)
    }
function Nf() {
    var a = Of;
    switch (q) {
    case 3 === a:
        return [257, a - 3, 0];
    case 4 === a:
        return [258, a - 4, 0];
    case 5 === a:
        return [259, a - 5, 0];
    case 6 === a:
        return [260, a - 6, 0];
    case 7 === a:
        return [261, a - 7, 0];
    case 8 === a:
        return [262, a - 8, 0];
    case 9 === a:
        return [263, a - 9, 0];
    case 10 === a:
        return [264, a - 10, 0];
    case 12 >= a:
        return [265, a - 11, 1];
    case 14 >= a:
        return [266, a - 13, 1];
    case 16 >= a:
        return [267, a - 15, 1];
    case 18 >= a:
        return [268, a - 17, 1];
    case 22 >= a:
        return [269, a - 19, 2];
    case 26 >= a:
        return [270, a - 23, 2];
    case 30 >= a:
        return [271, a - 27, 2];
    case 34 >= a:
        return [272, a - 31, 2];
    case 42 >= a:
        return [273, a - 35, 3];
    case 50 >= a:
        return [274, a - 43, 3];
    case 58 >= a:
        return [275, a - 51, 3];
    case 66 >= a:
        return [276, a - 59, 3];
    case 82 >= a:
        return [277, a - 67, 4];
    case 98 >= a:
        return [278, a - 83, 4];
    case 114 >= a:
        return [279, a - 99, 4];
    case 130 >= a:
        return [280, a - 115, 4];
    case 162 >= a:
        return [281, a - 131, 5];
    case 194 >= a:
        return [282, a - 163, 5];
    case 226 >= a:
        return [283, a - 195, 5];
    case 257 >= a:
        return [284, a - 227, 5];
    case 258 === a:
        return [285, a - 258, 0];
    default:
        m("invalid length: " + a)
    }
}
var Pf = [], Of, Qf;
for (Of = 3; 258 >= Of; Of++)
    Qf = Nf(),
    Pf[Of] = Qf[2] << 24 | Qf[1] << 16 | Qf[0];
new Uint32Array(Pf);
function Rf() {}
;function Sf(a) {
    this.input = a;
    this.L = 0;
    this.member = []
}
Sf.prototype.Xb = function() {
    for (var a = this.input.length; this.L < a; ) {
        var b = new Rf
          , c = p
          , e = p
          , d = p
          , f = c = d = p
          , g = p
          , c = c = p
          , h = this.input
          , e = this.L;
        b.Lg = h[e++];
        b.Mg = h[e++];
        (31 !== b.Lg || 139 !== b.Mg) && m(Error("invalid file signature:", b.Lg, b.Mg));
        b.yg = h[e++];
        switch (b.yg) {
        case 8:
            break;
        default:
            m(Error("unknown compression method: " + b.yg))
        }
        b.je = h[e++];
        c = h[e++] | h[e++] << 8 | h[e++] << 16 | h[e++] << 24;
        b.Il = new Date(1E3 * c);
        b.Tl = h[e++];
        b.Nl = h[e++];
        0 < (b.je & 4) && (b.De = h[e++] | h[e++] << 8,
        e += b.De);
        if (0 < (b.je & 8)) {
            g = [];
            for (f = 0; 0 < (c = h[e++]); )
                g[f++] = String.fromCharCode(c);
            b.name = g.join("")
        }
        if (0 < (b.je & 16)) {
            g = [];
            for (f = 0; 0 < (c = h[e++]); )
                g[f++] = String.fromCharCode(c);
            b.comment = g.join("")
        }
        0 < (b.je & 2) && (b.ji = nf.gf(h, 0, e) & 65535,
        b.ji !== (h[e++] | h[e++] << 8) && m(Error("invalid header crc16")));
        c = h[h.length - 4] | h[h.length - 3] << 8 | h[h.length - 2] << 16 | h[h.length - 1] << 24;
        h.length - e - 4 - 4 < 512 * c && (d = c);
        e = new pf(h,{
            index: e,
            bufferSize: d
        });
        b.data = d = e.Xb();
        e = e.L;
        b.tl = c = (h[e++] | h[e++] << 8 | h[e++] << 16 | h[e++] << 24) >>> 0;
        nf.gf(d) !== c && m(Error("invalid CRC-32 checksum: 0x" + nf.gf(d).toString(16) + " / 0x" + c.toString(16)));
        b.Bl = c = (h[e++] | h[e++] << 8 | h[e++] << 16 | h[e++] << 24) >>> 0;
        (d.length & 4294967295) !== c && m(Error("invalid input size: " + (d.length & 4294967295) + " / " + c));
        this.member.push(b);
        this.L = e
    }
    a = this.member;
    b = d = e = 0;
    for (h = a.length; b < h; ++b)
        d += a[b].data.length;
    d = new Uint8Array(d);
    for (b = 0; b < h; ++b)
        d.set(a[b].data, e),
        e += a[b].data.length;
    return d
}
;
function Tf() {
    Oe.call(this);
    this.f = "parserMGZ";
    this.Sd = u
}
C(Tf, Oe);
Tf.prototype.parse = function(a, b, c, e) {
    D.Ga(this.f + ".parse");
    e && (c = (new Sf(new Uint8Array(c))).Xb(),
    c = c.buffer);
    e = this.oc(c);
    var d = [e.wf, e.xf, e.yf];
    b.aa = d;
    var f = e.Ch;
    b.Wb = f;
    c = e.min;
    var g = e.max;
    b.Ma = b.ea = c;
    b.ia = b.da = g;
    -Infinity == b.U && (b.U = c);
    Infinity == b.V && (b.V = g);
    c = Qc();
    V(c, 0, e.$a[0][0], e.$a[1][0], e.$a[2][0], 0);
    V(c, 1, e.$a[0][1], e.$a[1][1], e.$a[2][1], 0);
    V(c, 2, e.$a[0][2], e.$a[1][2], e.$a[2][2], 0);
    V(c, 3, 0, 0, 0, 1);
    for (var g = d[0] / 2, h = d[1] / 2, l = d[2] / 2, d = [0, 0, 0], j = 0; 3 > j; ++j)
        d[j] = e.$a[3][j] - (c[j + 0] * f[0] * g + c[j + 4] * f[1] * h + c[j + 8] * f[2] * l);
    f = d[1];
    g = d[2];
    c[12] = d[0];
    c[13] = f;
    c[14] = g;
    c[15] = 1;
    e.Za = c;
    e.ab = Qc();
    Yc(e.Za, e.ab);
    d = Pc(0, 0, 0, 1);
    f = Oc();
    ad(c, d, f);
    g = Pc(1, 1, 1, 1);
    d = Oc();
    ad(c, g, d);
    c = Re(c, b.aa);
    e.uc = [d[0] - f[0], d[1] - f[1], d[2] - f[2]];
    e.sc = [c[1] - c[0] + 1, c[3] - c[2] + 1, c[5] - c[4] + 1];
    e.tc = [c[0], c[2], c[4]];
    b.Db(e);
    D.za(this.f + ".parse");
    b.pb = Ye(this, b);
    e = new jd;
    e.D = b;
    e.u = a;
    this.dispatchEvent(e)
}
;
Tf.prototype.oc = function(a) {
    this.N = a;
    a = {
        version: 0,
        Lh: 0,
        Jh: 0,
        Ai: 0,
        Kh: 0,
        wf: 0,
        xf: 0,
        yf: 0,
        jj: 0,
        type: 0,
        ri: 0,
        rh: 0,
        yk: t,
        $a: t,
        Ch: t,
        data: t,
        min: Infinity,
        max: -Infinity
    };
    a.version = Z(this, "uint");
    a.wf = Z(this, "uint");
    a.xf = Z(this, "uint");
    a.yf = Z(this, "uint");
    a.jj = Z(this, "uint");
    a.type = Z(this, "uint");
    a.ri = Z(this, "uint");
    a.rh = Z(this, "ushort");
    if (0 < a.rh) {
        a.Ch = Z(this, "float", 3);
        var b = [];
        b.push(Z(this, "float", 3));
        b.push(Z(this, "float", 3));
        b.push(Z(this, "float", 3));
        b.push(Z(this, "float", 3));
        a.$a = b
    }
    this.C = 284;
    b = a.wf * a.xf * a.yf;
    switch (a.type) {
    case 0:
        a.data = Z(this, "uchar", b);
        break;
    case 1:
        a.data = Z(this, "uint", b);
        break;
    case 3:
        a.data = Z(this, "float", b);
        break;
    case 4:
        a.data = Z(this, "ushort", b);
        break;
    default:
        m(Error("Unsupported MGH/MGZ data type: " + a.type))
    }
    b = Pe(a.data);
    a.min = b[0];
    a.max = b[1];
    this.C + 16 < this.N.byteLength && (a.Lh = Z(this, "float"),
    a.Ai = Z(this, "float"),
    a.Jh = Z(this, "float"),
    a.Kh = Z(this, "float"));
    return a
}
;
B("X.parserMGZ", Tf);
B("X.parserMGZ.prototype.parse", Tf.prototype.parse);
function Uf() {
    Oe.call(this);
    this.f = "parserLBL"
}
C(Uf, Oe);
Uf.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    var e = b.Hc
      , d = e.length;
    0 == d && m(Error("No _pointIndices defined on the X.object."));
    this.N = c;
    var f = []
      , g = Z(this, "uchar", c.byteLength)
      , h = g.length
      , l = u
      , j = 0;
    for (c = 1; c < h; c++)
        10 == g[c - 1] ? (j = c,
        l = q) : l && 32 == g[c] && (f.push(parseInt(Qe(g, j, c), 10)),
        l = u);
    g = b.I.H ? b.I.H : new Float32Array(d);
    h = f.length;
    for (c = 0; c < h; c++)
        g[f[c]] = 1;
    f = new Float32Array(3 * d);
    for (c = h = 0; c < d; c++)
        l = e[c],
        l > d && m(Error("Could not find scalar for vertex.")),
        l = g[l],
        f[h++] = l,
        f[h++] = l,
        f[h++] = l;
    b.I.H = g;
    b.I.Wc = f;
    b.I.j = q;
    D.za(this.f + ".parse");
    e = new jd;
    e.D = b;
    e.u = a;
    this.dispatchEvent(e)
}
;
B("X.parserLBL", Uf);
B("X.parserLBL.prototype.parse", Uf.prototype.parse);
function Vf() {
    Oe.call(this);
    this.f = "parserCRV";
    this.Sd = u
}
C(Vf, Oe);
Vf.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    var e = b.Hc;
    0 == e.length && m(Error("No _pointIndices defined on the X.object."));
    this.N = c;
    this.C = 3;
    var d = Z(this, "uint");
    Z(this, "uint");
    Z(this, "uint");
    var f = 0
      , g = 0
      , h = 0
      , l = 0
      , j = 0
      , k = 0
      , n = 0
      , r = 0
      , s = 0
      , z = 0
      , y = 0;
    c = Array(2);
    var E = Array(2), F = Z(this, "float", d), K;
    for (K = 0; K < d; K++) {
        var A = F[K];
        0 == K && (c[0] = E[0] = A);
        0 <= A ? (f++,
        l += A) : (g++,
        h += A);
        s += A;
        y++;
        E[0] = Math.max(A, E[0]);
        c[0] = Math.min(A, c[0]);
        F[K] = A
    }
    0 != f && (j = l / f);
    0 != g && (k = h / g);
    0 != y && (z = s / y);
    for (y = s = h = l = 0; y < d; y++)
        A = F[y],
        K = 0,
        0 <= A ? (K = Math.pow(A - j, 2),
        l += K) : (K = Math.pow(A - k, 2),
        h += K),
        K = Math.pow(A - z, 2),
        s += K;
    1 < f && (n = Math.sqrt(l / (f - 1)));
    1 < g && (r = Math.sqrt(h / (g - 1)));
    c[1] = k - 2.5 * r;
    E[1] = j + 2.5 * n;
    d = e.length;
    f = new Float32Array(3 * d);
    for (y = 0; y < d; y++)
        g = F[e[y]],
        h = 3 * y,
        f[h] = g,
        f[h + 1] = g,
        f[h + 2] = g;
    b.I.Ma = c[1];
    b.I.ia = E[1];
    -Infinity == b.I.U && (b.I.U = c[1]);
    Infinity == b.I.V && (b.I.V = E[1]);
    b.I.H = F;
    b.I.Wc = f;
    b.I.j = q;
    D.za(this.f + ".parse");
    e = new jd;
    e.D = b;
    e.u = a;
    this.dispatchEvent(e)
}
;
B("X.parserCRV", Vf);
B("X.parserCRV.prototype.parse", Vf.prototype.parse);
function Wf(a, b) {
    var c, e;
    this.input = a;
    this.L = 0;
    if (b || !(b = {}))
        b.index && (this.L = b.index),
        b.verify && (this.pk = b.verify);
    c = a[this.L++];
    e = a[this.L++];
    switch (c & 15) {
    case 8:
        this.method = 8;
        break;
    default:
        m(Error("unsupported compression method"))
    }
    0 !== ((c << 8) + e) % 31 && m(Error("invalid fcheck flag:" + ((c << 8) + e) % 31));
    e & 32 && m(Error("fdict flag is not supported"));
    this.sh = new pf(a,{
        index: this.L,
        bufferSize: b.bufferSize,
        bufferType: b.bufferType,
        resize: b.resize
    })
}
Wf.prototype.Xb = function() {
    var a = this.input, b;
    b = this.sh.Xb();
    this.L = this.sh.L;
    if (this.pk) {
        var a = (a[this.L++] << 24 | a[this.L++] << 16 | a[this.L++] << 8 | a[this.L++]) >>> 0
          , c = b;
        if ("string" === typeof c) {
            var c = c.split(""), e, d;
            e = 0;
            for (d = c.length; e < d; e++)
                c[e] = (c[e].charCodeAt(0) & 255) >>> 0
        }
        e = 1;
        d = 0;
        for (var f = c.length, g, h = 0; 0 < f; ) {
            g = 1024 < f ? 1024 : f;
            f -= g;
            do
                e += c[h++],
                d += e;
            while (--g);e %= 65521;
            d %= 65521
        }
        a !== (d << 16 | e) >>> 0 && m(Error("invalid adler-32 checksum"))
    }
    return b
}
;
function Xf() {
    Oe.call(this);
    this.f = "parserRAW"
}
C(Xf, Oe);
Xf.prototype.parse = function(a, b, c, e) {
    D.Ga(this.f + ".parse");
    e && (c = (new Wf(new Uint8Array(c))).Xb(),
    c = c.buffer);
    e = {};
    e.data = new Uint8Array(c);
    var d = Pe(e.data);
    c = d[0];
    d = d[1];
    e.min = b.Ma = b.ea = c;
    e.max = b.ia = b.da = d;
    -Infinity == b.U && (b.U = c);
    Infinity == b.V && (b.V = d);
    d = Rc();
    e.Za = d;
    e.ab = Rc();
    var f = Pc(0, 0, 0, 1);
    c = Oc();
    ad(d, f, c);
    var g = Pc(1, 1, 1, 1)
      , f = Oc();
    ad(d, g, f);
    d = Re(d, b.aa);
    e.uc = [f[0] - c[0], f[1] - c[1], f[2] - c[2]];
    e.sc = [d[1] - d[0] + 1, d[3] - d[2] + 1, d[5] - d[4] + 1];
    e.tc = [d[0], d[2], d[4]];
    b.Db(e);
    D.za(this.f + ".parse");
    b.pb = Ye(this, b);
    e = new jd;
    e.D = b;
    e.u = a;
    this.dispatchEvent(e)
}
;
B("X.parserRAW", Xf);
B("X.parserRAW.prototype.parse", Xf.prototype.parse);
function Yf() {
    Oe.call(this);
    this.f = "parserLUT"
}
C(Yf, Oe);
Yf.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    this.N = c;
    c = Z(this, "uchar", c.byteLength);
    var e = c.length, d = 0, f;
    for (f = 0; f < e; f++)
        if (10 == c[f]) {
            var g = Qe(c, d, f)
              , d = f + 1
              , g = g.replace(/^\s+|\s+$/g, "");
            "#" != g[0] && (g = g.split(" "),
            g = g.filter(function(a) {
                return "" != a
            }),
            6 == g.length && (g[2] = parseInt(g[2], 10) / 255,
            g[3] = parseInt(g[3], 10) / 255,
            g[4] = parseInt(g[4], 10) / 255,
            g[5] = parseInt(g[5], 10) / 255,
            a.add(parseInt(g[0], 10), g[1], g[2], g[3], g[4], g[5], 10)))
        }
    D.za(this.f + ".parse");
    c = new jd;
    c.D = b;
    c.u = a;
    this.dispatchEvent(c)
}
;
B("X.parserLUT", Yf);
B("X.parserLUT.prototype.parse", Yf.prototype.parse);
function Zf() {
    Oe.call(this);
    this.f = "parserMRC"
}
C(Zf, Oe);
Zf.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    c = this.oc(c);
    var e = c.min
      , d = c.max;
    b.aa = [c.Bd, c.Cd, c.Dd];
    b.Wb = [c.De / c.Yg, c.Fh / c.Zg, c.Gh / c.$g];
    b.Ma = b.ea = e;
    b.ia = b.da = d;
    -Infinity == b.U && (b.U = e);
    Infinity == b.V && (b.V = d);
    d = Qc();
    V(d, 3, 0, 0, 0, 1);
    V(d, 0, -1, 0, 0, c.Bd);
    V(d, 1, 0, 0, -1, c.Cd);
    V(d, 2, 0, -1, 0, c.Dd);
    c.Za = d;
    c.ab = Qc();
    Yc(c.Za, c.ab);
    var f = Pc(0, 0, 0, 1)
      , e = Oc();
    ad(d, f, e);
    var g = Pc(1, 1, 1, 1)
      , f = Oc();
    ad(d, g, f);
    g = [c.Bd, c.Cd, c.Dd];
    d = Re(d, g);
    c.uc = [f[0] - e[0], f[1] - e[1], f[2] - e[2]];
    c.sc = [d[1] + d[0] + 1, d[3] - d[2] + 1, d[5] - d[4] + 1];
    c.tc = [d[0], d[2], d[4]];
    b.aa = g;
    b.Db(c);
    b.pb = Ye(this, b);
    D.za(this.f + ".parse");
    c = new jd;
    c.D = b;
    c.u = a;
    this.dispatchEvent(c)
}
;
Zf.prototype.oc = function(a) {
    this.N = a;
    a = {
        Bd: 0,
        Cd: 0,
        Dd: 0,
        mode: 0,
        Kl: 0,
        Ll: 0,
        Ml: 0,
        Yg: 0,
        Zg: 0,
        $g: 0,
        De: 0,
        Fh: 0,
        Gh: 0,
        alpha: 0,
        ei: 0,
        Bi: 0,
        bj: 0,
        cj: 0,
        dj: 0,
        bf: 0,
        de: 0,
        jc: 0,
        Dl: 0,
        next: 0,
        ki: 0,
        vi: t,
        kj: 0,
        mj: 0,
        vi: t,
        Pi: 0,
        Al: 0,
        Ni: 0,
        Yi: 0,
        gj: 0,
        hj: 0,
        nk: 0,
        ok: 0,
        kk: t,
        qk: 0,
        sk: 0,
        tk: 0,
        sl: 0,
        Sl: 0,
        Xj: 0,
        lj: 0,
        data: t,
        min: Infinity,
        max: -Infinity,
        Hl: 0,
        vh: t,
        Rl: t,
        Pl: t,
        orientation: t,
        Jl: t
    };
    this.C = 0;
    a.Bd = Z(this, "sint");
    a.Cd = Z(this, "sint");
    a.Dd = Z(this, "sint");
    a.mode = Z(this, "sint");
    var b = a.Bd * a.Cd * a.Dd;
    this.C = 1024;
    switch (a.mode) {
    case 0:
        a.data = Z(this, "schar", b);
        break;
    case 1:
        a.data = Z(this, "sshort", b);
        break;
    case 2:
        a.data = Z(this, "float", b);
        break;
    case 3:
        a.data = Z(this, "uint", b);
        break;
    case 4:
        a.data = Z(this, "double", b);
        break;
    case 6:
        a.data = Z(this, "ushort", b);
        break;
    case 16:
        a.data = Z(this, "uchar", b);
        break;
    default:
        m(Error("Unsupported MRC data type: " + a.mode))
    }
    this.C = 28;
    a.Yg = Z(this, "sint");
    a.Zg = Z(this, "sint");
    a.$g = Z(this, "sint");
    a.De = Z(this, "float");
    a.Fh = Z(this, "float");
    a.Gh = Z(this, "float");
    a.alpha = Z(this, "float");
    a.ei = Z(this, "float");
    a.Bi = Z(this, "float");
    a.bj = Z(this, "sint");
    a.cj = Z(this, "sint");
    a.dj = Z(this, "sint");
    a.bf = Z(this, "float");
    a.de = Z(this, "float");
    a.jc = Z(this, "float");
    a.Cl = Z(this, "sint");
    a.next = Z(this, "sint");
    a.ki = Z(this, "short");
    a.kj = Z(this, "short");
    a.mj = Z(this, "short");
    a.Pi = Z(this, "sint");
    a.zl = Z(this, "sint");
    a.Ni = Z(this, "short");
    a.Yi = Z(this, "short");
    a.gj = Z(this, "short");
    a.hj = Z(this, "short");
    a.nk = Z(this, "short");
    a.ok = Z(this, "short");
    a.kk = Z(this, "float", 6);
    this.C = 196;
    a.qk = Z(this, "float");
    a.sk = Z(this, "float");
    a.tk = Z(this, "float");
    this.C = 216;
    a.Xj = Z(this, "float");
    a.lj = Z(this, "sint");
    a.El = Z(this, "schar", 10);
    if (0 != a.next)
        switch (this.C = parseInt(a.next + 1024, 10),
        a.mode) {
        case 0:
            a.data = Z(this, "schar", b);
            break;
        case 1:
            a.data = Z(this, "sshort", b);
            break;
        case 2:
            a.data = Z(this, "float", b);
            break;
        case 3:
            a.data = Z(this, "uint", b);
            break;
        case 4:
            a.data = Z(this, "double", b);
            break;
        case 6:
            a.data = Z(this, "ushort", b);
            break;
        case 16:
            a.data = Z(this, "uchar", b);
            break;
        default:
            m(Error("Unsupported MRC data type: " + a.mode))
        }
    0 > a.jc - (a.de - a.jc) ? (a.min = a.bf,
    a.max = a.jc + (a.jc - a.bf)) : (a.min = a.jc - (a.de - a.jc),
    a.max = a.de);
    return a
}
;
B("X.parserMRC", Zf);
B("X.parserMRC.prototype.parse", Zf.prototype.parse);
function $f() {
    Oe.call(this);
    this.f = "parserNRRD"
}
C($f, Oe);
$f.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    this.N = c;
    c = Z(this, "uchar", c.byteLength);
    var e = c.length, d = t, f = 0, g;
    for (g = 1; g < e; g++)
        if (10 == c[g - 1] && 10 == c[g]) {
            d = Qe(c, 0, g - 2);
            f = g + 1;
            break
        }
    var h, l, j, k, e = d.split(/\r?\n/), d = 0;
    for (g = e.length; d < g; d++)
        if (h = e[d],
        h.match(/NRRD\d+/))
            this.Wi = q;
        else if (!h.match(/^#/) && (k = h.match(/(.*):(.*)/)))
            l = k[1].trim(),
            h = k[2].trim(),
            (j = this.wi[l]) ? j.call(this, h) : this[l] = h;
    this.Wi || m(Error("Not an NRRD file"));
    "raw" !== this.encoding && ("gzip" !== this.encoding && "gz" !== this.encoding) && m(Error("Only raw or gz/gzip encoding is allowed"));
    if (!this.ga && (this.ga = [new S(1,0,0), new S(0,1,0), new S(0,0,1)],
    this.Qf)) {
        e = [];
        for (k = 0; 2 >= k; k++)
            e.push(!isNaN(this.Qf[k]) ? this.ga[k].scale(this.Qf[k]) : p)
    }
    f = c.subarray(f);
    if ("gzip" == this.encoding || "gz" == this.encoding)
        f = (new Sf(new Uint8Array(f))).Xb();
    f = f.buffer;
    c = {
        data: t,
        min: Infinity,
        max: -Infinity
    };
    c.data = new this.Jb(f);
    k = Pe(c.data);
    f = c.min = k[0];
    k = c.max = k[1];
    b.Ma = b.ea = f;
    b.ia = b.da = k;
    b.aa = [this.Of[0], this.Of[1], this.Of[2]];
    e = (new S(this.ga[0][0],this.ga[0][1],this.ga[0][2])).Fb();
    d = (new S(this.ga[1][0],this.ga[1][1],this.ga[1][2])).Fb();
    g = (new S(this.ga[2][0],this.ga[2][1],this.ga[2][2])).Fb();
    b.Wb = [e, d, g];
    -Infinity == b.U && (b.U = f);
    Infinity == b.V && (b.V = k);
    e = k = 1;
    "left-posterior-superior" == this.vh && (e = k = -1);
    f = Rc();
    V(f, 0, k * this.ga[0][0], k * this.ga[1][0], k * this.ga[2][0], k * this.Pf[0]);
    V(f, 1, e * this.ga[0][1], e * this.ga[1][1], e * this.ga[2][1], e * this.Pf[1]);
    V(f, 2, 1 * this.ga[0][2], 1 * this.ga[1][2], 1 * this.ga[2][2], 1 * this.Pf[2]);
    V(f, 3, 0, 0, 0, 1);
    c.Za = f;
    c.ab = Qc();
    Yc(c.Za, c.ab);
    e = Pc(0, 0, 0, 1);
    k = Oc();
    ad(f, e, k);
    d = Pc(1, 1, 1, 1);
    e = Oc();
    ad(f, d, e);
    f = Re(f, b.aa);
    c.uc = [e[0] - k[0], e[1] - k[1], e[2] - k[2]];
    c.sc = [f[1] - f[0] + 1, f[3] - f[2] + 1, f[5] - f[4] + 1];
    c.tc = [f[0], f[2], f[4]];
    b.Db(c);
    D.za(this.f + ".parse");
    b.pb = Ye(this, b);
    c = new jd;
    c.D = b;
    c.u = a;
    this.dispatchEvent(c)
}
;
$f.prototype.wi = {
    type: function(a) {
        switch (a) {
        case "uchar":
        case "unsigned char":
        case "uint8":
        case "uint8_t":
            this.Jb = Uint8Array;
            break;
        case "signed char":
        case "int8":
        case "int8_t":
            this.Jb = Int8Array;
            break;
        case "short":
        case "short int":
        case "signed short":
        case "signed short int":
        case "int16":
        case "int16_t":
            this.Jb = Int16Array;
            break;
        case "ushort":
        case "unsigned short":
        case "unsigned short int":
        case "uint16":
        case "uint16_t":
            this.Jb = Uint16Array;
            break;
        case "int":
        case "signed int":
        case "int32":
        case "int32_t":
            this.Jb = Int32Array;
            break;
        case "uint":
        case "unsigned int":
        case "uint32":
        case "uint32_t":
            this.Jb = Uint32Array;
            break;
        case "float":
            this.Jb = Float32Array;
            break;
        case "double":
            this.Jb = Float64Array;
            break;
        default:
            m(Error("Unsupported NRRD data type: " + a))
        }
        return this.type = a
    },
    endian: function(a) {
        return this.xl = a
    },
    encoding: function(a) {
        return this.encoding = a
    },
    dimension: function(a) {
        return this.Yb = parseInt(a, 10)
    },
    sizes: function(a) {
        var b, c, e, d;
        e = a.split(/\s+/);
        d = [];
        b = 0;
        for (c = e.length; b < c; b++)
            a = e[b],
            d.push(parseInt(a, 10));
        return this.Of = d
    },
    space: function(a) {
        return this.vh = a
    },
    "space origin": function(a) {
        return this.Pf = a.split("(")[1].split(")")[0].split(",")
    },
    "space directions": function(a) {
        var b, c;
        a = a.match(/\(.*?\)/g);
        var e, d, f;
        f = [];
        e = 0;
        for (d = a.length; e < d; e++)
            c = a[e],
            f.push(function() {
                var a, d, e, f;
                e = c.slice(1, -1).split(/,/);
                f = [];
                a = 0;
                for (d = e.length; a < d; a++)
                    b = e[a],
                    f.push(parseFloat(b));
                return f
            }());
        return this.ga = f
    },
    spacings: function(a) {
        var b;
        b = a.split(/\s+/);
        var c, e, d;
        d = [];
        c = 0;
        for (e = b.length; c < e; c++)
            a = b[c],
            d.push(parseFloat(a));
        return this.Qf = d
    }
};
B("X.parserNRRD", $f);
B("X.parserNRRD.prototype.parse", $f.prototype.parse);
function ag() {
    Oe.call(this);
    this.f = "parserSTL"
}
C(ag, Oe);
ag.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    this.N = c;
    var e = b.h
      , d = b.n;
    if ("solid" == Qe(Z(this, "uchar", 5))) {
        b.h = e = new W(c.byteLength);
        b.n = d = new W(c.byteLength);
        var f = e
          , e = d
          , d = Z(this, "uchar", c.byteLength - 5);
        c = d.length;
        var g = u, h = u, l = 0, j;
        for (j = 0; j < c; j++)
            if (10 == d[j]) {
                if (g || h) {
                    var k = Qe(d, l, j).split(" ")
                      , h = parseFloat(k[0])
                      , n = parseFloat(k[1])
                      , k = parseFloat(k[2]);
                    g ? (e.add(h, n, k),
                    e.add(h, n, k),
                    e.add(h, n, k)) : f.add(h, n, k);
                    h = g = u
                }
            } else
                32 == d[j - 1] && (102 == d[j] ? (l = j += 13,
                g = q) : 118 == d[j] && (l = j += 7,
                h = q))
    } else {
        this.C = 80;
        f = Z(this, "uint");
        b.h = e = new W(9 * f);
        b.n = d = new W(9 * f);
        for (c = c = 0; c < f; c++)
            g = Z(this, "float", 12),
            l = g[0],
            j = g[1],
            h = g[2],
            d.add(l, j, h),
            d.add(l, j, h),
            d.add(l, j, h),
            e.add(g[3], g[4], g[5]),
            e.add(g[6], g[7], g[8]),
            e.add(g[9], g[10], g[11]),
            this.C += 2
    }
    D.za(this.f + ".parse");
    f = new jd;
    f.D = b;
    f.u = a;
    this.dispatchEvent(f)
}
;
B("X.parserSTL", ag);
B("X.parserSTL.prototype.parse", ag.prototype.parse);
function bg() {
    Oe.call(this);
    this.f = "parserNII"
}
C(bg, Oe);
bg.prototype.parse = function(a, b, c) {
    var e = c
      , d = -1
      , d = "undefined" == typeof DataView ? (new Int32Array(c,0,1))[0] : (new DataView(c,0)).getInt32(0, q);
    348 != d && (e = (new Sf(new Uint8Array(e))).Xb(),
    e = e.buffer);
    c = this.oc(e);
    e = c.min;
    d = c.max;
    b.Ma = b.ea = e;
    b.ia = b.da = d;
    -Infinity == b.U && (b.U = e);
    Infinity == b.V && (b.V = d);
    e = Qc();
    V(e, 3, 0, 0, 0, 1);
    if (0 < c.Kf) {
        var d = 0
          , f = c.oh
          , g = c.ph
          , h = c.qh
          , l = 1
          , j = 1
          , k = 1
          , n = c.lh
          , r = c.mh
          , s = c.nh
          , d = 1 - (f * f + g * g + h * h);
        1E-7 > d ? (d = 1 / Math.sqrt(f * f + g * g + h * h),
        f *= d,
        g *= d,
        h *= d,
        d = 0) : d = Math.sqrt(d);
        0 < c.mb[1] && (l = c.mb[1]);
        0 < c.mb[2] && (j = c.mb[2]);
        0 < c.mb[2] && (k = c.mb[3]);
        0 > c.mb[0] && (k = -k);
        V(e, 0, (d * d + f * f - g * g - h * h) * l, 2 * (f * g - d * h) * j, 2 * (f * h + d * g) * k, n);
        V(e, 1, 2 * (f * g + d * h) * l, (d * d + g * g - f * f - h * h) * j, 2 * (g * h - d * f) * k, r);
        V(e, 2, 2 * (f * h - d * g) * l, 2 * (g * h + d * f) * j, (d * d + h * h - g * g - f * f) * k, s)
    } else
        0 < c.th ? (d = c.wh,
        f = c.xh,
        g = c.yh,
        V(e, 0, d[0], d[1], d[2], d[3]),
        V(e, 1, f[0], f[1], f[2], f[3]),
        V(e, 2, g[0], g[1], g[2], g[3])) : 0 == c.Kf ? (V(e, 0, c.mb[1], 0, 0, 0),
        V(e, 1, 0, c.mb[2], 0, 0),
        V(e, 2, 0, 0, c.mb[3], 0)) : window.console.log("UNKNOWN METHOD IN PARSER NII");
    c.Za = e;
    c.ab = Qc();
    Yc(c.Za, c.ab);
    f = Pc(0, 0, 0, 1);
    d = Oc();
    ad(e, f, d);
    g = Pc(1, 1, 1, 1);
    f = Oc();
    ad(e, g, f);
    g = [c.Yb[1], c.Yb[2], c.Yb[3]];
    e = Re(e, g);
    c.uc = [f[0] - d[0], f[1] - d[1], f[2] - d[2]];
    c.sc = [e[1] - e[0] + 1, e[3] - e[2] + 1, e[5] - e[4] + 1];
    c.tc = [e[0], e[2], e[4]];
    b.aa = g;
    b.Db(c);
    b.pb = Ye(this, b);
    c = new jd;
    c.D = b;
    c.u = a;
    this.dispatchEvent(c)
}
;
bg.prototype.oc = function(a) {
    this.N = a;
    a = {
        bk: 0,
        li: t,
        mi: t,
        ui: 0,
        $j: 0,
        Uj: 0,
        qi: t,
        Yb: t,
        Si: 0,
        Ti: 0,
        Ui: 0,
        Qi: 0,
        mf: 0,
        fi: 0,
        gk: 0,
        mb: t,
        Dh: 0,
        Zj: 0,
        Yj: 0,
        fk: 0,
        dk: t,
        rk: t,
        gi: 0,
        hi: 0,
        ek: 0,
        lk: 0,
        Di: 0,
        Ei: 0,
        oi: t,
        di: t,
        Kf: 0,
        th: 0,
        oh: 0,
        ph: 0,
        qh: 0,
        lh: 0,
        mh: 0,
        nh: 0,
        wh: t,
        xh: t,
        yh: t,
        Ri: t,
        Zi: t,
        data: t,
        min: Infinity,
        max: -Infinity
    };
    a.bk = Z(this, "uint");
    a.li = Z(this, "uchar", 10);
    a.mi = Z(this, "uchar", 18);
    a.ui = Z(this, "uint");
    a.$j = Z(this, "ushort");
    a.Uj = Z(this, "uchar");
    a.qi = Z(this, "uchar");
    a.Yb = Z(this, "ushort", 8);
    a.Si = Z(this, "float");
    a.Ti = Z(this, "float");
    a.Ui = Z(this, "float");
    a.Qi = Z(this, "ushort");
    a.mf = Z(this, "ushort");
    a.fi = Z(this, "ushort");
    a.gk = Z(this, "ushort");
    a.mb = Z(this, "float", 8);
    a.Dh = Z(this, "float");
    a.Zj = Z(this, "float");
    a.Yj = Z(this, "float");
    a.fk = Z(this, "ushort");
    a.dk = Z(this, "uchar");
    a.rk = Z(this, "uchar");
    a.gi = Z(this, "float");
    a.hi = Z(this, "float");
    a.ek = Z(this, "float");
    a.lk = Z(this, "float");
    a.Di = Z(this, "uint", 1);
    a.Ei = Z(this, "uint", 1);
    a.oi = Z(this, "uchar", 80);
    a.di = Z(this, "uchar", 24);
    a.Kf = Z(this, "ushort");
    a.th = Z(this, "ushort");
    a.oh = Z(this, "float");
    a.ph = Z(this, "float");
    a.qh = Z(this, "float");
    a.lh = Z(this, "float");
    a.mh = Z(this, "float");
    a.nh = Z(this, "float");
    a.wh = Z(this, "float", 4);
    a.xh = Z(this, "float", 4);
    a.yh = Z(this, "float", 4);
    a.Ri = Z(this, "uchar", 16);
    a.Zi = Z(this, "uchar", 4);
    this.C = parseInt(a.Dh, 10);
    var b = a.Yb[1] * a.Yb[2] * a.Yb[3];
    switch (a.mf) {
    case 2:
        a.data = Z(this, "uchar", b);
        break;
    case 4:
        a.data = Z(this, "sshort", b);
        break;
    case 8:
        a.data = Z(this, "sint", b);
        break;
    case 16:
        a.data = Z(this, "float", b);
        break;
    case 32:
        a.data = Z(this, "complex", b);
        break;
    case 64:
        a.data = Z(this, "double", b);
        break;
    case 256:
        a.data = Z(this, "schar", b);
        break;
    case 512:
        a.data = Z(this, "ushort", b);
        break;
    case 768:
        a.data = Z(this, "uint", b);
        break;
    default:
        m(Error("Unsupported NII data type: " + a.mf))
    }
    b = Pe(a.data);
    a.min = b[0];
    a.max = b[1];
    return a
}
;
B("X.parserNII", bg);
B("X.parserNII.prototype.parse", bg.prototype.parse);
function cg() {
    Oe.call(this);
    this.f = "parserTRK"
}
C(cg, Oe);
cg.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    var e = b.h
      , d = b.n
      , f = b.oa;
    this.N = c;
    Z(this, "uchar", 6);
    Z(this, "ushort", 3);
    var g = Z(this, "float", 3);
    Z(this, "float", 3);
    var h = Z(this, "ushort");
    Z(this, "uchar", 200);
    Z(this, "ushort");
    Z(this, "uchar", 200);
    c = Z(this, "float", 16);
    Z(this, "uchar", 444);
    Z(this, "uchar", 4);
    Z(this, "uchar", 4);
    Z(this, "float", 6);
    Z(this, "uchar", 2);
    Z(this, "uchar");
    Z(this, "uchar");
    Z(this, "uchar");
    Z(this, "uchar");
    Z(this, "uchar");
    Z(this, "uchar");
    var l = Z(this, "uint");
    Z(this, "uint");
    var j = Z(this, "uint")
      , k = []
      , n = []
      , r = Infinity
      , s = -Infinity
      , z = t
      , y = t
      , E = t
      , F = t
      , d = e = t
      , K = Z(this, "uint", (this.N.byteLength - 1E3) / 4);
    this.C = j;
    for (var A = Z(this, "float", (this.N.byteLength - 1E3) / 4), G = 0, j = f = 0; j < l; j++) {
        for (var I = K[G], H = new W(3 * I), R = 0, N = 0; N < I; N++) {
            var T = A[G + 3 * N + N * h + 1]
              , ca = A[G + 3 * N + N * h + 2]
              , ba = A[G + 3 * N + N * h + 3]
              , T = T / g[0]
              , ca = ca / g[1]
              , ba = ba / g[2];
            H.add(T, ca, ba);
            if (0 < N)
                var da = H.get(N - 1)
                  , R = R + Math.sqrt(Math.pow(T - da[0], 2) + Math.pow(ca - da[1], 2) + Math.pow(ba - da[2], 2));
            N < I - 1 && (f += 6)
        }
        G += 3 * I + I * h + 1;
        N = H.gb;
        I = H.cb;
        T = H.hb;
        ca = H.eb;
        ba = H.ib;
        da = H.fb;
        if (!z || N < z)
            z = N;
        if (!y || I > y)
            y = I;
        if (!E || T < E)
            E = T;
        if (!F || ca > F)
            F = ca;
        if (!e || ba < e)
            e = ba;
        if (!d || da > d)
            d = da;
        k.push(H);
        n.push(R)
    }
    g = (z + y) / 2;
    E = (E + F) / 2;
    h = (e + d) / 2;
    F = new Float32Array(f);
    b.h = e = new W(f);
    b.n = d = new W(f);
    b.oa = f = new W(f);
    for (j = z = 0; j < l; j++) {
        y = k[j];
        K = y.count;
        R = n[j];
        r = Math.min(r, R);
        s = Math.max(s, R);
        for (N = 0; N < K - 1; N++) {
            G = y.get(N);
            A = y.get(N + 1);
            e.add(G[0], G[1], G[2]);
            e.add(A[0], A[1], A[2]);
            var H = G[0] - g
              , I = G[1] - E
              , T = G[2] - h
              , ca = Math.sqrt(H * H + I * I + T * T)
              , ba = A[0] - g
              , da = A[1] - E
              , M = A[2] - h
              , U = Math.sqrt(ba * ba + da * da + M * M);
            d.add(H / ca, I / ca, T / ca);
            d.add(ba / U, da / U, M / U);
            A = [Math.abs(A[0] - G[0]), Math.abs(A[1] - G[1]), Math.abs(A[2] - G[2])];
            G = Math.sqrt(A[0] * A[0] + A[1] * A[1] + A[2] * A[2]);
            A[0] /= G;
            A[1] /= G;
            A[2] /= G;
            f.add(A[0], A[1], A[2]);
            f.add(A[0], A[1], A[2]);
            F[z++] = R;
            F[z++] = R;
            F[z++] = R;
            F[z++] = R;
            F[z++] = R;
            F[z++] = R
        }
    }
    b.Fa = "LINES";
    l = new id;
    l.Ma = r;
    l.ia = s;
    l.U = r;
    l.V = s;
    l.Wc = F;
    l.rg = u;
    l.j = q;
    b.I = l;
    r = u;
    for (j = 0; 16 > j; j++)
        if (0 != c[j]) {
            r = q;
            break
        }
    r == u && (c[0] = c[5] = c[10] = c[15] = 1);
    D.za(this.f + ".parse");
    D.g.Tf(c, b.ja.Q);
    c = new jd;
    c.D = b;
    c.u = a;
    this.dispatchEvent(c)
}
;
B("X.parserTRK", cg);
B("X.parserTRK.prototype.parse", cg.prototype.parse);
function dg() {
    Oe.call(this);
    this.f = "parserOBJ"
}
C(dg, Oe);
dg.prototype.parse = function(a, b, c) {
    D.Ga(this.f + ".parse");
    this.N = c;
    c = c.byteLength;
    var e = Z(this, "uchar", c)
      , d = [];
    b.h = new W(c);
    b.n = new W(c);
    var f = b.h, g = b.n, h = 0, l;
    for (l = 0; l < c; ++l)
        if (10 == e[l]) {
            var j = Qe(e, h, l).replace(/\s{2,}/g, " ").split(" ");
            if ("v" == j[0])
                d.push([parseFloat(j[1]), parseFloat(j[2]), parseFloat(j[3])]);
            else if ("f" == j[0]) {
                var k = d[parseInt(j[1], 10) - 1]
                  , h = d[parseInt(j[2], 10) - 1]
                  , j = d[parseInt(j[3], 10) - 1];
                f.add(k[0], k[1], k[2]);
                f.add(h[0], h[1], h[2]);
                f.add(j[0], j[1], j[2]);
                k = new S(k[0],k[1],k[2]);
                j = new S(j[0],j[1],j[2]);
                h = Hc((new S(h[0],h[1],h[2])).ta(k), j.ta(k));
                h.normalize();
                g.add(h.x, h.y, h.d);
                g.add(h.x, h.y, h.d);
                g.add(h.x, h.y, h.d)
            }
            h = l + 1
        }
    D.za(this.f + ".parse");
    c = new jd;
    c.D = b;
    c.u = a;
    this.dispatchEvent(c)
}
;
B("X.parserOBJ", dg);
B("X.parserOBJ.prototype.parse", dg.prototype.parse);
function eg() {
    O.call(this);
    this.f = "loader";
    this.Fc = new yc;
    this.jd = 0
}
C(eg, O);
function fg(a, b) {
    a.jd += b / a.Fc.ke() / 3;
    a.jd = Math.min(1, a.jd);
    var c = new Md;
    c.ud = a.jd;
    a.dispatchEvent(c)
}
function gg(a) {
    a = a.r.Wd;
    var b = a.split(".").pop().toUpperCase();
    b == a.toUpperCase() && (b = "");
    b in hg || m(Error("The " + b + " file format is not supported."));
    return [a, b, hg[b][0], hg[b][1], hg[b][2]]
}
eg.prototype.load = function(a, b) {
    (!a || !b) && m(Error("No container or object to load."));
    if (!Bc(this.Fc.fa, a.va) || this.Fc.get(a.va)) {
        this.Fc.set(a.va, u);
        var c = gg(a)[0];
        if (a.ob != t)
            this.parse(t, a, b);
        else {
            var e = new XMLHttpRequest;
            L(e, "abort", this.Eg.bind(this, e, a, b));
            L(e, "error", this.Eg.bind(this, e, a, b));
            L(e, "load", this.parse.bind(this, e, a, b));
            e.open("GET", c, q);
            e.responseType = "arraybuffer";
            e.send(t)
        }
    }
}
;
eg.prototype.parse = function(a, b, c) {
    fg(this, 1);
    setTimeout(function() {
        var e = gg(b)
          , d = e[3]
          , e = new e[2];
        $b(e, wd, this.complete.bind(this));
        var f = b.ob;
        f == t && (f = a.response,
        b.ob = f);
        e.parse(b, c, f, d)
    }
    .bind(this), 100)
}
;
eg.prototype.complete = function(a) {
    fg(this, 1);
    setTimeout(function() {
        var b = a.u
          , c = a.D;
        b.r.j = u;
        b.j = q;
        c.q();
        this.Fc.set(b.va, q)
    }
    .bind(this), 100)
}
;
eg.prototype.Eg = function(a, b, c) {
    m(Error("Loading failed: ", b, c))
}
;
var hg = {
    OBJ: [dg, t],
    OFF: [gf, t],
    STL: [ag, t],
    VTK: [kf, t],
    TRK: [cg, t],
    MRC: [Zf, t],
    ST: [Zf, t],
    FSM: [mf, t],
    INFLATED: [mf, t],
    SMOOTHWM: [mf, t],
    SPHERE: [mf, t],
    PIAL: [mf, t],
    ORIG: [mf, t],
    NRRD: [$f, t],
    NII: [bg, t],
    GZ: [bg, t],
    DCM: [hf, t],
    DICOM: [hf, t],
    "": [hf, t],
    CRV: [Vf, t],
    LABEL: [Uf, t],
    MGH: [Tf, u],
    MGZ: [Tf, q],
    RAW: [Xf, u],
    RZ: [Xf, q],
    TXT: [Yf, t],
    LUT: [Yf, t],
    PNG: [Ze, "png"],
    JPG: [Ze, "jpeg"],
    JPEG: [Ze, "jpeg"],
    GIF: [Ze, "gif"]
};
function ig(a) {
    function b(a, b, e) {
        b = 2 * b * Math.PI;
        b = za(Ba(l, Math.cos(b)), Ba(j, Math.sin(b)));
        a = za(za(c, Ba(d, a)), Ba(b, f));
        e = za(Ba(b, 1 - Math.abs(e)), Ba(g, e));
        return new jc(a,e)
    }
    this.Y = [];
    a = a || {};
    var c = new ya(a.start || [0, -1, 0])
      , e = new ya(a.end || [0, 1, 0])
      , d = Ca(e, c)
      , f = a.tb || 1;
    a = a.pa || 16;
    for (var g = Da(d), h = 0.5 < Math.abs(g.y()), l = Da((new ya(h,!h,0)).lc(g)), j = Da(l.lc(g)), h = new jc(c,Ea(g)), e = new jc(e,Da(g)), k = [], n = 0; n < a; n++) {
        var r = n / a
          , s = (n + 1) / a;
        k.push(new lc([h, b(0, r, -1), b(0, s, -1)]));
        k.push(new lc([b(0, s, 0), b(0, r, 0), b(1, r, 0), b(1, s, 0)]));
        k.push(new lc([e, b(1, s, 1), b(1, r, 1)]))
    }
    return tc(k)
}
C(ig, sc);
function jg() {
    Y.call(this);
    this.f = "cylinder";
    this.Ye = [-10, -10, -10];
    this.He = [10, 10, 10];
    this.gc = 10;
    this.Ya = 32;
    Ga(this, new md)
}
C(jg, Y);
jg.prototype.__defineGetter__("start", v("Ye"));
jg.prototype.__defineSetter__("start", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid start"));
    this.Ye = a
});
jg.prototype.__defineGetter__("end", v("He"));
jg.prototype.__defineSetter__("end", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid end"));
    this.He = a
});
jg.prototype.__defineGetter__("radius", v("gc"));
jg.prototype.__defineSetter__("radius", function(a) {
    x(a) || m(Error("Invalid radius."));
    this.gc = a
});
jg.prototype.q = function() {
    od(this, new ig({
        start: this.Ye,
        end: this.He,
        tb: this.gc,
        pa: this.Ya
    }));
    jg.A.q.call(this)
}
;
B("X.cylinder", jg);
B("X.cylinder.prototype.modified", jg.prototype.q);
function kg(a) {
    function b(a, b) {
        a *= 2 * Math.PI;
        b *= Math.PI;
        var d = new ya(Math.cos(a) * Math.sin(b),Math.cos(b),Math.sin(a) * Math.sin(b));
        g.push(new jc(za(c, Ba(d, e)),d))
    }
    this.Y = [];
    a = a || {};
    var c = new ya(a.hf || [0, 0, 0])
      , e = a.tb || 1
      , d = a.pa || 16;
    a = a.hk || 8;
    for (var f = [], g = [], h = 0; h < d; h++)
        for (var l = 0; l < a; l++)
            g = [],
            b(h / d, l / a),
            0 < l && b((h + 1) / d, l / a),
            l < a - 1 && b((h + 1) / d, (l + 1) / a),
            b(h / d, (l + 1) / a),
            f.push(new lc(g));
    return tc(f)
}
C(kg, sc);
function lg() {
    Y.call(this);
    this.f = "sphere";
    this.B = [0, 0, 0];
    this.gc = 5;
    this.Ya = 32;
    this.Wh = 16;
    Ga(this, new md)
}
C(lg, Y);
lg.prototype.__defineGetter__("center", v("B"));
lg.prototype.__defineSetter__("center", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid center"));
    this.B = a
});
lg.prototype.__defineGetter__("radius", v("gc"));
lg.prototype.__defineSetter__("radius", function(a) {
    x(a) || m(Error("Invalid radius."));
    this.gc = a
});
lg.prototype.q = function() {
    od(this, new kg({
        hf: this.B,
        tb: this.gc,
        pa: this.Ya,
        hk: this.Wh
    }));
    lg.A.q.call(this)
}
;
B("X.sphere", lg);
B("X.sphere.prototype.modified", lg.prototype.q);
function ef(a) {
    Q.call(this);
    this.f = "labelmap";
    this.Cb = a;
    this.Xe = new Float32Array([-255, -255, -255, -255])
}
C(ef, Q);
ef.prototype.q = function() {
    var a = new jd;
    a.D = this;
    this.dispatchEvent(a);
    this.Cb.q()
}
;
ef.prototype.__defineSetter__("showOnly", function(a) {
    var b = [-1, -1, -1, -1];
    a != t && (la(a) && 4 == a.length ? b = a : (this.Ca || m(Error("No colortable assigned.")),
    b = this.Ca.Ha.get(a).slice(1, 5)));
    this.Xe = new Float32Array([Math.floor(255 * b[0]), Math.floor(255 * b[1]), Math.floor(255 * b[2]), Math.floor(255 * b[3])])
});
B("X.labelmap", ef);
function mg(a) {
    this.Y = [];
    a = a || {};
    var b = new ya(a.hf || [0, 0, 0])
      , c = !a.tb ? [1, 1, 1] : a.tb.length ? a.tb : [a.tb, a.tb, a.tb];
    return tc([[[0, 4, 6, 2], [-1, 0, 0]], [[1, 3, 7, 5], [1, 0, 0]], [[0, 1, 5, 4], [0, -1, 0]], [[2, 6, 7, 3], [0, 1, 0]], [[0, 2, 3, 1], [0, 0, -1]], [[4, 5, 7, 6], [0, 0, 1]]].map(function(a) {
        return new lc(a[0].map(function(d) {
            d = new ya(b.x() + c[0] * (2 * !!(d & 1) - 1),b.y() + c[1] * (2 * !!(d & 2) - 1),b.d() + c[2] * (2 * !!(d & 4) - 1));
            return new jc(d,new ya(a[1]))
        }))
    }))
}
C(mg, sc);
function ng() {
    Y.call(this);
    this.f = "cube";
    this.B = [0, 0, 0];
    this.Me = this.Le = this.Ke = 20;
    this.Mc = [0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0];
    Ga(this, new md)
}
C(ng, Y);
ng.prototype.__defineGetter__("center", v("B"));
ng.prototype.__defineSetter__("center", function(a) {
    (a == t || !la(a) || 3 != a.length) && m(Error("Invalid center"));
    this.B = a
});
ng.prototype.__defineGetter__("lengthX", v("Ke"));
ng.prototype.__defineSetter__("lengthX", function(a) {
    x(a) || m(Error("Invalid lengthX."));
    this.Ke = a
});
ng.prototype.__defineGetter__("lengthY", v("Le"));
ng.prototype.__defineSetter__("lengthY", function(a) {
    x(a) || m(Error("Invalid lengthY."));
    this.Le = a
});
ng.prototype.__defineGetter__("lengthZ", v("Me"));
ng.prototype.__defineSetter__("lengthZ", function(a) {
    x(a) || m(Error("Invalid lengthZ."));
    this.Me = a
});
ng.prototype.q = function() {
    od(this, new mg({
        hf: this.B,
        tb: [this.Ke / 2, this.Le / 2, this.Me / 2]
    }));
    ng.A.q.call(this)
}
;
B("X.cube", ng);
B("X.cube.prototype.modified", ng.prototype.q);
function Ie(a) {
    Ge.call(this, a);
    this.f = "interactor3D";
    this.jl = u
}
C(Ie, Ge);
Ie.prototype.Ed = function(a) {
    Ie.A.Ed.call(this, a);
    var b = new Hd;
    a.Qc == t && (a.Qc = 0);
    b.qb = 0 > a.Qc;
    b.bb = q;
    this.dispatchEvent(b)
}
;
function og(a) {
    O.call(this);
    this.f = "array";
    this.H = [];
    this.Zf = a
}
C(og, O);
function pg(a, b, c) {
    for (var e = 0; 4 > e; e++)
        if (a[e + 0] !== b[e + c])
            return u;
    return q
}
og.prototype.add = function(a) {
    this.H.push(a);
    return q
}
;
og.prototype.remove = function(a) {
    a = this.H.indexOf(a);
    -1 < a && this.H.splice(a, 1);
    return q
}
;
og.prototype.clear = function() {
    this.H.length = 0
}
;
function qg(a, b, c) {
    var e = c - b;
    if (!(2 > e)) {
        e = b + Math.floor(e / 2);
        qg(a, b, e);
        for (qg(a, e, c); b < e; ++b)
            if (0 < a.Zf(a.H[b], a.H[e])) {
                var d = a.H[b];
                a.H[b] = a.H[e];
                for (var f = a, g = e, h = c; g + 1 < h && 0 > f.Zf(f.H[g + 1], d); ) {
                    var l = f
                      , j = g + 1
                      , k = l.H[g];
                    l.H[g] = l.H[j];
                    l.H[j] = k;
                    ++g
                }
                f.H[g] = d
            }
    }
}
og.prototype.sort = function() {
    qg(this, 0, this.H.length)
}
;
function rg(a) {
    Pb.call(this);
    this.Eb = a;
    this.S = []
}
C(rg, Pb);
var sg = [];
function tg(a, b, c, e, d) {
    la(c) || (sg[0] = c,
    c = sg);
    for (var f = 0; f < c.length; f++) {
        var g = L(b, c[f], e || a, d || u, a.Eb || a);
        a.S.push(g)
    }
}
rg.prototype.Lf = function() {
    Jb(this.S, bc);
    this.S.length = 0
}
;
rg.prototype.handleEvent = function() {
    m(Error("EventHandler.handleEvent not implemented"))
}
;
function ug() {}
ug.Gg = function() {
    return ug.Og ? ug.Og : ug.Og = new ug
}
;
ug.prototype.ij = 0;
ug.Gg();
function vg(a) {
    ic.call(this);
    this.Zb = a || Xd();
    this.Wj = wg
}
C(vg, ic);
vg.prototype.Mi = ug.Gg();
var wg = t;
w = vg.prototype;
w.Ng = t;
w.Sc = u;
w.G = t;
w.Wj = t;
w.Fd = t;
w.wd = t;
w.jf = t;
w.s = v("G");
w.Nf = function(a) {
    this.Fd && this.Fd != a && m(Error("Method not supported"));
    vg.A.Nf.call(this, a)
}
;
w.le = v("Zb");
w.Pc = function() {
    this.G = this.Zb.createElement("div")
}
;
w.bc = function(a) {
    this.cc(a)
}
;
w.cc = function(a, b) {
    this.Sc && m(Error("Component already rendered"));
    this.G || this.Pc();
    a ? a.insertBefore(this.G, b || t) : this.Zb.ka.body.appendChild(this.G);
    (!this.Fd || this.Fd.Sc) && this.he()
}
;
w.he = function() {
    function a(a) {
        !a.Sc && a.s() && a.he()
    }
    this.Sc = q;
    this.wd && Jb(this.wd, a, p)
}
;
w.ie = function() {
    function a(a) {
        a.Sc && a.ie()
    }
    this.wd && Jb(this.wd, a, p);
    this.Fi && this.Fi.Lf();
    this.Sc = u
}
;
w.removeChild = function(a, b) {
    if (a) {
        var c = na(a) ? a : a.Ng || (a.Ng = ":" + (a.Mi.ij++).toString(36)), e;
        this.jf && c ? (e = this.jf,
        e = (c in e ? e[c] : p) || t) : e = t;
        a = e;
        c && a && (e = this.jf,
        c in e && delete e[c],
        Nb(this.wd, a),
        b && (a.ie(),
        a.G && de(a.G)),
        c = a,
        c == t && m(Error("Unable to set parent component")),
        c.Fd = t,
        vg.A.Nf.call(c, t))
    }
    a || m(Error("Child is not in parent component"));
    return a
}
;
function yg() {
    ic.call(this)
}
C(yg, ic);
w = yg.prototype;
w.Vf = 0;
w.Ad = 0;
w.vf = 100;
w.Dg = 0;
w.Rf = 1;
w.Vi = u;
w.fj = u;
w.Id = function(a) {
    a = zg(this, a);
    this.Vf != a && (this.Vf = a + this.Dg > this.vf ? this.vf - this.Dg : a < this.Ad ? this.Ad : a,
    !this.Vi && !this.fj && this.dispatchEvent("change"))
}
;
w.oe = function() {
    return zg(this, this.Vf)
}
;
w.ne = function() {
    return zg(this, this.Ad)
}
;
w.me = function() {
    return zg(this, this.vf)
}
;
function zg(a, b) {
    return a.Rf == t ? b : a.Ad + Math.round((b - a.Ad) / a.Rf) * a.Rf
}
;function Ag(a) {
    vg.call(this, a);
    this.Gd = new yg;
    L(this.Gd, "change", this.Gi, u, this)
}
C(Ag, vg);
var Bg = {
    vertical: "progress-bar-vertical",
    horizontal: "progress-bar-horizontal"
};
w = Ag.prototype;
w.Pc = function() {
    this.ub = this.le().Pc("div", "progress-bar-thumb");
    var a = Bg[this.ih];
    this.G = this.le().Pc("div", a, this.ub);
    Cg(this);
    a = this.ne();
    this.s().setAttribute("aria-valuemin", a);
    a = this.me();
    this.s().setAttribute("aria-valuemax", a)
}
;
w.he = function() {
    Ag.A.he.call(this);
    J && 7 > sb && L(this.s(), "resize", this.Ce, u, this);
    this.Ce();
    var a = this.s();
    a.setAttribute("role", "progressbar");
    a.setAttribute("aria-live", "polite")
}
;
w.ie = function() {
    Ag.A.ie.call(this);
    J && 7 > sb && ac(this.s(), "resize", this.Ce, u, this)
}
;
w.oe = function() {
    return this.Gd.oe()
}
;
w.Id = function(a) {
    this.Gd.Id(a);
    this.s() && Cg(this)
}
;
function Cg(a) {
    var b = a.oe();
    a.s().setAttribute("aria-valuenow", b)
}
w.ne = function() {
    return this.Gd.ne()
}
;
w.me = function() {
    return this.Gd.me()
}
;
w.ih = "horizontal";
w.Gi = function() {
    this.Ce();
    this.dispatchEvent("change")
}
;
w.Ce = function() {
    if (this.ub) {
        var a = this.ne()
          , b = this.me()
          , a = (this.oe() - a) / (b - a)
          , b = Math.round(100 * a);
        "vertical" == this.ih ? J && 7 > sb ? (this.ub.style.top = 0,
        this.ub.style.height = "100%",
        b = this.ub.offsetHeight,
        a = Math.round(a * b),
        this.ub.style.top = b - a + "px",
        this.ub.style.height = a + "px") : (this.ub.style.top = 100 - b + "%",
        this.ub.style.height = b + "%") : this.ub.style.width = b + "%"
    }
}
;
function Dg(a, b) {
    a == t && m(Error("No valid parent element."));
    b == t && m(Error("Invalid initial value."));
    Ag.call(this);
    this.f = "progressbar";
    this.Xa = a;
    this.Re = "";
    this.Nd = this.Bb = t;
    this.dc = [];
    var c;
    c = ".progress-bar-horizontal {\n  position: relative;\n  border: 1px solid #949dad;\n";
    c += "  background: white;\n";
    c += "  padding: 1px;\n";
    c += "  overflow: hidden;\n";
    c += "  margin: 2px;\n";
    c += "  width: 100px;\n";
    c += "  height: 5px;\n";
    c += "}";
    var e;
    e = ".progress-bar-thumb {\n  position: relative;\n  background: #F62217;\n";
    e += "  overflow: hidden;\n";
    e += "  width: 0%;\n";
    e += "  height: 100%;\n";
    e += "}";
    var d;
    d = ".progress-bar-thumb-done {\n  background: #57E964;\n}";
    this.dc = [c, e, d];
    this.Id(b);
    this.qf()
}
C(Dg, Ag);
Dg.prototype.qf = function() {
    var a = le(this.Xa, "position");
    if ("static" == a || "" == a)
        this.Re = this.Xa.style.position,
        this.Xa.style.position = "relative";
    var a = document.getElementsByTagName("head")[0]
      , b = be("style");
    b.type = "text/css";
    b.media = "screen";
    var c = document.createTextNode(String(this.dc[0]))
      , e = document.createTextNode(String(this.dc[1]))
      , d = document.createTextNode(String(this.dc[2]));
    a.appendChild(b);
    b.appendChild(c);
    b.appendChild(e);
    b.appendChild(d);
    this.Bb = b;
    this.bc(this.Xa);
    a = this.s();
    a.style.position = "absolute";
    a.style.top = (this.Xa.clientHeight - 5) / 2 + "px";
    a.style.left = (this.Xa.clientWidth - 100) / 2 + "px";
    a.classList.add("xtk-progress-bar")
}
;
function Eg(a) {
    var b = a.s().style.top
      , c = a.s().style.left;
    de(a.s());
    var e = new Dg(a.Xa,100)
      , d = e.s();
    d.style.position = "absolute";
    d.style.top = b;
    d.style.left = c;
    d.classList.add("xtk-progress-bar");
    (d.firstElementChild != p ? d.firstElementChild : ee(d.firstChild)).classList.add("progress-bar-thumb-done");
    a.Nd = e
}
Dg.prototype.zd = function() {
    this.Bb && de(this.Bb);
    this.s() && de(this.s());
    this.Nd && de(this.Nd.s());
    this.Nd = this.Bb = t;
    this.Re && (this.Xa.style.position = this.Re)
}
;
function Fg(a, b, c) {
    oa(a) ? c && (a = va(a, c)) : a && "function" == typeof a.handleEvent ? a = va(a.handleEvent, a) : m(Error("Invalid listener argument"));
    return 2147483647 < b ? -1 : ga.setTimeout(a, b || 0)
}
;function Gg() {
    O.call(this);
    this.f = "renderer";
    this.u = window.document.body;
    this.J = this.u.clientWidth;
    this.w = this.u.clientHeight;
    this.T = this.M = this.Ba = t;
    this.sb = new og(ld);
    this.jb = [];
    this.Z = t;
    this.Vd = this.Yc = this.Td = u;
    this.a = this.Tb = this.Ia = t;
    this.R = {
        PROGRESSBAR_ENABLED: q,
        INTERMEDIATE_RENDERING: u,
        SLICENAVIGATORS: q
    };
    this.Ee = -1;
    window.console.log("XTK release 10 -- 2014-07-28 22:27:25 -- http://www.goXTK.com -- @goXTK")
}
C(Gg, O);
w = Gg.prototype;
w.Af = function() {
    window.cancelAnimationFrame(this.Ee);
    this.R.PROGRESSBAR_ENABLED && (this.Tb = new Dg(this.u,3))
}
;
w.Bf = function() {
    this.R.PROGRESSBAR_ENABLED && this.Tb && (Eg(this.Tb),
    this.Kd = Fg(function() {
        this.Kd = t;
        this.Tb && (this.Tb.zd(),
        this.Tb = t);
        this.Yc = this.Vd = q;
        this.bc()
    }
    .bind(this), 700))
}
;
w.Cf = function(a) {
    this.Tb && this.Tb.Id(100 * a.ud)
}
;
w.zj = function(a) {
    this.Ia && this.Ia.Id(100 * a.ud)
}
;
w.pj = function(a) {
    a != t && a instanceof jd && a.D && this.vb(a.D)
}
;
w.Aj = function(a) {
    a != t && a instanceof kd && a.D && this.remove(a.D)
}
;
w.Ef = function(a) {
    (a == t || !(a instanceof Jd)) && m(Error("Invalid hover event."))
}
;
w.Ff = function() {
    var a = $d(this.u);
    this.J = a.clientWidth;
    this.w = a.clientHeight;
    a = $d(this.Ba);
    a.width = this.J;
    a.height = this.w;
    "renderer3D" == this.f && (this.a.viewport(0, 0, this.J, this.w),
    this.M.Se = D.g.uf(D.g.yd(), this.M.bg, this.Ba.width / this.Ba.height, 1, 1E4))
}
;
w.Gf = function(a) {
    (a == t || !(a instanceof Id)) && m(Error("Invalid scroll event."))
}
;
Gg.prototype.__defineGetter__("config", v("R"));
Gg.prototype.__defineGetter__("interactor", v("T"));
Gg.prototype.__defineGetter__("camera", v("M"));
Gg.prototype.__defineGetter__("loadingCompleted", v("Yc"));
Gg.prototype.__defineGetter__("container", v("u"));
Gg.prototype.__defineSetter__("container", function(a) {
    a == t && m(Error("An ID to a valid container (<div>..) is required."));
    var b = a;
    na(b) && (b = $d(a));
    pa(b) && 1 == b.nodeType || m(Error("Could not find the given container."));
    this.u = b
});
w = Gg.prototype;
w.Hd = function() {
    this.M.reset()
}
;
w.ya = function(a) {
    var b = be("canvas");
    this.u.appendChild(b);
    this.J = this.u.clientWidth;
    this.w = this.u.clientHeight;
    b.width = this.J;
    b.height = this.w;
    try {
        var c = b.getContext(a);
        c || m(Error())
    } catch (e) {
        var d = "Sorry, " + a + ' context is <strong>not supported</strong> on this machine! See <a href="http://crash.goXTK.com" target="_blank">http://crash.goXTK.com</a> for requirements..';
        this.u.innerHTML = '<h3 style="color:red;font-family:sans-serif;">Oooops..</h3><p style="color:red;font-family:sans-serif;">' + d + "</p>";
        m(Error(d))
    }
    this.Z = new eg;
    L(this.Z, yd, this.zj.bind(this));
    this.Ba = b;
    this.a = c;
    b = new Ie(this.Ba);
    "2d" == a && (b = new Ke(this.Ba));
    b.ya();
    L(b, ud, this.Hd.bind(this));
    L(b, zd, this.Ef.bind(this));
    L(b, td, this.Gf.bind(this));
    this.T = b;
    b = new Me(this.J,this.w);
    "2d" == a && (b = new $e(this.J,this.w));
    b.observe(this.T);
    this.M = b;
    L(window, "resize", this.Ff, u, this)
}
;
w.add = function(a) {
    (a instanceof ng || a instanceof lg || a instanceof jg) && a.q();
    this.jb.push(a);
    this.vb(a)
}
;
w.remove = function(a) {
    (!this.Ba || !this.a) && m(Error("The renderer was not initialized properly."));
    if (a != t) {
        var b = 0;
        if (a != t) {
            if (a = qa(a),
            Wb[a]) {
                a = Wb[a];
                for (var c = a.length - 1; 0 <= c; c--)
                    bc(a[c].key),
                    b++
            }
        } else
            Na(Ub, function(a, c) {
                bc(c);
                b++
            })
    }
    return u
}
;
w.vb = function(a) {
    (!this.Ba || !this.a) && m(Error("The renderer was not initialized properly."));
    a != t && (dc(a, wd) || L(a, wd, this.pj.bind(this)),
    dc(a, xd) || L(a, xd, this.Aj.bind(this)),
    dc(a, Bd) || L(a, Bd, this.Af.bind(this)),
    dc(a, Dd) || L(a, Dd, this.Cf.bind(this)),
    dc(a, Cd) || L(a, Cd, this.Bf.bind(this)))
}
;
w.get = function(a) {
    a == t && m(Error("Invalid object id."));
    for (var b = this.sb.H, c = b.length, e = 0, e = 0; e < c; e++)
        if (b[e].va == a)
            return b[e];
    return t
}
;
w.bc = function() {
    (!this.Ba || !this.a) && m(Error("The renderer was not initialized properly."));
    if (this.qg == t) {
        if (Ac(this.Z.Fc)) {
            if (this.R.PROGRESSBAR_ENABLED && !this.Ia && (this.Ia = new Dg(this.u,3)),
            this.Vd = this.Yc = u,
            this.qg = Fg(function() {
                this.qg = t;
                this.bc()
            }
            .bind(this), 100),
            !this.R.INTERMEDIATE_RENDERING)
                return
        } else if (!this.Yc && !this.Vd && (this.Vd = q,
        eval("this.onShowtime()"),
        this.Yc = q),
        this.Ia) {
            this.R.PROGRESSBAR_ENABLED && (this.Ia && !this.Kd) && (Eg(this.Ia),
            this.Kd = Fg(function() {
                this.Kd = t;
                this.Ia && (this.Ia.zd(),
                this.Ia = t);
                this.bc()
            }
            .bind(this), 700));
            return
        }
        this.Ee = window.requestAnimationFrame(this.bc.bind(this));
        eval("this.onRender()");
        this.cc(u, q)
    }
}
;
w.hh = aa();
w.fh = aa();
w.cc = aa();
w.fe = function() {
    window.cancelAnimationFrame(this.Ee);
    this.Z && (delete this.Z,
    this.Z = t);
    this.Ia && (this.Ia.zd(),
    delete this.Ia,
    this.Ia = t);
    this.sb.clear();
    delete this.sb;
    this.jb.length = 0;
    delete this.jb;
    delete this.Z;
    this.Z = t;
    delete this.M;
    this.M = t;
    delete this.T;
    this.T = t;
    delete this.a;
    this.a = t;
    de(this.Ba);
    delete this.Ba;
    this.Ba = t
}
;
function Hg(a, b, c, e, d, f, g, h) {
    var l, j;
    if (l = c.offsetParent) {
        var k = "HTML" == l.tagName || "BODY" == l.tagName;
        if (!k || "static" != me(l, "position"))
            j = re(l),
            k || (k = (k = se(l)) && kb ? -l.scrollLeft : k && (!J || !Cb("8")) && "visible" != me(l, "overflowX") ? l.scrollWidth - l.clientWidth - l.scrollLeft : l.scrollLeft,
            j = Wd(j, new Vd(k,l.scrollTop)))
    }
    l = j || new Vd;
    j = re(a);
    k = we(a);
    j = new je(j.x,j.y,k.width,k.height);
    (k = qe(a)) && j.Pg(new je(k.left,k.top,k.right - k.left,k.bottom - k.top));
    var k = Xd(a)
      , n = Xd(c);
    if (k.ka != n.ka) {
        var r = k.ka.body
          , n = n.ka.parentWindow || n.ka.defaultView
          , s = new Vd(0,0)
          , z = Zd(r) ? Zd(r).parentWindow || Zd(r).defaultView : window
          , y = r;
        do {
            var E = z == n ? re(y) : te(y);
            s.x += E.x;
            s.y += E.y
        } while (z && z != n && (y = z.frameElement) && (z = z.parent));r = Wd(s, re(r));
        J && !ge(k) && (r = Wd(r, he(k)));
        j.left += r.x;
        j.top += r.y
    }
    a = (b & 4 && se(a) ? b ^ 2 : b) & -5;
    b = new Vd(a & 2 ? j.left + j.width : j.left,a & 1 ? j.top + j.height : j.top);
    b = Wd(b, l);
    d && (b.x += (a & 2 ? -1 : 1) * d.x,
    b.y += (a & 1 ? -1 : 1) * d.y);
    var F;
    if (g && (F = qe(c)))
        F.top -= l.y,
        F.right -= l.x,
        F.bottom -= l.y,
        F.left -= l.x;
    return Ig(b, c, e, f, F, g, h)
}
function Ig(a, b, c, e, d, f, g) {
    a = a.l();
    var h = 0
      , l = (c & 4 && se(b) ? c ^ 2 : c) & -5;
    c = we(b);
    g = g ? g.l() : c.l();
    if (e || 0 != l)
        l & 2 ? a.x -= g.width + (e ? e.right : 0) : e && (a.x += e.left),
        l & 1 ? a.y -= g.height + (e ? e.bottom : 0) : e && (a.y += e.top);
    if (f) {
        if (d) {
            h = a;
            e = 0;
            if (65 == (f & 65) && (h.x < d.left || h.x >= d.right))
                f &= -2;
            if (132 == (f & 132) && (h.y < d.top || h.y >= d.bottom))
                f &= -5;
            h.x < d.left && f & 1 && (h.x = d.left,
            e |= 1);
            h.x < d.left && (h.x + g.width > d.right && f & 16) && (g.width = Math.max(g.width - (h.x + g.width - d.right), 0),
            e |= 4);
            h.x + g.width > d.right && f & 1 && (h.x = Math.max(d.right - g.width, d.left),
            e |= 1);
            f & 2 && (e |= (h.x < d.left ? 16 : 0) | (h.x + g.width > d.right ? 32 : 0));
            h.y < d.top && f & 4 && (h.y = d.top,
            e |= 2);
            h.y <= d.top && (h.y + g.height < d.bottom && f & 32) && (g.height = Math.max(g.height - (d.top - h.y), 0),
            h.y = 0,
            e |= 8);
            h.y >= d.top && (h.y + g.height > d.bottom && f & 32) && (g.height = Math.max(g.height - (h.y + g.height - d.bottom), 0),
            e |= 8);
            h.y + g.height > d.bottom && f & 4 && (h.y = Math.max(d.bottom - g.height, d.top),
            e |= 2);
            f & 8 && (e |= (h.y < d.top ? 64 : 0) | (h.y + g.height > d.bottom ? 128 : 0));
            h = e
        } else
            h = 256;
        if (h & 496)
            return h
    }
    f = a;
    d = kb && (bb || qb) && Cb("1.9");
    f instanceof Vd ? (a = f.x,
    f = f.y) : (a = f,
    f = p);
    b.style.left = ve(a, d);
    b.style.top = ve(f, d);
    if (!(c == g || (!c || !g ? 0 : c.width == g.width && c.height == g.height)))
        a = ge(Xd(Zd(b))),
        J && (!a || !Cb("8")) ? (c = b.style,
        a ? (J ? (a = Ae(b, "paddingLeft"),
        d = Ae(b, "paddingRight"),
        f = Ae(b, "paddingTop"),
        e = Ae(b, "paddingBottom"),
        a = new ie(f,d,e,a)) : (a = le(b, "paddingLeft"),
        d = le(b, "paddingRight"),
        f = le(b, "paddingTop"),
        e = le(b, "paddingBottom"),
        a = new ie(parseFloat(f),parseFloat(d),parseFloat(e),parseFloat(a))),
        J ? (d = Ce(b, "borderLeft"),
        f = Ce(b, "borderRight"),
        e = Ce(b, "borderTop"),
        b = Ce(b, "borderBottom"),
        b = new ie(e,f,b,d)) : (d = le(b, "borderLeftWidth"),
        f = le(b, "borderRightWidth"),
        e = le(b, "borderTopWidth"),
        b = le(b, "borderBottomWidth"),
        b = new ie(parseFloat(e),parseFloat(f),parseFloat(b),parseFloat(d))),
        c.pixelWidth = g.width - b.left - a.left - a.right - b.right,
        c.pixelHeight = g.height - b.top - a.top - a.bottom - b.bottom) : (c.pixelWidth = g.width,
        c.pixelHeight = g.height)) : (b = b.style,
        kb ? b.MozBoxSizing = "border-box" : mb ? b.WebkitBoxSizing = "border-box" : b.boxSizing = "border-box",
        b.width = Math.max(g.width, 0) + "px",
        b.height = Math.max(g.height, 0) + "px");
    return h
}
;function Jg() {}
Jg.prototype.nb = aa();
function Kg(a, b) {
    this.kf = a instanceof Vd ? a : new Vd(a,b)
}
C(Kg, Jg);
Kg.prototype.nb = function(a, b, c, e) {
    Hg(ne(a), 0, a, b, this.kf, c, t, e)
}
;
function Lg(a, b, c) {
    this.element = a;
    this.Bg = b;
    this.Pj = c
}
C(Lg, Jg);
Lg.prototype.nb = function(a, b, c) {
    Hg(this.element, this.Bg, a, b, p, c, this.Pj)
}
;
function Mg(a, b) {
    ic.call(this);
    this.Eb = new rg(this);
    this.Mf(a || t);
    b && (this.Tc = b)
}
C(Mg, ic);
w = Mg.prototype;
w.G = t;
w.ci = q;
w.vg = t;
w.Ja = u;
w.ak = u;
w.sf = -1;
w.Sg = -1;
w.Li = u;
w.si = q;
w.Tc = "toggle_display";
w.s = v("G");
w.Mf = function(a) {
    this.Ja && m(Error("Can not change this state of the popup while showing."));
    this.G = a
}
;
function Ng(a, b) {
    a.Be && a.Be.stop();
    a.pe && a.pe.stop();
    if (b) {
        if (!a.Ja && a.zf()) {
            a.G || m(Error("Caller must call setElement before trying to show the popup"));
            a.nb();
            var c = Zd(a.G);
            a.Li && tg(a.Eb, c, "keydown", a.nj, q);
            if (a.ci)
                if (tg(a.Eb, c, "mousedown", a.dh, q),
                J) {
                    var e;
                    try {
                        e = c.activeElement
                    } catch (d) {}
                    for (; e && "IFRAME" == e.nodeName; ) {
                        try {
                            var f = e.contentDocument || e.contentWindow.document
                        } catch (g) {
                            break
                        }
                        c = f;
                        e = c.activeElement
                    }
                    tg(a.Eb, c, "mousedown", a.dh, q);
                    tg(a.Eb, c, "deactivate", a.bh)
                } else
                    tg(a.Eb, c, "blur", a.bh);
            "toggle_display" == a.Tc ? (a.G.style.visibility = "visible",
            ye(a.G, q)) : "move_offscreen" == a.Tc && a.nb();
            a.Ja = q;
            a.Be ? ($b(a.Be, "end", a.gh, u, a),
            a.Be.play()) : a.gh()
        }
    } else
        Og(a)
}
w.nb = ha;
function Og(a, b) {
    if (!a.Ja || !a.dispatchEvent({
        type: "beforehide",
        target: b
    }))
        return u;
    a.Eb && a.Eb.Lf();
    a.Ja = u;
    a.Sg = xa();
    a.pe ? ($b(a.pe, "end", wa(a.Ag, b), u, a),
    a.pe.play()) : a.Ag(b);
    return q
}
w.Ag = function(a) {
    "toggle_display" == this.Tc ? this.ak ? Fg(this.Kg, 0, this) : this.Kg() : "move_offscreen" == this.Tc && (this.G.style.top = "-10000px");
    this.Df(a)
}
;
w.Kg = function() {
    this.G.style.visibility = "hidden";
    ye(this.G, u)
}
;
w.zf = function() {
    return this.dispatchEvent("beforeshow")
}
;
w.gh = function() {
    this.sf = xa();
    this.Sg = -1;
    this.dispatchEvent("show")
}
;
w.Df = function(a) {
    this.dispatchEvent({
        type: "hide",
        target: a
    })
}
;
w.dh = function(a) {
    a = a.target;
    !fe(this.G, a) && ((!this.vg || fe(this.vg, a)) && !(150 > xa() - this.sf)) && Og(this, a)
}
;
w.nj = function(a) {
    27 == a.keyCode && Og(this, a.target) && (a.preventDefault(),
    a.stopPropagation())
}
;
w.bh = function(a) {
    if (this.si) {
        var b = Zd(this.G);
        if (J || jb) {
            if (a = b.activeElement,
            !a || fe(this.G, a) || "BODY" == a.tagName)
                return
        } else if (a.target != b)
            return;
        150 > xa() - this.sf || Og(this)
    }
}
;
function Pg(a, b) {
    this.Tj = 4;
    this.te = b || p;
    Mg.call(this, a)
}
C(Pg, Mg);
Pg.prototype.nb = function() {
    if (this.te) {
        var a = !this.Ja && "move_offscreen" != this.Tc
          , b = this.s();
        a && (b.style.visibility = "hidden",
        ye(b, q));
        this.te.nb(b, this.Tj, this.Gl);
        a && ye(b, u)
    }
}
;
function Qg(a) {
    this.fa = new yc;
    a && this.af(a)
}
function Rg(a) {
    var b = typeof a;
    return "object" == b && a || "function" == b ? "o" + qa(a) : b.substr(0, 1) + a
}
w = Qg.prototype;
w.ke = function() {
    return this.fa.ke()
}
;
w.add = function(a) {
    this.fa.set(Rg(a), a)
}
;
w.af = function(a) {
    a = xc(a);
    for (var b = a.length, c = 0; c < b; c++)
        this.add(a[c])
}
;
w.Lf = function(a) {
    a = xc(a);
    for (var b = a.length, c = 0; c < b; c++)
        this.remove(a[c])
}
;
w.remove = function(a) {
    return this.fa.remove(Rg(a))
}
;
w.clear = function() {
    this.fa.clear()
}
;
w.contains = function(a) {
    a = Rg(a);
    return Bc(this.fa.fa, a)
}
;
w.Pg = function(a) {
    var b = new Qg;
    a = xc(a);
    for (var c = 0; c < a.length; c++) {
        var e = a[c];
        this.contains(e) && b.add(e)
    }
    return b
}
;
w.xd = function() {
    return this.fa.xd()
}
;
w.l = function() {
    return new Qg(this)
}
;
function Sg(a, b, c) {
    this.Zb = c || (a ? Xd($d(a)) : Xd());
    Pg.call(this, this.Zb.Pc("div", {
        style: "position:absolute;display:none;"
    }));
    this.lf = new Vd(1,1);
    this.ge = new Qg;
    a && Tg(this, a);
    if (b != t)
        if (a = this.s(),
        "textContent"in a)
            a.textContent = b;
        else if (a.firstChild && 3 == a.firstChild.nodeType) {
            for (; a.lastChild != a.firstChild; )
                a.removeChild(a.lastChild);
            a.firstChild.data = b
        } else {
            for (; c = a.firstChild; )
                a.removeChild(c);
            a.appendChild(Zd(a).createTextNode(String(b)))
        }
}
C(Sg, Pg);
var Ug = [];
w = Sg.prototype;
w.Qa = t;
w.className = "goog-tooltip";
w.uh = 500;
w.Ki = 0;
w.le = v("Zb");
function Tg(a, b) {
    b = $d(b);
    a.ge.add(b);
    L(b, "mouseover", a.Ji, u, a);
    L(b, "mouseout", a.Hg, u, a);
    L(b, "mousemove", a.Ii, u, a);
    L(b, "focus", a.Hi, u, a);
    L(b, "blur", a.Hg, u, a)
}
w.Mf = function(a) {
    var b = this.s();
    b && de(b);
    Sg.A.Mf.call(this, a);
    a && (b = this.Zb.ka.body,
    b.insertBefore(a, b.lastChild))
}
;
w.zf = function() {
    if (!Mg.prototype.zf.call(this))
        return u;
    if (this.anchor)
        for (var a, b = 0; a = Ug[b]; b++)
            fe(a.s(), this.anchor) || Ng(a, u);
    0 <= Ib(Ug, this) || Ug.push(this);
    a = this.s();
    a.className = this.className;
    Vg(this);
    L(a, "mouseover", this.Jg, u, this);
    L(a, "mouseout", this.Ig, u, this);
    Wg(this);
    return q
}
;
w.Df = function() {
    Nb(Ug, this);
    for (var a = this.s(), b, c = 0; b = Ug[c]; c++)
        b.anchor && fe(a, b.anchor) && Ng(b, u);
    this.jh && Xg(this.jh);
    ac(a, "mouseover", this.Jg, u, this);
    ac(a, "mouseout", this.Ig, u, this);
    this.anchor = p;
    if (0 == (this.Hb ? this.Ja ? 4 : 1 : this.Rc ? 3 : this.Ja ? 2 : 0))
        this.ye = u;
    Mg.prototype.Df.call(this)
}
;
w.Wg = function(a, b) {
    this.anchor == a && this.ge.contains(this.anchor) && (this.ye || !this.Ql ? (Ng(this, u),
    this.Ja || (this.anchor = a,
    this.te = b || Yg(this, 0) || p,
    this.Ja && this.nb(),
    Ng(this, q))) : this.anchor = p);
    this.Hb = p
}
;
w.ej = function(a) {
    this.Rc = p;
    a == this.anchor && (this.Qa == t || this.Qa != this.s() && !this.ge.contains(this.Qa)) && (!this.xg || !this.xg.Qa) && Ng(this, u)
}
;
function Zg(a, b) {
    var c = he(a.Zb);
    a.lf.x = b.clientX + c.x;
    a.lf.y = b.clientY + c.y
}
w.Ji = function(a) {
    var b = $g(this, a.target);
    this.Qa = b;
    Vg(this);
    b != this.anchor && (this.anchor = b,
    this.Hb || (this.Hb = Fg(va(this.Wg, this, b, p), this.uh)),
    ah(this),
    Zg(this, a))
}
;
function $g(a, b) {
    try {
        for (; b && !a.ge.contains(b); )
            b = b.parentNode;
        return b
    } catch (c) {
        return t
    }
}
w.Ii = function(a) {
    Zg(this, a);
    this.ye = q
}
;
w.Hi = function(a) {
    this.Qa = a = $g(this, a.target);
    this.ye = q;
    if (this.anchor != a) {
        this.anchor = a;
        var b = Yg(this, 1);
        Vg(this);
        this.Hb || (this.Hb = Fg(va(this.Wg, this, a, b), this.uh));
        ah(this)
    }
}
;
function Yg(a, b) {
    if (0 == b) {
        var c = a.lf.l();
        return new bh(c)
    }
    return new ch(a.Qa)
}
function ah(a) {
    if (a.anchor)
        for (var b, c = 0; b = Ug[c]; c++)
            fe(b.s(), a.anchor) && (b.xg = a,
            a.jh = b)
}
w.Hg = function(a) {
    var b = $g(this, a.target)
      , c = $g(this, a.relatedTarget);
    b != c && (b == this.Qa && (this.Qa = t),
    Wg(this),
    this.ye = u,
    this.Ja && (!a.relatedTarget || !fe(this.s(), a.relatedTarget)) ? Xg(this) : this.anchor = p)
}
;
w.Jg = function() {
    var a = this.s();
    this.Qa != a && (Vg(this),
    this.Qa = a)
}
;
w.Ig = function(a) {
    var b = this.s();
    if (this.Qa == b && (!a.relatedTarget || !fe(b, a.relatedTarget)))
        this.Qa = t,
        Xg(this)
}
;
function Wg(a) {
    a.Hb && (ga.clearTimeout(a.Hb),
    a.Hb = p)
}
function Xg(a) {
    if (2 == (a.Hb ? a.Ja ? 4 : 1 : a.Rc ? 3 : a.Ja ? 2 : 0))
        a.Rc = Fg(va(a.ej, a, a.anchor), a.Ki)
}
function Vg(a) {
    a.Rc && (ga.clearTimeout(a.Rc),
    a.Rc = p)
}
function bh(a, b) {
    Kg.call(this, a, b)
}
C(bh, Kg);
bh.prototype.nb = function(a, b, c) {
    b = ne(a);
    b = qe(b);
    c = c ? new ie(c.top + 10,c.right,c.bottom,c.left + 10) : new ie(10,0,0,10);
    Ig(this.kf, a, 4, c, b, 9) & 496 && Ig(this.kf, a, 4, c, b, 5)
}
;
function ch(a) {
    Lg.call(this, a, 3)
}
C(ch, Lg);
ch.prototype.nb = function(a, b, c) {
    var e = new Vd(10,0);
    Hg(this.element, this.Bg, a, b, e, c, 9) & 496 && Hg(this.element, 2, a, 1, e, c, 5)
}
;
function dh(a, b, c, e) {
    a == t && m(Error("No valid parent element."));
    (!x(b) || !x(c)) && m(Error("Invalid coordinates."));
    (e == t || !(e instanceof Ge)) && m(Error("Invalid interactor."));
    Sg.call(this);
    this.f = "caption";
    this.Xa = a;
    this.be = b;
    this.ce = c;
    this.T = e;
    this.Bb = t;
    this.dc = [];
    a = ".x-tooltip {\n  background: #C0C0FF;\n  color: #000000;\n";
    a += "  border: 1px solid infotext;\n";
    a += "  padding: 1px;\n";
    a += "  font-family: sans-serif;\n";
    a += "}";
    this.dc = [a];
    $b(e, Ad, this.zd.bind(this));
    this.qf()
}
C(dh, Sg);
dh.prototype.qf = function() {
    var a = le(this.Xa, "position");
    if ("static" == a || "" == a)
        this.Xa.style.position = "relative";
    var a = document.getElementsByTagName("head")[0]
      , b = be("style");
    b.type = "text/css";
    b.media = "screen";
    var c = document.createTextNode(String(this.dc[0]));
    a.appendChild(b);
    b.appendChild(c);
    this.Bb = b;
    this.te = new Kg(this.be,this.ce) || p;
    this.Ja && this.nb();
    Ng(this, q);
    Tg(this, this.Xa);
    this.s().classList.add("x-tooltip")
}
;
dh.prototype.zd = function() {
    Ng(this, u);
    this.Bb && de(this.Bb);
    this.s() && de(this.s());
    this.Bb = t
}
;
function eh() {
    Gg.call(this);
    this.f = "renderer3D";
    this.bd = this.ed = this.ad = this.dd = this.$c = this.cd = this.Ve = this.We = t;
    this.B = [0, 0, 0];
    this.Uc = [0, 0, 0];
    this.og = t;
    this.Ge = new yc;
    this.rd = new yc;
    this.ic = new yc;
    this.fd = new yc;
    this.yc = new yc;
    this.Ic = new yc;
    this.hc = new yc;
    this.Nc = new yc;
    this.R = {
        PROGRESSBAR_ENABLED: q,
        PICKING_ENABLED: q,
        ORDERING_ENABLED: q,
        STATISTICS_ENABLED: u,
        INTERMEDIATE_RENDERING: u
    }
}
C(eh, Gg);
eh.prototype.__defineGetter__("config", v("R"));
w = eh.prototype;
w.Vj = function() {
    this.bd = this.ed = this.ad = this.dd = this.$c = this.cd = t;
    this.B = [0, 0, 0]
}
;
w.Ef = function(a) {
    eh.A.Ef.call(this, a);
    var b = a.be;
    a = a.ce;
    var c = this.Jf(b, a);
    if (c = this.get(c))
        if (c = c.xc) {
            var e = te(this.u);
            (new dh(this.u,e.x + b + 10,e.y + a + 10,this.T)).s().innerHTML = c
        }
}
;
w.ya = function() {
    eh.A.ya.call(this, "experimental-webgl");
    try {
        if (this.a.viewport(0, 0, this.J, this.w),
        this.a.clearColor(this.Uc[0], this.Uc[1], this.Uc[2], 0),
        this.a.enable(this.a.BLEND),
        this.a.blendEquation(this.a.FUNC_ADD),
        this.a.blendFunc(this.a.SRC_ALPHA, this.a.ONE_MINUS_SRC_ALPHA),
        this.a.enable(this.a.DEPTH_TEST),
        this.a.depthFunc(this.a.LEQUAL),
        this.a.clear(this.a.COLOR_BUFFER_BIT | this.a.DEPTH_BUFFER_BIT),
        this.R.PICKING_ENABLED) {
            var a = this.a.createFramebuffer()
              , b = this.a.createRenderbuffer()
              , c = this.a.createTexture();
            this.a.bindTexture(this.a.TEXTURE_2D, c);
            this.a.texImage2D(this.a.TEXTURE_2D, 0, this.a.RGB, this.J, this.w, 0, this.a.RGB, this.a.UNSIGNED_BYTE, t);
            this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_WRAP_S, this.a.CLAMP_TO_EDGE);
            this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_WRAP_T, this.a.CLAMP_TO_EDGE);
            this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_MAG_FILTER, this.a.NEAREST);
            this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_MIN_FILTER, this.a.NEAREST);
            this.a.bindFramebuffer(this.a.FRAMEBUFFER, a);
            this.a.bindRenderbuffer(this.a.RENDERBUFFER, b);
            this.a.renderbufferStorage(this.a.RENDERBUFFER, this.a.DEPTH_COMPONENT16, this.J, this.w);
            this.a.bindRenderbuffer(this.a.RENDERBUFFER, t);
            this.a.framebufferTexture2D(this.a.FRAMEBUFFER, this.a.COLOR_ATTACHMENT0, this.a.TEXTURE_2D, c, 0);
            this.a.framebufferRenderbuffer(this.a.FRAMEBUFFER, this.a.DEPTH_ATTACHMENT, this.a.RENDERBUFFER, b);
            this.a.bindFramebuffer(this.a.FRAMEBUFFER, t);
            this.og = a
        }
    } catch (e) {
        m(Error("Exception while accessing GL Context!\n" + e))
    }
    a = new af;
    (this.Ba == t || this.a == t || this.M == t) && m(Error("Renderer was not initialized properly."));
    (a == t || !(a instanceof af)) && m(Error("Could not add shaders."));
    b = Object.keys(cf);
    Object.keys(bf).every(function(a) {
        a = bf[a];
        return -1 != this.Zd.search(a) || -1 != this.Od.search(a)
    }
    .bind(a)) || m(Error("Could not find all attributes in the shader sources."));
    b.every(function(a) {
        a = cf[a];
        return -1 != this.Zd.search(a) || -1 != this.Od.search(a)
    }
    .bind(a)) || m(Error("Could not find all uniforms in the shader sources."));
    b = this.a.createShader(this.a.FRAGMENT_SHADER);
    c = this.a.createShader(this.a.VERTEX_SHADER);
    this.a.shaderSource(b, a.Od);
    this.a.shaderSource(c, a.Zd);
    this.a.compileShader(b);
    this.a.compileShader(c);
    this.a.getShaderParameter(b, this.a.COMPILE_STATUS) || m(Error("Fragement Shader compilation failed!\n" + this.a.getShaderInfoLog(b)));
    this.a.getShaderParameter(c, this.a.COMPILE_STATUS) || m(Error("Vertex Shader compilation failed!\n" + this.a.getShaderInfoLog(c)));
    var d = this.a.createProgram();
    this.a.attachShader(d, c);
    this.a.attachShader(d, b);
    this.a.linkProgram(d);
    this.a.getProgramParameter(d, this.a.LINK_STATUS) || m(Error("Could not create shader program!\n" + this.a.getShaderInfoLog(b) + "\n" + this.a.getShaderInfoLog(c) + "\n" + this.a.getProgramInfoLog(d)));
    this.a.useProgram(d);
    this.Ve = d;
    Object.keys(bf).forEach(function(a) {
        a = bf[a];
        this.Ge.set(a, this.a.getAttribLocation(this.Ve, a));
        this.a.enableVertexAttribArray(this.Ge.get(a))
    }
    .bind(this));
    Object.keys(cf).forEach(function(a) {
        a = cf[a];
        this.rd.set(a, this.a.getUniformLocation(this.Ve, a))
    }
    .bind(this));
    this.We = a
}
;
w.vb = function(a) {
    eh.A.vb.call(this, a);
    var b = u;
    if (a != t) {
        this.get(a.va) && (b = q);
        var c = a.va
          , e = a.h
          , d = a.n
          , f = a.oa
          , g = a.F
          , h = a.r
          , l = a.ja
          , j = a.Ca
          , k = a.e
          , n = a.I;
        if (k != t && k.r != t && k.r.j)
            this.vb(k);
        else if (k != t && k.j && this.vb(k),
        j != t && j.r != t && j.r.j)
            this.Z.load(j, a);
        else if (g != t && g.r != t && g.r.j)
            this.Z.load(g, a);
        else {
            if (h != t && la(h))
                if (a.rc != t) {
                    if (a.rc.tf != h.length || !a.j)
                        return
                } else {
                    b = 0;
                    c = h.length;
                    for (b = 0; b < c; b++)
                        this.Z.load(h[b], a);
                    return
                }
            else {
                if (h != t && h.j) {
                    this.Z.load(a, a);
                    return
                }
                if (n != t && n.r != t && n.r.j) {
                    this.Z.load(n, a);
                    return
                }
            }
            if (0 < a.c.length) {
                h = a.c;
                j = h.length;
                for (k = k = 0; k < j; k++)
                    this.vb(h[k])
            }
            if (e) {
                for (h = 0; this.Td; )
                    h++,
                    window.console.log("Possible thread lock avoided: " + h);
                this.Td = q;
                j = a instanceof Ue && a.Cb instanceof ef;
                b && (g != t && g.j) && (h = this.hc.get(c),
                h != t && this.a.isBuffer(h.P) && this.a.deleteBuffer(h.P));
                h = t;
                g != t && (!b || g.j ? (h = a.Mc,
                h == t && m(Error("Can not add an object and texture without valid coordinate mapping! Set the textureCoordinateMap!")),
                k = u,
                g.Ub && (k = q),
                this.a.pixelStorei(this.a.UNPACK_FLIP_Y_WEBGL, k),
                k = this.a.createTexture(),
                k.Oi = g.pb,
                this.Nc.set(g.va, k),
                this.a.bindTexture(this.a.TEXTURE_2D, k),
                g.Ub ? (k = this.a.RGBA,
                g.eg && (k = this.a.LUMINANCE,
                this.a.pixelStorei(this.a.UNPACK_ALIGNMENT, 1)),
                this.a.texImage2D(this.a.TEXTURE_2D, 0, k, g.Ue, g.Te, 0, k, this.a.UNSIGNED_BYTE, g.Ub)) : this.a.texImage2D(this.a.TEXTURE_2D, 0, this.a.RGBA, this.a.RGBA, this.a.UNSIGNED_BYTE, k.Oi),
                this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_WRAP_S, this.a.CLAMP_TO_EDGE),
                this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_WRAP_T, this.a.CLAMP_TO_EDGE),
                j ? (this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_MAG_FILTER, this.a.NEAREST),
                this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_MIN_FILTER, this.a.NEAREST)) : (this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_MAG_FILTER, this.a.LINEAR),
                this.a.texParameteri(this.a.TEXTURE_2D, this.a.TEXTURE_MIN_FILTER, this.a.LINEAR)),
                this.a.bindTexture(this.a.TEXTURE_2D, t),
                k = this.a.createBuffer(),
                this.a.bindBuffer(this.a.ARRAY_BUFFER, k),
                this.a.bufferData(this.a.ARRAY_BUFFER, new Float32Array(h), this.a.STATIC_DRAW),
                h = new Qd(k,h.length,2),
                this.hc.set(c, h),
                g.j = u) : h = this.hc.get(c));
                fg(this.Z, 0.1);
                if (j)
                    this.Td = u,
                    D.za(this.f + ".update"),
                    fg(this.Z, 0.9);
                else {
                    if (!b || e.j || l.j) {
                        j = l.Q;
                        g = D.g.$(j, e.gb, e.hb, e.ib);
                        j = D.g.$(j, e.cb, e.eb, e.fb);
                        if (this.cd === t || g.x < this.cd)
                            this.cd = g.x;
                        if (this.$c === t || j.x > this.$c)
                            this.$c = j.x;
                        if (this.dd === t || g.y < this.dd)
                            this.dd = g.y;
                        if (this.ad === t || j.y > this.ad)
                            this.ad = j.y;
                        if (this.ed === t || g.d < this.ed)
                            this.ed = g.d;
                        if (this.bd === t || j.d > this.bd)
                            this.bd = j.d;
                        this.B = [(this.cd + this.$c) / 2, (this.dd + this.ad) / 2, (this.ed + this.bd) / 2];
                        l.j = u
                    }
                    b && e.j && (l = this.ic.get(c),
                    l != t && this.a.isBuffer(l.P) && this.a.deleteBuffer(l.P));
                    l = t;
                    !b || e.j ? (l = this.a.createBuffer(),
                    e.Gb(),
                    this.a.bindBuffer(this.a.ARRAY_BUFFER, l),
                    this.a.bufferData(this.a.ARRAY_BUFFER, e.ba, this.a.STATIC_DRAW),
                    l = new Qd(l,e.count,3),
                    e.j = u) : l = this.ic.get(c);
                    fg(this.Z, 0.3);
                    b && d.j && (g = this.ic.get(c),
                    g != t && this.a.isBuffer(g.P) && this.a.deleteBuffer(g.P));
                    g = t;
                    !b || d.j ? (g = this.a.createBuffer(),
                    d.Gb(),
                    this.a.bindBuffer(this.a.ARRAY_BUFFER, g),
                    this.a.bufferData(this.a.ARRAY_BUFFER, d.ba, this.a.STATIC_DRAW),
                    g = new Qd(g,d.count,3),
                    d.j = u) : g = this.fd.get(c);
                    fg(this.Z, 0.3);
                    b && (f && f.j) && (d = this.yc.get(c),
                    d != t && this.a.isBuffer(d.P) && this.a.deleteBuffer(d.P));
                    d = t;
                    f && (!b || f.j ? (f.length != e.length && m(Error("Mismatch between points and point colors.")),
                    d = this.a.createBuffer(),
                    f.Gb(),
                    this.a.bindBuffer(this.a.ARRAY_BUFFER, d),
                    this.a.bufferData(this.a.ARRAY_BUFFER, f.ba, this.a.STATIC_DRAW),
                    d = new Qd(d,f.count,3),
                    f.j = u) : d = this.yc.get(c));
                    fg(this.Z, 0.2);
                    b && (n && n.j) && (f = this.Ic.get(c),
                    f != t && this.a.isBuffer(f.P) && this.a.deleteBuffer(f.P));
                    f = t;
                    n && (f = n.Wc,
                    !b || n.j ? (f.length != e.length && m(Error("Mismatch between points and scalars.")),
                    e = this.a.createBuffer(),
                    this.a.bindBuffer(this.a.ARRAY_BUFFER, e),
                    this.a.bufferData(this.a.ARRAY_BUFFER, f, this.a.STATIC_DRAW),
                    f = new Qd(e,f.length,3),
                    n.j = u) : f = this.Ic.get(c));
                    fg(this.Z, 0.1);
                    b || this.sb.add(a);
                    this.ic.set(c, l);
                    this.fd.set(c, g);
                    this.yc.set(c, d);
                    this.hc.set(c, h);
                    this.Ic.set(c, f);
                    this.Td = a.j = u
                }
            } else
                a.j = u
        }
    }
}
;
w.Jf = function(a, b) {
    if (this.R.PICKING_ENABLED) {
        this.cc(q, u);
        var c = new Uint8Array(4);
        this.a.readPixels(a, this.w - b, 1, 1, this.a.RGBA, this.a.UNSIGNED_BYTE, c);
        return c[0] + 255 * c[1] + 65025 * c[2]
    }
    return -1
}
;
w.cc = function(a, b) {
    eh.A.cc.call(this, a, b);
    this.a.viewport(0, 0, this.J, this.w);
    this.a.clear(this.a.COLOR_BUFFER_BIT | this.a.DEPTH_BUFFER_BIT);
    var c = this.sb.H
      , e = c.length;
    if (0 != e) {
        a ? this.a.bindFramebuffer(this.a.FRAMEBUFFER, this.og) : this.a.bindFramebuffer(this.a.FRAMEBUFFER, t);
        var d = this.M.Se
          , f = this.M.o;
        this.a.uniformMatrix4fv(this.rd.get("perspective"), u, d);
        this.a.uniformMatrix4fv(this.rd.get("view"), u, f);
        d = this.B;
        this.a.uniform3f(this.rd.get("center"), parseFloat(d[0]), parseFloat(d[1]), parseFloat(d[2]));
        f = this.jb.length;
        for (d = 0; d < f; ++d) {
            var g = this.jb[d];
            if (g instanceof Q) {
                var h = D.g.$(this.M.o, g.t[0] + g.b[0].i[0], g.t[1] + g.b[0].i[1], g.t[2] + g.b[0].i[2])
                  , l = D.g.$(this.M.o, g.t[0] - g.b[0].i[0], g.t[1] - g.b[0].i[1], g.t[2] - g.b[0].i[2])
                  , j = Math.abs(h.d - l.d)
                  , h = D.g.$(this.M.o, g.t[0] + g.b[1].i[0], g.t[1] + g.b[1].i[1], g.t[2] + g.b[1].i[2])
                  , l = D.g.$(this.M.o, g.t[0] - g.b[1].i[0], g.t[1] - g.b[1].i[1], g.t[2] + -g.b[1].i[2])
                  , k = Math.abs(h.d - l.d)
                  , h = D.g.$(this.M.o, g.t[0] + g.b[2].i[0], g.t[1] + g.b[2].i[1], g.t[2] + g.b[2].i[2])
                  , l = D.g.$(this.M.o, g.t[0] - g.b[2].i[0], g.t[1] - g.b[2].i[1], g.t[2] - g.b[2].i[2])
                  , h = Math.max(j, k, Math.abs(h.d - l.d));
                h == j ? df(g, 0) : h == k ? df(g, 1) : df(g, 2)
            }
        }
        if (this.R.ORDERING_ENABLED) {
            j = u;
            f = this.jb;
            g = f.length - 1;
            do
                if (d = f[g],
                d instanceof Q && d.Pa && -1 != d.W) {
                    var j = d.c[d.W].c
                      , k = d.W
                      , h = D.g.$(this.M.o, d.t[0] + d.b[k].z[0], d.t[1] + d.b[k].z[1], d.t[2] + d.b[k].z[2])
                      , l = D.g.$(this.M.o, d.t[0] - d.b[k].z[0], d.t[1] - d.b[k].z[1], d.t[2] - d.b[k].z[2])
                      , h = h.d - l.d
                      , l = Math.max(d.vc[d.W], Math.max(d.vc[d.W + 4], d.vc[d.W + 8]))
                      , n = Math.min(d.vc[d.W], Math.min(d.vc[d.W + 4], d.vc[d.W + 8]));
                    if (0 > h * (l + n))
                        for (h = h = 0; h < d.kd[k] - 1; h++)
                            j[h] && (j[h].ra = d.ra,
                            j[h].ua = d.b[k].Kc * h);
                    else
                        for (h = d.kd[k] - 1; 0 <= h; h--)
                            j[h] && (j[h].ra = d.ra,
                            j[h].ua = (d.kd[k] - 1) * d.b[k].Kc - d.b[k].Kc * h);
                    j = q
                }
            while (g--);f = this.sb.H;
            g = f.length - 1;
            do
                if (d = f[g],
                d.O && !(1 == d.ra || d instanceof Ue))
                    j = d,
                    k = d.h.Ld,
                    d = D.g.$(d.ja.Q, k[0], k[1], k[2]),
                    d = D.g.$(this.M.o, d.x, d.y, d.d),
                    d = D.m.of(this.M.fc, d),
                    d = Math.round(1E3 * d) / 1E3,
                    j.ua = d,
                    j = q;
            while (g--);j && this.sb.sort()
        }
        if (f = !a && b != t && b && this.R.STATISTICS_ENABLED)
            var r = 0
              , s = 0
              , z = 0
              , y = 0;
        var d = this.Ge
          , g = d.get("vertexPosition")
          , j = d.get("vertexNormal")
          , k = d.get("vertexColor")
          , h = d.get("vertexTexturePos")
          , l = d.get("vertexScalar")
          , d = this.rd
          , n = d.get("usePicking")
          , E = d.get("useObjectColor")
          , F = d.get("objectColor")
          , K = d.get("useScalars")
          , A = d.get("scalarsReplaceMode")
          , G = d.get("scalarsMin")
          , I = d.get("scalarsMax")
          , H = d.get("scalarsMinColor")
          , R = d.get("scalarsMaxColor")
          , N = d.get("scalarsInterpolation")
          , T = d.get("scalarsMinThreshold")
          , ca = d.get("scalarsMaxThreshold")
          , ba = d.get("objectOpacity")
          , da = d.get("labelmapOpacity")
          , M = d.get("labelmapColor")
          , U = d.get("useTexture")
          , P = d.get("useLabelMapTexture")
          , Fa = d.get("textureSampler")
          , tb = d.get("textureSampler2")
          , ub = d.get("volumeLowerThreshold")
          , vb = d.get("volumeUpperThreshold")
          , lb = d.get("volumeScalarMin")
          , Zc = d.get("volumeScalarMax")
          , ih = d.get("volumeWindowLow")
          , jh = d.get("volumeWindowHigh")
          , kh = d.get("volumeScalarMinColor")
          , lh = d.get("volumeScalarMaxColor")
          , xg = d.get("volumeTexture")
          , mh = d.get("objectTransform")
          , nh = d.get("pointSize")
          , d = e;
        do {
            var ea = c[e - d];
            if (ea) {
                var ka = t;
                ea instanceof Ue && ea.Cb && (ka = ea.Cb);
                if (ea.O && (!ka || ka.O) && (!a || ea.gd)) {
                    var Aa = ea.va
                      , db = ea.Zc
                      , Qa = this.ic.get(Aa)
                      , ob = this.fd.get(Aa)
                      , We = this.yc.get(Aa)
                      , Kb = this.Ic.get(Aa)
                      , Xe = this.hc.get(Aa);
                    this.a.bindBuffer(this.a.ARRAY_BUFFER, Qa.P);
                    this.a.vertexAttribPointer(g, Qa.Mb, this.a.FLOAT, u, 0, 0);
                    this.a.bindBuffer(this.a.ARRAY_BUFFER, ob.P);
                    this.a.vertexAttribPointer(j, ob.Mb, this.a.FLOAT, u, 0, 0);
                    a ? this.a.uniform1i(n, q) : this.a.uniform1i(n, u);
                    We && !a && !db ? (this.a.uniform1i(E, u),
                    this.a.bindBuffer(this.a.ARRAY_BUFFER, We.P),
                    this.a.vertexAttribPointer(k, We.Mb, this.a.FLOAT, u, 0, 0)) : (ob = 1,
                    db && !a && (ob = 0),
                    this.a.uniform1i(E, ob),
                    ob = ea.v,
                    a && (ob = [Math.floor(Aa % 65025 % 255) / 255, Math.floor(Aa % 65025 / 255) / 255, Math.floor(Aa / 65025) / 255]),
                    this.a.uniform3f(F, parseFloat(ob[0]), parseFloat(ob[1]), parseFloat(ob[2])),
                    this.a.vertexAttribPointer(k, Qa.Mb, this.a.FLOAT, u, 0, 0));
                    Kb && !a && !db ? (this.a.uniform1i(K, q),
                    this.a.uniform1i(A, ea.I.rg),
                    Aa = ea.I.Pb,
                    db = ea.I.Nb,
                    this.a.uniform3f(H, parseFloat(Aa[0]), parseFloat(Aa[1]), parseFloat(Aa[2])),
                    this.a.uniform3f(R, parseFloat(db[0]), parseFloat(db[1]), parseFloat(db[2])),
                    this.a.uniform1f(T, parseFloat(ea.I.U)),
                    this.a.uniform1f(ca, parseFloat(ea.I.V)),
                    this.a.uniform1f(G, parseFloat(ea.I.Ma)),
                    this.a.uniform1f(I, parseFloat(ea.I.ia)),
                    this.a.uniform1i(N, parseInt(ea.I.Ie, 10)),
                    this.a.bindBuffer(this.a.ARRAY_BUFFER, Kb.P),
                    this.a.vertexAttribPointer(l, Kb.Mb, this.a.FLOAT, u, 0, 0)) : (this.a.uniform1i(K, u),
                    this.a.vertexAttribPointer(l, Qa.Mb, this.a.FLOAT, u, 0, 0));
                    this.a.uniform1f(ba, parseFloat(ea.ra));
                    ea.F && Xe && !a ? (this.a.uniform1i(U, q),
                    this.a.activeTexture(this.a.TEXTURE0),
                    this.a.bindTexture(this.a.TEXTURE_2D, this.Nc.get(ea.F.va)),
                    this.a.uniform1i(Fa, 0),
                    this.a.bindBuffer(this.a.ARRAY_BUFFER, Xe.P),
                    this.a.vertexAttribPointer(h, Xe.Mb, this.a.FLOAT, u, 0, 0),
                    this.a.uniform1i(xg, u)) : (this.a.uniform1i(U, u),
                    this.a.vertexAttribPointer(h, Qa.Mb, this.a.FLOAT, u, 0, 0));
                    ka && (this.a.uniform1i(xg, q),
                    this.a.uniform1f(ub, ka.U),
                    this.a.uniform1f(vb, ka.V),
                    this.a.uniform1f(lb, ka.Ma),
                    this.a.uniform1f(Zc, ka.ia),
                    Aa = ka.Pb,
                    db = ka.Nb,
                    this.a.uniform3f(kh, parseFloat(Aa[0]), parseFloat(Aa[1]), parseFloat(Aa[2])),
                    this.a.uniform3f(lh, parseFloat(db[0]), parseFloat(db[1]), parseFloat(db[2])),
                    this.a.uniform1f(ih, ka.ea),
                    this.a.uniform1f(jh, ka.da),
                    Kb = ka.e,
                    this.a.uniform1i(P, u),
                    ka.Pa ? this.a.uniform1f(ba, parseFloat(ka.ra)) : Kb && Kb.O && (ka = ea.e.va,
                    this.a.uniform1i(P, q),
                    this.a.activeTexture(this.a.TEXTURE1),
                    this.a.bindTexture(this.a.TEXTURE_2D, this.Nc.get(ka)),
                    this.a.uniform1i(tb, 1),
                    this.a.uniform1f(da, Kb.ra),
                    this.a.uniform4fv(M, Kb.Xe)));
                    this.a.uniformMatrix4fv(mh, u, ea.ja.Q);
                    ka = 1;
                    "POINTS" == ea.Fa && (ka = ea.hd);
                    this.a.uniform1f(nh, ka);
                    ka = -1;
                    ea.Fa == gd ? (ka = this.a.TRIANGLES,
                    f && (s += Qa.Lb / 3)) : "LINES" == ea.Fa ? (this.a.lineWidth(ea.Gc),
                    ka = this.a.LINES,
                    f && (z += Qa.Lb / 2)) : "POINTS" == ea.Fa ? (ka = this.a.POINTS,
                    f && (y += Qa.Lb)) : "TRIANGLE_STRIPS" == ea.Fa ? (ka = this.a.TRIANGLE_STRIP,
                    f && (s += Qa.Lb / 3)) : "POLYGONS" == ea.Fa && (ka = 0 == Qa.Lb % 3 ? this.a.TRIANGLES : this.a.TRIANGLE_FAN,
                    f && (s += Qa.Lb / 3));
                    f && (r += Qa.Lb);
                    this.a.drawArrays(ka, 0, Qa.Lb)
                }
            }
        } while (--d);f && (c = "Objects: " + e + " | " + ("Vertices: " + r + " | "),
        c += "Triangles: " + Math.round(s) + " | ",
        c += "Lines: " + z + " | ",
        c += "Points: " + y + " | ",
        c += "Textures: " + this.Nc.ke(),
        window.console.log(c))
    }
}
;
w.remove = function(a) {
    eh.A.remove.call(this, a);
    if (0 < a.c.length)
        for (var b = a.c, c = b.length, e = 0, e = 0; e < c; e++)
            this.remove(b[e]);
    b = a.va;
    c = this.hc.get(b);
    c != t && this.a.isBuffer(c.P) && this.a.deleteBuffer(c.P);
    if (a.F && (c = this.Nc.get(a.F.va)))
        this.a.deleteTexture(c),
        this.Nc.remove(a.F.va);
    c = this.ic.get(b);
    c != t && this.a.isBuffer(c.P) && this.a.deleteBuffer(c.P);
    c = this.fd.get(b);
    c != t && this.a.isBuffer(c.P) && this.a.deleteBuffer(c.P);
    c = this.yc.get(b);
    c != t && this.a.isBuffer(c.P) && this.a.deleteBuffer(c.P);
    c = this.Ic.get(b);
    c != t && this.a.isBuffer(c.P) && this.a.deleteBuffer(c.P);
    this.ic.remove(b);
    this.fd.remove(b);
    this.yc.remove(b);
    this.hc.remove(b);
    this.Ic.remove(b);
    this.sb.remove(a);
    return q
}
;
w.fe = function() {
    this.We = t;
    delete this.We;
    this.a.clear(this.a.COLOR_BUFFER_BIT | this.a.DEPTH_BUFFER_BIT);
    eh.A.fe.call(this)
}
;
eh.prototype.__defineGetter__("bgColor", v("Uc"));
eh.prototype.__defineSetter__("bgColor", fa("Uc"));
eh.prototype.Rj = function(a, b, c, e, d) {
    c != t || (c = 4);
    e != t || (e = 2);
    if (d == t) {
        d = this.Jf(a, b);
        if (-1 == d)
            return t;
        d = this.get(d);
        if (!d)
            return t
    }
    var f = Ne(this.M, 2 * (a / this.J) - 1, 2 * ((this.w - b) / this.w) - 1, 0);
    a = Ne(this.M, 2 * (a / this.J) - 1, 2 * ((this.w - b) / this.w) - 1, 1);
    f[0] += this.B[0];
    f[1] += this.B[1];
    f[2] += this.B[2];
    a[0] += this.B[0];
    a[1] += this.B[1];
    a[2] += this.B[2];
    b = [d.h.gb, d.h.hb, d.h.ib];
    var g = [d.h.cb, d.h.hb, d.h.ib]
      , h = [d.h.cb, d.h.eb, d.h.ib]
      , l = [d.h.gb, d.h.eb, d.h.ib]
      , j = [d.h.gb, d.h.eb, d.h.fb]
      , k = [d.h.gb, d.h.hb, d.h.fb]
      , n = [d.h.cb, d.h.eb, d.h.fb]
      , r = [d.h.cb, d.h.hb, d.h.fb];
    b = [D.g.$(d.ja.Q, b[0], b[1], b[2]), D.g.$(d.ja.Q, g[0], g[1], g[2]), D.g.$(d.ja.Q, h[0], h[1], h[2]), D.g.$(d.ja.Q, l[0], l[1], l[2]), D.g.$(d.ja.Q, j[0], j[1], j[2]), D.g.$(d.ja.Q, k[0], k[1], k[2]), D.g.$(d.ja.Q, n[0], n[1], n[2]), D.g.$(d.ja.Q, r[0], r[1], r[2])];
    var g = [Infinity, -Infinity, Infinity, -Infinity, Infinity, -Infinity], s;
    for (s in b)
        s = b[s],
        g = [Math.min(g[0], s.x), Math.max(g[1], s.x), Math.min(g[2], s.y), Math.max(g[3], s.y), Math.min(g[4], s.d), Math.max(g[5], s.d)];
    s = g;
    b = [];
    g = [];
    for (h = 0; 6 > h; h++) {
        var l = Math.floor(h / 2)
          , j = (l + 1) % 3
          , k = (l + 2) % 3
          , r = (2 + 2 * l) % 6
          , z = (4 + 2 * l) % 6
          , y = (s[h] - f[l]) * (1 / a[l]);
        Infinity != y && -Infinity != y && (n = f[j] + a[j] * y,
        y = f[k] + a[k] * y,
        n >= s[r] && n <= s[r + 1] && y >= s[z] && y <= s[z + 1] ? (r = [],
        r[l] = s[h],
        r[j] = n,
        r[k] = y,
        b.push(r)) : (r = [],
        r[l] = s[h],
        r[j] = n,
        r[k] = y,
        g.push(r)))
    }
    a = [b, g];
    a = a[0];
    if (0 == a.length)
        return t;
    g = Array(2);
    for (s = 0; 2 > s; s++)
        b = a[s],
        g[s] = Math.sqrt((b[0] - f[0]) * (b[0] - f[0]) + (b[1] - f[1]) * (b[1] - f[1]) + (b[2] - f[2]) * (b[2] - f[2]));
    f = b = s = t;
    g[0] < g[1] ? (s = a[0],
    b = a[1]) : (s = a[1],
    b = a[0]);
    f = Math.sqrt((s[0] - b[0]) * (s[0] - b[0]) + (s[1] - b[1]) * (s[1] - b[1]) + (s[2] - b[2]) * (s[2] - b[2]));
    f /= c;
    a = s;
    s = [b[0] - s[0], b[1] - s[1], b[2] - s[2]];
    b = Math.sqrt(s[0] * s[0] + s[1] * s[1] + s[2] * s[2]);
    g = [s[0] / b, s[1] / b, s[2] / b];
    h = d.h.ba;
    l = h.length;
    for (s = 0; s < f; s += c) {
        a = [a[0] + c * g[0], a[1] + c * g[1], a[2] + c * g[2]];
        for (b = 0; b < l; b += 3)
            if (j = h[b],
            k = h[b + 1],
            n = h[b + 2],
            r = new D.m(j,k,n),
            r = D.g.$(d.ja.Q, j, k, n),
            Math.sqrt((a[0] - r.x) * (a[0] - r.x) + (a[1] - r.y) * (a[1] - r.y) + (a[2] - r.d) * (a[2] - r.d)) <= e)
                return [r.x, r.y, r.d]
    }
    return t
}
;
B("X.renderer3D", eh);
B("X.renderer3D.prototype.init", eh.prototype.ya);
B("X.renderer3D.prototype.add", eh.prototype.add);
B("X.renderer3D.prototype.onShowtime", eh.prototype.hh);
B("X.renderer3D.prototype.onRender", eh.prototype.fh);
B("X.renderer3D.prototype.get", eh.prototype.get);
B("X.renderer3D.prototype.render", eh.prototype.bc);
B("X.renderer3D.prototype.destroy", eh.prototype.fe);
B("X.renderer3D.prototype.remove", eh.prototype.remove);
B("X.renderer3D.prototype.resetBoundingBox", eh.prototype.Vj);
B("X.renderer3D.prototype.resetViewAndRender", eh.prototype.Hd);
B("X.renderer3D.prototype.pick", eh.prototype.Jf);
B("X.renderer3D.prototype.pick3d", eh.prototype.Rj);
function fh() {
    Y.call(this);
    this.f = "mesh";
    Ga(this, new wc)
}
C(fh, Y);
B("X.mesh", fh);
function gh() {
    Y.call(this);
    this.f = "fibers";
    Ga(this, new wc)
}
C(gh, Y);
B("X.fibers", gh);
function hh() {
    Gg.call(this);
    this.f = "renderer2D";
    this.Oa = t;
    this.Da = -1;
    this.Qb = [];
    this.hg = this.Rd = this.cg = this.Pd = t;
    this.Jc = this.Lc = this.ld = this.nd = 0;
    this.da = this.ea = this.V = this.U = this.$f = -1;
    this.ig = new Float32Array([-255, -255, -255, -255]);
    this.pg = q
}
C(hh, Gg);
hh.prototype.Cj = aa();
hh.prototype.Mj = aa();
hh.prototype.Gf = function(a) {
    hh.A.Gf.call(this, a);
    var b = this.jb[0];
    if (b) {
        var c = ""
          , c = 0 == this.Da ? "indexX" : 1 == this.Da ? "indexY" : "indexZ";
        b[c] = a.ca ? b[c] + 1 : b[c] - 1;
        eval("this.onScroll();")
    }
}
;
hh.prototype.Nj = function(a) {
    var b = this.jb[0];
    if (b) {
        var c = b.da - b.ea
          , e = c / 2
          , d = parseInt(c + c / 15 * -a.$e, 10);
        a = parseInt(e + e / 15 * a.Ne, 10);
        c == d && d++;
        e == a && a++;
        b.ea -= parseInt(e - a, 10);
        b.ea -= parseInt(c - d, 10);
        b.ea = Math.max(b.ea, b.Ma);
        b.da -= parseInt(e - a, 10);
        b.da += parseInt(c - d, 10);
        b.da = Math.min(b.da, b.ia);
        eval("this.onWindowLevel();")
    }
}
;
hh.prototype.__defineGetter__("orientation", v("Oa"));
hh.prototype.__defineSetter__("orientation", function(a) {
    a = a.toUpperCase();
    "AXIAL" == a ? (a = "Z",
    this.Da = 2) : "SAGITTAL" == a ? (a = "X",
    this.Da = 0) : "CORONAL" == a && (a = "Y",
    this.Da = 1);
    "X" != a && ("Y" != a && "Z" != a) && m(Error("Invalid orientation."));
    this.Oa = a
});
hh.prototype.__defineGetter__("radiological", v("pg"));
hh.prototype.__defineSetter__("radiological", fa("pg"));
w = hh.prototype;
w.ya = function() {
    this.Oa || m(Error("No 2D orientation set."));
    hh.A.ya.call(this, "2d");
    this.a.fillStyle = "rgba(50,50,50,0)";
    this.a.fillRect(0, 0, this.Ba.width, this.Ba.height);
    this.Pd = be("canvas");
    this.Rd = be("canvas");
    L(this.M, vd, this.Nj.bind(this))
}
;
w.Ff = function() {
    hh.A.Ff.call(this);
    oh(this)
}
;
w.Hd = function() {
    hh.A.Hd.call(this);
    oh(this);
    var a = this.jb[0];
    a && (a.da = a.ia,
    a.ea = a.Ma)
}
;
w.vb = function(a) {
    hh.A.vb.call(this, a);
    var b = u;
    this.get(a.va) && (b = q);
    if (a instanceof Q) {
        var c = a.r
          , e = a.e
          , d = a.Ca;
        if (e != t && e.r != t && e.r.j)
            this.vb(e);
        else if (d != t && d.r != t && d.r.j)
            this.Z.load(d, a);
        else {
            if (c != t && la(c))
                if (a.rc != t) {
                    if (a.rc.tf != c.length || b && !a.j)
                        return
                } else {
                    b = 0;
                    e = c.length;
                    for (b = 0; b < e; b++)
                        this.Z.load(c[b], a);
                    return
                }
            else if (c != t && c.j) {
                this.Z.load(a, a);
                return
            }
            this.Da = "X" == this.Oa ? 0 : "Y" == this.Oa ? 1 : 2;
            this.Ya = a.c[this.Da].c;
            d = t;
            d = 0 == this.Da ? a.indexX : 1 == this.Da ? a.indexY : a.indexZ;
            c = a.c[this.Da].c[d].gg;
            e = a.c[this.Da].c[d].fg;
            this.Lc = a.c[this.Da].c[d].Oc;
            this.Jc = a.c[this.Da].c[d].Bc;
            this.nd = c;
            this.ld = e;
            d = this.Pd;
            d.width = c;
            d.height = e;
            var f = this.Rd;
            f.width = c;
            f.height = e;
            this.cg = d.getContext("2d");
            this.hg = f.getContext("2d");
            b || (this.sb.add(a),
            oh(this))
        }
    }
}
;
function oh(a) {
    var b = Math.min(a.J / (a.nd * a.Lc), a.w / (a.ld * a.Jc));
    a.M.o[14] = b
}
w.Dj = aa();
w.Eh = function(a, b) {
    var c = this.jb[0]
      , e = this.M.o
      , d = t
      , f = this.nd
      , g = this.ld
      , h = t
      , l = t;
    if ("Y" == this.Oa)
        d = this.Ya[parseInt(c.indexY, 10)],
        h = d.Oc,
        l = d.Bc,
        this.Qb[0] = "red",
        this.Qb[1] = "blue";
    else if ("Z" == this.Oa)
        d = this.Ya[parseInt(c.indexZ, 10)],
        h = d.Oc,
        l = d.Bc,
        this.Qb[0] = "red",
        this.Qb[1] = "green";
    else {
        d = this.Ya[parseInt(c.indexX, 10)];
        h = d.Bc;
        l = d.Oc;
        this.Qb[0] = "green";
        this.Qb[1] = "blue";
        var j = f
          , f = g
          , g = j
    }
    var k = 1 * e[12]
      , n = -1 * e[13]
      , j = Math.max(e[14], 0.6)
      , e = [this.J / 2, this.w / 2]
      , h = f * h * j
      , l = g * l * j
      , r = e[0] - h / 2
      , e = e[1] - l / 2
      , r = r + k * j
      , e = e + n * j;
    return a > r && a < r + h && b > e && b < e + l ? (k = (a - r) / h * f,
    n = (b - e) / l * g,
    l = d.ai[4],
    "X" == this.Oa ? (j = f - k,
    k = n,
    n = j) : "Y" == this.Oa ? k = f - k : "Z" == this.Oa && (k = f - k,
    n = g - n),
    k = d.$h + k * d.Oc,
    n = d.Uh + n * d.Bc,
    k = Pc(k, n, l, 1),
    f = Qc(),
    ad(d.Nh, k, f),
    g = Qc(),
    ad(d.Oh, k, g),
    d = Math.round((c.b[0].i[0] * g[0] + c.b[0].i[1] * g[1] + c.b[0].i[2] * g[2] + c.b[0].Qe) / c.b[0].Kc),
    d >= c.b[0].p ? d = c.b[0].p - 1 : 0 > d && (d = 0),
    k = Math.round((c.b[1].i[0] * g[0] + c.b[1].i[1] * g[1] + c.b[1].i[2] * g[2] + c.b[1].Qe) / c.b[1].Kc),
    k >= c.b[1].p ? k = c.b[1].p - 1 : 0 > k && (k = 0),
    n = Math.round((c.b[2].i[0] * g[0] + c.b[2].i[1] * g[1] + c.b[2].i[2] * g[2] + c.b[2].Qe) / c.b[2].Kc),
    n >= c.b[2].p ? n = c.b[2].p - 1 : 0 > n && (n = 0),
    [[d, k, n], [f[0], f[1], f[2]], [g[0], g[1], g[2]]]) : t
}
;
w.cc = function(a, b) {
    hh.A.cc.call(this, a, b);
    if (0 != this.sb.H.length) {
        var c = this.jb[0]
          , e = t
          , e = 0 == this.Da ? c.indexX : 1 == this.Da ? c.indexY : c.indexZ
          , d = this.Ya[parseInt(e, 10)].gg
          , f = this.Ya[parseInt(e, 10)].fg;
        this.Lc = this.Ya[parseInt(e, 10)].Oc;
        this.Jc = this.Ya[parseInt(e, 10)].Bc;
        this.nd = d;
        this.ld = f;
        var g = this.J
          , h = this.w
          , l = this.M.o;
        this.a.save();
        this.a.clearRect(-g, -h, 2 * g, 2 * h);
        this.a.restore();
        var j = Math.max(l[14], 0.1);
        this.a.setTransform(j, 0, 0, j, 0, 0);
        var k = 1 * l[12]
          , l = -1 * l[13]
          , n = t;
        c.e && (n = c.e.Xe);
        var r = this.Ya[parseInt(e, 10)]
          , s = r.F.Ub
          , r = r.e
          , z = t;
        r && (z = r.Ub);
        var y = this.nd
          , E = this.ld
          , F = this.cg
          , K = this.hg
          , A = F.getImageData(0, 0, y, E)
          , G = K.getImageData(0, 0, y, E)
          , I = A.data
          , H = G.data
          , R = I.length
          , N = c.ia
          , T = c.U
          , ca = c.V
          , ba = c.ea / N
          , da = c.da / N;
        if (this.$f != e || this.U != T || this.V != ca || this.ea != ba || this.da != da || n && !pg(n, this.ig, 0)) {
            var M = this.Pd;
            M.width = d;
            M.height = f;
            M = this.Rd;
            M.width = d;
            M.height = f;
            d = 0;
            do {
                var M = [0, 0, 0, 0]
                  , f = [0, 0, 0, 0]
                  , U = s[d] / 255 * N
                  , P = s[d]
                  , P = (P / 255 - ba) / (da - ba)
                  , P = 255 * P;
                U >= T && U <= ca && (M = new S(c.Pb[0],c.Pb[1],c.Pb[2]),
                M = (new S(c.Nb[0],c.Nb[1],c.Nb[2])).scale(P).add(M.scale(255 - P)),
                M = [Math.floor(M.x), Math.floor(M.y), Math.floor(M.d), 255],
                r && (-255 == n[3] ? f = [z[d], z[d + 1], z[d + 2], z[d + 3]] : pg(n, z, d) && (f = [z[d], z[d + 1], z[d + 2], z[d + 3]])));
                "X" == this.Oa ? (I[d] = M[0],
                I[d + 1] = M[1],
                I[d + 2] = M[2],
                I[d + 3] = M[3],
                H[d] = f[0],
                H[d + 1] = f[1],
                H[d + 2] = f[2],
                H[d + 3] = f[3]) : "Y" == this.Oa ? (P = Math.floor(d / (4 * y)),
                P = 4 * P * y + (4 * (y - 1) - (d - 4 * P * y)),
                I[P] = M[0],
                I[P + 1] = M[1],
                I[P + 2] = M[2],
                I[P + 3] = M[3],
                H[P] = f[0],
                H[P + 1] = f[1],
                H[P + 2] = f[2],
                H[P + 3] = f[3]) : (P = R - 1 - d,
                I[P - 3] = M[0],
                I[P - 2] = M[1],
                I[P - 1] = M[2],
                I[P] = M[3],
                H[P - 3] = f[0],
                H[P - 2] = f[1],
                H[P - 1] = f[2],
                H[P] = f[3]);
                d += 4
            } while (d < R);F.putImageData(A, 0, 0);
            K.putImageData(G, 0, 0);
            this.$f = e;
            this.U = T;
            this.V = ca;
            this.ea = ba;
            this.da = da;
            r && (this.ig = n)
        }
        this.a.globalAlpha = 1;
        this.a.translate(g / 2 / j, h / 2 / j);
        "X" == this.Oa && (this.a.rotate(0.5 * Math.PI),
        e = k,
        k = l,
        l = -e);
        k = -y * this.Lc / 2 + k;
        l = -E * this.Jc / 2 + l;
        this.a.drawImage(this.Pd, k, l, y * this.Lc, E * this.Jc);
        r && c.e.O && (this.a.globalAlpha = c.e.ra,
        this.a.drawImage(this.Rd, k, l, y * this.Lc, E * this.Jc));
        if (this.R.SLICENAVIGATORS && (this.T.Ud && this.T.tg && !this.T.rb) && (k = this.T.qa,
        k = this.Eh(k[0], k[1])))
            c.yb = k[0][0],
            c.zb = k[0][1],
            c.Ab = k[0][2],
            c.q(u),
            this.onSliceNavigation(),
            this.a.setTransform(1, 0, 0, 1, 0, 0),
            this.a.lineWidth = 1,
            this.a.beginPath(),
            this.a.moveTo(this.T.qa[0], 0),
            this.a.lineTo(this.T.qa[0], this.T.qa[1] - 10),
            this.a.moveTo(this.T.qa[0], this.T.qa[1] + 10),
            this.a.lineTo(this.T.qa[0], this.w),
            this.a.strokeStyle = this.Qb[0],
            this.a.stroke(),
            this.a.closePath(),
            this.a.beginPath(),
            this.a.moveTo(0, this.T.qa[1]),
            this.a.lineTo(this.T.qa[0] - 10, this.T.qa[1]),
            this.a.moveTo(this.T.qa[0] + 10, this.T.qa[1] + 0.5),
            this.a.lineTo(this.J, this.T.qa[1]),
            this.a.strokeStyle = this.Qb[1],
            this.a.stroke(),
            this.a.closePath(),
            this.a.font = "10pt Arial",
            this.a.textAlign = "left",
            this.a.textBaseline = "top",
            this.a.fillStyle = "white",
            this.a.fillText("RAS: " + k[2][0].toFixed(2) + ", " + k[2][1].toFixed(2) + ", " + k[2][2].toFixed(2), 0, 0),
            y = r = l = "undefined",
            "undefined" != typeof c.ha[k[1][2].toFixed(0)] && "undefined" != typeof c.ha[k[1][2].toFixed(0)][k[1][1].toFixed(0)] && (l = c.ha[k[1][2].toFixed(0)][k[1][1].toFixed(0)][k[1][0].toFixed(0)],
            c.K && (r = c.e.ha[k[1][2].toFixed(0)][k[1][1].toFixed(0)][k[1][0].toFixed(0)],
            c.e.Vc && (y = c.e.Vc.get(r),
            "undefined" != typeof y && (y = y[0])))),
            this.a.fillText("Background:  " + l + " (" + k[1][0].toFixed(0) + ", " + k[1][1].toFixed(0) + ", " + k[1][2].toFixed(0) + ")", 0, 15),
            c.K && this.a.fillText("Labelmap:  " + y + " (" + r + ")", 0, 30)
    }
}
;
B("X.renderer2D", hh);
B("X.renderer2D.prototype.init", hh.prototype.ya);
B("X.renderer2D.prototype.add", hh.prototype.add);
B("X.renderer2D.prototype.onShowtime", hh.prototype.hh);
B("X.renderer2D.prototype.onRender", hh.prototype.fh);
B("X.renderer2D.prototype.onScroll", hh.prototype.Cj);
B("X.renderer2D.prototype.onWindowLevel", hh.prototype.Mj);
B("X.renderer2D.prototype.get", hh.prototype.get);
B("X.renderer2D.prototype.resetViewAndRender", hh.prototype.Hd);
B("X.renderer2D.prototype.xy2ijk", hh.prototype.Eh);
B("X.renderer2D.prototype.render", hh.prototype.bc);
B("X.renderer2D.prototype.destroy", hh.prototype.fe);
B("X.renderer2D.prototype.onSliceNavigation", hh.prototype.Dj);
(function() {
    var ColorMap, Component, Crosshairs, DataField, DataPanel, Image, Layer, LayerList, SelectComponent, SliderComponent, TextFieldComponent, Threshold, Transform, UserInterface, View, ViewSettings, Viewer, componentToHex, hexToRgb, rgbToHex, __indexOf = [].indexOf || function(item) {
        for (var i = 0, l = this.length; i < l; i++) {
            if (i in this && this[i] === item)
                return i;
        }
        return -1;
    }
    , __bind = function(fn, me) {
        return function() {
            return fn.apply(me, arguments);
        }
        ;
    }, __hasProp = {}.hasOwnProperty, __extends = function(child, parent) {
        for (var key in parent) {
            if (__hasProp.call(parent, key))
                child[key] = parent[key];
        }
        function ctor() {
            this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
    };
    window.Viewer || (window.Viewer = {});
    window.typeIsArray = Array.isArray || function(value) {
        return {}.toString.call(value) === '[object Array]';
    }
    ;
    Array.prototype.diff = function(a) {
        return this.filter(function(i) {
            return !(a.indexOf(i) > -1);
        });
    }
    ;
    window.Viewer = Viewer = (function() {
        Viewer.AXIAL = 2;
        Viewer.CORONAL = 1;
        Viewer.SAGITTAL = 0;
        Viewer.XAXIS = 0;
        Viewer.YAXIS = 1;
        Viewer.ZAXIS = 2;
        function Viewer(layerListId, layerSettingClass, cache, options) {
            var xyz;
            this.cache = cache != null ? cache : true;
            if (options == null) {
                options = {};
            }
            xyz = 'xyz'in options ? options.xyz : [0.0, 0.0, 0.0];
            this.coords_ijk = Transform.atlasToImage(xyz);
            this.coords_abc = Transform.atlasToViewer(xyz);
            this.viewSettings = new ViewSettings(options);
            this.views = [];
            this.sliders = {};
            this.dataPanel = new DataPanel(this);
            this.layerList = new LayerList();
            this.userInterface = new UserInterface(this,layerListId,layerSettingClass);
            if (this.cache && (typeof amplify !== "undefined" && amplify !== null)) {
                this.cache = amplify.store;
            }
        }
        Viewer.prototype.coords_xyz = function() {
            return Transform.imageToAtlas(this.coords_ijk);
        }
        ;
        Viewer.prototype.paint = function() {
            var l, v, _i, _j, _len, _len1, _ref, _ref1;
            $(this).trigger("beforePaint");
            if (this.layerList.activeLayer) {
                this.userInterface.updateThresholdSliders(this.layerList.activeLayer.image);
                this.updateDataDisplay();
            }
            _ref = this.views;
            for (_i = 0,
            _len = _ref.length; _i < _len; _i++) {
                v = _ref[_i];
                v.clear();
                _ref1 = this.layerList.layers.slice(0).reverse();
                for (_j = 0,
                _len1 = _ref1.length; _j < _len1; _j++) {
                    l = _ref1[_j];
                    if (l.visible) {
                        v.paint(l);
                    }
                }
                v.drawCrosshairs();
                v.drawLabels();
            }
            $(this).trigger("beforePaint");
            return true;
        }
        ;
        Viewer.prototype.clear = function() {
            var v, _i, _len, _ref, _results;
            _ref = this.views;
            _results = [];
            for (_i = 0,
            _len = _ref.length; _i < _len; _i++) {
                v = _ref[_i];
                _results.push(v.clear());
            }
            return _results;
        }
        ;
        Viewer.prototype.resetCanvas = function() {
            var v, _i, _len, _ref, _results;
            _ref = this.views;
            _results = [];
            for (_i = 0,
            _len = _ref.length; _i < _len; _i++) {
                v = _ref[_i];
                _results.push(v.resetCanvas());
            }
            return _results;
        }
        ;
        Viewer.prototype.addView = function(element, dim, index, labels) {
            if (labels == null) {
                labels = true;
            }
            return this.views.push(new View(this,this.viewSettings,element,dim,index,labels));
        }
        ;
        Viewer.prototype.addSlider = function(name, element, orientation, min, max, value, step, dim, textField) {
            var v, views, _i, _len, _results;
            if (dim == null) {
                dim = null;
            }
            if (textField == null) {
                textField = null;
            }
            if (name.match(/nav/)) {
                views = (function() {
                    var _i, _len, _ref, _results;
                    _ref = this.views;
                    _results = [];
                    for (_i = 0,
                    _len = _ref.length; _i < _len; _i++) {
                        v = _ref[_i];
                        if (v.dim === dim) {
                            _results.push(v);
                        }
                    }
                    return _results;
                }
                ).call(this);
                _results = [];
                for (_i = 0,
                _len = views.length; _i < _len; _i++) {
                    v = views[_i];
                    _results.push(v.addSlider(name, element, orientation, min, max, value, step, textField));
                }
                return _results;
            } else {
                return this.userInterface.addSlider(name, element, orientation, min, max, value, step, textField);
            }
        }
        ;
        Viewer.prototype.addTextField = function(name, element) {
            return this.userInterface.addTextField(name, element);
        }
        ;
        Viewer.prototype.addDataField = function(name, element) {
            return this.dataPanel.addDataField(name, element);
        }
        ;
        Viewer.prototype.addAxisPositionField = function(name, element, dim) {
            return this.dataPanel.addAxisPositionField(name, element, dim);
        }
        ;
        Viewer.prototype.addColorSelect = function(element) {
            return this.userInterface.addColorSelect(element);
        }
        ;
        Viewer.prototype.addSignSelect = function(element) {
            return this.userInterface.addSignSelect(element);
        }
        ;
        Viewer.prototype.addSettingsCheckboxes = function(element, options) {
            var o, settings, _i, _len;
            if (options === 'standard') {
                options = ['crosshairs', 'panzoom', 'labels'];
            }
            settings = {};
            options = (function() {
                var _i, _len, _results;
                _results = [];
                for (_i = 0,
                _len = options.length; _i < _len; _i++) {
                    o = options[_i];
                    if (o === 'crosshairs' || o === 'panzoom' || o === 'labels') {
                        _results.push(o);
                    }
                }
                return _results;
            }
            )();
            for (_i = 0,
            _len = options.length; _i < _len; _i++) {
                o = options[_i];
                settings[o] = this.viewSettings[o + 'Enabled'];
            }
            return this.userInterface.addSettingsCheckboxes(element, settings);
        }
        ;
        Viewer.prototype._loadImage = function(data, options) {
            var error, layer;
            layer = new Layer(new Image(data),options);
            this.layerList.addLayer(layer);
            try {
                if (this.cache && options.cache) {
                    return amplify.store(layer.name, data);
                }
            } catch (_error) {
                error = _error;
                return "";
            }
        }
        ;
        Viewer.prototype._loadImageFromJSON = function(options) {
            return $.getJSON(options.url, (function(_this) {
                return function(data) {
                    return _this._loadImage(data, options);
                }
                ;
            }
            )(this));
        }
        ;
        Viewer.prototype._loadImageFromVolume = function(options) {
            var dfd, r, v;
            dfd = $.Deferred();
            $('body').append("<div id='xtk_tmp' style='display: none;'></div>");
            r = new X.renderer2D();
            r.container = 'xtk_tmp';
            r.orientation = 'X';
            r.init();
            r.interactor.config.KEYBOARD_ENABLED = false;
            r.interactor.config.MOUSECLICKS_ENABLED = false;
            r.interactor.config.MOUSEWHEEL_ENABLED = false;
            r.interactor.init();
            v = new X.volume();
            v.file = options.url += ['&ext=', '?'][+(options.url.indexOf('?') === -1)] + '.nii.gz';
            r.add(v);
            r.render();
            r.onShowtime = (function(_this) {
                return function() {
                    var data;
                    r.destroy();
                    data = {
                        data3d: v.image,
                        dims: v.dimensions
                    };
                    _this._loadImage(data, options);
                    $('#xtk_tmp').remove();
                    return dfd.resolve('Finished loading from volume');
                }
                ;
            }
            )(this);
            return dfd.promise();
        }
        ;
        Viewer.prototype.loadImages = function(images, activate, assignColors) {
            var ajaxReqs, data, existingLayers, img, _i, _len;
            if (activate == null) {
                activate = null;
            }
            if (assignColors == null) {
                assignColors = true;
            }
            if (!typeIsArray(images)) {
                images = [images];
            }
            ajaxReqs = [];
            existingLayers = this.layerList.getLayerNames();
            images = (function() {
                var _i, _len, _ref, _results;
                _results = [];
                for (_i = 0,
                _len = images.length; _i < _len; _i++) {
                    img = images[_i];
                    if (_ref = img.name,
                    __indexOf.call(existingLayers, _ref) < 0) {
                        _results.push(img);
                    }
                }
                return _results;
            }
            )();
            for (_i = 0,
            _len = images.length; _i < _len; _i++) {
                img = images[_i];
                if (assignColors && (img.colorPalette == null)) {
                    img.colorPalette = this.layerList.getNextColor();
                }
                if ((data = img.data) || (this.cache && (data = this.cache(img.name)))) {
                    this._loadImage(data, img);
                } else if (img.url.match(/\.json$/) || img.json) {
                    ajaxReqs.push(this._loadImageFromJSON(img));
                } else {
                    ajaxReqs.push(this._loadImageFromVolume(img));
                }
            }
            return $.when.apply($, ajaxReqs).then((function(_this) {
                return function() {
                    var i, order;
                    order = (function() {
                        var _j, _len1, _results;
                        _results = [];
                        for (_j = 0,
                        _len1 = images.length; _j < _len1; _j++) {
                            i = images[_j];
                            _results.push(i.name);
                        }
                        return _results;
                    }
                    )();
                    _this.sortLayers(order.reverse());
                    _this.selectLayer(activate != null ? activate : activate = 0);
                    _this.updateUserInterface();
                    return $(_this).trigger('imagesLoaded');
                }
                ;
            }
            )(this));
        }
        ;
        Viewer.prototype.clearImages = function() {
            this.layerList.clearLayers();
            this.updateUserInterface();
            this.clear();
            return $(this).trigger('imagesCleared');
        }
        ;
        Viewer.prototype.downloadImage = function(index) {
            var url;
            url = this.layerList.layers[index].download;
            if (url) {
                return window.location.replace(url);
            }
        }
        ;
        Viewer.prototype.selectLayer = function(index) {
            this.layerList.activateLayer(index);
            this.userInterface.updateLayerSelection(this.layerList.getActiveIndex());
            this.updateDataDisplay();
            this.userInterface.updateThresholdSliders(this.layerList.activeLayer.image);
            this.userInterface.updateComponents(this.layerList.activeLayer.getSettings());
            return $(this).trigger('layerSelected', this.layerList.activeLayer);
        }
        ;
        Viewer.prototype.deleteLayer = function(target) {
            this.layerList.deleteLayer(target);
            this.updateUserInterface();
            return $(this).trigger('layerDeleted');
        }
        ;
        Viewer.prototype.toggleLayer = function(index) {
            this.layerList.layers[index].toggle();
            this.userInterface.updateLayerVisibility(this.layerList.getLayerVisibilities());
            this.paint();
            return $(this).trigger('layerToggled');
        }
        ;
        Viewer.prototype.sortLayers = function(layers, paint) {
            if (paint == null) {
                paint = false;
            }
            this.layerList.sortLayers(layers);
            this.userInterface.updateLayerVisibility(this.layerList.getLayerVisibilities());
            if (paint) {
                return this.paint();
            }
        }
        ;
        Viewer.prototype.updateUserInterface = function() {
            this.userInterface.updateLayerList(this.layerList.layers, this.layerList.getActiveIndex());
            this.userInterface.updateLayerVisibility(this.layerList.getLayerVisibilities());
            this.userInterface.updateLayerSelection(this.layerList.getActiveIndex());
            if (this.layerList.activeLayer != null) {
                this.userInterface.updateComponents(this.layerList.activeLayer.getSettings());
            }
            return this.paint();
        }
        ;
        Viewer.prototype.updateSettings = function(settings) {
            this.layerList.updateActiveLayer(settings);
            return this.paint();
        }
        ;
        Viewer.prototype.updateDataDisplay = function() {
            var currentCoords, data;
            currentCoords = Transform.imageToAtlas(this.coords_ijk.slice(0)).join(', ');
            data = {
                voxelValue: this.getValue(),
                currentCoords: currentCoords
            };
            return this.dataPanel.update(data);
        }
        ;
        Viewer.prototype.updateViewSettings = function(options, paint) {
            if (paint == null) {
                paint = false;
            }
            this.viewSettings.updateSettings(options);
            if (paint) {
                return this.paint();
            }
        }
        ;
        Viewer.prototype.moveToViewerCoords = function(dim, cx, cy) {
            var cxyz;
            if (cy == null) {
                cy = null;
            }
            $(this).trigger('beforeLocationChange');
            cxyz = this.viewer2dTo3d(dim, cx, cy);
            this.coords_abc = cxyz;
            this.coords_ijk = Transform.atlasToImage(Transform.viewerToAtlas(this.coords_abc));
            this.paint();
            return $(this).trigger('afterLocationChange', {
                ijk: this.coords_ijk
            });
        }
        ;
        Viewer.prototype.moveToAtlasCoords = function(coords, paint) {
            if (paint == null) {
                paint = true;
            }
            this.coords_ijk = Transform.atlasToImage(coords);
            this.coords_abc = Transform.atlasToViewer(coords);
            if (paint) {
                return this.paint();
            }
        }
        ;
        Viewer.prototype.deleteView = function(index) {
            return this.views.splice(index, 1);
        }
        ;
        Viewer.prototype.jQueryInit = function() {
            return this.userInterface.jQueryInit();
        }
        ;
        Viewer.prototype.getValue = function(layer, coords, space, all) {
            var l, x, y, z, _ref;
            if (layer == null) {
                layer = null;
            }
            if (coords == null) {
                coords = null;
            }
            if (space == null) {
                space = 'viewer';
            }
            if (all == null) {
                all = false;
            }
            if (coords != null) {
                if (space === 'viewer') {
                    coords = Transform.viewerToAtlas(coords);
                }
                if (space === 'viewer' || space === 'atlas') {
                    coords = Transform.atlasToImage(coords);
                }
                x = coords[0],
                y = coords[1],
                z = coords[2];
            } else {
                _ref = this.coords_ijk,
                x = _ref[0],
                y = _ref[1],
                z = _ref[2];
            }
            if (all) {
                return (function() {
                    var _i, _len, _ref1, _results;
                    _ref1 = this.layerList.layers;
                    _results = [];
                    for (_i = 0,
                    _len = _ref1.length; _i < _len; _i++) {
                        l = _ref1[_i];
                        _results.push(l.image.data[z][y][x]);
                    }
                    return _results;
                }
                ).call(this);
            }
            layer = layer != null ? this.layerList.layers[layer] : this.layerList.activeLayer;
            return layer.image.data[z][y][x];
        }
        ;
        Viewer.prototype.viewer2dTo3d = function(dim, cx, cy) {
            var cxyz;
            if (cy == null) {
                cy = null;
            }
            if (cy != null) {
                cxyz = [cx, cy];
                cxyz.splice(dim, 0, this.coords_abc[dim]);
            } else {
                cxyz = this.coords_abc;
                cxyz[dim] = cx;
            }
            return cxyz;
        }
        ;
        return Viewer;
    }
    )();
    Image = (function() {
        function Image(data) {
            var i, j, k, p, value, vec, _i, _j, _k, _l, _len, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;
            _ref = data.dims,
            this.x = _ref[0],
            this.y = _ref[1],
            this.z = _ref[2];
            if ('data3d'in data) {
                this.min = 0;
                this.max = 0;
                this.data = [];
                for (i = _i = 0,
                _ref1 = this.x; 0 <= _ref1 ? _i < _ref1 : _i > _ref1; i = 0 <= _ref1 ? ++_i : --_i) {
                    this.data[i] = [];
                    for (j = _j = 0,
                    _ref2 = this.y; 0 <= _ref2 ? _j < _ref2 : _j > _ref2; j = 0 <= _ref2 ? ++_j : --_j) {
                        this.data[i][j] = [];
                        for (k = _k = 0,
                        _ref3 = this.z; 0 <= _ref3 ? _k < _ref3 : _k > _ref3; k = 0 <= _ref3 ? ++_k : --_k) {
                            value = Math.round(data.data3d[i][j][k] * 100) / 100;
                            if (value > this.max) {
                                this.max = value;
                            }
                            if (value < this.min) {
                                this.min = value;
                            }
                            this.data[i][j][k] = value;
                        }
                    }
                }
            } else if ('values'in data) {
                _ref4 = [data.max, data.min],
                this.max = _ref4[0],
                this.min = _ref4[1];
                vec = Transform.jsonToVector(data);
                this.data = Transform.vectorToVolume(vec, [this.x, this.y, this.z]);
            } else {
                this.min = 0;
                this.max = 0;
                this.data = this.empty();
            }
            if ('peaks'in data) {
                _ref5 = data.peaks;
                for (_l = 0,
                _len = _ref5.length; _l < _len; _l++) {
                    p = _ref5[_l];
                    this.addSphere(Transform.atlasToImage([p.x, p.y, p.z]), p.r != null ? p.r : p.r = 3, p.value != null ? p.value : p.value = 1);
                }
                this.max = 2;
            }
        }
        Image.prototype.empty = function() {
            var i, j, k, vol, _i, _j, _k, _ref, _ref1, _ref2;
            vol = [];
            for (i = _i = 0,
            _ref = this.x; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                vol[i] = [];
                for (j = _j = 0,
                _ref1 = this.y; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; j = 0 <= _ref1 ? ++_j : --_j) {
                    vol[i][j] = [];
                    for (k = _k = 0,
                    _ref2 = this.z; 0 <= _ref2 ? _k < _ref2 : _k > _ref2; k = 0 <= _ref2 ? ++_k : --_k) {
                        vol[i][j][k] = 0;
                    }
                }
            }
            return vol;
        }
        ;
        Image.prototype.addSphere = function(coords, r, value) {
            var dist, i, j, k, x, y, z, _i, _j, _k, _ref;
            if (value == null) {
                value = 1;
            }
            if (r <= 0) {
                return;
            }
            _ref = coords.reverse(),
            x = _ref[0],
            y = _ref[1],
            z = _ref[2];
            if (!((x != null) && (y != null) && (z != null))) {
                return;
            }
            for (i = _i = -r; -r <= r ? _i <= r : _i >= r; i = -r <= r ? ++_i : --_i) {
                if ((x - i) < 0 || (x + i) > (this.x - 1)) {
                    continue;
                }
                for (j = _j = -r; -r <= r ? _j <= r : _j >= r; j = -r <= r ? ++_j : --_j) {
                    if ((y - j) < 0 || (y + j) > (this.y - 1)) {
                        continue;
                    }
                    for (k = _k = -r; -r <= r ? _k <= r : _k >= r; k = -r <= r ? ++_k : --_k) {
                        if ((z - k) < 0 || (z + k) > (this.z - 1)) {
                            continue;
                        }
                        dist = i * i + j * j + k * k;
                        if (dist < r * r) {
                            this.data[i + x][j + y][k + z] = value;
                        }
                    }
                }
            }
            return false;
        }
        ;
        Image.prototype.resample = function(newx, newy, newz) {}
        ;
        Image.prototype.slice = function(dim, index) {
            var i, j, slice, _i, _j, _k, _ref, _ref1, _ref2;
            switch (dim) {
            case 0:
                slice = [];
                for (i = _i = 0,
                _ref = this.x; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                    slice[i] = [];
                    for (j = _j = 0,
                    _ref1 = this.y; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; j = 0 <= _ref1 ? ++_j : --_j) {
                        slice[i][j] = this.data[i][j][index];
                    }
                }
                break;
            case 1:
                slice = [];
                for (i = _k = 0,
                _ref2 = this.x; 0 <= _ref2 ? _k < _ref2 : _k > _ref2; i = 0 <= _ref2 ? ++_k : --_k) {
                    slice[i] = this.data[i][index];
                }
                break;
            case 2:
                slice = this.data[index];
            }
            return slice;
        }
        ;
        Image.prototype.dims = function() {
            return [this.x, this.y, this.z];
        }
        ;
        return Image;
    }
    )();
    Layer = (function() {
        function Layer(image, options) {
            this.image = image;
            options = $.extend(true, {
                colorPalette: 'red',
                sign: 'positive',
                visible: true,
                opacity: 1.0,
                cache: false,
                download: false,
                positiveThreshold: 0,
                negativeThreshold: 0,
                description: '',
                intent: 'Intensity'
            }, options);
            this.name = options.name;
            this.sign = options.sign;
            this.colorMap = this.setColorMap(options.colorPalette);
            this.visible = options.visible;
            this.threshold = this.setThreshold(options.negativeThreshold, options.positiveThreshold);
            this.opacity = options.opacity;
            this.download = options.download;
            this.intent = options.intent;
            this.description = options.description;
        }
        Layer.prototype.hide = function() {
            return this.visible = false;
        }
        ;
        Layer.prototype.show = function() {
            return this.visible = true;
        }
        ;
        Layer.prototype.toggle = function() {
            return this.visible = !this.visible;
        }
        ;
        Layer.prototype.slice = function(view, viewer) {
            var data;
            data = this.image.slice(view.dim, viewer.coords_ijk[view.dim]);
            data = this.threshold.mask(data);
            return data;
        }
        ;
        Layer.prototype.setColorMap = function(palette, steps) {
            var max, maxAbs, min;
            if (palette == null) {
                palette = null;
            }
            if (steps == null) {
                steps = null;
            }
            this.palette = palette;
            if (this.sign === 'both') {
                maxAbs = Math.max(this.image.min, this.image.max);
                min = this.image.min === 0 ? 0 : -maxAbs;
                max = this.image.max === 0 ? 0 : maxAbs;
            } else {
                min = this.sign === 'positive' ? 0 : this.image.min;
                max = this.sign === 'negative' ? 0 : this.image.max;
            }
            return this.colorMap = new ColorMap(min,max,palette,steps);
        }
        ;
        Layer.prototype.setThreshold = function(negThresh, posThresh) {
            if (negThresh == null) {
                negThresh = 0;
            }
            if (posThresh == null) {
                posThresh = 0;
            }
            return this.threshold = new Threshold(negThresh,posThresh,this.sign);
        }
        ;
        Layer.prototype.update = function(settings) {
            var k, nt, pt, v;
            if ('sign'in settings) {
                this.sign = settings['sign'];
            }
            nt = 0;
            pt = 0;
            for (k in settings) {
                v = settings[k];
                switch (k) {
                case 'colorPalette':
                    this.setColorMap(v);
                    break;
                case 'opacity':
                    this.opacity = v;
                    break;
                case 'image-intent':
                    this.intent = v;
                    break;
                case 'pos-threshold':
                    pt = v;
                    break;
                case 'neg-threshold':
                    nt = v;
                    break;
                case 'description':
                    this.description = v;
                }
            }
            return this.setThreshold(nt, pt, this.sign);
        }
        ;
        Layer.prototype.getSettings = function() {
            var nt, pt, settings;
            nt = this.threshold.negThresh;
            pt = this.threshold.posThresh;
            nt || (nt = 0.0);
            pt || (pt = 0.0);
            settings = {
                colorPalette: this.palette,
                sign: this.sign,
                opacity: this.opacity,
                'image-intent': this.intent,
                'pos-threshold': pt,
                'neg-threshold': nt,
                'description': this.description
            };
            return settings;
        }
        ;
        return Layer;
    }
    )();
    LayerList = (function() {
        function LayerList() {
            this.clearLayers();
        }
        LayerList.prototype.addLayer = function(layer, activate) {
            if (activate == null) {
                activate = true;
            }
            this.layers.push(layer);
            if (activate) {
                return this.activateLayer(this.layers.length - 1);
            }
        }
        ;
        LayerList.prototype.deleteLayer = function(target) {
            var i, index, l, newInd;
            index = String(target).match(/^\d+$/) ? parseInt(target) : index = ((function() {
                var _i, _len, _ref, _results;
                _ref = this.layers;
                _results = [];
                for (i = _i = 0,
                _len = _ref.length; _i < _len; i = ++_i) {
                    l = _ref[i];
                    if (l.name === target) {
                        _results.push(i);
                    }
                }
                return _results;
            }
            ).call(this))[0];
            this.layers.splice(index, 1);
            if ((this.layers.length != null) && (this.activeLayer == null)) {
                newInd = index === 0 ? 1 : index - 1;
                return this.activateLayer(newInd);
            }
        }
        ;
        LayerList.prototype.clearLayers = function() {
            this.layers = [];
            return this.activeLayer = null;
        }
        ;
        LayerList.prototype.activateLayer = function(index) {
            return this.activeLayer = this.layers[index];
        }
        ;
        LayerList.prototype.updateActiveLayer = function(settings) {
            return this.activeLayer.update(settings);
        }
        ;
        LayerList.prototype.getLayerNames = function() {
            var l;
            return (function() {
                var _i, _len, _ref, _results;
                _ref = this.layers;
                _results = [];
                for (_i = 0,
                _len = _ref.length; _i < _len; _i++) {
                    l = _ref[_i];
                    _results.push(l.name);
                }
                return _results;
            }
            ).call(this);
        }
        ;
        LayerList.prototype.getLayerVisibilities = function() {
            var l;
            return (function() {
                var _i, _len, _ref, _results;
                _ref = this.layers;
                _results = [];
                for (_i = 0,
                _len = _ref.length; _i < _len; _i++) {
                    l = _ref[_i];
                    _results.push(l.visible);
                }
                return _results;
            }
            ).call(this);
        }
        ;
        LayerList.prototype.getActiveIndex = function() {
            return this.layers.indexOf(this.activeLayer);
        }
        ;
        LayerList.prototype.getNextColor = function() {
            var free, l, palettes, used;
            used = (function() {
                var _i, _len, _ref, _results;
                _ref = this.layers;
                _results = [];
                for (_i = 0,
                _len = _ref.length; _i < _len; _i++) {
                    l = _ref[_i];
                    if (l.visible) {
                        _results.push(l.palette);
                    }
                }
                return _results;
            }
            ).call(this);
            palettes = Object.keys(ColorMap.PALETTES);
            free = palettes.diff(used);
            if (free.length) {
                return free[0];
            } else {
                return palettes[Math.floor(Math.random() * palettes.length)];
            }
        }
        ;
        LayerList.prototype.sortLayers = function(newOrder, destroy, newOnTop) {
            var counter, i, l, n_layers, n_new, newLayers, ni, _i, _len, _ref;
            if (destroy == null) {
                destroy = false;
            }
            if (newOnTop == null) {
                newOnTop = true;
            }
            newLayers = [];
            counter = 0;
            n_layers = this.layers.length;
            n_new = newOrder.length;
            _ref = this.layers;
            for (i = _i = 0,
            _len = _ref.length; _i < _len; i = ++_i) {
                l = _ref[i];
                ni = newOrder.indexOf(l.name);
                if (ni < 0) {
                    if (destroy) {
                        continue;
                    } else {
                        ni = i;
                        if (newOnTop) {
                            ni += n_new;
                        }
                        counter += 1;
                    }
                } else if (!(destroy || newOnTop)) {
                    ni += counter;
                }
                newLayers[ni] = l;
            }
            return this.layers = newLayers;
        }
        ;
        return LayerList;
    }
    )();
    Threshold = (function() {
        function Threshold(negThresh, posThresh, sign) {
            this.negThresh = negThresh;
            this.posThresh = posThresh;
            this.sign = sign != null ? sign : 'both';
        }
        Threshold.prototype.mask = function(data) {
            var i, res, _i, _ref;
            if (this.posThresh === 0 && this.negThresh === 0 && this.sign === 'both') {
                return data;
            }
            res = [];
            for (i = _i = 0,
            _ref = data.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                res[i] = data[i].map((function(_this) {
                    return function(v) {
                        if (((_this.negThresh < v && v < _this.posThresh)) || (v < 0 && _this.sign === 'positive') || (v > 0 && _this.sign === 'negative')) {
                            return 0;
                        } else {
                            return v;
                        }
                    }
                    ;
                }
                )(this));
            }
            return res;
        }
        ;
        return Threshold;
    }
    )();
    Transform = {
        jsonToVector: function(data) {
            var curr_inds, i, j, v, _i, _j, _k, _ref, _ref1, _ref2;
            v = new Array(data.dims[0] * data.dims[1] * data.dims[2]);
            for (i = _i = 0,
            _ref = v.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                v[i] = 0;
            }
            for (i = _j = 0,
            _ref1 = data.values.length; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {
                curr_inds = data.indices[i];
                for (j = _k = 0,
                _ref2 = curr_inds.length; 0 <= _ref2 ? _k < _ref2 : _k > _ref2; j = 0 <= _ref2 ? ++_k : --_k) {
                    v[curr_inds[j] - 1] = data.values[i];
                }
            }
            return v;
        },
        vectorToVolume: function(vec, dims) {
            var i, j, k, sliceSize, vol, x, y, z, _i, _j, _k, _l, _ref, _ref1, _ref2, _ref3;
            vol = [];
            for (i = _i = 0,
            _ref = dims[0]; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                vol[i] = [];
                for (j = _j = 0,
                _ref1 = dims[1]; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; j = 0 <= _ref1 ? ++_j : --_j) {
                    vol[i][j] = [];
                    for (k = _k = 0,
                    _ref2 = dims[2]; 0 <= _ref2 ? _k < _ref2 : _k > _ref2; k = 0 <= _ref2 ? ++_k : --_k) {
                        vol[i][j][k] = 0;
                        sliceSize = dims[1] * dims[2];
                    }
                }
            }
            for (i = _l = 0,
            _ref3 = vec.length; 0 <= _ref3 ? _l < _ref3 : _l > _ref3; i = 0 <= _ref3 ? ++_l : --_l) {
                if (typeof vec[i] === undefined) {
                    continue;
                }
                x = Math.floor(i / sliceSize);
                y = Math.floor((i - (x * sliceSize)) / dims[2]);
                z = i - (x * sliceSize) - (y * dims[2]);
                vol[x][y][z] = vec[i];
            }
            return vol;
        },
        transformCoordinates: function(coords, matrix, round) {
            var m, res, v;
            if (round == null) {
                round = true;
            }
            m = $M(matrix);
            coords = coords.slice(0);
            coords.push(1);
            v = $V(coords);
            res = [];
            m.x(v).each(function(e) {
                if (round) {
                    e = Math.round(e);
                }
                return res.push(e);
            });
            return res;
        },
        viewerToAtlas: function(coords) {
            var matrix;
            matrix = [[180, 0, 0, -90], [0, -218, 0, 90], [0, 0, -180, 108]];
            return this.transformCoordinates(coords, matrix);
        },
        atlasToViewer: function(coords) {
            var matrix;
            matrix = [[1.0 / 180, 0, 0, 0.5], [0, -1.0 / 218, 0, 90.0 / 218], [0, 0, -1.0 / 180, 108.0 / 180]];
            return this.transformCoordinates(coords, matrix, false);
        },
        atlasToImage: function(coords) {
            var matrix;
            matrix = [[-0.5, 0, 0, 45], [0, 0.5, 0, 63], [0, 0, 0.5, 36]];
            return this.transformCoordinates(coords, matrix);
        },
        imageToAtlas: function(coords) {
            var matrix;
            matrix = [[-2, 0, 0, 90], [0, 2, 0, -126], [0, 0, 2, -72]];
            return this.transformCoordinates(coords, matrix);
        }
    };
    UserInterface = (function() {
        function UserInterface(viewer, layerListId, layerSettingClass) {
            this.viewer = viewer;
            this.layerListId = layerListId;
            this.layerSettingClass = layerSettingClass;
            this.viewSettings = this.viewer.viewSettings;
            this.components = {};
            $(this.layerListId).sortable({
                update: (function(_this) {
                    return function() {
                        var layers, paint;
                        layers = ($('.layer_list_item').map(function() {
                            return $(this).text();
                        })).toArray();
                        return _this.viewer.sortLayers(layers, paint = true);
                    }
                    ;
                }
                )(this)
            });
            $(this.layerSettingClass).change((function(_this) {
                return function(e) {
                    return _this.settingsChanged();
                }
                ;
            }
            )(this));
        }
        UserInterface.prototype.addSlider = function(name, element, orientation, min, max, value, step, textField) {
            var slider;
            slider = new SliderComponent(this,name,element,orientation,min,max,value,step);
            if (textField != null) {
                this.addTextFieldForSlider(textField, slider);
            }
            return this.components[name] = slider;
        }
        ;
        UserInterface.prototype.addTextField = function(name, element) {
            var tf;
            tf = new TextFieldComponent(this,name,element);
            return this.components[name] = tf;
        }
        ;
        UserInterface.prototype.addTextFieldForSlider = function(element, slider) {
            var name, tf;
            name = slider.name + '_textField';
            tf = new TextFieldComponent(this,name,element,slider);
            return slider.attachTextField(tf);
        }
        ;
        UserInterface.prototype.addColorSelect = function(element) {
            return this.components['colorPalette'] = new SelectComponent(this,'colorPalette',element,Object.keys(ColorMap.PALETTES));
        }
        ;
        UserInterface.prototype.addSignSelect = function(element) {
            return this.components['sign'] = new SelectComponent(this,'signSelect',element,['both', 'positive', 'negative']);
        }
        ;
        UserInterface.prototype.addSettingsCheckboxes = function(element, settings) {
            var checked, s, v, validSettings;
            $(element).empty();
            validSettings = {
                panzoom: 'Pan/zoom',
                crosshairs: 'Crosshairs',
                labels: 'Labels'
            };
            for (s in settings) {
                v = settings[s];
                if (s in validSettings) {
                    checked = v ? ' checked' : '';
                    $(element).append("<div class='checkbox_row'><input type='checkbox' class='settings_box' " + checked + " id='" + s + "'>" + validSettings[s] + "</div>");
                }
            }
            return $('.settings_box').change((function(_this) {
                return function(e) {
                    return _this.checkboxesChanged();
                }
                ;
            }
            )(this));
        }
        ;
        UserInterface.prototype.settingsChanged = function() {
            var component, name, settings, _ref;
            settings = {};
            _ref = this.components;
            for (name in _ref) {
                component = _ref[name];
                settings[name] = component.getValue();
            }
            return this.viewer.updateSettings(settings);
        }
        ;
        UserInterface.prototype.checkboxesChanged = function() {
            var id, s, settings, val, _i, _len, _ref;
            settings = {};
            _ref = $('.settings_box');
            for (_i = 0,
            _len = _ref.length; _i < _len; _i++) {
                s = _ref[_i];
                id = $(s).attr('id');
                val = $(s).is(':checked') ? true : false;
                settings[id + 'Enabled'] = val;
            }
            return this.viewer.updateViewSettings(settings, true);
        }
        ;
        UserInterface.prototype.updateComponents = function(settings) {
            var name, value, _results;
            _results = [];
            for (name in settings) {
                value = settings[name];
                if (name in this.components) {
                    _results.push(this.components[name].setValue(value));
                } else {
                    _results.push(void 0);
                }
            }
            return _results;
        }
        ;
        UserInterface.prototype.updateThresholdSliders = function(image) {
            if ('pos-threshold'in this.components) {
                this.components['pos-threshold'].setRange(0, image.max);
            }
            if ('neg-threshold'in this.components) {
                return this.components['neg-threshold'].setRange(image.min, 0);
            }
        }
        ;
        UserInterface.prototype.updateLayerList = function(layers, selectedIndex) {
            var deletion_icon, download_icon, i, l, visibility_icon, _i, _ref;
            $(this.layerListId).empty();
            for (i = _i = 0,
            _ref = layers.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                l = layers[i];
                visibility_icon = this.viewSettings.visibilityIconEnabled ? "<div class='visibility_icon' title='Hide/show image'><span class='glyphicon glyphicon-eye-open'></i></div>" : '';
                deletion_icon = this.viewSettings.deletionIconEnabled ? "<div class='deletion_icon' title='Remove this layer'><span class='glyphicon glyphicon-trash'></i></div>" : '';
                download_icon = l.download ? "<div class='download_icon' title='Download this image'><span class='glyphicon glyphicon-save'></i></div>" : '';
                $(this.layerListId).append($(("<li class='layer_list_item'>" + visibility_icon + "<div class='layer_label'>") + l.name + ("</div>" + deletion_icon + download_icon + "</li>")));
            }
            $('.layer_label').click((function(_this) {
                return function(e) {
                    return _this.viewer.selectLayer($('.layer_label').index(e.target));
                }
                ;
            }
            )(this));
            $('.visibility_icon').click((function(_this) {
                return function(e) {
                    return _this.toggleLayer($('.visibility_icon').index($(e.target).closest('div')));
                }
                ;
            }
            )(this));
            $('.deletion_icon').click((function(_this) {
                return function(e) {
                    if (confirm("Are you sure you want to remove this layer?")) {
                        return _this.viewer.deleteLayer($('.deletion_icon').index($(e.target).closest('div')));
                    }
                }
                ;
            }
            )(this));
            $('.download_icon').click((function(_this) {
                return function(e) {
                    return _this.viewer.downloadImage($('.download_icon').index($(e.target).closest('div')));
                }
                ;
            }
            )(this));
            return $(this.layerListId).val(selectedIndex);
        }
        ;
        UserInterface.prototype.updateLayerVisibility = function(visible) {
            var i, _i, _ref, _results;
            if (!this.viewSettings.visibilityIconEnabled) {
                return;
            }
            _results = [];
            for (i = _i = 0,
            _ref = visible.length; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                if (visible[i]) {
                    _results.push($('.visibility_icon>span').eq(i).removeClass('glyphicon glyphicon-eye-close').addClass('glyphicon glyphicon-eye-open'));
                } else {
                    _results.push($('.visibility_icon>span').eq(i).removeClass('glyphicon glyphicon-eye-open').addClass('glyphicon glyphicon-eye-close'));
                }
            }
            return _results;
        }
        ;
        UserInterface.prototype.updateLayerSelection = function(id) {
            $('.layer_label').eq(id).addClass('selected');
            return $('.layer_label').not(":eq(" + id + ")").removeClass('selected');
        }
        ;
        UserInterface.prototype.toggleLayer = function(id) {
            return this.viewer.toggleLayer(id);
        }
        ;
        return UserInterface;
    }
    )();
    DataPanel = (function() {
        function DataPanel(viewer) {
            this.viewer = viewer;
            this.fields = {};
        }
        DataPanel.prototype.addDataField = function(name, element) {
            return this.fields[name] = new DataField(this,name,element);
        }
        ;
        DataPanel.prototype.addCoordinateFields = function(name, element) {
            var i, target, _i;
            target = $(element);
            for (i = _i = 0; _i < 2; i = ++_i) {
                target.append($("<div class='axis_pos' id='axis_pos_" + axis + "'></div>"));
            }
            return $('axis_pos').change((function(_this) {
                return function(e) {
                    var cc, _j;
                    for (i = _j = 0; _j < 2; i = ++_j) {
                        cc = $("#axis_pos_" + i).val();
                        _this.viewer.coords_abc[i] = Transform.atlasToViewer(cc);
                        _this.viewer.coords_ijk[i] = cc;
                    }
                    return _this.viewer.update();
                }
                ;
            }
            )(this));
        }
        ;
        DataPanel.prototype.update = function(data) {
            var i, k, pos, v, _results;
            _results = [];
            for (k in data) {
                v = data[k];
                if (k in this.fields) {
                    if (k === 'currentCoordsMulti') {
                        _results.push((function() {
                            var _results1;
                            _results1 = [];
                            for (pos in v) {
                                i = v[pos];
                                _results1.push($("plane" + i + "_pos").text(pos));
                            }
                            return _results1;
                        }
                        )());
                    } else {
                        if (k === 'currentCoords') {
                            v = "[" + v + "]";
                        }
                        _results.push($(this.fields[k].element).text(v));
                    }
                } else {
                    _results.push(void 0);
                }
            }
            return _results;
        }
        ;
        return DataPanel;
    }
    )();
    ViewSettings = (function() {
        function ViewSettings(options) {
            this.settings = {
                panzoomEnabled: false,
                crosshairsEnabled: true,
                crosshairsWidth: 1,
                crosshairsColor: 'lime',
                labelsEnabled: true,
                visibilityIconEnabled: true,
                deletionIconEnabled: true
            };
            this.updateSettings(options);
        }
        ViewSettings.prototype.updateSettings = function(options) {
            var k, v, _ref;
            $.extend(this.settings, options);
            _ref = this.settings;
            for (k in _ref) {
                v = _ref[k];
                this[k] = v;
            }
            return this.crosshairs = new Crosshairs(this.crosshairsEnabled,this.crosshairsColor,this.crosshairsWidth);
        }
        ;
        return ViewSettings;
    }
    )();
    View = (function() {
        function View(viewer, viewSettings, element, dim, labels, slider) {
            this.viewer = viewer;
            this.viewSettings = viewSettings;
            this.element = element;
            this.dim = dim;
            this.labels = labels != null ? labels : true;
            this.slider = slider != null ? slider : null;
            this._handleScroll = __bind(this._handleScroll, this);
            this._zoom = __bind(this._zoom, this);
            this._canvasMouseMove = __bind(this._canvasMouseMove, this);
            this._canvasClick = __bind(this._canvasClick, this);
            this.resetCanvas();
            this._jQueryInit();
        }
        View.prototype.addSlider = function(name, element, orientation, min, max, value, step, textField) {
            this.slider = new SliderComponent(this,name,element,orientation,min,max,value,step);
            if (textField != null) {
                return this.viewer.addTextFieldForSlider(textField, this.slider);
            }
        }
        ;
        View.prototype.clear = function() {
            var currentState;
            currentState = $.extend(true, {}, this.context.getTransform());
            this.context.reset();
            this.context.fillStyle = 'black';
            this.context.fillRect(0, 0, this.width, this.height);
            return this.context.setTransformFromArray(currentState);
        }
        ;
        View.prototype.resetCanvas = function() {
            this.canvas = $(this.element).find('canvas');
            this.width = this.canvas.width();
            this.height = this.canvas.height();
            this.context = this.canvas[0].getContext("2d");
            trackTransforms(this.context);
            this.lastX = this.width / 2;
            this.lastY = this.height / 2;
            this.dragStart = void 0;
            this.scaleFactor = 1.1;
            return this.clear();
        }
        ;
        View.prototype.paint = function(layer) {
            var col, cols, data, dims, fuzz, i, img, j, val, xCell, xp, yCell, yp, _i, _j, _ref, _ref1;
            if (this.width === 0) {
                this.resetCanvas();
            }
            data = layer.slice(this, this.viewer);
            cols = layer.colorMap.map(data);
            img = layer.image;
            dims = [[img.y, img.z], [img.x, img.z], [img.x, img.y]];
            xCell = this.width / dims[this.dim][0];
            yCell = this.height / dims[this.dim][1];
            this.xCell = xCell;
            this.yCell = yCell;
            fuzz = 0.5;
            this.context.globalAlpha = layer.opacity;
            this.context.lineWidth = 1;
            for (i = _i = 0,
            _ref = dims[this.dim][1]; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
                for (j = _j = 0,
                _ref1 = dims[this.dim][0]; 0 <= _ref1 ? _j < _ref1 : _j > _ref1; j = 0 <= _ref1 ? ++_j : --_j) {
                    if (typeof data[i][j] === undefined | data[i][j] === 0) {
                        continue;
                    }
                    xp = this.width - (j + 1) * xCell;
                    yp = this.height - (i + 1) * yCell;
                    col = cols[i][j];
                    this.context.fillStyle = col;
                    this.context.fillRect(xp, yp, xCell + fuzz, yCell + fuzz);
                }
            }
            this.context.globalAlpha = 1.0;
            if (this.slider != null) {
                val = this.viewer.coords_abc[this.dim];
                if (this.dim !== Viewer.XAXIS) {
                    val = 1 - val;
                }
                return $(this.slider.element).slider('option', 'value', val);
            }
        }
        ;
        View.prototype.drawCrosshairs = function() {
            var ch, xPos, yPos;
            ch = this.viewSettings.crosshairs;
            if (!ch.visible) {
                return;
            }
            this.context.fillStyle = ch.color;
            xPos = this.viewer.coords_abc[[1, 0, 0][this.dim]] * this.width;
            yPos = this.viewer.coords_abc[[2, 2, 1][this.dim]] * this.height;
            this.context.fillRect(0, yPos - ch.width / 2, this.width, ch.width);
            return this.context.fillRect(xPos - ch.width / 2, 0, ch.width, this.height);
        }
        ;
        View.prototype.drawLabels = function() {
            var fontSize, planePos, planeText;
            if (!this.viewSettings.labelsEnabled) {
                return;
            }
            fontSize = Math.round(this.height / 15);
            this.context.fillStyle = 'white';
            this.context.font = "" + fontSize + "px Helvetica";
            this.context.textAlign = 'left';
            this.context.textBaseline = 'middle';
            planePos = this.viewer.coords_xyz()[this.dim];
            if (planePos > 0) {
                planePos = '+' + planePos;
            }
            planeText = ['x', 'y', 'z'][this.dim] + ' = ' + planePos;
            this.context.fillText(planeText, 0.03 * this.width, 0.95 * this.height);
            this.context.textAlign = 'center';
            switch (this.dim) {
            case 0:
                this.context.fillText('A', 0.05 * this.width, 0.5 * this.height);
                return this.context.fillText('P', 0.95 * this.width, 0.5 * this.height);
            case 1:
                this.context.fillText('D', 0.95 * this.width, 0.05 * this.height);
                return this.context.fillText('V', 0.95 * this.width, 0.95 * this.height);
            case 2:
                this.context.fillText('L', 0.05 * this.width, 0.05 * this.height);
                return this.context.fillText('R', 0.95 * this.width, 0.05 * this.height);
            }
        }
        ;
        View.prototype.navSlideChange = function(value) {
            if (this.dim !== Viewer.XAXIS) {
                value = 1 - value;
            }
            return this.viewer.moveToViewerCoords(this.dim, value);
        }
        ;
        View.prototype._snapToGrid = function(x, y) {
            var dims, xVoxSize, yVoxSize;
            dims = [91, 109, 91];
            dims.splice(this.dim, 1);
            xVoxSize = 1 / dims[0];
            yVoxSize = 1 / dims[1];
            x = (Math.floor(x / xVoxSize) + 0.5) * xVoxSize;
            y = (Math.floor(y / yVoxSize) + 0.5) * yVoxSize;
            return {
                x: x,
                y: y
            };
        }
        ;
        View.prototype._jQueryInit = function() {
            var canvas;
            canvas = $(this.element).find('canvas');
            canvas.click(this._canvasClick);
            canvas.mousedown((function(_this) {
                return function(evt) {
                    document.body.style.mozUserSelect = document.body.style.webkitUserSelect = document.body.style.userSelect = "none";
                    _this.lastX = evt.offsetX || (evt.pageX - canvas.offset().left);
                    _this.lastY = evt.offsetY || (evt.pageY - canvas.offset().top);
                    return _this.dragStart = _this.context.transformedPoint(_this.lastX, _this.lastY);
                }
                ;
            }
            )(this));
            canvas.mousemove((function(_this) {
                return function(evt) {
                    var pt;
                    _this._canvasMouseMove(evt);
                    if (!_this.viewSettings.panzoomEnabled) {
                        return;
                    }
                    _this.lastX = evt.offsetX || (evt.pageX - canvas.offset().left);
                    _this.lastY = evt.offsetY || (evt.pageY - canvas.offset().top);
                    if (_this.dragStart) {
                        pt = _this.context.transformedPoint(_this.lastX, _this.lastY);
                        _this.context.translate(pt.x - _this.dragStart.x, pt.y - _this.dragStart.y);
                        return _this.viewer.paint();
                    }
                }
                ;
            }
            )(this));
            canvas.mouseup((function(_this) {
                return function(evt) {
                    return _this.dragStart = null;
                }
                ;
            }
            )(this));
            canvas.on("DOMMouseScroll", this._handleScroll);
            return canvas.on("mousewheel", this._handleScroll);
        }
        ;
        View.prototype._canvasClick = function(e) {
            var clickX, clickY, cx, cy, pt;
            $(this.viewer).trigger('beforeClick');
            clickX = e.offsetX || (e.pageX - $(this.element).offset().left);
            clickY = e.offsetY || (e.pageY - $(this.element).offset().top);
            pt = this.context.transformedPoint(clickX, clickY);
            cx = pt.x / this.width;
            cy = pt.y / this.height;
            pt = this._snapToGrid(cx, cy);
            this.viewer.moveToViewerCoords(this.dim, pt.x, pt.y);
            return $(this.viewer).trigger('afterClick');
        }
        ;
        View.prototype._canvasMouseMove = function(e) {
            var clickX, clickY, cx, cxyz, cy, pt;
            clickX = e.offsetX || (e.pageX - $(this.element).offset().left);
            clickY = e.offsetY || (e.pageY - $(this.element).offset().top);
            pt = this.context.transformedPoint(clickX, clickY);
            cx = pt.x / this.width;
            cy = pt.y / this.height;
            pt = this._snapToGrid(cx, cy);
            cxyz = this.viewer.viewer2dTo3d(this.dim, pt.x, pt.y);
            return $(this.viewer).trigger('mouseMove', {
                ijk: cxyz
            });
        }
        ;
        View.prototype._zoom = function(clicks) {
            var factor, pt;
            if (!this.viewSettings.panzoomEnabled) {
                return;
            }
            pt = this.context.transformedPoint(this.lastX, this.lastY);
            this.context.translate(pt.x, pt.y);
            factor = Math.pow(this.scaleFactor, clicks);
            this.context.scale(factor, factor);
            this.context.translate(-pt.x, -pt.y);
            return this.viewer.paint();
        }
        ;
        View.prototype._handleScroll = function(evt) {
            var delta, oe;
            oe = evt.originalEvent;
            delta = (oe.wheelDelta ? oe.wheelDelta / 40 : (oe.detail ? -oe.detail : 0));
            if (delta) {
                this._zoom(delta);
            }
            return evt.preventDefault() && false;
        }
        ;
        return View;
    }
    )();
    Crosshairs = (function() {
        function Crosshairs(visible, color, width) {
            this.visible = visible != null ? visible : true;
            this.color = color != null ? color : 'lime';
            this.width = width != null ? width : 1;
        }
        return Crosshairs;
    }
    )();
    ColorMap = (function() {
        var basic, col, _i, _len;
        ColorMap.PALETTES = {
            grayscale: ['#000000', '#303030', 'gray', 'silver', 'white']
        };
        basic = ['red', 'green', 'blue', 'yellow', 'purple', 'lime', 'aqua', 'navy'];
        for (_i = 0,
        _len = basic.length; _i < _len; _i++) {
            col = basic[_i];
            ColorMap.PALETTES[col] = ['black', col, 'white'];
        }
        $.extend(ColorMap.PALETTES, {
            'intense red-blue': ['#053061', '#2166AC', '#4393C3', '#F7F7F7', '#D6604D', '#B2182B', '#67001F'],
            'red-yellow-blue': ['#313695', '#4575B4', '#74ADD1', '#FFFFBF', '#F46D43', '#D73027', '#A50026'],
            'brown-teal': ['#003C30', '#01665E', '#35978F', '#F5F5F5', '#BF812D', '#8C510A', '#543005']
        });
        function ColorMap(min, max, palette, steps) {
            this.min = min;
            this.max = max;
            this.palette = palette != null ? palette : 'hot and cold';
            this.steps = steps != null ? steps : 40;
            this.range = this.max - this.min;
            this.colors = this.setColors(ColorMap.PALETTES[this.palette]);
        }
        ColorMap.prototype.map = function(data) {
            var i, res, _j, _ref;
            res = [];
            for (i = _j = 0,
            _ref = data.length; 0 <= _ref ? _j < _ref : _j > _ref; i = 0 <= _ref ? ++_j : --_j) {
                res[i] = data[i].map((function(_this) {
                    return function(v) {
                        return _this.colors[Math.floor(((v - _this.min) / _this.range) * _this.steps)];
                    }
                    ;
                }
                )(this));
            }
            return res;
        }
        ;
        ColorMap.prototype.setColors = function(colors) {
            var i, rainbow, _j, _ref;
            rainbow = new Rainbow();
            rainbow.setNumberRange(1, this.steps);
            rainbow.setSpectrum.apply(null, colors);
            colors = [];
            for (i = _j = 1,
            _ref = this.steps; 1 <= _ref ? _j < _ref : _j > _ref; i = 1 <= _ref ? ++_j : --_j) {
                colors.push(rainbow.colourAt(i));
            }
            return colors.map(function(c) {
                return "#" + c;
            });
        }
        ;
        return ColorMap;
    }
    )();
    Component = (function() {
        function Component(container, name, element) {
            this.container = container;
            this.name = name;
            this.element = element;
            $(this.element).change((function(_this) {
                return function(e) {
                    return _this.container.settingsChanged();
                }
                ;
            }
            )(this));
        }
        Component.prototype.getValue = function() {
            return $(this.element).val();
        }
        ;
        Component.prototype.setValue = function(value) {
            return $(this.element).val(value);
        }
        ;
        Component.prototype.setEnabled = function(status) {
            status = status ? '' : 'disabled';
            return $(this.element).attr('disabled', status);
        }
        ;
        return Component;
    }
    )();
    SliderComponent = (function(_super) {
        __extends(SliderComponent, _super);
        function SliderComponent(container, name, element, orientation, min, max, value, step) {
            this.container = container;
            this.name = name;
            this.element = element;
            this.orientation = orientation;
            this.min = min;
            this.max = max;
            this.value = value;
            this.step = step;
            this.change = __bind(this.change, this);
            this.range = this.name.match(/threshold/g) ? 'max' : this.name.match(/nav/g) ? false : 'min';
            this._jQueryInit();
        }
        SliderComponent.prototype.change = function(e, ui) {
            if (this.name.match(/nav/g)) {
                this.container.navSlideChange(ui.value);
            } else {
                this.container.settingsChanged(e);
            }
            return e.stopPropagation();
        }
        ;
        SliderComponent.prototype._jQueryInit = function() {
            return $(this.element).slider({
                orientation: this.orientation,
                range: this.range,
                min: this.min,
                max: this.max,
                step: this.step,
                slide: this.change,
                value: this.value
            });
        }
        ;
        SliderComponent.prototype.getValue = function() {
            return $(this.element).slider('value');
        }
        ;
        SliderComponent.prototype.setValue = function(value) {
            $(this.element).slider('value', value);
            if (this.textField != null) {
                return this.textField.setValue(value);
            }
        }
        ;
        SliderComponent.prototype.setRange = function(min, max) {
            this.min = min;
            this.max = max;
            return $(this.element).slider('option', {
                min: min,
                max: max
            });
        }
        ;
        SliderComponent.prototype.attachTextField = function(textField) {
            this.textField = textField;
        }
        ;
        return SliderComponent;
    }
    )(Component);
    SelectComponent = (function(_super) {
        __extends(SelectComponent, _super);
        function SelectComponent(container, name, element, options) {
            var o, _i, _len;
            this.container = container;
            this.name = name;
            this.element = element;
            $(this.element).empty();
            for (_i = 0,
            _len = options.length; _i < _len; _i++) {
                o = options[_i];
                $(this.element).append($('<option></option>').text(o).val(o));
            }
            SelectComponent.__super__.constructor.call(this, this.container, this.name, this.element);
        }
        return SelectComponent;
    }
    )(Component);
    TextFieldComponent = (function(_super) {
        __extends(TextFieldComponent, _super);
        function TextFieldComponent(container, name, element, slider) {
            this.container = container;
            this.name = name;
            this.element = element;
            this.slider = slider != null ? slider : null;
            if (this.slider != null) {
                this.setValue(this.slider.getValue());
                $(this.element).change((function(_this) {
                    return function(e) {
                        var v;
                        v = _this.getValue();
                        if ($.isNumeric(v)) {
                            if (v < _this.slider.min) {
                                v = _this.slider.min;
                            } else if (v > _this.slider.max) {
                                v = _this.slider.max;
                            }
                            _this.setValue(v);
                            _this.slider.setValue(v);
                            return _this.container.settingsChanged(e);
                        }
                    }
                    ;
                }
                )(this));
                $(this.slider.element).on('slide', (function(_this) {
                    return function(e) {
                        _this.setValue(_this.slider.getValue());
                        return e.stopPropagation();
                    }
                    ;
                }
                )(this));
            }
        }
        TextFieldComponent.prototype.setValue = function(value) {
            $(this.element).val(value);
            return $(this.element).text(value);
        }
        ;
        return TextFieldComponent;
    }
    )(Component);
    DataField = (function() {
        function DataField(panel, name, element) {
            this.panel = panel;
            this.name = name;
            this.element = element;
        }
        return DataField;
    }
    )();
    componentToHex = function(c) {
        var hex;
        hex = c.toString(16);
        if (hex.length === 1) {
            return "0" + hex;
        } else {
            return hex;
        }
    }
    ;
    rgbToHex = function(r, g, b) {
        return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
    }
    ;
    hexToRgb = function(hex) {
        var result;
        result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
        if (result) {
            return {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            };
        } else {
            return null;
        }
    }
    ;
}
).call(this);
var ActiveAnalysis, AllStudiestable, AnalysisList, AnalysisListItem, DialogBox, NSCookie, Router, SELECTED, Scatter, SelectedStudiesTable, a, app, arrayToObject, br, button, createDataTable, div, form, getFromLocalStorage, getPMID, getSelectedStudies, h1, h2, h4, h5, hr, includeIf, input, label, li, loadReverseInferenceImage, make_scatterplot, p, redrawTableSelection, runif, saveSelection, saveToLocalStorage, setupSelectableTable, span, strong, table, td, textToHTML, textarea, th, thead, tr, ul, urlToParams, _ref, __indexOf = [].indexOf || function(item) {
    for (var i = 0, l = this.length; i < l; i++) {
        if (i in this && this[i] === item)
            return i;
    }
    return -1;
}
;
NSCookie = (function() {
    function NSCookie(contents) {
        this.contents = contents != null ? contents : null;
        if (this.contents == null) {
            this.contents = {
                locationTab: 0,
                analysisTab: 0
            };
        }
        this.save();
    }
    NSCookie.prototype.save = function() {
        var json;
        json = JSON.stringify(this.contents);
        return $.cookie('neurosynth', json, {
            expires: 7,
            path: '/'
        });
    }
    ;
    NSCookie.prototype.set = function(key, val, save) {
        if (save == null) {
            save = true;
        }
        this.contents[key] = val;
        if (save) {
            return this.save();
        }
    }
    ;
    NSCookie.prototype.get = function(key) {
        return this.contents[key];
    }
    ;
    NSCookie.load = function() {
        if ($.cookie('neurosynth') == null) {
            return new NSCookie();
        } else {
            return new NSCookie(JSON.parse($.cookie('neurosynth')));
        }
    }
    ;
    return NSCookie;
}
)();
$.fn.dataTable.TableTools.defaults.aButtons = [{
    sExtends: 'copy',
    sButtonText: 'Copy',
    oSelectorOpts: {
        filter: 'applied'
    }
}, {
    sExtends: 'csv',
    sButtonText: 'CSV',
    oSelectorOpts: {
        filter: 'applied'
    }
}, {
    sExtends: 'xls',
    sButtonText: 'XLS',
    oSelectorOpts: {
        filter: 'applied'
    }
}];
$.fn.dataTableExt.sErrMode = 'throw';
createDataTable = function(element, options) {
    var iDelay, tbl, _opts;
    _opts = {
        pagingType: "full_numbers",
        pageLength: 25,
        stateSave: true,
        orderClasses: true,
        processing: true,
        dom: 'T<"clear">lfrtip',
        tableTools: {
            sSwfPath: "/static/swf/copy_csv_xls.swf"
        },
        filterDelay: true
    };
    $.extend(_opts, options);
    tbl = $(element).dataTable(_opts);
    if (_opts.filterDelay) {
        tbl.fnSetFilteringDelay(iDelay = 400);
    }
    return tbl;
}
;
urlToParams = function() {
    var search;
    search = window.location.search.substring(1);
    return JSON.parse("{\"" + decodeURI(search).replace(/"/g, "\"").replace(/&/g, "\",\"").replace(RegExp("=", "g"), "\":\"") + "\"}");
}
;
window.urlToParams = urlToParams;
loadReverseInferenceImage = function(analysis, fdr) {
    var url;
    if (fdr == null) {
        fdr = false;
    }
    url = '/analyses/' + analysis + '/images/reverse';
    if (!fdr) {
        url += '?unthresholded';
    }
    return [{
        name: analysis + ' (reverse inference)',
        url: url,
        colorPalette: 'yellow',
        download: true
    }];
}
;
$(document).ready(function() {
    window.cookie = NSCookie.load();
    if ($('#page-decode-show, #page-genes-show').length) {
        return createDataTable('#decoding_results_table', {
            pagingType: "simple",
            pageLength: 10,
            processing: true,
            stateSave: false,
            orderClasses: false,
            autoWidth: false,
            order: [[2, 'desc']],
            columns: [{
                data: null,
                defaultContent: '<button type="button" class="btn btn-xs btn-primary" style="line-height: 1em;"><span class="glyphicon glyphicon-arrow-left"></span></button>',
                width: '20%'
            }, {
                data: "analysis",
                render: function(data, type, row, meta) {
                    return '<a href="/analyses/terms/' + data + '">' + data + '</a>';
                },
                width: '%60%'
            }, {
                data: 'r',
                width: '20%'
            }]
        });
    }
});
window.loadImages = function(imgs, clear) {
    var img, _i, _len;
    if (imgs == null) {
        imgs = null;
    }
    if (clear == null) {
        clear = true;
    }
    if (imgs == null) {
        imgs = images;
    }
    if (clear) {
        window.viewer.clearImages();
        imgs.unshift({
            id: 'anatomical',
            json: false,
            name: 'anatomical',
            colorPalette: 'grayscale',
            cache: true,
            download: '/images/anatomical',
            url: '/images/anatomical'
        });
    }
    for (_i = 0,
    _len = imgs.length; _i < _len; _i++) {
        img = imgs[_i];
        if ((img.id != null) && (img.url == null)) {
            img.url = '/images/' + img.id + '/';
        }
    }
    return viewer.loadImages(imgs);
}
;
textToHTML = function(el) {
    return $(el).html($(el).text());
}
;
$(document).ready(function() {
    var cache, viewer;
    if (!$('.view').length) {
        return;
    }
    cache = settings.cache || true;
    viewer = new Viewer("#layer-list",".layer-settings",cache,options);
    if ($('#view-axial').length) {
        viewer.addView("#view-axial", Viewer.AXIAL);
    }
    if ($('#view-coronal').length) {
        viewer.addView("#view-coronal", Viewer.CORONAL);
    }
    if ($('#view-sagittal').length) {
        viewer.addView("#view-sagittal", Viewer.SAGITTAL);
    }
    if (__indexOf.call(settings, 'nav') >= 0) {
        if ($('#view-sagittal').length) {
            viewer.addSlider("nav-xaxis", ".slider#nav-xaxis", "horizontal", 0, 1, 0.5, 0.01, Viewer.XAXIS);
        }
        if ($('#view-coronal').length) {
            viewer.addSlider("nav-yaxis", ".slider#nav-yaxis", "vertical", 0, 1, 0.5, 0.01, Viewer.YAXIS);
        }
        if ($('#view-axial').length) {
            viewer.addSlider("nav-zaxis", ".slider#nav-zaxis", "vertical", 0, 1, 0.5, 0.01, Viewer.ZAXIS);
        }
    }
    if (__indexOf.call(settings, 'layers') >= 0) {
        viewer.addSlider("opacity", ".slider#opacity", "horizontal", 0, 1, 1, 0.01, null, '#opacity-text');
        viewer.addSlider("pos-threshold", ".slider#pos-threshold", "horizontal", 0, 1, 0, 0.01, null, '#pos-threshold-text');
        viewer.addSlider("neg-threshold", ".slider#neg-threshold", "horizontal", -1, 0, 0, 0.01, null, '#neg-threshold-text');
        viewer.addColorSelect("#select-color");
        viewer.addSignSelect("#select-sign");
        viewer.addTextField("image-intent", "#image-intent");
        viewer.addTextField("description", "#image-description");
        viewer.addDataField("voxelValue", "#data-current-value");
        viewer.addDataField("currentCoords", "#data-current-coords");
    }
    if (__indexOf.call(settings, 'checkboxes') >= 0) {
        viewer.addSettingsCheckboxes('#checkbox-list', 'standard');
    }
    window.viewer = viewer;
    $(viewer).on('imagesLoaded', (function(_this) {
        return function(e) {
            return textToHTML('#image-description');
        }
        ;
    }
    )(this));
    $(viewer).on('layerSelected', (function(_this) {
        return function(e, layer) {
            $('.intensity-label').text(layer.intent + ":");
            textToHTML('#image-description');
            return $('#description.data-row').toggle(!$('#image-description').is(':empty'));
        }
        ;
    }
    )(this));
    $('.plane-pos').change(function(e) {
        var c, coords;
        coords = [$('#current-x').val(), $('#current-y').val(), $('#current-z').val()];
        return viewer.moveToAtlasCoords((function() {
            var _i, _len, _results;
            _results = [];
            for (_i = 0,
            _len = coords.length; _i < _len; _i++) {
                c = coords[_i];
                _results.push(parseInt(c));
            }
            return _results;
        }
        )());
    });
    return $(viewer).on('afterLocationChange', function() {
        var coords;
        coords = viewer.coords_xyz();
        $('#current-x').val(coords[0]);
        $('#current-y').val(coords[1]);
        return $('#current-z').val(coords[2]);
    });
});
runif = function(min, max) {
    return Math.random() * (max - min) + min;
}
;
Array.prototype.min = function() {
    return this.reduce(function(p, v) {
        if (p < v) {
            return p;
        } else {
            return v;
        }
    });
}
;
Array.prototype.max = function() {
    return this.reduce(function(p, v) {
        if (p > v) {
            return p;
        } else {
            return v;
        }
    });
}
;
Scatter = (function() {
    function Scatter() {
        var canvas, center, i, img_mask, img_x, img_y, j, k, margin, nan_count, start, x, x_max, x_min, x_scale, xpos, xv, y, y_max, y_min, y_scale, _i, _j, _k, _l, _len, _m, _ref, _ref1, _ref2, _ref3;
        start = new Date().getTime();
        img_x = viewer.layerList.layers[1].image.data;
        img_y = viewer.layerList.layers[0].image.data;
        img_mask = viewer.layerList.layers[2].image.data;
        x = [];
        y = [];
        canvas = $('canvas#scatter-bg').get(0);
        this.context_bg = canvas.getContext('2d');
        _ref = [canvas.width, canvas.height],
        this.w = _ref[0],
        this.h = _ref[1];
        this.context_bg.clearRect(0, 0, this.w, this.h);
        this.context_fg = $('canvas#scatter-fg').get(0).getContext('2d');
        this.lastCenter = [0, 0];
        _ref1 = [0, 0, 0, 0],
        x_min = _ref1[0],
        x_max = _ref1[1],
        y_min = _ref1[2],
        y_max = _ref1[3];
        nan_count = 0;
        for (i = _i = 0; _i < 91; i = ++_i) {
            for (j = _j = 0; _j < 109; j = ++_j) {
                for (k = _k = 0; _k < 91; k = ++_k) {
                    if (img_mask[i][j][k] !== 0) {
                        x.push(img_x[i][j][k]);
                        y.push(img_y[i][j][k]);
                    }
                }
            }
        }
        console.log(x.length);
        console.log("loading the data took " + (new Date().getTime() - start));
        start = new Date().getTime();
        _ref2 = [x.min(), x.max(), y.min(), y.max()],
        this.x_min = _ref2[0],
        this.x_max = _ref2[1],
        this.y_min = _ref2[2],
        this.y_max = _ref2[3];
        margin = 0.05;
        this.x_min = this.x_min - margin * (this.x_max - this.x_min);
        this.x_max = this.x_max + margin * (this.x_max - this.x_min);
        this.y_min = this.y_min - margin * (this.y_max - this.y_min);
        this.y_max = this.y_max + margin * (this.y_max - this.y_min);
        this.x_range = this.x_max - this.x_min;
        this.y_range = this.y_max - this.y_min;
        x_scale = this.w / this.x_range;
        y_scale = this.h / this.y_range;
        console.log("computing ranges took " + (new Date().getTime() - start));
        this.context_bg.fillStyle = '#F0F0FD';
        this.context_bg.fillRect(0.1 * this.w, 0.05 * this.h, 0.85 * this.w, 0.85 * this.h);
        this.context_bg.strokeStyle = 'white';
        this.context_bg.lineWidth = 1;
        for (i = _l = 0; _l < 5; i = ++_l) {
            xpos = (0.1 + 0.17 * i) * this.w;
            this.context_bg.beginPath();
            this.context_bg.moveTo(xpos, 0.05 * this.h);
            this.context_bg.lineTo(xpos, 0.9 * this.h);
            console.log([xpos, 0.05 * this.h, 0.9 * this.h]);
            this.context_bg.stroke();
        }
        start = new Date().getTime();
        this.context_bg.fillStyle = '#3366FF';
        this.context_bg.globalAlpha = 0.05;
        for (i = _m = 0,
        _len = x.length; _m < _len; i = ++_m) {
            xv = x[i];
            center = this.getCenter(xv, y[i]);
            this.context_bg.beginPath();
            this.context_bg.arc(Math.round(center[0]), Math.round(center[1]), 1.5, 0, 2 * Math.PI);
            this.context_bg.fill();
        }
        console.log("painting the data took " + (new Date().getTime() - start));
        _ref3 = [x, y],
        this.x = _ref3[0],
        this.y = _ref3[1];
    }
    Scatter.prototype.getCenter = function(xv, yv) {
        return [(xv - this.x_min) / this.x_range * this.w, (1 - (yv - this.y_min) / this.y_range) * this.h];
    }
    ;
    Scatter.prototype.select = function(xv, yv) {
        var center;
        center = this.getCenter(xv, yv);
        this.context_fg.clearRect(this.lastCenter[0] - 10, this.lastCenter[1] - 10, 20, 20);
        this.context_fg.fillStyle = '#00FF66';
        this.context_fg.strokeStyle = 'black';
        this.context_fg.lineWidth = 1;
        this.context_fg.globalAlpha = 1.0;
        this.context_fg.beginPath();
        this.context_fg.arc(Math.round(center[0]), Math.round(center[1]), 6, 0, 2 * Math.PI);
        this.context_fg.fill();
        this.context_fg.stroke();
        return this.lastCenter = center;
    }
    ;
    return Scatter;
}
)();
make_scatterplot = function() {
    return window.scatter = new Scatter();
}
;
$(document).ready(function() {
    var url, url_id;
    if (typeof study !== "undefined" && study !== null) {
        url = '/studies/' + study + '/tables';
        $.get(url, function(result) {
            return window.loadImages(result.data);
        });
    }
    createDataTable('#studies_table', {
        ajax: '/api/studies/',
        serverSide: true
    });
    url_id = document.URL.split('/');
    url_id = url_id[url_id.length - 2];
    createDataTable('#study_analyses_table', {
        pageLength: 10,
        ajax: '/api/studies/analyses/' + url_id + '/',
        order: [[1, 'desc']]
    });
    createDataTable('#study_peaks_table', {
        pageLength: 10,
        ajax: '/api/studies/peaks/' + url_id + '/',
        order: [[0, 'asc'], [2, 'asc']]
    });
    return $('#study_peaks_table').on('click', 'tr', (function(_this) {
        return function(e) {
            var data, i, row;
            row = $(e.target).closest('tr')[0];
            data = $('#study_peaks_table').dataTable().fnGetData(row);
            data = (function() {
                var _i, _len, _ref, _results;
                _ref = data.slice(1);
                _results = [];
                for (_i = 0,
                _len = _ref.length; _i < _len; _i++) {
                    i = _ref[_i];
                    _results.push(parseInt(i));
                }
                return _results;
            }
            )();
            return viewer.moveToAtlasCoords(data);
        }
        ;
    }
    )(this));
});
$(document).ready(function() {
    var activeTab, columns, loadAnalysisImages, loadAnalysisStudies;
    if (!$('#page-analysis').length) {
        return;
    }
    createDataTable('#term-analyses-table', {
        ajax: '/api/terms',
        serverSide: true
    });
    createDataTable('#topic-set-list-table', {
        ajax: '/api/topics',
        serverSide: true
    });
    columns = [{
        width: '40%'
    }, {
        width: '38%'
    }, {
        width: '15%'
    }, {
        width: '7%'
    }];
    createDataTable('#analysis-studies-table', {
        columns: columns
    });
    createDataTable('#analysis-similarity-table');
    if (typeof topic_set !== "undefined" && topic_set !== null) {
        createDataTable('#topic-set-table', {
            ajax: '/api/topics/' + topic_set
        });
    }
    $.get('/analyses/term_names', function(result) {
        return $('#term-analysis-search').autocomplete({
            minLength: 2,
            delay: 0,
            select: function(e, ui) {
                return window.location.href = '/analyses/terms/' + ui.item.value;
            },
            source: function(request, response) {
                var filtered, matcher, re;
                re = $.ui.autocomplete.escapeRegex(request.term);
                matcher = new RegExp('^' + re,"i");
                filtered = $.grep(result.data, function(item, index) {
                    return matcher.test(item);
                });
                return response(filtered.slice(0, 10));
            }
        });
    });
    $('#term-analysis-search').keyup(function(e) {
        var text;
        text = $('#term-analysis-search').val();
        if (e.keyCode === 13) {
            return window.location.href = '/analyses/terms/' + text;
        }
    });
    loadAnalysisStudies = function() {
        var url;
        url = '/analyses/' + analysis + '/studies?dt=1';
        return $('#analysis-studies-table').DataTable().ajax.url(url).load().order([3, 'desc']);
    }
    ;
    loadAnalysisImages = function() {
        var url;
        url = '/analyses/' + analysis + '/images';
        return $.get(url, function(result) {
            return loadImages(result.data);
        });
    }
    ;
    activeTab = window.cookie.get('analysisTab');
    $("#analysis-menu li:eq(" + activeTab + ") a").tab('show');
    if (typeof analysis !== "undefined" && analysis !== null) {
        loadAnalysisStudies();
        loadAnalysisImages();
    }
    $('#analysis-menu a').click(((function(_this) {
        return function(e) {
            e.preventDefault();
            activeTab = $('#analysis-menu a').index($(e.target));
            window.cookie.set('analysisTab', activeTab);
            $(e.target).tab('show');
            if (activeTab === 0) {
                return viewer.paint();
            }
        }
        ;
    }
    )(this)));
    return $('#load-location').click(function(e) {
        var xyz;
        xyz = viewer.coords_xyz();
        return window.location.href = '/locations?x=' + xyz[0] + '&y=' + xyz[1] + '&z=' + xyz[2];
    });
});
$(document).ready(function() {
    var activeTab, getLocationString, loadLocationComparisons, loadLocationImages, loadLocationSimilarity, loadLocationStudies, moveTo, update;
    if (!$('#page-location').length) {
        return;
    }
    getLocationString = function() {
        var coords;
        coords = [$('#x-in').val(), $('#y-in').val(), $('#z-in').val(), $('#rad-out').val()];
        if (coords[3] > 20) {
            coords[3] = 20;
        }
        return coords.join('_');
    }
    ;
    loadLocationStudies = function() {
        var url;
        url = '/locations/' + getLocationString() + '/studies?dt=1';
        return $('#location_studies_table').DataTable().ajax.url(url).load().order([3, 'desc']);
    }
    ;
    loadLocationImages = function() {
        var url;
        url = '/locations/' + getLocationString() + '/images';
        return $.get(url, function(result) {
            window.loadImages(result.data);
            return loadLocationSimilarity(result.data[0].id);
        });
    }
    ;
    loadLocationComparisons = function() {
        var url;
        url = '/locations/' + getLocationString() + '/compare';
        return $('#location_analyses_table').DataTable().ajax.url(url).load().order([1, 'desc']);
    }
    ;
    loadLocationSimilarity = function(id) {
        var url;
        url = '/images/' + id + '/decode';
        return $('#analysis-similarity-table').DataTable().ajax.url(url).load().order([1, 'desc']);
    }
    ;
    update = function() {
        var base, coords, study_info, xyz;
        loadLocationStudies();
        loadLocationImages();
        loadLocationComparisons();
        base = window.location.href.split('?')[0];
        coords = {
            x: $('#x-in').val(),
            y: $('#y-in').val(),
            z: $('#z-in').val(),
            r: $('#rad-out').val()
        };
        xyz = [coords.x, coords.y, coords.z];
        study_info = 'Studies reporting activation within ' + coords.r + ' mm of (' + xyz.join(', ') + ')';
        return $('#current-location-studies').text(study_info);
    }
    ;
    moveTo = function() {
        var base, coords, url;
        base = window.location.href.split('?')[0];
        coords = [$('#x-in').val(), $('#y-in').val(), $('#z-in').val(), $('#rad-out').val()];
        url = '/locations/' + coords.join('_');
        return window.location.href = url;
    }
    ;
    createDataTable('#location_studies_table', {
        pageLength: 10,
        columns: [{
            width: '40%'
        }, {
            width: '38%'
        }, {
            width: '15%'
        }, {
            width: '7%'
        }]
    });
    createDataTable('#location_analyses_table', {
        pageLength: 10,
        autoWidth: false,
        columns: [{
            width: '28%',
            render: function(data, type, row, meta) {
                return '<a href="/analyses/terms/' + data + '">' + data + '</a>';
            }
        }, {
            width: '18%'
        }, {
            width: '18%'
        }, {
            width: '18%'
        }, {
            width: '18%'
        }]
    });
    activeTab = window.cookie.get('locationTab');
    $("#location-menu li:eq(" + activeTab + ") a").tab('show');
    update();
    $('#radius-submit').click(((function(_this) {
        return function(e) {
            return update();
        }
        ;
    }
    )(this)));
    $('#rad-in').change((function(_this) {
        return function(e) {
            return $('#rad-out').val($('#rad-in').val());
        }
        ;
    }
    )(this));
    $('#rad-out').change((function(_this) {
        return function(e) {
            return $('#rad-in').val($('#rad-out').val());
        }
        ;
    }
    )(this));
    $('#location-menu a').click(((function(_this) {
        return function(e) {
            e.preventDefault();
            activeTab = $('#location-menu a').index($(e.target));
            window.cookie.set('locationTab', activeTab);
            $(e.target).tab('show');
            if (activeTab === 0) {
                return viewer.paint();
            }
        }
        ;
    }
    )(this)));
    $('.data-for-location').keypress(function(e) {
        if (e.which === 13) {
            return moveTo();
        }
    });
    return $('#load-location').click(function(e) {
        var xyz;
        xyz = viewer.coords_xyz();
        $('#x-in').val(xyz[0]);
        $('#y-in').val(xyz[1]);
        $('#z-in').val(xyz[2]);
        return moveTo();
    });
});
$(document).ready(function() {
    var last_row_selected, tbl;
    if ($('#page-decode-show').length || $('#page-genes-show').length) {
        loadImages();
        tbl = $('#decoding_results_table').DataTable();
        tbl.ajax.url('/decode/' + image_id + '/data').load();
        last_row_selected = null;
        $('#decoding_results_table').on('click', 'button', (function(_this) {
            return function(e) {
                var analysis, imgs, row;
                row = $(e.target).closest('tr');
                $(last_row_selected).children('td').removeClass('highlight-table-row');
                $(row).children('td').addClass('highlight-table-row');
                last_row_selected = row;
                analysis = $('td:eq(1)', row).text();
                imgs = loadReverseInferenceImage(analysis);
                viewer.loadImages(imgs);
                $(viewer).off('imagesLoaded');
                $(viewer).on('imagesLoaded', function(e) {
                    if (viewer.layerList.layers.length === 4) {
                        return viewer.deleteLayer(1);
                    }
                });
                $('#loading-message').show();
                $('#scatterplot').html('<img src="/decode/' + image_id + '/scatter/' + analysis + '.png" width="500px" style="display:none;">');
                return $('#scatterplot>img').load(function() {
                    $('#scatterplot>img').show();
                    return $('#loading-message').hide();
                });
            }
            ;
        }
        )(this));
        $(viewer).on("afterLocationChange", function(evt, data) {
            var space, xv, yv;
            if (typeof scatter !== "undefined" && scatter !== null) {
                xv = viewer.getValue(1, data.ijk, space = 'image');
                yv = viewer.getValue(0, data.ijk, space = 'image');
                return scatter.select(xv, yv);
            }
        });
        return $('#load-location').click(function(e) {
            var xyz;
            xyz = viewer.coords_xyz();
            return window.location.href = '/locations?x=' + xyz[0] + '&y=' + xyz[1] + '&z=' + xyz[2];
        });
    } else if ($('#page-decode-index').length) {
        return $('#neurovault-button').click(function() {
            return window.location.href = 'http://neurovault.org/images/add_for_neurosynth';
        });
    }
});
$(document).ready(function() {
    var columns;
    if (!$('#page-genes-list').length) {
        return;
    }
    createDataTable('#gene-list-table', {
        ajax: '/api/v2/dt/genes',
        serverSide: true
    });
    columns = [{
        width: '20%'
    }, {
        width: '40%'
    }, {
        width: '20%'
    }, {
        width: '20%'
    }];
    $.get('/analyses/gene_names', function(result) {
        return $('#gene-search').autocomplete({
            minLength: 2,
            delay: 0,
            select: function(e, ui) {
                return window.location.href = '/genes/' + ui.item.value;
            },
            source: function(request, response) {
                var filtered, matcher, re;
                re = $.ui.autocomplete.escapeRegex(request.term);
                matcher = new RegExp('^' + re,"i");
                filtered = $.grep(result.data, function(item, index) {
                    return matcher.test(item);
                });
                return response(filtered.slice(0, 10));
            }
        });
    });
    return $('#gene-search').keyup(function(e) {
        var text;
        text = $('#gene-search').val();
        if (e.keyCode === 13) {
            return window.location.href = '/genes/' + text;
        }
    });
});
$(document).ready(function() {
    var url;
    if (!$('#page-home').length) {
        return;
    }
    url = '/analyses/' + analysis + '/images';
    return $.get(url, function(result) {
        return loadImages(result.data.slice(1, 2));
    });
});
_ref = React.DOM,
div = _ref.div,
br = _ref.br,
ul = _ref.ul,
li = _ref.li,
a = _ref.a,
p = _ref.p,
h1 = _ref.h1,
h2 = _ref.h2,
h4 = _ref.h4,
h5 = _ref.h5,
span = _ref.span,
strong = _ref.strong,
form = _ref.form,
input = _ref.input,
button = _ref.button,
hr = _ref.hr,
table = _ref.table,
thead = _ref.thead,
tr = _ref.tr,
th = _ref.th,
td = _ref.td,
label = _ref.label,
textarea = _ref.textarea;
SELECTED = 'info';
saveSelection = function(selection) {
    return window.localStorage.setItem('ns-selection', JSON.stringify(selection));
}
;
saveToLocalStorage = function(key, value) {
    return window.localStorage.setItem(key, JSON.stringify(value));
}
;
getFromLocalStorage = function(key) {
    var val;
    val = window.localStorage.getItem(key);
    if (val === null) {
        return val;
    } else {
        return JSON.parse(val);
    }
}
;
getSelectedStudies = function() {
    var selection;
    return selection = JSON.parse(window.localStorage.getItem('ns-selection') || "{}");
}
;
getPMID = function(tr) {
    var href;
    href = $(tr).find('a').first().attr('href');
    if (href == null) {
        return null;
    }
    return parseInt(/(\d+)/.exec(href)[0]);
}
;
arrayToObject = function(array) {
    var item, obj, _i, _len;
    obj = {};
    for (_i = 0,
    _len = array.length; _i < _len; _i++) {
        item = array[_i];
        obj[item] = 1;
    }
    return obj;
}
;
Router = Backbone.Router.extend({
    routes: {
        "new": "new",
        "saved/:uid": "load"
    },
    load: function(uid) {
        return app.setActiveAnalysis(uid);
    },
    "new": function() {
        return console.log("/new URL matched");
    }
});
app = {
    props: {
        fetchAllAnalysesURL: '/api/custom/all/',
        fetchAllStudiesURL: '/api/studies/all/',
        saveURL: '/api/custom/save/',
        deleteURL: '/api/custom/',
        getCustomAnalysis: '/api/custom/',
        getFullAnalysisURL: '/api/analyses/full/',
        runAnalysisURL: '/analyses/custom/run/',
        expressionQueryURL: '/api/studies/?expression='
    },
    state: {
        analyses: [],
        allStudies: [],
        filteredStudies: [],
        studyDetails: {},
        activeAnalysis: {
            blank: true,
            studies: {}
        },
        showModal: false,
        modalMessage: 'No message',
        editMode: false,
        currentExpr: '',
        exprFilterEnabled: false
    },
    getAnalysis: function(uuid, callback) {
        var analysis;
        analysis = this.state.analyses.filter(function(a) {
            return a.uuid === uuid;
        })[0];
        if (analysis != null) {
            analysis.owned = true;
            callback(analysis);
            return;
        }
        return $.ajax({
            dataType: 'json',
            type: 'GET',
            url: this.props.getCustomAnalysis + uuid.toString() + '/',
            success: (function(_this) {
                return function(response) {
                    response.owned = false;
                    return callback(response);
                }
                ;
            }
            )(this),
            error: function() {
                return alert("Sorry, the analysis you're trying to access is either private or does not exist");
            }
        });
    },
    setActiveAnalysis: function(uuid) {
        if (!(this.state.activeAnalysis.saved || this.state.activeAnalysis.blank)) {
            if (!confirm("You have unsaved changes that will be discarded. Are you sure you want to proceed?")) {
                return;
            }
        }
        return this.getAnalysis(uuid, (function(_this) {
            return function(analysis) {
                _this.state.activeAnalysis = $.extend({}, analysis);
                _this.state.activeAnalysis.studies = arrayToObject(_this.state.activeAnalysis.studies);
                _this.state.activeAnalysis.saved = true;
                _this.syncToLocalStorage();
                _this.state.editMode = false;
                _this.render();
                return _this.router.navigate('saved/' + uuid);
            }
            ;
        }
        )(this));
    },
    activeStudies: function() {
        if (Object.keys(this.state.studyDetails).length === 0) {
            return [];
        }
        return Object.keys(this.state.activeAnalysis.studies).map((function(_this) {
            return function(pmid) {
                return _this.state.studyDetails[pmid];
            }
            ;
        }
        )(this));
    },
    syncToLocalStorage: function() {
        return window.localStorage.setItem('ns-active-analysis', JSON.stringify(this.state.activeAnalysis));
    },
    update: function() {
        this.state.activeAnalysis.saved = false;
        this.state.activeAnalysis.blank = false;
        this.syncToLocalStorage();
        return this.render();
    },
    removeStudy: function(pmid) {
        delete this.state.activeAnalysis.studies[pmid];
        return this.update();
    },
    removeStudies: function(pmids) {
        var pmid, _i, _len;
        for (_i = 0,
        _len = pmids.length; _i < _len; _i++) {
            pmid = pmids[_i];
            delete this.state.activeAnalysis.studies[pmid];
        }
        return this.update();
    },
    addStudy: function(pmid) {
        this.state.activeAnalysis.studies[pmid] = 1;
        return this.update();
    },
    addStudies: function(pmids) {
        var pmid, _i, _len;
        for (_i = 0,
        _len = pmids.length; _i < _len; _i++) {
            pmid = pmids[_i];
            this.state.activeAnalysis.studies[pmid] = 1;
        }
        return this.update();
    },
    addAllStudies: function() {
        var study, _i, _len, _ref1;
        _ref1 = this.state.allStudies;
        for (_i = 0,
        _len = _ref1.length; _i < _len; _i++) {
            study = _ref1[_i];
            this.state.activeAnalysis.studies[study.pmid] = 1;
        }
        return this.update();
    },
    removeAllStudies: function() {
        this.state.activeAnalysis.studies = {};
        return this.update();
    },
    cloneActiveAnalysis: function() {
        this.state.activeAnalysis.uuid = null;
        this.state.activeAnalysis.id = null;
        this.state.activeAnalysis.saved = false;
        this.syncToLocalStorage();
        this.router.navigate('new');
        this.state.editMode = true;
        return this.render();
    },
    clearActiveAnalysis: function() {
        this.state.activeAnalysis = {
            blank: true,
            name: '',
            description: '',
            studies: {}
        };
        this.syncToLocalStorage();
        return this.render();
    },
    setActiveAnalysisAttr: function(name, value) {
        this.state.activeAnalysis[name] = value;
        this.state.activeAnalysis.saved = false;
        return this.render();
    },
    enterEditMode: function() {
        this.state.editMode = true;
        return this.render();
    },
    runQuery: function(expr) {
        var url;
        url = this.props.expressionQueryURL + encodeURIComponent(expr);
        this.state.currentExpr = expr;
        return $.ajax({
            dataType: 'json',
            type: 'GET',
            url: url,
            success: (function(_this) {
                return function(response) {
                    var validPMIDs;
                    validPMIDs = response.ids;
                    _this.state.filteredStudies = _this.state.allStudies.filter(function(x) {
                        return $.inArray(x.pmid, validPMIDs) > -1;
                    });
                    _this.state.exprFilterEnabled = true;
                    return _this.render();
                }
                ;
            }
            )(this)
        });
    },
    clearQuery: function() {
        this.state.filteredStudies = this.state.allStudies;
        this.state.exprFilterEnabled = false;
        this.state.currentExpr = '';
        return this.render();
    },
    deleteAnalysis: function(uuid) {
        if (!confirm("Are you sure you want to delete this analysis? ")) {
            return;
        }
        return $.ajax({
            dataType: 'json',
            type: 'DELETE',
            url: this.props.deleteURL + uuid.toString() + '/',
            success: (function(_this) {
                return function(response) {
                    _this.state.activeAnalysis = {
                        blank: true,
                        studies: {}
                    };
                    _this.syncToLocalStorage();
                    _this.router.navigate('new');
                    _this.state.editMode = true;
                    return _this.fetchAllAnalyses();
                }
                ;
            }
            )(this)
        });
    },
    saveActiveAnalysis: function() {
        var data;
        this.state.showModal = true;
        this.state.modalMessage = 'Saving analysis. Please wait...';
        data = {
            studies: Object.keys(this.state.activeAnalysis.studies),
            name: this.state.activeAnalysis.name,
            description: this.state.activeAnalysis.description,
            "private": this.state.activeAnalysis["private"],
            uuid: this.state.activeAnalysis.uuid
        };
        $.ajax({
            dataType: 'json',
            type: 'POST',
            data: {
                data: JSON.stringify(data)
            },
            url: this.props.saveURL,
            success: (function(_this) {
                return function(data) {
                    _this.state.activeAnalysis.uuid = data.uuid;
                    _this.state.activeAnalysis.id = data.id;
                    _this.state.activeAnalysis.saved = true;
                    _this.state.showModal = false;
                    _this.state.editMode = false;
                    _this.syncToLocalStorage();
                    _this.router.navigate('saved/' + data.uuid);
                    return _this.fetchAllAnalyses();
                }
                ;
            }
            )(this)
        });
        return this.render();
    },
    fetchAllAnalyses: function(callback) {
        return $.ajax({
            dataType: 'json',
            type: 'GET',
            url: this.props.fetchAllAnalysesURL,
            success: (function(_this) {
                return function(data) {
                    _this.state.analyses = data.analyses;
                    if (typeof callback === 'function') {
                        callback();
                    }
                    return _this.render();
                }
                ;
            }
            )(this),
            error: (function(_this) {
                return function(xhr, status, err) {
                    return console.error(_this.props.url, status, err.toString());
                }
                ;
            }
            )(this)
        });
    },
    fetchAllStudies: function(callback) {
        return $.ajax({
            dataType: 'json',
            type: 'GET',
            url: this.props.fetchAllStudiesURL,
            cache: true,
            headers: {
                'Cache-Control': 'max-age=600'
            },
            success: (function(_this) {
                return function(data) {
                    var study, _i, _len, _ref1;
                    _this.state.allStudies = _this.state.filteredStudies = data.studies;
                    _this.state.studyDetails = {};
                    _ref1 = data.studies;
                    for (_i = 0,
                    _len = _ref1.length; _i < _len; _i++) {
                        study = _ref1[_i];
                        _this.state.studyDetails[study.pmid] = study;
                    }
                    if (typeof callback === 'function') {
                        callback();
                    }
                    return _this.render();
                }
                ;
            }
            )(this),
            error: (function(_this) {
                return function(xhr, status, err) {
                    return console.error(_this.props.url, status, err.toString());
                }
                ;
            }
            )(this)
        });
    },
    router: new Router(),
    init: function() {
        var active;
        active = getFromLocalStorage('ns-active-analysis');
        if (active) {
            this.state.activeAnalysis = active;
        } else {
            this.state.editMode = true;
        }
        return this.fetchAllAnalyses((function(_this) {
            return function() {
                return _this.fetchAllStudies(function() {
                    return Backbone.history.start({
                        root: '/analyses/custom/'
                    });
                });
            }
            ;
        }
        )(this));
    },
    render: function() {
        if (document.getElementById('custom-list-container') == null) {
            return;
        }
        React.render(React.createElement(AnalysisList, {
            analyses: this.state.analyses,
            selected_uuid: this.state.activeAnalysis.uuid
        }), document.getElementById('custom-list-container'));
        React.render(React.createElement(ActiveAnalysis, {
            analysis: this.state.activeAnalysis
        }), document.getElementById('active-analysis-container'));
        return React.render(React.createElement(DialogBox, {}), document.getElementById('modal-container'));
    }
};
AnalysisListItem = React.createClass({
    loadHandler: function() {
        return app.setActiveAnalysis(this.props.uuid);
    },
    render: function() {
        return div({
            className: "row bs-callout panel " + (this.props.selected ? 'bs-callout-info' : '')
        }, div({
            className: "col-md-10"
        }, ul({
            className: 'list-unstyled'
        }, li({}, strong({}, this.props.name)), li({}, "ID: " + this.props.uuid, li({}, "" + this.props.numStudies + " studies")))), div({
            className: "col-md-2"
        }, button({
            className: "btn btn-primary btn-sm " + (this.props.selected ? '' : ''),
            onClick: this.loadHandler
        }, 'Load')));
    }
});
AnalysisList = React.createClass({
    render: function() {
        return div({
            className: 'custom-analysis-list panel'
        }, h5({}, "You have " + this.props.analyses.length + " saved custom analyses"), hr({}, ''), this.props.analyses.map((function(_this) {
            return function(analysis) {
                var selected;
                selected = _this.props.selected_uuid === analysis.uuid ? true : false;
                return React.createElement(AnalysisListItem, {
                    key: analysis.uuid,
                    uuid: analysis.uuid,
                    name: analysis.name,
                    numStudies: analysis.studies.length,
                    selected: selected
                });
            }
            ;
        }
        )(this)));
    }
});
includeIf = function(predicate, component) {
    if (predicate) {
        return component;
    } else {
        return span({});
    }
}
;
ActiveAnalysis = React.createClass({
    save: function() {
        return app.saveActiveAnalysis();
    },
    deleteHandler: function() {
        return app.deleteAnalysis(this.props.analysis.uuid);
    },
    cloneHandler: function() {
        return app.cloneActiveAnalysis();
    },
    discardHandler: function() {
        return app.clearActiveAnalysis();
    },
    nameChangeHandler: function() {
        return app.setActiveAnalysisAttr('name', this.refs.name.getDOMNode().value);
    },
    privateChangeHandler: function() {
        return app.setActiveAnalysisAttr('private', this.refs["private"].getDOMNode().checked);
    },
    descriptionChangeHandler: function() {
        return app.setActiveAnalysisAttr('description', this.refs.description.getDOMNode().value);
    },
    editHandler: function() {
        return app.enterEditMode();
    },
    cancelEditHandler: function() {
        return app.setActiveAnalysis(this.props.analysis.uuid);
    },
    componentDidMount: function() {
        var numSelected;
        numSelected = Object.keys(app.state.activeAnalysis.studies).length;
        if (numSelected === 0 && app.state.editMode) {
            $('#selected-studies-tab-header').removeClass('active');
            $('#all-studies-tab-header').addClass('active');
            $('#selected-studies-tab').removeClass('active');
            return $('#all-studies-tab').addClass('active');
        } else {
            $('#selected-studies-tab-header').addClass('active');
            $('#all-studies-tab-header').removeClass('active');
            $('#selected-studies-tab').addClass('active');
            return $('#all-studies-tab').removeClass('active');
        }
    },
    componentDidUpdate: function() {
        if (!app.state.editMode) {
            $('#selected-studies-tab-header').addClass('active');
            $('#all-studies-tab-header').removeClass('active');
            $('#selected-studies-tab').addClass('active');
            return $('#all-studies-tab').removeClass('active');
        }
    },
    render: function() {
        var header, saved, studies, uuid;
        uuid = this.props.analysis.uuid;
        studies = Object.keys(this.props.analysis.studies);
        saved = this.props.analysis.saved;
        if (!app.state.editMode) {
            header = div({
                className: 'row'
            }, div({
                className: 'col-md-8'
            }, p({}, 'Analysis name: ', strong({}, this.props.analysis.name)), p({}, "Analysis ID: " + uuid), p({}, "Created by: ", strong({}, this.props.analysis.user)), h5({}, "Description:"), p({}, this.props.analysis.description), p({}, "Privacy: ", strong({}, "" + (this.props.analysis["private"] ? 'Private' : 'Anyone with the URL can view this analysis'))), hr({}, '')), div({
                className: 'col-md-4'
            }, p({}, "" + studies.length + " studies in this analysis. "), includeIf(this.props.analysis.owned, button({
                className: 'btn btn-info btn-sm',
                onClick: this.editHandler
            }, 'Edit')), span({}, ' '), button({
                className: 'btn btn-info btn-sm',
                onClick: this.cloneHandler
            }, 'Save as...'), span({}, ' '), includeIf(studies.length > 0, a({
                className: 'btn btn-primary btn-sm',
                href: app.props.runAnalysisURL + uuid
            }, this.props.analysis.owned ? 'Run' : 'View Results')), includeIf(studies.length > 0, span({}, ' ')), includeIf(this.props.analysis.owned, button({
                className: 'btn btn-danger btn-sm pull-right',
                onClick: this.deleteHandler
            }, 'Delete'))));
        } else {
            if (uuid) {
                header = div({}, div({
                    className: 'row'
                }, div({
                    className: 'col-md-8'
                }, div({
                    className: 'row'
                }, label({
                    className: 'col-md-6'
                }, 'Analysis name:', input({
                    type: 'text',
                    className: 'form-control',
                    ref: 'name',
                    value: this.props.analysis.name,
                    onChange: this.nameChangeHandler,
                    required: 'required'
                }))), div({
                    className: 'row'
                }, div({
                    className: 'col-md-8'
                }, p({}, "Analysis ID: " + uuid))), div({
                    className: 'row'
                }, div({
                    className: 'col-md-12'
                }, form({}, div({
                    className: "row"
                }, label({
                    className: 'col-md-8'
                }, 'Description:', textarea({
                    className: 'form-control',
                    rows: "4",
                    ref: 'description',
                    placeholder: 'Enter a description for this analysis',
                    value: this.props.analysis.description,
                    onChange: this.descriptionChangeHandler
                }))), div({
                    className: "row"
                }, label({
                    className: 'col-md-8'
                }, input({
                    type: 'checkbox',
                    ref: 'private',
                    checked: this.props.analysis["private"],
                    onChange: this.privateChangeHandler
                }, ' Make this analysis private')))))), hr({}, '')), div({
                    className: 'col-md-4'
                }, p({}, "" + studies.length + " studies in this analysis. "), button({
                    className: "btn " + (saved ? '' : 'btn-primary') + " btn-sm",
                    disabled: "" + (saved ? 'disabled' : ''),
                    onClick: this.save
                }, 'Save'), span({}, ' '), button({
                    className: 'btn btn-sm',
                    onClick: this.cancelEditHandler
                }, 'Cancel'))));
            } else {
                header = div({}, div({
                    className: 'row'
                }, div({
                    className: 'col-md-12'
                }, p({}))), div({
                    className: 'row'
                }, div({
                    className: 'col-md-6'
                }, div({
                    className: 'row'
                }, label({
                    className: 'col-md-8'
                }, 'Analysis name:', input({
                    type: 'text',
                    className: 'form-control',
                    ref: 'name',
                    value: this.props.analysis.name,
                    onChange: this.nameChangeHandler,
                    required: 'required',
                    placeholder: 'Enter a name for this analysis'
                })), br({}, ''))), div({
                    className: 'col-md-6'
                }, span({
                    className: ''
                }, span({}, "" + studies.length + " studies selected "), button({
                    className: 'btn btn-primary btn-sm',
                    disabled: "" + (saved ? 'disabled' : ''),
                    onClick: this.save
                }, 'Save as new custom analysis'), span({}, ' '), button({
                    className: 'btn btn-danger btn-sm',
                    onClick: this.discardHandler
                }, 'Discard')))), div({
                    className: 'row'
                }, div({
                    className: 'col-md-12'
                }, form({}, div({
                    className: "row"
                }, label({
                    className: 'col-md-8'
                }, 'Description:', textarea({
                    className: 'form-control',
                    rows: "4",
                    ref: 'description',
                    value: this.props.analysis.description,
                    placeholder: 'Enter a description for this analysis',
                    onChange: this.descriptionChangeHandler
                }))), div({
                    className: "row"
                }, label({
                    className: 'col-md-8'
                }, input({
                    type: 'checkbox',
                    ref: 'private',
                    checked: this.props.analysis["private"],
                    onChange: this.privateChangeHandler
                }, ' Make this analysis private')))), hr({}, ''))));
            }
        }
        return div({}, br({}, header, div({
            className: 'row'
        }, div({
            className: 'col-md-12'
        }, div({
            role: 'tabpanel'
        }, ul({
            className: 'nav nav-tabs',
            role: 'tablist'
        }, li({
            role: 'presentation',
            id: 'selected-studies-tab-header'
        }, a({
            href: '#selected-studies-tab',
            role: 'tab',
            'data-toggle': 'tab'
        }, "Selected Studies (" + studies.length + ")")), includeIf(app.state.editMode, li({
            role: 'presentation',
            id: 'all-studies-tab-header'
        }, a({
            href: '#all-studies-tab',
            role: 'tab',
            'data-toggle': 'tab'
        }, "All studies (" + app.state.allStudies.length + ")")))), div({
            className: 'tab-content'
        }, div({
            className: 'tab-pane active',
            role: 'tab-panel',
            id: 'selected-studies-tab'
        }, br({}, React.createElement(SelectedStudiesTable, {
            selectedCount: Object.keys(app.activeStudies()).length,
            editMode: app.state.editMode
        }))), div({
            className: 'tab-pane',
            role: 'tab-panel',
            id: 'all-studies-tab'
        }, br({}, p({}, "Add or remove studies to your analysis by clicking on the study. Studies that are already added are highlighted in blue.")), React.createElement(AllStudiestable, {
            allStudies: app.state.allStudies,
            studies: app.state.filteredStudies,
            currentExpr: app.state.currentExpr,
            exprFilterEnabled: app.state.exprFilterEnabled,
            selectedCount: Object.keys(app.state.activeAnalysis.studies).length
        }))))))));
    }
});
DialogBox = React.createClass({
    render: function() {
        return div({
            className: "modal fade",
            tabIndex: "-1",
            role: "dialog",
            'aria-hidden': 'true'
        }, div({
            className: "modal-dialog modal-sm"
        }, div({
            className: "modal-content"
        }, div({
            className: "modal-body"
        }, h4({}, app.state.modalMessage)))));
    },
    componentDidUpdate: function() {
        if (app.state.showModal) {
            return $('.modal').modal('show');
        } else {
            return $('.modal').modal('hide');
        }
    }
});
SelectedStudiesTable = React.createClass({
    mixins: [React.addons.PureRenderMixin],
    tableData: function() {
        var removeHTML;
        if (this.props.editMode) {
            removeHTML = '<button class="btn btn-sm remove-btn btn-warning">remove</button>';
        } else {
            removeHTML = '-';
        }
        return app.activeStudies().map(function(item) {
            return $.extend({
                'remove': removeHTML
            }, item);
        });
    },
    setupRemoveButton: function() {
        $('#selected-studies-table').off('click', '.remove-btn');
        return $('#selected-studies-table').on('click', '.remove-btn', function() {
            var pmid;
            pmid = getPMID($(this).closest('tr'));
            return app.removeStudy(pmid);
        });
    },
    componentDidMount: function() {
        $('#selected-studies-table').DataTable({
            data: this.tableData(),
            columns: [{
                data: 'title'
            }, {
                data: 'authors'
            }, {
                data: 'journal'
            }, {
                data: 'year'
            }, {
                data: 'pmid'
            }, {
                data: 'remove'
            }]
        });
        return this.setupRemoveButton();
    },
    componentDidUpdate: function() {
        var t;
        t = $('#selected-studies-table').DataTable();
        t.clear();
        t.rows.add(this.tableData());
        t.draw();
        return this.setupRemoveButton();
    },
    render: function() {
        return table({
            className: 'table table-hover',
            id: 'selected-studies-table'
        }, thead({}, tr({}, th({}, 'Title '), th({}, 'Authors'), th({}, 'Journal'), th({}, 'Year'), th({}, 'PMID'), th({}, 'Action'))));
    }
});
AllStudiestable = React.createClass({
    mixins: [React.addons.PureRenderMixin],
    componentDidMount: function() {
        this.currLength = this.props.studies.legnth;
        $('#all-studies-table').DataTable({
            data: this.props.studies,
            columns: [{
                data: 'title'
            }, {
                data: 'authors'
            }, {
                data: 'journal'
            }, {
                data: 'year'
            }, {
                data: 'pmid'
            }]
        });
        return setupSelectableTable();
    },
    componentDidUpdate: function() {
        var t;
        if (this.props.studies.length !== this.currLength) {
            this.currLength = this.props.studies.length;
            t = $('#all-studies-table').DataTable();
            t.clear();
            t.rows.add(this.props.studies);
            t.draw();
        }
        return redrawTableSelection();
    },
    addAllHandler: function() {
        return app.addAllStudies();
    },
    removeAllHandler: function() {
        return app.removeAllStudies();
    },
    filteredPMIDs: function() {
        var filteredrows;
        filteredrows = $("#all-studies-table").dataTable()._('tr', {
            "filter": "applied"
        });
        return filteredrows.map(function(item) {
            return item.pmid;
        });
    },
    addAllFilteredHandler: function() {
        return app.addStudies(this.filteredPMIDs());
    },
    removeAllFilteredHandler: function() {
        return app.removeStudies(this.filteredPMIDs());
    },
    runQuery: function() {
        return app.runQuery(this.refs.expr.getDOMNode().value);
    },
    clearQuery: function() {
        return app.clearQuery();
    },
    render: function() {
        return div({}, button({
            className: 'btn btn-sm btn-info',
            onClick: this.addAllFilteredHandler
        }, "Add all filtered studies"), span({}, ' '), button({
            className: 'btn btn-sm btn-info',
            onClick: this.removeAllFilteredHandler
        }, "Remove all filtered studies"), span({}, ' '), button({
            className: 'btn btn-sm btn-warning',
            onClick: this.addAllHandler
        }, "Add all studies"), span({}, ' '), button({
            className: 'btn btn-sm btn-warning',
            onClick: this.removeAllHandler
        }, "Remove all studies"), br({}, ''), br({}, ''), includeIf(this.props.exprFilterEnabled, div({
            className: 'row'
        }, div({
            className: 'col-md-12'
        }, div({
            className: 'alert alert-success'
        }, "Query ", strong({}, this.props.currentExpr), " returned " + this.props.studies.length + " studies.", button({
            className: 'btn btn-sm btn-primary pull-right',
            onClick: this.clearQuery
        }, "Clear"))))), div({
            className: 'row'
        }, form({
            className: 'form-inline col-md-12'
        }, div({
            className: 'form-group expr-form-group'
        }, label({
            htmlFor: 'exprInput'
        }, 'Advanced Expression Query:'), input({
            type: 'text',
            id: 'exprInput',
            className: 'form-control',
            ref: 'expr',
            placeholder: 'enter an expression'
        })), button({
            className: 'btn btn-sm btn-primary',
            onClick: this.runQuery
        }, "Search")), hr({}), br({}, ''), br({})), table({
            className: 'table selectable-table',
            id: 'all-studies-table'
        }, thead({}, tr({}, th({}, 'Title '), th({}, 'Authors'), th({}, 'Journal'), th({}, 'Year'), th({}, 'PMID')))));
    }
});
redrawTableSelection = function() {
    return $('.selectable-table').find('tbody').find('tr').each(function() {
        var pmid;
        pmid = getPMID(this);
        if (pmid in app.state.activeAnalysis.studies) {
            return $(this).addClass(SELECTED);
        } else {
            return $(this).removeClass(SELECTED);
        }
    });
}
;
setupSelectableTable = function() {
    $('.selectable-table').on('click', 'tr', function() {
        var pmid;
        pmid = getPMID(this);
        if (pmid == null) {
            return;
        }
        if (pmid in app.state.activeAnalysis.studies) {
            app.removeStudy(pmid);
        } else {
            app.addStudy(pmid);
        }
        return redrawTableSelection();
    });
    $('.selectable-table').on('draw.dt', function() {
        return redrawTableSelection();
    });
    $('#select-all-btn').click(function() {
        var selection;
        selection = getSelectedStudies();
        $('tbody').find('tr').each(function() {
            var pmid;
            pmid = getPMID(this);
            return app.addStudy(pmid);
        });
        saveSelection(selection);
        return redrawTableSelection();
    });
    $('#deselect-all-btn').click(function() {
        var selection;
        selection = getSelectedStudies();
        $('tbody').find('tr').each(function() {
            var pmid;
            pmid = getPMID(this);
            return app.removeStudy(pmid);
        });
        saveSelection(selection);
        return redrawTableSelection();
    });
    return redrawTableSelection();
}
;
$(document).ready(function() {
    setupSelectableTable();
    if (document.getElementById('custom-list-container') != null) {
        app.init();
        return window.onbeforeunload = function(e) {
            var message;
            if (app.state.activeAnalysis.saved || app.state.activeAnalysis.blank) {
                return;
            }
            e = e || window.event;
            message = 'You have unsaved changes.';
            if (e) {
                e.returnValue = message;
            }
            return message;
        }
        ;
    }
});
